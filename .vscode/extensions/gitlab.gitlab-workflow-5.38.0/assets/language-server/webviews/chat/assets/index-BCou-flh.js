(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();class Rc{solve(t){return t<=1?t:this.solve(t-1)+this.solve(t-2)}}const wc=new Error("Index must be non-negative");class Dc{#e=new Map;#n=1;constructor(){this.#e.set(0,0),this.#e.set(1,1)}solve(t){if(t<0)throw wc;if(this.#e.has(t))return this.#e.get(t);let n=this.#e.get(this.#n-1),r=this.#e.get(this.#n);for(let i=this.#n+1;i<=t;i++){const o=n+r;n=r,r=o,this.#e.set(i,o)}return this.#n=t,this.#e.get(t)}}class Tc{debug(){}info(){}warn(){}error(){}withContext(){return this}}const kc=e=>typeof e=="object"&&e!==null&&"styles"in e,Pc="__gl_onThemeUpdated";var re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cc(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Sa={},ei={},ze={},te={},Rt={},Ro={},er={},T={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function Sc(e){return e===!0||e===!1}ne.boolean=Sc;function Ea(e){return typeof e=="string"||e instanceof String}ne.string=Ea;function Ec(e){return typeof e=="number"||e instanceof Number}ne.number=Ec;function Nc(e){return e instanceof Error}ne.error=Nc;function qc(e){return typeof e=="function"}ne.func=qc;function Na(e){return Array.isArray(e)}ne.array=Na;function Oc(e){return Na(e)&&e.every(t=>Ea(t))}ne.stringArray=Oc;Object.defineProperty(T,"__esModule",{value:!0});T.Message=T.NotificationType9=T.NotificationType8=T.NotificationType7=T.NotificationType6=T.NotificationType5=T.NotificationType4=T.NotificationType3=T.NotificationType2=T.NotificationType1=T.NotificationType0=T.NotificationType=T.RequestType9=T.RequestType8=T.RequestType7=T.RequestType6=T.RequestType5=T.RequestType4=T.RequestType3=T.RequestType2=T.RequestType1=T.RequestType=T.RequestType0=T.AbstractMessageSignature=T.ParameterStructures=T.ResponseError=T.ErrorCodes=void 0;const yt=ne;var ti;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(ti||(T.ErrorCodes=ti={}));class wo extends Error{constructor(t,n,r){super(n),this.code=yt.number(t)?t:ti.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,wo.prototype)}toJson(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}}T.ResponseError=wo;class ge{constructor(t){this.kind=t}static is(t){return t===ge.auto||t===ge.byName||t===ge.byPosition}toString(){return this.kind}}T.ParameterStructures=ge;ge.auto=new ge("auto");ge.byPosition=new ge("byPosition");ge.byName=new ge("byName");class z{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return ge.auto}}T.AbstractMessageSignature=z;class Mc extends z{constructor(t){super(t,0)}}T.RequestType0=Mc;class Ac extends z{constructor(t,n=ge.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}T.RequestType=Ac;class Lc extends z{constructor(t,n=ge.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}T.RequestType1=Lc;class jc extends z{constructor(t){super(t,2)}}T.RequestType2=jc;class Fc extends z{constructor(t){super(t,3)}}T.RequestType3=Fc;class Ic extends z{constructor(t){super(t,4)}}T.RequestType4=Ic;class Wc extends z{constructor(t){super(t,5)}}T.RequestType5=Wc;class $c extends z{constructor(t){super(t,6)}}T.RequestType6=$c;class Bc extends z{constructor(t){super(t,7)}}T.RequestType7=Bc;class Hc extends z{constructor(t){super(t,8)}}T.RequestType8=Hc;class Uc extends z{constructor(t){super(t,9)}}T.RequestType9=Uc;class zc extends z{constructor(t,n=ge.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}T.NotificationType=zc;class xc extends z{constructor(t){super(t,0)}}T.NotificationType0=xc;class Vc extends z{constructor(t,n=ge.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}T.NotificationType1=Vc;class Jc extends z{constructor(t){super(t,2)}}T.NotificationType2=Jc;class Xc extends z{constructor(t){super(t,3)}}T.NotificationType3=Xc;class Qc extends z{constructor(t){super(t,4)}}T.NotificationType4=Qc;class Yc extends z{constructor(t){super(t,5)}}T.NotificationType5=Yc;class Kc extends z{constructor(t){super(t,6)}}T.NotificationType6=Kc;class Gc extends z{constructor(t){super(t,7)}}T.NotificationType7=Gc;class Zc extends z{constructor(t){super(t,8)}}T.NotificationType8=Zc;class eu extends z{constructor(t){super(t,9)}}T.NotificationType9=eu;var Mo;(function(e){function t(i){const o=i;return o&&yt.string(o.method)&&(yt.string(o.id)||yt.number(o.id))}e.isRequest=t;function n(i){const o=i;return o&&yt.string(o.method)&&i.id===void 0}e.isNotification=n;function r(i){const o=i;return o&&(o.result!==void 0||!!o.error)&&(yt.string(o.id)||yt.number(o.id)||o.id===null)}e.isResponse=r})(Mo||(T.Message=Mo={}));var xe={},Ao;Object.defineProperty(xe,"__esModule",{value:!0});xe.LRUCache=xe.LinkedMap=xe.Touch=void 0;var fe;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(fe||(xe.Touch=fe={}));class qa{constructor(){this[Ao]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,n=fe.None){const r=this._map.get(t);if(r)return n!==fe.None&&this.touch(r,n),r.value}set(t,n,r=fe.None){let i=this._map.get(t);if(i)i.value=n,r!==fe.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case fe.None:this.addItemLast(i);break;case fe.First:this.addItemFirst(i);break;case fe.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){const r=this._state;let i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Ao=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==fe.First&&n!==fe.Last)){if(n===fe.First){if(t===this._head)return;const r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===fe.Last){if(t===this._tail)return;const r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(const[n,r]of t)this.set(n,r)}}xe.LinkedMap=qa;class tu extends qa{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=fe.AsNew){return super.get(t,n)}peek(t){return super.get(t,fe.None)}set(t,n){return super.set(t,n,fe.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}xe.LRUCache=tu;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.Disposable=void 0;var Lo;(function(e){function t(n){return{dispose:n}}e.create=t})(Lo||(pr.Disposable=Lo={}));var Ie={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});let ni;function ri(){if(ni===void 0)throw new Error("No runtime abstraction layer installed");return ni}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");ni=n}e.install=t})(ri||(ri={}));Je.default=ri;Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Emitter=Ie.Event=void 0;const nu=Je;var jo;(function(e){const t={dispose(){}};e.None=function(){return t}})(jo||(Ie.Event=jo={}));class ru{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,a=r.length;o<a;o++)try{n.push(r[o].apply(i[o],t))}catch(u){(0,nu.default)().console.error(u)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}let Oa=class Ma{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new ru),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=Ma._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Ie.Emitter=Oa;Oa._noop=function(){};var ut={};Object.defineProperty(ut,"__esModule",{value:!0});ut.CancellationTokenSource=ut.CancellationToken=void 0;const iu=Je,ou=ne,ii=Ie;var tr;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ii.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ii.Event.None});function t(n){const r=n;return r&&(r===e.None||r===e.Cancelled||ou.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(tr||(ut.CancellationToken=tr={}));const su=Object.freeze(function(e,t){const n=(0,iu.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}});class Fo{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?su:(this._emitter||(this._emitter=new ii.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class au{get token(){return this._token||(this._token=new Fo),this._token}cancel(){this._token?this._token.cancel():this._token=tr.Cancelled}dispose(){this._token?this._token instanceof Fo&&this._token.dispose():this._token=tr.None}}ut.CancellationTokenSource=au;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.SharedArrayReceiverStrategy=qt.SharedArraySenderStrategy=void 0;const cu=ut;var ln;(function(e){e.Continue=0,e.Cancelled=1})(ln||(ln={}));class uu{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=ln.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,ln.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}}qt.SharedArraySenderStrategy=uu;class lu{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===ln.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class du{constructor(t){this.token=new lu(t)}cancel(){}dispose(){}}class fu{constructor(){this.kind="request"}createCancellationTokenSource(t){const n=t.$cancellationData;return n===void 0?new cu.CancellationTokenSource:new du(n)}}qt.SharedArrayReceiverStrategy=fu;var et={},_n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.Semaphore=void 0;const hu=Je;class gu{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,hu.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}}_n.Semaphore=gu;Object.defineProperty(et,"__esModule",{value:!0});et.ReadableStreamMessageReader=et.AbstractMessageReader=et.MessageReader=void 0;const oi=Je,St=ne,Hr=Ie,pu=_n;var Io;(function(e){function t(n){let r=n;return r&&St.func(r.listen)&&St.func(r.dispose)&&St.func(r.onError)&&St.func(r.onClose)&&St.func(r.onPartialMessage)}e.is=t})(Io||(et.MessageReader=Io={}));class Aa{constructor(){this.errorEmitter=new Hr.Emitter,this.closeEmitter=new Hr.Emitter,this.partialMessageEmitter=new Hr.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${St.string(t.message)?t.message:"unknown"}`)}}et.AbstractMessageReader=Aa;var si;(function(e){function t(n){let r,i;const o=new Map;let a;const u=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,o.set(i.name,i)),n.contentDecoders!==void 0)for(const d of n.contentDecoders)o.set(d.name,d);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,u.set(a.name,a)),n.contentTypeDecoders!==void 0)for(const d of n.contentTypeDecoders)u.set(d.name,d)}return a===void 0&&(a=(0,oi.default)().applicationJson.decoder,u.set(a.name,a)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:u}}e.fromOptions=t})(si||(si={}));class mu extends Aa{constructor(t,n){super(),this.readable=t,this.options=si.fromOptions(n),this.buffer=(0,oi.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new pu.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,oi.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}et.ReadableStreamMessageReader=mu;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.WriteableStreamMessageWriter=tt.AbstractMessageWriter=tt.MessageWriter=void 0;const Wo=Je,cn=ne,yu=_n,$o=Ie,bu="Content-Length: ",Bo=`\r
`;var Ho;(function(e){function t(n){let r=n;return r&&cn.func(r.dispose)&&cn.func(r.onClose)&&cn.func(r.onError)&&cn.func(r.write)}e.is=t})(Ho||(tt.MessageWriter=Ho={}));class La{constructor(){this.errorEmitter=new $o.Emitter,this.closeEmitter=new $o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${cn.string(t.message)?t.message:"unknown"}`)}}tt.AbstractMessageWriter=La;var ai;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Wo.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Wo.default)().applicationJson.encoder}}e.fromOptions=t})(ai||(ai={}));class vu extends La{constructor(t,n){super(),this.writable=t,this.options=ai.fromOptions(n),this.errorCount=0,this.writeSemaphore=new yu.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(bu,r.byteLength.toString(),Bo),i.push(Bo),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}}tt.WriteableStreamMessageWriter=vu;var mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.AbstractMessageBuffer=void 0;const _u=13,Ru=10,wu=`\r
`;class Du{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){const n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const h=this._chunks[r];for(i=0;i<h.length;){switch(h[i]){case _u:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Ru:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=h.byteLength,r++}if(n!==4)return;const a=this._read(o+i),u=new Map,d=this.toString(a,"ascii").split(wu);if(d.length<2)return u;for(let h=0;h<d.length-2;h++){const m=d[h],w=m.indexOf(":");if(w===-1)throw new Error(`Message header must separate key and value using ':'
${m}`);const b=m.substr(0,w),k=m.substr(w+1).trim();u.set(t?b.toLowerCase():b,k)}return u}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){const o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}const n=this.allocNative(t);let r=0,i=0;for(;t>0;){const o=this._chunks[i];if(o.byteLength>t){const a=o.slice(0,t);n.set(a,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}}mr.AbstractMessageBuffer=Du;var ja={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=Je,n=ne,r=T,i=xe,o=Ie,a=ut;var u;(function(y){y.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var d;(function(y){function E(N){return typeof N=="string"||typeof N=="number"}y.is=E})(d||(e.ProgressToken=d={}));var h;(function(y){y.type=new r.NotificationType("$/progress")})(h||(h={}));class m{constructor(){}}e.ProgressType=m;var w;(function(y){function E(N){return n.func(N)}y.is=E})(w||(w={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var b;(function(y){y[y.Off=0]="Off",y[y.Messages=1]="Messages",y[y.Compact=2]="Compact",y[y.Verbose=3]="Verbose"})(b||(e.Trace=b={}));var k;(function(y){y.Off="off",y.Messages="messages",y.Compact="compact",y.Verbose="verbose"})(k||(e.TraceValues=k={})),function(y){function E(P){if(!n.string(P))return y.Off;switch(P=P.toLowerCase(),P){case"off":return y.Off;case"messages":return y.Messages;case"compact":return y.Compact;case"verbose":return y.Verbose;default:return y.Off}}y.fromString=E;function N(P){switch(P){case y.Off:return"off";case y.Messages:return"messages";case y.Compact:return"compact";case y.Verbose:return"verbose";default:return"off"}}y.toString=N}(b||(e.Trace=b={}));var O;(function(y){y.Text="text",y.JSON="json"})(O||(e.TraceFormat=O={})),function(y){function E(N){return n.string(N)?(N=N.toLowerCase(),N==="json"?y.JSON:y.Text):y.Text}y.fromString=E}(O||(e.TraceFormat=O={}));var ae;(function(y){y.type=new r.NotificationType("$/setTrace")})(ae||(e.SetTraceNotification=ae={}));var ce;(function(y){y.type=new r.NotificationType("$/logTrace")})(ce||(e.LogTraceNotification=ce={}));var M;(function(y){y[y.Closed=1]="Closed",y[y.Disposed=2]="Disposed",y[y.AlreadyListening=3]="AlreadyListening"})(M||(e.ConnectionErrors=M={}));class f extends Error{constructor(E,N){super(N),this.code=E,Object.setPrototypeOf(this,f.prototype)}}e.ConnectionError=f;var g;(function(y){function E(N){const P=N;return P&&n.func(P.cancelUndispatched)}y.is=E})(g||(e.ConnectionStrategy=g={}));var R;(function(y){function E(N){const P=N;return P&&(P.kind===void 0||P.kind==="id")&&n.func(P.createCancellationTokenSource)&&(P.dispose===void 0||n.func(P.dispose))}y.is=E})(R||(e.IdCancellationReceiverStrategy=R={}));var oe;(function(y){function E(N){const P=N;return P&&P.kind==="request"&&n.func(P.createCancellationTokenSource)&&(P.dispose===void 0||n.func(P.dispose))}y.is=E})(oe||(e.RequestCancellationReceiverStrategy=oe={}));var Y;(function(y){y.Message=Object.freeze({createCancellationTokenSource(N){return new a.CancellationTokenSource}});function E(N){return R.is(N)||oe.is(N)}y.is=E})(Y||(e.CancellationReceiverStrategy=Y={}));var ue;(function(y){y.Message=Object.freeze({sendCancellation(N,P){return N.sendNotification(u.type,{id:P})},cleanup(N){}});function E(N){const P=N;return P&&n.func(P.sendCancellation)&&n.func(P.cleanup)}y.is=E})(ue||(e.CancellationSenderStrategy=ue={}));var wt;(function(y){y.Message=Object.freeze({receiver:Y.Message,sender:ue.Message});function E(N){const P=N;return P&&Y.is(P.receiver)&&ue.is(P.sender)}y.is=E})(wt||(e.CancellationStrategy=wt={}));var Xe;(function(y){function E(N){const P=N;return P&&n.func(P.handleMessage)}y.is=E})(Xe||(e.MessageStrategy=Xe={}));var Dt;(function(y){function E(N){const P=N;return P&&(wt.is(P.cancellationStrategy)||g.is(P.connectionStrategy)||Xe.is(P.messageStrategy))}y.is=E})(Dt||(e.ConnectionOptions=Dt={}));var pe;(function(y){y[y.New=1]="New",y[y.Listening=2]="Listening",y[y.Closed=3]="Closed",y[y.Disposed=4]="Disposed"})(pe||(pe={}));function Jt(y,E,N,P){const H=N!==void 0?N:e.NullLogger;let wn=0,Dn=0,Tn=0;const Qe="2.0";let Ye;const dt=new Map;let Ke;const ft=new Map,ht=new Map;let Tt,qe=new i.LinkedMap,Oe=new Map,gt=new Set,ve=new Map,W=b.Off,Me=O.Text,x,Pe=pe.New;const kt=new o.Emitter,Xt=new o.Emitter,Qt=new o.Emitter,Yt=new o.Emitter,Kt=new o.Emitter,Ce=P&&P.cancellationStrategy?P.cancellationStrategy:wt.Message;function Gt(c){if(c===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+c.toString()}function kn(c){return c===null?"res-unknown-"+(++Tn).toString():"res-"+c.toString()}function Pn(){return"not-"+(++Dn).toString()}function Cn(c,p){r.Message.isRequest(p)?c.set(Gt(p.id),p):r.Message.isResponse(p)?c.set(kn(p.id),p):c.set(Pn(),p)}function Sn(c){}function Zt(){return Pe===pe.Listening}function en(){return Pe===pe.Closed}function Be(){return Pe===pe.Disposed}function tn(){(Pe===pe.New||Pe===pe.Listening)&&(Pe=pe.Closed,Xt.fire(void 0))}function En(c){kt.fire([c,void 0,void 0])}function Nn(c){kt.fire(c)}y.onClose(tn),y.onError(En),E.onClose(tn),E.onError(Nn);function nn(){Tt||qe.size===0||(Tt=(0,t.default)().timer.setImmediate(()=>{Tt=void 0,qn()}))}function rn(c){r.Message.isRequest(c)?Mn(c):r.Message.isNotification(c)?Ln(c):r.Message.isResponse(c)?An(c):jn(c)}function qn(){if(qe.size===0)return;const c=qe.shift();try{const p=P?.messageStrategy;Xe.is(p)?p.handleMessage(c,rn):rn(c)}finally{nn()}}const On=c=>{try{if(r.Message.isNotification(c)&&c.method===u.type.method){const p=c.params.id,v=Gt(p),D=qe.get(v);if(r.Message.isRequest(D)){const $=P?.connectionStrategy,V=$&&$.cancelUndispatched?$.cancelUndispatched(D,Sn):void 0;if(V&&(V.error!==void 0||V.result!==void 0)){qe.delete(v),ve.delete(p),V.id=D.id,pt(V,c.method,Date.now()),E.write(V).catch(()=>H.error("Sending response for canceled message failed."));return}}const B=ve.get(p);if(B!==void 0){B.cancel(),Pt(c);return}else gt.add(p)}Cn(qe,c)}finally{nn()}};function Mn(c){if(Be())return;function p(j,U,I){const se={jsonrpc:Qe,id:c.id};j instanceof r.ResponseError?se.error=j.toJson():se.result=j===void 0?null:j,pt(se,U,I),E.write(se).catch(()=>H.error("Sending response failed."))}function v(j,U,I){const se={jsonrpc:Qe,id:c.id,error:j.toJson()};pt(se,U,I),E.write(se).catch(()=>H.error("Sending response failed."))}function D(j,U,I){j===void 0&&(j=null);const se={jsonrpc:Qe,id:c.id,result:j};pt(se,U,I),E.write(se).catch(()=>H.error("Sending response failed."))}Wn(c);const B=dt.get(c.method);let $,V;B&&($=B.type,V=B.handler);const Z=Date.now();if(V||Ye){const j=c.id??String(Date.now()),U=R.is(Ce.receiver)?Ce.receiver.createCancellationTokenSource(j):Ce.receiver.createCancellationTokenSource(c);c.id!==null&&gt.has(c.id)&&U.cancel(),c.id!==null&&ve.set(j,U);try{let I;if(V)if(c.params===void 0){if($!==void 0&&$.numberOfParams!==0){v(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${c.method} defines ${$.numberOfParams} params but received none.`),c.method,Z);return}I=V(U.token)}else if(Array.isArray(c.params)){if($!==void 0&&$.parameterStructures===r.ParameterStructures.byName){v(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by name but received parameters by position`),c.method,Z);return}I=V(...c.params,U.token)}else{if($!==void 0&&$.parameterStructures===r.ParameterStructures.byPosition){v(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by position but received parameters by name`),c.method,Z);return}I=V(c.params,U.token)}else Ye&&(I=Ye(c.method,c.params,U.token));const se=I;I?se.then?se.then(me=>{ve.delete(j),p(me,c.method,Z)},me=>{ve.delete(j),me instanceof r.ResponseError?v(me,c.method,Z):me&&n.string(me.message)?v(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${me.message}`),c.method,Z):v(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,Z)}):(ve.delete(j),p(I,c.method,Z)):(ve.delete(j),D(I,c.method,Z))}catch(I){ve.delete(j),I instanceof r.ResponseError?p(I,c.method,Z):I&&n.string(I.message)?v(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${I.message}`),c.method,Z):v(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,Z)}}else v(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${c.method}`),c.method,Z)}function An(c){if(!Be())if(c.id===null)c.error?H.error(`Received response message without id: Error is: 
${JSON.stringify(c.error,void 0,4)}`):H.error("Received response message without id. No further error information provided.");else{const p=c.id,v=Oe.get(p);if($n(c,v),v!==void 0){Oe.delete(p);try{if(c.error){const D=c.error;v.reject(new r.ResponseError(D.code,D.message,D.data))}else if(c.result!==void 0)v.resolve(c.result);else throw new Error("Should never happen.")}catch(D){D.message?H.error(`Response handler '${v.method}' failed with message: ${D.message}`):H.error(`Response handler '${v.method}' failed unexpectedly.`)}}}}function Ln(c){if(Be())return;let p,v;if(c.method===u.type.method){const D=c.params.id;gt.delete(D),Pt(c);return}else{const D=ft.get(c.method);D&&(v=D.handler,p=D.type)}if(v||Ke)try{if(Pt(c),v)if(c.params===void 0)p!==void 0&&p.numberOfParams!==0&&p.parameterStructures!==r.ParameterStructures.byName&&H.error(`Notification ${c.method} defines ${p.numberOfParams} params but received none.`),v();else if(Array.isArray(c.params)){const D=c.params;c.method===h.type.method&&D.length===2&&d.is(D[0])?v({token:D[0],value:D[1]}):(p!==void 0&&(p.parameterStructures===r.ParameterStructures.byName&&H.error(`Notification ${c.method} defines parameters by name but received parameters by position`),p.numberOfParams!==c.params.length&&H.error(`Notification ${c.method} defines ${p.numberOfParams} params but received ${D.length} arguments`)),v(...D))}else p!==void 0&&p.parameterStructures===r.ParameterStructures.byPosition&&H.error(`Notification ${c.method} defines parameters by position but received parameters by name`),v(c.params);else Ke&&Ke(c.method,c.params)}catch(D){D.message?H.error(`Notification handler '${c.method}' failed with message: ${D.message}`):H.error(`Notification handler '${c.method}' failed unexpectedly.`)}else Qt.fire(c)}function jn(c){if(!c){H.error("Received empty message.");return}H.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(c,null,4)}`);const p=c;if(n.string(p.id)||n.number(p.id)){const v=p.id,D=Oe.get(v);D&&D.reject(new Error("The received response has neither a result nor an error property."))}}function Se(c){if(c!=null)switch(W){case b.Verbose:return JSON.stringify(c,null,4);case b.Compact:return JSON.stringify(c);default:return}}function Fn(c){if(!(W===b.Off||!x))if(Me===O.Text){let p;(W===b.Verbose||W===b.Compact)&&c.params&&(p=`Params: ${Se(c.params)}

`),x.log(`Sending request '${c.method} - (${c.id})'.`,p)}else He("send-request",c)}function In(c){if(!(W===b.Off||!x))if(Me===O.Text){let p;(W===b.Verbose||W===b.Compact)&&(c.params?p=`Params: ${Se(c.params)}

`:p=`No parameters provided.

`),x.log(`Sending notification '${c.method}'.`,p)}else He("send-notification",c)}function pt(c,p,v){if(!(W===b.Off||!x))if(Me===O.Text){let D;(W===b.Verbose||W===b.Compact)&&(c.error&&c.error.data?D=`Error data: ${Se(c.error.data)}

`:c.result?D=`Result: ${Se(c.result)}

`:c.error===void 0&&(D=`No result returned.

`)),x.log(`Sending response '${p} - (${c.id})'. Processing request took ${Date.now()-v}ms`,D)}else He("send-response",c)}function Wn(c){if(!(W===b.Off||!x))if(Me===O.Text){let p;(W===b.Verbose||W===b.Compact)&&c.params&&(p=`Params: ${Se(c.params)}

`),x.log(`Received request '${c.method} - (${c.id})'.`,p)}else He("receive-request",c)}function Pt(c){if(!(W===b.Off||!x||c.method===ce.type.method))if(Me===O.Text){let p;(W===b.Verbose||W===b.Compact)&&(c.params?p=`Params: ${Se(c.params)}

`:p=`No parameters provided.

`),x.log(`Received notification '${c.method}'.`,p)}else He("receive-notification",c)}function $n(c,p){if(!(W===b.Off||!x))if(Me===O.Text){let v;if((W===b.Verbose||W===b.Compact)&&(c.error&&c.error.data?v=`Error data: ${Se(c.error.data)}

`:c.result?v=`Result: ${Se(c.result)}

`:c.error===void 0&&(v=`No result returned.

`)),p){const D=c.error?` Request failed: ${c.error.message} (${c.error.code}).`:"";x.log(`Received response '${p.method} - (${c.id})' in ${Date.now()-p.timerStart}ms.${D}`,v)}else x.log(`Received response ${c.id} without active response promise.`,v)}else He("receive-response",c)}function He(c,p){if(!x||W===b.Off)return;const v={isLSPMessage:!0,type:c,message:p,timestamp:Date.now()};x.log(v)}function Ge(){if(en())throw new f(M.Closed,"Connection is closed.");if(Be())throw new f(M.Disposed,"Connection is disposed.")}function Bn(){if(Zt())throw new f(M.AlreadyListening,"Connection is already listening")}function Hn(){if(!Zt())throw new Error("Call listen() first.")}function Ze(c){return c===void 0?null:c}function on(c){if(c!==null)return c}function s(c){return c!=null&&!Array.isArray(c)&&typeof c=="object"}function K(c,p){switch(c){case r.ParameterStructures.auto:return s(p)?on(p):[Ze(p)];case r.ParameterStructures.byName:if(!s(p))throw new Error("Received parameters by name but param is not an object literal.");return on(p);case r.ParameterStructures.byPosition:return[Ze(p)];default:throw new Error(`Unknown parameter structure ${c.toString()}`)}}function G(c,p){let v;const D=c.numberOfParams;switch(D){case 0:v=void 0;break;case 1:v=K(c.parameterStructures,p[0]);break;default:v=[];for(let B=0;B<p.length&&B<D;B++)v.push(Ze(p[B]));if(p.length<D)for(let B=p.length;B<D;B++)v.push(null);break}return v}const C={sendNotification:(c,...p)=>{Ge();let v,D;if(n.string(c)){v=c;const $=p[0];let V=0,Z=r.ParameterStructures.auto;r.ParameterStructures.is($)&&(V=1,Z=$);let j=p.length;const U=j-V;switch(U){case 0:D=void 0;break;case 1:D=K(Z,p[V]);break;default:if(Z===r.ParameterStructures.byName)throw new Error(`Received ${U} parameters for 'by Name' notification parameter structure.`);D=p.slice(V,j).map(I=>Ze(I));break}}else{const $=p;v=c.method,D=G(c,$)}const B={jsonrpc:Qe,method:v,params:D};return In(B),E.write(B).catch($=>{throw H.error("Sending notification failed."),$})},onNotification:(c,p)=>{Ge();let v;return n.func(c)?Ke=c:p&&(n.string(c)?(v=c,ft.set(c,{type:void 0,handler:p})):(v=c.method,ft.set(c.method,{type:c,handler:p}))),{dispose:()=>{v!==void 0?ft.delete(v):Ke=void 0}}},onProgress:(c,p,v)=>{if(ht.has(p))throw new Error(`Progress handler for token ${p} already registered`);return ht.set(p,v),{dispose:()=>{ht.delete(p)}}},sendProgress:(c,p,v)=>C.sendNotification(h.type,{token:p,value:v}),onUnhandledProgress:Yt.event,sendRequest:(c,...p)=>{Ge(),Hn();let v,D,B;if(n.string(c)){v=c;const j=p[0],U=p[p.length-1];let I=0,se=r.ParameterStructures.auto;r.ParameterStructures.is(j)&&(I=1,se=j);let me=p.length;a.CancellationToken.is(U)&&(me=me-1,B=U);const Ae=me-I;switch(Ae){case 0:D=void 0;break;case 1:D=K(se,p[I]);break;default:if(se===r.ParameterStructures.byName)throw new Error(`Received ${Ae} parameters for 'by Name' request parameter structure.`);D=p.slice(I,me).map(_c=>Ze(_c));break}}else{const j=p;v=c.method,D=G(c,j);const U=c.numberOfParams;B=a.CancellationToken.is(j[U])?j[U]:void 0}const $=wn++;let V;B&&(V=B.onCancellationRequested(()=>{const j=Ce.sender.sendCancellation(C,$);return j===void 0?(H.log(`Received no promise from cancellation strategy when cancelling id ${$}`),Promise.resolve()):j.catch(()=>{H.log(`Sending cancellation messages for id ${$} failed`)})}));const Z={jsonrpc:Qe,id:$,method:v,params:D};return Fn(Z),typeof Ce.sender.enableCancellation=="function"&&Ce.sender.enableCancellation(Z),new Promise(async(j,U)=>{const I=Ae=>{j(Ae),Ce.sender.cleanup($),V?.dispose()},se=Ae=>{U(Ae),Ce.sender.cleanup($),V?.dispose()},me={method:v,timerStart:Date.now(),resolve:I,reject:se};try{await E.write(Z),Oe.set($,me)}catch(Ae){throw H.error("Sending request failed."),me.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Ae.message?Ae.message:"Unknown reason")),Ae}})},onRequest:(c,p)=>{Ge();let v=null;return w.is(c)?(v=void 0,Ye=c):n.string(c)?(v=null,p!==void 0&&(v=c,dt.set(c,{handler:p,type:void 0}))):p!==void 0&&(v=c.method,dt.set(c.method,{type:c,handler:p})),{dispose:()=>{v!==null&&(v!==void 0?dt.delete(v):Ye=void 0)}}},hasPendingResponse:()=>Oe.size>0,trace:async(c,p,v)=>{let D=!1,B=O.Text;v!==void 0&&(n.boolean(v)?D=v:(D=v.sendNotification||!1,B=v.traceFormat||O.Text)),W=c,Me=B,W===b.Off?x=void 0:x=p,D&&!en()&&!Be()&&await C.sendNotification(ae.type,{value:b.toString(c)})},onError:kt.event,onClose:Xt.event,onUnhandledNotification:Qt.event,onDispose:Kt.event,end:()=>{E.end()},dispose:()=>{if(Be())return;Pe=pe.Disposed,Kt.fire(void 0);const c=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const p of Oe.values())p.reject(c);Oe=new Map,ve=new Map,gt=new Set,qe=new i.LinkedMap,n.func(E.dispose)&&E.dispose(),n.func(y.dispose)&&y.dispose()},listen:()=>{Ge(),Bn(),Pe=pe.Listening,y.listen(On)},inspect:()=>{(0,t.default)().console.log("inspect")}};return C.onNotification(ce.type,c=>{if(W===b.Off||!x)return;const p=W===b.Verbose||W===b.Compact;x.log(c.message,p?c.verbose:void 0)}),C.onNotification(h.type,c=>{const p=ht.get(c.token);p?p(c.value):Yt.fire(c)}),C}e.createMessageConnection=Jt})(ja);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=T;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=xe;Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=pr;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Ie;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=ut;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const a=qt;Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return a.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return a.SharedArrayReceiverStrategy}});const u=et;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const d=tt;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return d.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return d.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return d.WriteableStreamMessageWriter}});const h=mr;Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return h.AbstractMessageBuffer}});const m=ja;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return m.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return m.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return m.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return m.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return m.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return m.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return m.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return m.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return m.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return m.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return m.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return m.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return m.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return m.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return m.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return m.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return m.MessageStrategy}});const w=Je;e.RAL=w.default})(er);Object.defineProperty(Ro,"__esModule",{value:!0});const Le=er;class yr extends Le.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return yr.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}yr.emptyBuffer=new Uint8Array(0);class Tu{constructor(t){this.socket=t,this._onData=new Le.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Le.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Le.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Le.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Le.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class ku{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Le.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Le.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Le.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const Pu=new TextEncoder,Fa=Object.freeze({messageBuffer:Object.freeze({create:e=>new yr(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(Pu.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new Tu(e),asWritableStream:e=>new ku(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function ci(){return Fa}(function(e){function t(){Le.RAL.install(Fa)}e.install=t})(ci||(ci={}));Ro.default=ci;(function(e){var t=re&&re.__createBinding||(Object.create?function(d,h,m,w){w===void 0&&(w=m);var b=Object.getOwnPropertyDescriptor(h,m);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,w,b)}:function(d,h,m,w){w===void 0&&(w=m),d[w]=h[m]}),n=re&&re.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,Ro.default.install();const i=er;n(er,e);class o extends i.AbstractMessageReader{constructor(h){super(),this._onData=new i.Emitter,this._messageListener=m=>{this._onData.fire(m.data)},h.addEventListener("error",m=>this.fireError(m)),h.onmessage=this._messageListener}listen(h){return this._onData.event(h)}}e.BrowserMessageReader=o;class a extends i.AbstractMessageWriter{constructor(h){super(),this.port=h,this.errorCount=0,h.addEventListener("error",m=>this.fireError(m))}write(h){try{return this.port.postMessage(h),Promise.resolve()}catch(m){return this.handleError(m,h),Promise.reject(m)}}handleError(h,m){this.errorCount++,this.fireError(h,m,this.errorCount)}end(){}}e.BrowserMessageWriter=a;function u(d,h,m,w){return m===void 0&&(m=i.NullLogger),i.ConnectionStrategy.is(w)&&(w={connectionStrategy:w}),(0,i.createMessageConnection)(d,h,m,w)}e.createMessageConnection=u})(Rt);var Uo=Rt,Ia={},ui;(function(e){function t(n){return typeof n=="string"}e.is=t})(ui||(ui={}));var nr;(function(e){function t(n){return typeof n=="string"}e.is=t})(nr||(nr={}));var li;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(li||(li={}));var dn;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(dn||(dn={}));var Re;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=dn.MAX_VALUE),i===Number.MAX_VALUE&&(i=dn.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&l.uinteger(i.line)&&l.uinteger(i.character)}e.is=n})(Re||(Re={}));var Q;(function(e){function t(r,i,o,a){if(l.uinteger(r)&&l.uinteger(i)&&l.uinteger(o)&&l.uinteger(a))return{start:Re.create(r,i),end:Re.create(o,a)};if(Re.is(r)&&Re.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${a}]`)}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&Re.is(i.start)&&Re.is(i.end)}e.is=n})(Q||(Q={}));var fn;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&Q.is(i.range)&&(l.string(i.uri)||l.undefined(i.uri))}e.is=n})(fn||(fn={}));var di;(function(e){function t(r,i,o,a){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&Q.is(i.targetRange)&&l.string(i.targetUri)&&Q.is(i.targetSelectionRange)&&(Q.is(i.originSelectionRange)||l.undefined(i.originSelectionRange))}e.is=n})(di||(di={}));var rr;(function(e){function t(r,i,o,a){return{red:r,green:i,blue:o,alpha:a}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.numberRange(i.red,0,1)&&l.numberRange(i.green,0,1)&&l.numberRange(i.blue,0,1)&&l.numberRange(i.alpha,0,1)}e.is=n})(rr||(rr={}));var fi;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&Q.is(i.range)&&rr.is(i.color)}e.is=n})(fi||(fi={}));var hi;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.undefined(i.textEdit)||je.is(i))&&(l.undefined(i.additionalTextEdits)||l.typedArray(i.additionalTextEdits,je.is))}e.is=n})(hi||(hi={}));var gi;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(gi||(gi={}));var pi;(function(e){function t(r,i,o,a,u,d){const h={startLine:r,endLine:i};return l.defined(o)&&(h.startCharacter=o),l.defined(a)&&(h.endCharacter=a),l.defined(u)&&(h.kind=u),l.defined(d)&&(h.collapsedText=d),h}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.uinteger(i.startLine)&&l.uinteger(i.startLine)&&(l.undefined(i.startCharacter)||l.uinteger(i.startCharacter))&&(l.undefined(i.endCharacter)||l.uinteger(i.endCharacter))&&(l.undefined(i.kind)||l.string(i.kind))}e.is=n})(pi||(pi={}));var ir;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&fn.is(i.location)&&l.string(i.message)}e.is=n})(ir||(ir={}));var mi;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(mi||(mi={}));var yi;(function(e){e.Unnecessary=1,e.Deprecated=2})(yi||(yi={}));var bi;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&l.string(r.href)}e.is=t})(bi||(bi={}));var hn;(function(e){function t(r,i,o,a,u,d){let h={range:r,message:i};return l.defined(o)&&(h.severity=o),l.defined(a)&&(h.code=a),l.defined(u)&&(h.source=u),l.defined(d)&&(h.relatedInformation=d),h}e.create=t;function n(r){var i;let o=r;return l.defined(o)&&Q.is(o.range)&&l.string(o.message)&&(l.number(o.severity)||l.undefined(o.severity))&&(l.integer(o.code)||l.string(o.code)||l.undefined(o.code))&&(l.undefined(o.codeDescription)||l.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(l.string(o.source)||l.undefined(o.source))&&(l.undefined(o.relatedInformation)||l.typedArray(o.relatedInformation,ir.is))}e.is=n})(hn||(hn={}));var vt;(function(e){function t(r,i,...o){let a={title:r,command:i};return l.defined(o)&&o.length>0&&(a.arguments=o),a}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.title)&&l.string(i.command)}e.is=n})(vt||(vt={}));var je;(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function n(o,a){return{range:{start:o,end:o},newText:a}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){const a=o;return l.objectLiteral(a)&&l.string(a.newText)&&Q.is(a.range)}e.is=i})(je||(je={}));var bt;(function(e){function t(r,i,o){const a={label:r};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(l.string(i.description)||i.description===void 0)}e.is=n})(bt||(bt={}));var de;(function(e){function t(n){const r=n;return l.string(r)}e.is=t})(de||(de={}));var Ue;(function(e){function t(o,a,u){return{range:o,newText:a,annotationId:u}}e.replace=t;function n(o,a,u){return{range:{start:o,end:o},newText:a,annotationId:u}}e.insert=n;function r(o,a){return{range:o,newText:"",annotationId:a}}e.del=r;function i(o){const a=o;return je.is(a)&&(bt.is(a.annotationId)||de.is(a.annotationId))}e.is=i})(Ue||(Ue={}));var gn;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&pn.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(gn||(gn={}));var Ot;(function(e){function t(r,i,o){let a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&l.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(Ot||(Ot={}));var Mt;(function(e){function t(r,i,o,a){let u={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),a!==void 0&&(u.annotationId=a),u}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&l.string(i.oldUri)&&l.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(Mt||(Mt={}));var At;(function(e){function t(r,i,o){let a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&l.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||l.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||l.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(At||(At={}));var or;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>l.string(i.kind)?Ot.is(i)||Mt.is(i)||At.is(i):gn.is(i)))}e.is=t})(or||(or={}));class Un{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=je.insert(t,n):de.is(r)?(o=r,i=Ue.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ue.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=je.replace(t,n):de.is(r)?(o=r,i=Ue.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ue.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=je.del(t):de.is(n)?(i=n,r=Ue.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ue.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class zo{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(de.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class Cu{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new zo(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(gn.is(n)){const r=new Un(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new Un(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(pn.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Un(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new Un(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new zo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;bt.is(n)||de.is(n)?i=n:r=n;let o,a;if(i===void 0?o=Ot.create(t,r):(a=de.is(i)?i:this._changeAnnotations.manage(i),o=Ot.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;bt.is(r)||de.is(r)?o=r:i=r;let a,u;if(o===void 0?a=Mt.create(t,n,i):(u=de.is(o)?o:this._changeAnnotations.manage(o),a=Mt.create(t,n,i,u)),this._workspaceEdit.documentChanges.push(a),u!==void 0)return u}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;bt.is(n)||de.is(n)?i=n:r=n;let o,a;if(i===void 0?o=At.create(t,r):(a=de.is(i)?i:this._changeAnnotations.manage(i),o=At.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a}}var vi;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)}e.is=n})(vi||(vi={}));var _i;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.integer(i.version)}e.is=n})(_i||(_i={}));var pn;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&(i.version===null||l.integer(i.version))}e.is=n})(pn||(pn={}));var Ri;(function(e){function t(r,i,o,a){return{uri:r,languageId:i,version:o,text:a}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.string(i.languageId)&&l.integer(i.version)&&l.string(i.text)}e.is=n})(Ri||(Ri={}));var sr;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(sr||(sr={}));var Lt;(function(e){function t(n){const r=n;return l.objectLiteral(n)&&sr.is(r.kind)&&l.string(r.value)}e.is=t})(Lt||(Lt={}));var wi;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(wi||(wi={}));var Di;(function(e){e.PlainText=1,e.Snippet=2})(Di||(Di={}));var Ti;(function(e){e.Deprecated=1})(Ti||(Ti={}));var ki;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){const i=r;return i&&l.string(i.newText)&&Q.is(i.insert)&&Q.is(i.replace)}e.is=n})(ki||(ki={}));var Pi;(function(e){e.asIs=1,e.adjustIndentation=2})(Pi||(Pi={}));var Ci;(function(e){function t(n){const r=n;return r&&(l.string(r.detail)||r.detail===void 0)&&(l.string(r.description)||r.description===void 0)}e.is=t})(Ci||(Ci={}));var Si;(function(e){function t(n){return{label:n}}e.create=t})(Si||(Si={}));var Ei;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Ei||(Ei={}));var mn;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return l.string(i)||l.objectLiteral(i)&&l.string(i.language)&&l.string(i.value)}e.is=n})(mn||(mn={}));var Ni;(function(e){function t(n){let r=n;return!!r&&l.objectLiteral(r)&&(Lt.is(r.contents)||mn.is(r.contents)||l.typedArray(r.contents,mn.is))&&(n.range===void 0||Q.is(n.range))}e.is=t})(Ni||(Ni={}));var qi;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(qi||(qi={}));var Oi;(function(e){function t(n,r,...i){let o={label:n};return l.defined(r)&&(o.documentation=r),l.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(Oi||(Oi={}));var Mi;(function(e){e.Text=1,e.Read=2,e.Write=3})(Mi||(Mi={}));var Ai;(function(e){function t(n,r){let i={range:n};return l.number(r)&&(i.kind=r),i}e.create=t})(Ai||(Ai={}));var Li;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Li||(Li={}));var ji;(function(e){e.Deprecated=1})(ji||(ji={}));var Fi;(function(e){function t(n,r,i,o,a){let u={name:n,kind:r,location:{uri:o,range:i}};return a&&(u.containerName=a),u}e.create=t})(Fi||(Fi={}));var Ii;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(Ii||(Ii={}));var Wi;(function(e){function t(r,i,o,a,u,d){let h={name:r,detail:i,kind:o,range:a,selectionRange:u};return d!==void 0&&(h.children=d),h}e.create=t;function n(r){let i=r;return i&&l.string(i.name)&&l.number(i.kind)&&Q.is(i.range)&&Q.is(i.selectionRange)&&(i.detail===void 0||l.string(i.detail))&&(i.deprecated===void 0||l.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(Wi||(Wi={}));var $i;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})($i||($i={}));var yn;(function(e){e.Invoked=1,e.Automatic=2})(yn||(yn={}));var Bi;(function(e){function t(r,i,o){let a={diagnostics:r};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}e.create=t;function n(r){let i=r;return l.defined(i)&&l.typedArray(i.diagnostics,hn.is)&&(i.only===void 0||l.typedArray(i.only,l.string))&&(i.triggerKind===void 0||i.triggerKind===yn.Invoked||i.triggerKind===yn.Automatic)}e.is=n})(Bi||(Bi={}));var Hi;(function(e){function t(r,i,o){let a={title:r},u=!0;return typeof i=="string"?(u=!1,a.kind=i):vt.is(i)?a.command=i:a.edit=i,u&&o!==void 0&&(a.kind=o),a}e.create=t;function n(r){let i=r;return i&&l.string(i.title)&&(i.diagnostics===void 0||l.typedArray(i.diagnostics,hn.is))&&(i.kind===void 0||l.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||vt.is(i.command))&&(i.isPreferred===void 0||l.boolean(i.isPreferred))&&(i.edit===void 0||or.is(i.edit))}e.is=n})(Hi||(Hi={}));var Ui;(function(e){function t(r,i){let o={range:r};return l.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return l.defined(i)&&Q.is(i.range)&&(l.undefined(i.command)||vt.is(i.command))}e.is=n})(Ui||(Ui={}));var zi;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return l.defined(i)&&l.uinteger(i.tabSize)&&l.boolean(i.insertSpaces)}e.is=n})(zi||(zi={}));var xi;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return l.defined(i)&&Q.is(i.range)&&(l.undefined(i.target)||l.string(i.target))}e.is=n})(xi||(xi={}));var Vi;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return l.objectLiteral(i)&&Q.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(Vi||(Vi={}));var Ji;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Ji||(Ji={}));var Xi;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Xi||(Xi={}));var Qi;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(Qi||(Qi={}));var Yi;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&Q.is(i.range)&&l.string(i.text)}e.is=n})(Yi||(Yi={}));var Ki;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){const i=r;return i!=null&&Q.is(i.range)&&l.boolean(i.caseSensitiveLookup)&&(l.string(i.variableName)||i.variableName===void 0)}e.is=n})(Ki||(Ki={}));var Gi;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&Q.is(i.range)&&(l.string(i.expression)||i.expression===void 0)}e.is=n})(Gi||(Gi={}));var Zi;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return l.defined(i)&&Q.is(r.stoppedLocation)}e.is=n})(Zi||(Zi={}));var ar;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(ar||(ar={}));var cr;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&(i.tooltip===void 0||l.string(i.tooltip)||Lt.is(i.tooltip))&&(i.location===void 0||fn.is(i.location))&&(i.command===void 0||vt.is(i.command))}e.is=n})(cr||(cr={}));var eo;(function(e){function t(r,i,o){const a={position:r,label:i};return o!==void 0&&(a.kind=o),a}e.create=t;function n(r){const i=r;return l.objectLiteral(i)&&Re.is(i.position)&&(l.string(i.label)||l.typedArray(i.label,cr.is))&&(i.kind===void 0||ar.is(i.kind))&&i.textEdits===void 0||l.typedArray(i.textEdits,je.is)&&(i.tooltip===void 0||l.string(i.tooltip)||Lt.is(i.tooltip))&&(i.paddingLeft===void 0||l.boolean(i.paddingLeft))&&(i.paddingRight===void 0||l.boolean(i.paddingRight))}e.is=n})(eo||(eo={}));var to;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(to||(to={}));var no;(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(no||(no={}));var ro;(function(e){function t(n){return{items:n}}e.create=t})(ro||(ro={}));var io;(function(e){e.Invoked=0,e.Automatic=1})(io||(io={}));var oo;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(oo||(oo={}));var so;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(so||(so={}));var ao;(function(e){function t(n){const r=n;return l.objectLiteral(r)&&nr.is(r.uri)&&l.string(r.name)}e.is=t})(ao||(ao={}));const Su=[`
`,`\r
`,"\r"];var co;(function(e){function t(o,a,u,d){return new Eu(o,a,u,d)}e.create=t;function n(o){let a=o;return!!(l.defined(a)&&l.string(a.uri)&&(l.undefined(a.languageId)||l.string(a.languageId))&&l.uinteger(a.lineCount)&&l.func(a.getText)&&l.func(a.positionAt)&&l.func(a.offsetAt))}e.is=n;function r(o,a){let u=o.getText(),d=i(a,(m,w)=>{let b=m.range.start.line-w.range.start.line;return b===0?m.range.start.character-w.range.start.character:b}),h=u.length;for(let m=d.length-1;m>=0;m--){let w=d[m],b=o.offsetAt(w.range.start),k=o.offsetAt(w.range.end);if(k<=h)u=u.substring(0,b)+w.newText+u.substring(k,u.length);else throw new Error("Overlapping edit");h=b}return u}e.applyEdits=r;function i(o,a){if(o.length<=1)return o;const u=o.length/2|0,d=o.slice(0,u),h=o.slice(u);i(d,a),i(h,a);let m=0,w=0,b=0;for(;m<d.length&&w<h.length;)a(d[m],h[w])<=0?o[b++]=d[m++]:o[b++]=h[w++];for(;m<d.length;)o[b++]=d[m++];for(;w<h.length;)o[b++]=h[w++];return o}})(co||(co={}));class Eu{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Re.create(0,t);for(;r<i;){let a=Math.floor((r+i)/2);n[a]>t?i=a:r=a+1}let o=r-1;return Re.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var l;(function(e){const t=Object.prototype.toString;function n(k){return typeof k<"u"}e.defined=n;function r(k){return typeof k>"u"}e.undefined=r;function i(k){return k===!0||k===!1}e.boolean=i;function o(k){return t.call(k)==="[object String]"}e.string=o;function a(k){return t.call(k)==="[object Number]"}e.number=a;function u(k,O,ae){return t.call(k)==="[object Number]"&&O<=k&&k<=ae}e.numberRange=u;function d(k){return t.call(k)==="[object Number]"&&-2147483648<=k&&k<=2147483647}e.integer=d;function h(k){return t.call(k)==="[object Number]"&&0<=k&&k<=2147483647}e.uinteger=h;function m(k){return t.call(k)==="[object Function]"}e.func=m;function w(k){return k!==null&&typeof k=="object"}e.objectLiteral=w;function b(k,O){return Array.isArray(k)&&k.every(O)}e.typedArray=b})(l||(l={}));const Nu=Object.freeze(Object.defineProperty({__proto__:null,get AnnotatedTextEdit(){return Ue},get ChangeAnnotation(){return bt},get ChangeAnnotationIdentifier(){return de},get CodeAction(){return Hi},get CodeActionContext(){return Bi},get CodeActionKind(){return $i},get CodeActionTriggerKind(){return yn},get CodeDescription(){return bi},get CodeLens(){return Ui},get Color(){return rr},get ColorInformation(){return fi},get ColorPresentation(){return hi},get Command(){return vt},get CompletionItem(){return Si},get CompletionItemKind(){return wi},get CompletionItemLabelDetails(){return Ci},get CompletionItemTag(){return Ti},get CompletionList(){return Ei},get CreateFile(){return Ot},get DeleteFile(){return At},get Diagnostic(){return hn},get DiagnosticRelatedInformation(){return ir},get DiagnosticSeverity(){return mi},get DiagnosticTag(){return yi},get DocumentHighlight(){return Ai},get DocumentHighlightKind(){return Mi},get DocumentLink(){return xi},get DocumentSymbol(){return Wi},get DocumentUri(){return ui},EOL:Su,get FoldingRange(){return pi},get FoldingRangeKind(){return gi},get FormattingOptions(){return zi},get Hover(){return Ni},get InlayHint(){return eo},get InlayHintKind(){return ar},get InlayHintLabelPart(){return cr},get InlineCompletionContext(){return so},get InlineCompletionItem(){return no},get InlineCompletionList(){return ro},get InlineCompletionTriggerKind(){return io},get InlineValueContext(){return Zi},get InlineValueEvaluatableExpression(){return Gi},get InlineValueText(){return Yi},get InlineValueVariableLookup(){return Ki},get InsertReplaceEdit(){return ki},get InsertTextFormat(){return Di},get InsertTextMode(){return Pi},get Location(){return fn},get LocationLink(){return di},get MarkedString(){return mn},get MarkupContent(){return Lt},get MarkupKind(){return sr},get OptionalVersionedTextDocumentIdentifier(){return pn},get ParameterInformation(){return qi},get Position(){return Re},get Range(){return Q},get RenameFile(){return Mt},get SelectedCompletionInfo(){return oo},get SelectionRange(){return Vi},get SemanticTokenModifiers(){return Xi},get SemanticTokenTypes(){return Ji},get SemanticTokens(){return Qi},get SignatureInformation(){return Oi},get StringValue(){return to},get SymbolInformation(){return Fi},get SymbolKind(){return Li},get SymbolTag(){return ji},get TextDocument(){return co},get TextDocumentEdit(){return gn},get TextDocumentIdentifier(){return vi},get TextDocumentItem(){return Ri},get TextEdit(){return je},get URI(){return nr},get VersionedTextDocumentIdentifier(){return _i},WorkspaceChange:Cu,get WorkspaceEdit(){return or},get WorkspaceFolder(){return ao},get WorkspaceSymbol(){return Ii},get integer(){return li},get uinteger(){return dn}},Symbol.toStringTag,{value:"Module"})),Do=Cc(Nu);var A={};Object.defineProperty(A,"__esModule",{value:!0});A.ProtocolNotificationType=A.ProtocolNotificationType0=A.ProtocolRequestType=A.ProtocolRequestType0=A.RegistrationType=A.MessageDirection=void 0;const jt=Rt;var xo;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(xo||(A.MessageDirection=xo={}));class qu{constructor(t){this.method=t}}A.RegistrationType=qu;class Ou extends jt.RequestType0{constructor(t){super(t)}}A.ProtocolRequestType0=Ou;class Mu extends jt.RequestType{constructor(t){super(t,jt.ParameterStructures.byName)}}A.ProtocolRequestType=Mu;class Au extends jt.NotificationType0{constructor(t){super(t)}}A.ProtocolNotificationType0=Au;class Lu extends jt.NotificationType{constructor(t){super(t,jt.ParameterStructures.byName)}}A.ProtocolNotificationType=Lu;var Wa={},X={};Object.defineProperty(X,"__esModule",{value:!0});X.objectLiteral=X.typedArray=X.stringArray=X.array=X.func=X.error=X.number=X.string=X.boolean=void 0;function ju(e){return e===!0||e===!1}X.boolean=ju;function $a(e){return typeof e=="string"||e instanceof String}X.string=$a;function Fu(e){return typeof e=="number"||e instanceof Number}X.number=Fu;function Iu(e){return e instanceof Error}X.error=Iu;function Wu(e){return typeof e=="function"}X.func=Wu;function Ba(e){return Array.isArray(e)}X.array=Ba;function $u(e){return Ba(e)&&e.every(t=>$a(t))}X.stringArray=$u;function Bu(e,t){return Array.isArray(e)&&e.every(t)}X.typedArray=Bu;function Hu(e){return e!==null&&typeof e=="object"}X.objectLiteral=Hu;var br={};Object.defineProperty(br,"__esModule",{value:!0});br.ImplementationRequest=void 0;const Vo=A;var Jo;(function(e){e.method="textDocument/implementation",e.messageDirection=Vo.MessageDirection.clientToServer,e.type=new Vo.ProtocolRequestType(e.method)})(Jo||(br.ImplementationRequest=Jo={}));var vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.TypeDefinitionRequest=void 0;const Xo=A;var Qo;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Xo.MessageDirection.clientToServer,e.type=new Xo.ProtocolRequestType(e.method)})(Qo||(vr.TypeDefinitionRequest=Qo={}));var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.DidChangeWorkspaceFoldersNotification=Ft.WorkspaceFoldersRequest=void 0;const ur=A;var Yo;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=ur.MessageDirection.serverToClient,e.type=new ur.ProtocolRequestType0(e.method)})(Yo||(Ft.WorkspaceFoldersRequest=Yo={}));var Ko;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=ur.MessageDirection.clientToServer,e.type=new ur.ProtocolNotificationType(e.method)})(Ko||(Ft.DidChangeWorkspaceFoldersNotification=Ko={}));var _r={};Object.defineProperty(_r,"__esModule",{value:!0});_r.ConfigurationRequest=void 0;const Go=A;var Zo;(function(e){e.method="workspace/configuration",e.messageDirection=Go.MessageDirection.serverToClient,e.type=new Go.ProtocolRequestType(e.method)})(Zo||(_r.ConfigurationRequest=Zo={}));var It={};Object.defineProperty(It,"__esModule",{value:!0});It.ColorPresentationRequest=It.DocumentColorRequest=void 0;const lr=A;var es;(function(e){e.method="textDocument/documentColor",e.messageDirection=lr.MessageDirection.clientToServer,e.type=new lr.ProtocolRequestType(e.method)})(es||(It.DocumentColorRequest=es={}));var ts;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=lr.MessageDirection.clientToServer,e.type=new lr.ProtocolRequestType(e.method)})(ts||(It.ColorPresentationRequest=ts={}));var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.FoldingRangeRefreshRequest=Wt.FoldingRangeRequest=void 0;const dr=A;var ns;(function(e){e.method="textDocument/foldingRange",e.messageDirection=dr.MessageDirection.clientToServer,e.type=new dr.ProtocolRequestType(e.method)})(ns||(Wt.FoldingRangeRequest=ns={}));var rs;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=dr.MessageDirection.serverToClient,e.type=new dr.ProtocolRequestType0(e.method)})(rs||(Wt.FoldingRangeRefreshRequest=rs={}));var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.DeclarationRequest=void 0;const is=A;var os;(function(e){e.method="textDocument/declaration",e.messageDirection=is.MessageDirection.clientToServer,e.type=new is.ProtocolRequestType(e.method)})(os||(Rr.DeclarationRequest=os={}));var wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.SelectionRangeRequest=void 0;const ss=A;var as;(function(e){e.method="textDocument/selectionRange",e.messageDirection=ss.MessageDirection.clientToServer,e.type=new ss.ProtocolRequestType(e.method)})(as||(wr.SelectionRangeRequest=as={}));var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.WorkDoneProgressCancelNotification=nt.WorkDoneProgressCreateRequest=nt.WorkDoneProgress=void 0;const Uu=Rt,fr=A;var cs;(function(e){e.type=new Uu.ProgressType;function t(n){return n===e.type}e.is=t})(cs||(nt.WorkDoneProgress=cs={}));var us;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=fr.MessageDirection.serverToClient,e.type=new fr.ProtocolRequestType(e.method)})(us||(nt.WorkDoneProgressCreateRequest=us={}));var ls;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=fr.MessageDirection.clientToServer,e.type=new fr.ProtocolNotificationType(e.method)})(ls||(nt.WorkDoneProgressCancelNotification=ls={}));var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.CallHierarchyOutgoingCallsRequest=rt.CallHierarchyIncomingCallsRequest=rt.CallHierarchyPrepareRequest=void 0;const $t=A;var ds;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(ds||(rt.CallHierarchyPrepareRequest=ds={}));var fs;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(fs||(rt.CallHierarchyIncomingCallsRequest=fs={}));var hs;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=$t.MessageDirection.clientToServer,e.type=new $t.ProtocolRequestType(e.method)})(hs||(rt.CallHierarchyOutgoingCallsRequest=hs={}));var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.SemanticTokensRefreshRequest=ye.SemanticTokensRangeRequest=ye.SemanticTokensDeltaRequest=ye.SemanticTokensRequest=ye.SemanticTokensRegistrationType=ye.TokenFormat=void 0;const Ve=A;var gs;(function(e){e.Relative="relative"})(gs||(ye.TokenFormat=gs={}));var bn;(function(e){e.method="textDocument/semanticTokens",e.type=new Ve.RegistrationType(e.method)})(bn||(ye.SemanticTokensRegistrationType=bn={}));var ps;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolRequestType(e.method),e.registrationMethod=bn.method})(ps||(ye.SemanticTokensRequest=ps={}));var ms;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolRequestType(e.method),e.registrationMethod=bn.method})(ms||(ye.SemanticTokensDeltaRequest=ms={}));var ys;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Ve.MessageDirection.clientToServer,e.type=new Ve.ProtocolRequestType(e.method),e.registrationMethod=bn.method})(ys||(ye.SemanticTokensRangeRequest=ys={}));var bs;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Ve.MessageDirection.serverToClient,e.type=new Ve.ProtocolRequestType0(e.method)})(bs||(ye.SemanticTokensRefreshRequest=bs={}));var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.ShowDocumentRequest=void 0;const vs=A;var _s;(function(e){e.method="window/showDocument",e.messageDirection=vs.MessageDirection.serverToClient,e.type=new vs.ProtocolRequestType(e.method)})(_s||(Dr.ShowDocumentRequest=_s={}));var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.LinkedEditingRangeRequest=void 0;const Rs=A;var ws;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Rs.MessageDirection.clientToServer,e.type=new Rs.ProtocolRequestType(e.method)})(ws||(Tr.LinkedEditingRangeRequest=ws={}));var he={};Object.defineProperty(he,"__esModule",{value:!0});he.WillDeleteFilesRequest=he.DidDeleteFilesNotification=he.DidRenameFilesNotification=he.WillRenameFilesRequest=he.DidCreateFilesNotification=he.WillCreateFilesRequest=he.FileOperationPatternKind=void 0;const ke=A;var Ds;(function(e){e.file="file",e.folder="folder"})(Ds||(he.FileOperationPatternKind=Ds={}));var Ts;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolRequestType(e.method)})(Ts||(he.WillCreateFilesRequest=Ts={}));var ks;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolNotificationType(e.method)})(ks||(he.DidCreateFilesNotification=ks={}));var Ps;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolRequestType(e.method)})(Ps||(he.WillRenameFilesRequest=Ps={}));var Cs;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolNotificationType(e.method)})(Cs||(he.DidRenameFilesNotification=Cs={}));var Ss;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolNotificationType(e.method)})(Ss||(he.DidDeleteFilesNotification=Ss={}));var Es;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=ke.MessageDirection.clientToServer,e.type=new ke.ProtocolRequestType(e.method)})(Es||(he.WillDeleteFilesRequest=Es={}));var it={};Object.defineProperty(it,"__esModule",{value:!0});it.MonikerRequest=it.MonikerKind=it.UniquenessLevel=void 0;const Ns=A;var qs;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(qs||(it.UniquenessLevel=qs={}));var Os;(function(e){e.$import="import",e.$export="export",e.local="local"})(Os||(it.MonikerKind=Os={}));var Ms;(function(e){e.method="textDocument/moniker",e.messageDirection=Ns.MessageDirection.clientToServer,e.type=new Ns.ProtocolRequestType(e.method)})(Ms||(it.MonikerRequest=Ms={}));var ot={};Object.defineProperty(ot,"__esModule",{value:!0});ot.TypeHierarchySubtypesRequest=ot.TypeHierarchySupertypesRequest=ot.TypeHierarchyPrepareRequest=void 0;const Bt=A;var As;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Bt.MessageDirection.clientToServer,e.type=new Bt.ProtocolRequestType(e.method)})(As||(ot.TypeHierarchyPrepareRequest=As={}));var Ls;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Bt.MessageDirection.clientToServer,e.type=new Bt.ProtocolRequestType(e.method)})(Ls||(ot.TypeHierarchySupertypesRequest=Ls={}));var js;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Bt.MessageDirection.clientToServer,e.type=new Bt.ProtocolRequestType(e.method)})(js||(ot.TypeHierarchySubtypesRequest=js={}));var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.InlineValueRefreshRequest=Ht.InlineValueRequest=void 0;const hr=A;var Fs;(function(e){e.method="textDocument/inlineValue",e.messageDirection=hr.MessageDirection.clientToServer,e.type=new hr.ProtocolRequestType(e.method)})(Fs||(Ht.InlineValueRequest=Fs={}));var Is;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=hr.MessageDirection.serverToClient,e.type=new hr.ProtocolRequestType0(e.method)})(Is||(Ht.InlineValueRefreshRequest=Is={}));var st={};Object.defineProperty(st,"__esModule",{value:!0});st.InlayHintRefreshRequest=st.InlayHintResolveRequest=st.InlayHintRequest=void 0;const Ut=A;var Ws;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Ut.MessageDirection.clientToServer,e.type=new Ut.ProtocolRequestType(e.method)})(Ws||(st.InlayHintRequest=Ws={}));var $s;(function(e){e.method="inlayHint/resolve",e.messageDirection=Ut.MessageDirection.clientToServer,e.type=new Ut.ProtocolRequestType(e.method)})($s||(st.InlayHintResolveRequest=$s={}));var Bs;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Ut.MessageDirection.serverToClient,e.type=new Ut.ProtocolRequestType0(e.method)})(Bs||(st.InlayHintRefreshRequest=Bs={}));var De={};Object.defineProperty(De,"__esModule",{value:!0});De.DiagnosticRefreshRequest=De.WorkspaceDiagnosticRequest=De.DocumentDiagnosticRequest=De.DocumentDiagnosticReportKind=De.DiagnosticServerCancellationData=void 0;const Ha=Rt,zu=X,zt=A;var Hs;(function(e){function t(n){const r=n;return r&&zu.boolean(r.retriggerRequest)}e.is=t})(Hs||(De.DiagnosticServerCancellationData=Hs={}));var Us;(function(e){e.Full="full",e.Unchanged="unchanged"})(Us||(De.DocumentDiagnosticReportKind=Us={}));var zs;(function(e){e.method="textDocument/diagnostic",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method),e.partialResult=new Ha.ProgressType})(zs||(De.DocumentDiagnosticRequest=zs={}));var xs;(function(e){e.method="workspace/diagnostic",e.messageDirection=zt.MessageDirection.clientToServer,e.type=new zt.ProtocolRequestType(e.method),e.partialResult=new Ha.ProgressType})(xs||(De.WorkspaceDiagnosticRequest=xs={}));var Vs;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=zt.MessageDirection.serverToClient,e.type=new zt.ProtocolRequestType0(e.method)})(Vs||(De.DiagnosticRefreshRequest=Vs={}));var J={};Object.defineProperty(J,"__esModule",{value:!0});J.DidCloseNotebookDocumentNotification=J.DidSaveNotebookDocumentNotification=J.DidChangeNotebookDocumentNotification=J.NotebookCellArrayChange=J.DidOpenNotebookDocumentNotification=J.NotebookDocumentSyncRegistrationType=J.NotebookDocument=J.NotebookCell=J.ExecutionSummary=J.NotebookCellKind=void 0;const vn=Do,Ne=X,We=A;var uo;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(uo||(J.NotebookCellKind=uo={}));var lo;(function(e){function t(i,o){const a={executionOrder:i};return(o===!0||o===!1)&&(a.success=o),a}e.create=t;function n(i){const o=i;return Ne.objectLiteral(o)&&vn.uinteger.is(o.executionOrder)&&(o.success===void 0||Ne.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(lo||(J.ExecutionSummary=lo={}));var gr;(function(e){function t(o,a){return{kind:o,document:a}}e.create=t;function n(o){const a=o;return Ne.objectLiteral(a)&&uo.is(a.kind)&&vn.DocumentUri.is(a.document)&&(a.metadata===void 0||Ne.objectLiteral(a.metadata))}e.is=n;function r(o,a){const u=new Set;return o.document!==a.document&&u.add("document"),o.kind!==a.kind&&u.add("kind"),o.executionSummary!==a.executionSummary&&u.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!i(o.metadata,a.metadata)&&u.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!lo.equals(o.executionSummary,a.executionSummary)&&u.add("executionSummary"),u}e.diff=r;function i(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;const u=Array.isArray(o),d=Array.isArray(a);if(u!==d)return!1;if(u&&d){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++)if(!i(o[h],a[h]))return!1}if(Ne.objectLiteral(o)&&Ne.objectLiteral(a)){const h=Object.keys(o),m=Object.keys(a);if(h.length!==m.length||(h.sort(),m.sort(),!i(h,m)))return!1;for(let w=0;w<h.length;w++){const b=h[w];if(!i(o[b],a[b]))return!1}}return!0}})(gr||(J.NotebookCell=gr={}));var Js;(function(e){function t(r,i,o,a){return{uri:r,notebookType:i,version:o,cells:a}}e.create=t;function n(r){const i=r;return Ne.objectLiteral(i)&&Ne.string(i.uri)&&vn.integer.is(i.version)&&Ne.typedArray(i.cells,gr.is)}e.is=n})(Js||(J.NotebookDocument=Js={}));var xt;(function(e){e.method="notebookDocument/sync",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.RegistrationType(e.method)})(xt||(J.NotebookDocumentSyncRegistrationType=xt={}));var Xs;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=xt.method})(Xs||(J.DidOpenNotebookDocumentNotification=Xs={}));var Qs;(function(e){function t(r){const i=r;return Ne.objectLiteral(i)&&vn.uinteger.is(i.start)&&vn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Ne.typedArray(i.cells,gr.is))}e.is=t;function n(r,i,o){const a={start:r,deleteCount:i};return o!==void 0&&(a.cells=o),a}e.create=n})(Qs||(J.NotebookCellArrayChange=Qs={}));var Ys;(function(e){e.method="notebookDocument/didChange",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=xt.method})(Ys||(J.DidChangeNotebookDocumentNotification=Ys={}));var Ks;(function(e){e.method="notebookDocument/didSave",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=xt.method})(Ks||(J.DidSaveNotebookDocumentNotification=Ks={}));var Gs;(function(e){e.method="notebookDocument/didClose",e.messageDirection=We.MessageDirection.clientToServer,e.type=new We.ProtocolNotificationType(e.method),e.registrationMethod=xt.method})(Gs||(J.DidCloseNotebookDocumentNotification=Gs={}));var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.InlineCompletionRequest=void 0;const Zs=A;var ea;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Zs.MessageDirection.clientToServer,e.type=new Zs.ProtocolRequestType(e.method)})(ea||(kr.InlineCompletionRequest=ea={}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=A,n=Do,r=X,i=br;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=vr;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const a=Ft;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const u=_r;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const d=It;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return d.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return d.ColorPresentationRequest}});const h=Wt;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return h.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return h.FoldingRangeRefreshRequest}});const m=Rr;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return m.DeclarationRequest}});const w=wr;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return w.SelectionRangeRequest}});const b=nt;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return b.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return b.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return b.WorkDoneProgressCancelNotification}});const k=rt;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return k.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return k.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return k.CallHierarchyPrepareRequest}});const O=ye;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return O.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return O.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return O.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return O.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return O.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return O.SemanticTokensRegistrationType}});const ae=Dr;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return ae.ShowDocumentRequest}});const ce=Tr;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return ce.LinkedEditingRangeRequest}});const M=he;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return M.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return M.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return M.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return M.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return M.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return M.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return M.WillDeleteFilesRequest}});const f=it;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return f.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return f.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return f.MonikerRequest}});const g=ot;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return g.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return g.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return g.TypeHierarchySupertypesRequest}});const R=Ht;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return R.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return R.InlineValueRefreshRequest}});const oe=st;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return oe.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return oe.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return oe.InlayHintRefreshRequest}});const Y=De;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Y.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Y.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Y.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Y.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Y.DiagnosticRefreshRequest}});const ue=J;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return ue.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return ue.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return ue.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return ue.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ue.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ue.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ue.DidCloseNotebookDocumentNotification}});const wt=kr;Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return wt.InlineCompletionRequest}});var Xe;(function(s){function K(G){const C=G;return r.string(C)||r.string(C.language)||r.string(C.scheme)||r.string(C.pattern)}s.is=K})(Xe||(e.TextDocumentFilter=Xe={}));var Dt;(function(s){function K(G){const C=G;return r.objectLiteral(C)&&(r.string(C.notebookType)||r.string(C.scheme)||r.string(C.pattern))}s.is=K})(Dt||(e.NotebookDocumentFilter=Dt={}));var pe;(function(s){function K(G){const C=G;return r.objectLiteral(C)&&(r.string(C.notebook)||Dt.is(C.notebook))&&(C.language===void 0||r.string(C.language))}s.is=K})(pe||(e.NotebookCellTextDocumentFilter=pe={}));var Jt;(function(s){function K(G){if(!Array.isArray(G))return!1;for(let C of G)if(!r.string(C)&&!Xe.is(C)&&!pe.is(C))return!1;return!0}s.is=K})(Jt||(e.DocumentSelector=Jt={}));var y;(function(s){s.method="client/registerCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)})(y||(e.RegistrationRequest=y={}));var E;(function(s){s.method="client/unregisterCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)})(E||(e.UnregistrationRequest=E={}));var N;(function(s){s.Create="create",s.Rename="rename",s.Delete="delete"})(N||(e.ResourceOperationKind=N={}));var P;(function(s){s.Abort="abort",s.Transactional="transactional",s.TextOnlyTransactional="textOnlyTransactional",s.Undo="undo"})(P||(e.FailureHandlingKind=P={}));var H;(function(s){s.UTF8="utf-8",s.UTF16="utf-16",s.UTF32="utf-32"})(H||(e.PositionEncodingKind=H={}));var wn;(function(s){function K(G){const C=G;return C&&r.string(C.id)&&C.id.length>0}s.hasId=K})(wn||(e.StaticRegistrationOptions=wn={}));var Dn;(function(s){function K(G){const C=G;return C&&(C.documentSelector===null||Jt.is(C.documentSelector))}s.is=K})(Dn||(e.TextDocumentRegistrationOptions=Dn={}));var Tn;(function(s){function K(C){const c=C;return r.objectLiteral(c)&&(c.workDoneProgress===void 0||r.boolean(c.workDoneProgress))}s.is=K;function G(C){const c=C;return c&&r.boolean(c.workDoneProgress)}s.hasWorkDoneProgress=G})(Tn||(e.WorkDoneProgressOptions=Tn={}));var Qe;(function(s){s.method="initialize",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Qe||(e.InitializeRequest=Qe={}));var Ye;(function(s){s.unknownProtocolVersion=1})(Ye||(e.InitializeErrorCodes=Ye={}));var dt;(function(s){s.method="initialized",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(dt||(e.InitializedNotification=dt={}));var Ke;(function(s){s.method="shutdown",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType0(s.method)})(Ke||(e.ShutdownRequest=Ke={}));var ft;(function(s){s.method="exit",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType0(s.method)})(ft||(e.ExitNotification=ft={}));var ht;(function(s){s.method="workspace/didChangeConfiguration",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(ht||(e.DidChangeConfigurationNotification=ht={}));var Tt;(function(s){s.Error=1,s.Warning=2,s.Info=3,s.Log=4,s.Debug=5})(Tt||(e.MessageType=Tt={}));var qe;(function(s){s.method="window/showMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)})(qe||(e.ShowMessageNotification=qe={}));var Oe;(function(s){s.method="window/showMessageRequest",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)})(Oe||(e.ShowMessageRequest=Oe={}));var gt;(function(s){s.method="window/logMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)})(gt||(e.LogMessageNotification=gt={}));var ve;(function(s){s.method="telemetry/event",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)})(ve||(e.TelemetryEventNotification=ve={}));var W;(function(s){s.None=0,s.Full=1,s.Incremental=2})(W||(e.TextDocumentSyncKind=W={}));var Me;(function(s){s.method="textDocument/didOpen",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(Me||(e.DidOpenTextDocumentNotification=Me={}));var x;(function(s){function K(C){let c=C;return c!=null&&typeof c.text=="string"&&c.range!==void 0&&(c.rangeLength===void 0||typeof c.rangeLength=="number")}s.isIncremental=K;function G(C){let c=C;return c!=null&&typeof c.text=="string"&&c.range===void 0&&c.rangeLength===void 0}s.isFull=G})(x||(e.TextDocumentContentChangeEvent=x={}));var Pe;(function(s){s.method="textDocument/didChange",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(Pe||(e.DidChangeTextDocumentNotification=Pe={}));var kt;(function(s){s.method="textDocument/didClose",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(kt||(e.DidCloseTextDocumentNotification=kt={}));var Xt;(function(s){s.method="textDocument/didSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(Xt||(e.DidSaveTextDocumentNotification=Xt={}));var Qt;(function(s){s.Manual=1,s.AfterDelay=2,s.FocusOut=3})(Qt||(e.TextDocumentSaveReason=Qt={}));var Yt;(function(s){s.method="textDocument/willSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(Yt||(e.WillSaveTextDocumentNotification=Yt={}));var Kt;(function(s){s.method="textDocument/willSaveWaitUntil",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Kt||(e.WillSaveTextDocumentWaitUntilRequest=Kt={}));var Ce;(function(s){s.method="workspace/didChangeWatchedFiles",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)})(Ce||(e.DidChangeWatchedFilesNotification=Ce={}));var Gt;(function(s){s.Created=1,s.Changed=2,s.Deleted=3})(Gt||(e.FileChangeType=Gt={}));var kn;(function(s){function K(G){const C=G;return r.objectLiteral(C)&&(n.URI.is(C.baseUri)||n.WorkspaceFolder.is(C.baseUri))&&r.string(C.pattern)}s.is=K})(kn||(e.RelativePattern=kn={}));var Pn;(function(s){s.Create=1,s.Change=2,s.Delete=4})(Pn||(e.WatchKind=Pn={}));var Cn;(function(s){s.method="textDocument/publishDiagnostics",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)})(Cn||(e.PublishDiagnosticsNotification=Cn={}));var Sn;(function(s){s.Invoked=1,s.TriggerCharacter=2,s.TriggerForIncompleteCompletions=3})(Sn||(e.CompletionTriggerKind=Sn={}));var Zt;(function(s){s.method="textDocument/completion",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Zt||(e.CompletionRequest=Zt={}));var en;(function(s){s.method="completionItem/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(en||(e.CompletionResolveRequest=en={}));var Be;(function(s){s.method="textDocument/hover",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Be||(e.HoverRequest=Be={}));var tn;(function(s){s.Invoked=1,s.TriggerCharacter=2,s.ContentChange=3})(tn||(e.SignatureHelpTriggerKind=tn={}));var En;(function(s){s.method="textDocument/signatureHelp",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(En||(e.SignatureHelpRequest=En={}));var Nn;(function(s){s.method="textDocument/definition",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Nn||(e.DefinitionRequest=Nn={}));var nn;(function(s){s.method="textDocument/references",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(nn||(e.ReferencesRequest=nn={}));var rn;(function(s){s.method="textDocument/documentHighlight",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(rn||(e.DocumentHighlightRequest=rn={}));var qn;(function(s){s.method="textDocument/documentSymbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(qn||(e.DocumentSymbolRequest=qn={}));var On;(function(s){s.method="textDocument/codeAction",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(On||(e.CodeActionRequest=On={}));var Mn;(function(s){s.method="codeAction/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Mn||(e.CodeActionResolveRequest=Mn={}));var An;(function(s){s.method="workspace/symbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(An||(e.WorkspaceSymbolRequest=An={}));var Ln;(function(s){s.method="workspaceSymbol/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Ln||(e.WorkspaceSymbolResolveRequest=Ln={}));var jn;(function(s){s.method="textDocument/codeLens",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(jn||(e.CodeLensRequest=jn={}));var Se;(function(s){s.method="codeLens/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Se||(e.CodeLensResolveRequest=Se={}));var Fn;(function(s){s.method="workspace/codeLens/refresh",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType0(s.method)})(Fn||(e.CodeLensRefreshRequest=Fn={}));var In;(function(s){s.method="textDocument/documentLink",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(In||(e.DocumentLinkRequest=In={}));var pt;(function(s){s.method="documentLink/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(pt||(e.DocumentLinkResolveRequest=pt={}));var Wn;(function(s){s.method="textDocument/formatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Wn||(e.DocumentFormattingRequest=Wn={}));var Pt;(function(s){s.method="textDocument/rangeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Pt||(e.DocumentRangeFormattingRequest=Pt={}));var $n;(function(s){s.method="textDocument/rangesFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})($n||(e.DocumentRangesFormattingRequest=$n={}));var He;(function(s){s.method="textDocument/onTypeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(He||(e.DocumentOnTypeFormattingRequest=He={}));var Ge;(function(s){s.Identifier=1})(Ge||(e.PrepareSupportDefaultBehavior=Ge={}));var Bn;(function(s){s.method="textDocument/rename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Bn||(e.RenameRequest=Bn={}));var Hn;(function(s){s.method="textDocument/prepareRename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Hn||(e.PrepareRenameRequest=Hn={}));var Ze;(function(s){s.method="workspace/executeCommand",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)})(Ze||(e.ExecuteCommandRequest=Ze={}));var on;(function(s){s.method="workspace/applyEdit",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType("workspace/applyEdit")})(on||(e.ApplyWorkspaceEditRequest=on={}))})(Wa);var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.createProtocolConnection=void 0;const ta=Rt;function xu(e,t,n,r){return ta.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,ta.createMessageConnection)(e,t,n,r)}Pr.createProtocolConnection=xu;(function(e){var t=re&&re.__createBinding||(Object.create?function(o,a,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(a,u);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(o,d,h)}:function(o,a,u,d){d===void 0&&(d=u),o[d]=a[u]}),n=re&&re.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(Rt,e),n(Do,e),n(A,e),n(Wa,e);var r=Pr;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})(Ia);(function(e){var t=re&&re.__createBinding||(Object.create?function(o,a,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(a,u);(!h||("get"in h?!a.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(o,d,h)}:function(o,a,u,d){d===void 0&&(d=u),o[d]=a[u]}),n=re&&re.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Uo;n(Uo,e),n(Ia,e);function i(o,a,u,d){return(0,r.createMessageConnection)(o,a,u,d)}e.createProtocolConnection=i})(te);Object.defineProperty(ze,"__esModule",{value:!0});ze.SemanticTokensBuilder=ze.SemanticTokensDiff=ze.SemanticTokensFeature=void 0;const zn=te,Vu=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(zn.SemanticTokensRefreshRequest.type),on:t=>{const n=zn.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{const n=zn.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{const n=zn.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ze.SemanticTokensFeature=Vu;class Ua{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){const t=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const a=i-r+1,u=this.modifiedSequence.slice(r,o+1);return u.length===1&&u[0]===this.originalSequence[i]?[{start:r,deleteCount:a-1}]:[{start:r,deleteCount:a,data:u}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}}ze.SemanticTokensDiff=Ua;class Ju{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let a=t,u=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(u-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=u,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Ua(this._prevData,this._data).computeDiff()}:this.build()}}ze.SemanticTokensBuilder=Ju;var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.InlineCompletionFeature=void 0;const Xu=te,Qu=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest(Xu.InlineCompletionRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};Cr.InlineCompletionFeature=Qu;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.TextDocuments=void 0;const mt=te;class Yu{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new mt.Emitter,this._onDidOpen=new mt.Emitter,this._onDidClose=new mt.Emitter,this._onDidSave=new mt.Emitter,this._onWillSave=new mt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=mt.TextDocumentSyncKind.Incremental;const n=[];return n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let u=this._syncedDocuments.get(i.uri);u!==void 0&&(u=this._configuration.update(u,o,a),this._syncedDocuments.set(i.uri,u),this._onDidChangeContent.fire(Object.freeze({document:u})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),mt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}Rn.TextDocuments=Yu;var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.NotebookDocuments=_t.NotebookSyncFeature=void 0;const Te=te,na=Rn,Ku=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Te.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Te.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Te.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Te.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};_t.NotebookSyncFeature=Ku;class Nt{onDidOpenTextDocument(t){return this.openHandler=t,Te.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Te.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Te.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return Nt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return Nt.NULL_DISPOSE}onDidSaveTextDocument(){return Nt.NULL_DISPOSE}}Nt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class Gu{constructor(t){t instanceof na.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new na.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Te.Emitter,this._onDidChange=new Te.Emitter,this._onDidSave=new Te.Emitter,this._onDidClose=new Te.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){const n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){const n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){const n=new Nt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const a=o.metadata;let u=!1;const d=i.change;d.metadata!==void 0&&(u=!0,o.metadata=d.metadata);const h=[],m=[],w=[],b=[];if(d.cells!==void 0){const M=d.cells;if(M.structure!==void 0){const f=M.structure.array;if(o.cells.splice(f.start,f.deleteCount,...f.cells!==void 0?f.cells:[]),M.structure.didOpen!==void 0)for(const g of M.structure.didOpen)n.openTextDocument({textDocument:g}),h.push(g.uri);if(M.structure.didClose)for(const g of M.structure.didClose)n.closeTextDocument({textDocument:g}),m.push(g.uri)}if(M.data!==void 0){const f=new Map(M.data.map(g=>[g.document,g]));for(let g=0;g<=o.cells.length;g++){const R=f.get(o.cells[g].document);if(R!==void 0){const oe=o.cells.splice(g,1,R);if(w.push({old:oe[0],new:R}),f.delete(R.document),f.size===0)break}}}if(M.textContent!==void 0)for(const f of M.textContent)n.changeTextDocument({textDocument:f.document,contentChanges:f.changes}),b.push(f.document.uri)}this.updateCellMap(o);const k={notebookDocument:o};u&&(k.metadata={old:a,new:o.metadata});const O=[];for(const M of h)O.push(this.getNotebookCell(M));const ae=[];for(const M of m)ae.push(this.getNotebookCell(M));const ce=[];for(const M of b)ce.push(this.getNotebookCell(M));(O.length>0||ae.length>0||w.length>0||ce.length>0)&&(k.cells={added:O,removed:ae,changed:{data:w,textContent:ce}}),(k.metadata!==void 0||k.cells!==void 0)&&this._onDidChange.fire(k)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const a of i.cellTextDocuments)n.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(const a of o.cells)this.notebookCellMap.delete(a.document)}})),Te.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(const n of t.cells)this.notebookCellMap.set(n.document,[n,t])}}_t.NotebookDocuments=Gu;var F={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.thenable=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function Zu(e){return e===!0||e===!1}ee.boolean=Zu;function za(e){return typeof e=="string"||e instanceof String}ee.string=za;function el(e){return typeof e=="number"||e instanceof Number}ee.number=el;function tl(e){return e instanceof Error}ee.error=tl;function xa(e){return typeof e=="function"}ee.func=xa;function Va(e){return Array.isArray(e)}ee.array=Va;function nl(e){return Va(e)&&e.every(t=>za(t))}ee.stringArray=nl;function rl(e,t){return Array.isArray(e)&&e.every(t)}ee.typedArray=rl;function il(e){return e&&xa(e.then)}ee.thenable=il;var be={};Object.defineProperty(be,"__esModule",{value:!0});be.generateUuid=be.parse=be.isUUID=be.v4=be.empty=void 0;class To{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class q extends To{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return q._oneOf(q._chars)}constructor(){super([q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),"-",q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),"-","4",q._randomHex(),q._randomHex(),q._randomHex(),"-",q._oneOf(q._timeHighBits),q._randomHex(),q._randomHex(),q._randomHex(),"-",q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex(),q._randomHex()].join(""))}}q._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];q._timeHighBits=["8","9","a","b"];be.empty=new To("00000000-0000-0000-0000-000000000000");function Ja(){return new q}be.v4=Ja;const ol=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Xa(e){return ol.test(e)}be.isUUID=Xa;function sl(e){if(!Xa(e))throw new Error("invalid uuid");return new To(e)}be.parse=sl;function al(){return Ja().asHex()}be.generateUuid=al;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.attachPartialResult=at.ProgressFeature=at.attachWorkDone=void 0;const ct=te,cl=be;class lt{constructor(t,n){this._connection=t,this._token=n,lt.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,r)}done(){lt.Instances.delete(this._token),this._connection.sendProgress(ct.WorkDoneProgress.type,this._token,{kind:"end"})}}lt.Instances=new Map;class ra extends lt{constructor(t,n){super(t,n),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class ko{constructor(){}begin(){}report(){}done(){}}class ia extends ko{constructor(){super(),this._source=new ct.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function ul(e,t){if(t===void 0||t.workDoneToken===void 0)return new ko;const n=t.workDoneToken;return delete t.workDoneToken,new lt(e,n)}at.attachWorkDone=ul;const ll=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(ct.WorkDoneProgressCancelNotification.type,n=>{let r=lt.Instances.get(n.token);(r instanceof ra||r instanceof ia)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new ko:new lt(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=(0,cl.generateUuid)();return this.connection.sendRequest(ct.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new ra(this.connection,t))}else return Promise.resolve(new ia)}};at.ProgressFeature=ll;var fo;(function(e){e.type=new ct.ProgressType})(fo||(fo={}));class dl{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(fo.type,this._token,t)}}function fl(e,t){if(t===void 0||t.partialResultToken===void 0)return;const n=t.partialResultToken;return delete t.partialResultToken,new dl(e,n)}at.attachPartialResult=fl;var Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.ConfigurationFeature=void 0;const hl=te,gl=ee,pl=e=>class extends e{getConfiguration(t){return t?gl.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(hl.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};Sr.ConfigurationFeature=pl;var Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.WorkspaceFoldersFeature=void 0;const xn=te,ml=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new xn.Emitter,this.connection.onNotification(xn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);const n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(xn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(xn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Er.WorkspaceFoldersFeature=ml;var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.CallHierarchyFeature=void 0;const Ur=te,yl=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Ur.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{const n=Ur.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{const n=Ur.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Nr.CallHierarchyFeature=yl;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});qr.ShowDocumentFeature=void 0;const bl=te,vl=e=>class extends e{showDocument(t){return this.connection.sendRequest(bl.ShowDocumentRequest.type,t)}};qr.ShowDocumentFeature=vl;var Or={};Object.defineProperty(Or,"__esModule",{value:!0});Or.FileOperationsFeature=void 0;const Ct=te,_l=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Ct.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(Ct.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(Ct.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(Ct.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(Ct.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(Ct.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};Or.FileOperationsFeature=_l;var Mr={};Object.defineProperty(Mr,"__esModule",{value:!0});Mr.LinkedEditingRangeFeature=void 0;const Rl=te,wl=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Rl.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};Mr.LinkedEditingRangeFeature=wl;var Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.TypeHierarchyFeature=void 0;const zr=te,Dl=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(zr.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{const n=zr.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{const n=zr.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ar.TypeHierarchyFeature=Dl;var Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.InlineValueFeature=void 0;const oa=te,Tl=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(oa.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(oa.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};Lr.InlineValueFeature=Tl;var jr={};Object.defineProperty(jr,"__esModule",{value:!0});jr.FoldingRangeFeature=void 0;const sa=te,kl=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(sa.FoldingRangeRefreshRequest.type),on:t=>{const n=sa.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};jr.FoldingRangeFeature=kl;var Fr={};Object.defineProperty(Fr,"__esModule",{value:!0});Fr.InlayHintFeature=void 0;const xr=te,Pl=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(xr.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(xr.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(xr.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};Fr.InlayHintFeature=Pl;var Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.DiagnosticFeature=void 0;const sn=te,Cl=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(sn.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(sn.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(sn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(sn.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(sn.WorkspaceDiagnosticRequest.partialResult,n)))}}};Ir.DiagnosticFeature=Cl;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.MonikerFeature=void 0;const Sl=te,El=e=>class extends e{get moniker(){return{on:t=>{const n=Sl.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Wr.MonikerFeature=El;Object.defineProperty(F,"__esModule",{value:!0});F.createConnection=F.combineFeatures=F.combineNotebooksFeatures=F.combineLanguagesFeatures=F.combineWorkspaceFeatures=F.combineWindowFeatures=F.combineClientFeatures=F.combineTracerFeatures=F.combineTelemetryFeatures=F.combineConsoleFeatures=F._NotebooksImpl=F._LanguagesImpl=F.BulkUnregistration=F.BulkRegistration=F.ErrorMessageTracker=void 0;const _=te,_e=ee,ho=be,S=at,Nl=Sr,ql=Er,Ol=Nr,Ml=ze,Al=qr,Ll=Or,jl=Mr,Fl=Ar,Il=Lr,Wl=jr,$l=Fr,Bl=Ir,Hl=_t,Ul=Wr;function Vr(e){if(e!==null)return e}class zl{constructor(){this._messages=Object.create(null)}add(t){let n=this._messages[t];n||(n=0),n++,this._messages[t]=n}sendErrors(t){Object.keys(this._messages).forEach(n=>{t.window.showErrorMessage(n)})}}F.ErrorMessageTracker=zl;class aa{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(_.MessageType.Error,t)}warn(t){this.send(_.MessageType.Warning,t)}info(t){this.send(_.MessageType.Info,t)}log(t){this.send(_.MessageType.Log,t)}debug(t){this.send(_.MessageType.Debug,t)}send(t,n){this._rawConnection&&this._rawConnection.sendNotification(_.LogMessageNotification.type,{type:t,message:n}).catch(()=>{(0,_.RAL)().console.error("Sending log message failed")})}}class xl{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...n){let r={type:_.MessageType.Error,message:t,actions:n};return this.connection.sendRequest(_.ShowMessageRequest.type,r).then(Vr)}showWarningMessage(t,...n){let r={type:_.MessageType.Warning,message:t,actions:n};return this.connection.sendRequest(_.ShowMessageRequest.type,r).then(Vr)}showInformationMessage(t,...n){let r={type:_.MessageType.Info,message:t,actions:n};return this.connection.sendRequest(_.ShowMessageRequest.type,r).then(Vr)}}const ca=(0,Al.ShowDocumentFeature)((0,S.ProgressFeature)(xl));var ua;(function(e){function t(){return new Qa}e.create=t})(ua||(F.BulkRegistration=ua={}));class Qa{constructor(){this._registrations=[],this._registered=new Set}add(t,n){const r=_e.string(t)?t:t.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=ho.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var la;(function(e){function t(){return new go(void 0,[])}e.create=t})(la||(F.BulkUnregistration=la={}));class go{constructor(t,n){this._connection=t,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let r of this._unregistrations.values())t.push(r);let n={unregisterations:t};this._connection.sendRequest(_.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){const n=_e.string(t)?t:t.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(_.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class da{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,n,r){return t instanceof Qa?this.registerMany(t):t instanceof go?this.registerSingle1(t,n,r):this.registerSingle2(t,n)}registerSingle1(t,n,r){const i=_e.string(n)?n:n.method,o=ho.generateUuid();let a={registrations:[{id:o,method:i,registerOptions:r||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(_.RegistrationRequest.type,a).then(u=>(t.add({id:o,method:i}),t),u=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(u)))}registerSingle2(t,n){const r=_e.string(t)?t:t.method,i=ho.generateUuid();let o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(_.RegistrationRequest.type,o).then(a=>_.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),a=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(a)))}unregisterSingle(t,n){let r={unregisterations:[{id:t,method:n}]};return this.connection.sendRequest(_.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let n=t.asRegistrationParams();return this.connection.sendRequest(_.RegistrationRequest.type,n).then(()=>new go(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class Vl{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function n(i){return i&&!!i.edit}let r=n(t)?t:{edit:t};return this.connection.sendRequest(_.ApplyWorkspaceEditRequest.type,r)}}const fa=(0,Ll.FileOperationsFeature)((0,ql.WorkspaceFoldersFeature)((0,Nl.ConfigurationFeature)(Vl)));class ha{constructor(){this._trace=_.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,n){this._trace!==_.Trace.Off&&this.connection.sendNotification(_.LogTraceNotification.type,{message:t,verbose:this._trace===_.Trace.Verbose?n:void 0}).catch(()=>{})}}class ga{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(_.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class Ya{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,S.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,S.attachPartialResult)(this.connection,n)}}F._LanguagesImpl=Ya;const pa=(0,Wl.FoldingRangeFeature)((0,Ul.MonikerFeature)((0,Bl.DiagnosticFeature)((0,$l.InlayHintFeature)((0,Il.InlineValueFeature)((0,Fl.TypeHierarchyFeature)((0,jl.LinkedEditingRangeFeature)((0,Ml.SemanticTokensFeature)((0,Ol.CallHierarchyFeature)(Ya)))))))));class Ka{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,S.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,n){return(0,S.attachPartialResult)(this.connection,n)}}F._NotebooksImpl=Ka;const ma=(0,Hl.NotebookSyncFeature)(Ka);function Ga(e,t){return function(n){return t(e(n))}}F.combineConsoleFeatures=Ga;function Za(e,t){return function(n){return t(e(n))}}F.combineTelemetryFeatures=Za;function ec(e,t){return function(n){return t(e(n))}}F.combineTracerFeatures=ec;function tc(e,t){return function(n){return t(e(n))}}F.combineClientFeatures=tc;function nc(e,t){return function(n){return t(e(n))}}F.combineWindowFeatures=nc;function rc(e,t){return function(n){return t(e(n))}}F.combineWorkspaceFeatures=rc;function ic(e,t){return function(n){return t(e(n))}}F.combineLanguagesFeatures=ic;function oc(e,t){return function(n){return t(e(n))}}F.combineNotebooksFeatures=oc;function Jl(e,t){function n(i,o,a){return i&&o?a(i,o):i||o}return{__brand:"features",console:n(e.console,t.console,Ga),tracer:n(e.tracer,t.tracer,ec),telemetry:n(e.telemetry,t.telemetry,Za),client:n(e.client,t.client,tc),window:n(e.window,t.window,nc),workspace:n(e.workspace,t.workspace,rc),languages:n(e.languages,t.languages,ic),notebooks:n(e.notebooks,t.notebooks,oc)}}F.combineFeatures=Jl;function Xl(e,t,n){const r=n&&n.console?new(n.console(aa)):new aa,i=e(r);r.rawAttach(i);const o=n&&n.tracer?new(n.tracer(ha)):new ha,a=n&&n.telemetry?new(n.telemetry(ga)):new ga,u=n&&n.client?new(n.client(da)):new da,d=n&&n.window?new(n.window(ca)):new ca,h=n&&n.workspace?new(n.workspace(fa)):new fa,m=n&&n.languages?new(n.languages(pa)):new pa,w=n&&n.notebooks?new(n.notebooks(ma)):new ma,b=[r,o,a,u,d,h,m,w];function k(f){return f instanceof Promise?f:_e.thenable(f)?new Promise((g,R)=>{f.then(oe=>g(oe),oe=>R(oe))}):Promise.resolve(f)}let O,ae,ce,M={listen:()=>i.listen(),sendRequest:(f,...g)=>i.sendRequest(_e.string(f)?f:f.method,...g),onRequest:(f,g)=>i.onRequest(f,g),sendNotification:(f,g)=>{const R=_e.string(f)?f:f.method;return i.sendNotification(R,g)},onNotification:(f,g)=>i.onNotification(f,g),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:f=>(ae=f,{dispose:()=>{ae=void 0}}),onInitialized:f=>i.onNotification(_.InitializedNotification.type,f),onShutdown:f=>(O=f,{dispose:()=>{O=void 0}}),onExit:f=>(ce=f,{dispose:()=>{ce=void 0}}),get console(){return r},get telemetry(){return a},get tracer(){return o},get client(){return u},get window(){return d},get workspace(){return h},get languages(){return m},get notebooks(){return w},onDidChangeConfiguration:f=>i.onNotification(_.DidChangeConfigurationNotification.type,f),onDidChangeWatchedFiles:f=>i.onNotification(_.DidChangeWatchedFilesNotification.type,f),__textDocumentSync:void 0,onDidOpenTextDocument:f=>i.onNotification(_.DidOpenTextDocumentNotification.type,f),onDidChangeTextDocument:f=>i.onNotification(_.DidChangeTextDocumentNotification.type,f),onDidCloseTextDocument:f=>i.onNotification(_.DidCloseTextDocumentNotification.type,f),onWillSaveTextDocument:f=>i.onNotification(_.WillSaveTextDocumentNotification.type,f),onWillSaveTextDocumentWaitUntil:f=>i.onRequest(_.WillSaveTextDocumentWaitUntilRequest.type,f),onDidSaveTextDocument:f=>i.onNotification(_.DidSaveTextDocumentNotification.type,f),sendDiagnostics:f=>i.sendNotification(_.PublishDiagnosticsNotification.type,f),onHover:f=>i.onRequest(_.HoverRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),onCompletion:f=>i.onRequest(_.CompletionRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onCompletionResolve:f=>i.onRequest(_.CompletionResolveRequest.type,f),onSignatureHelp:f=>i.onRequest(_.SignatureHelpRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),onDeclaration:f=>i.onRequest(_.DeclarationRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onDefinition:f=>i.onRequest(_.DefinitionRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onTypeDefinition:f=>i.onRequest(_.TypeDefinitionRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onImplementation:f=>i.onRequest(_.ImplementationRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onReferences:f=>i.onRequest(_.ReferencesRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onDocumentHighlight:f=>i.onRequest(_.DocumentHighlightRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onDocumentSymbol:f=>i.onRequest(_.DocumentSymbolRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onWorkspaceSymbol:f=>i.onRequest(_.WorkspaceSymbolRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onWorkspaceSymbolResolve:f=>i.onRequest(_.WorkspaceSymbolResolveRequest.type,f),onCodeAction:f=>i.onRequest(_.CodeActionRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onCodeActionResolve:f=>i.onRequest(_.CodeActionResolveRequest.type,(g,R)=>f(g,R)),onCodeLens:f=>i.onRequest(_.CodeLensRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onCodeLensResolve:f=>i.onRequest(_.CodeLensResolveRequest.type,(g,R)=>f(g,R)),onDocumentFormatting:f=>i.onRequest(_.DocumentFormattingRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),onDocumentRangeFormatting:f=>i.onRequest(_.DocumentRangeFormattingRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),onDocumentOnTypeFormatting:f=>i.onRequest(_.DocumentOnTypeFormattingRequest.type,(g,R)=>f(g,R)),onRenameRequest:f=>i.onRequest(_.RenameRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),onPrepareRename:f=>i.onRequest(_.PrepareRenameRequest.type,(g,R)=>f(g,R)),onDocumentLinks:f=>i.onRequest(_.DocumentLinkRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onDocumentLinkResolve:f=>i.onRequest(_.DocumentLinkResolveRequest.type,(g,R)=>f(g,R)),onDocumentColor:f=>i.onRequest(_.DocumentColorRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onColorPresentation:f=>i.onRequest(_.ColorPresentationRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onFoldingRanges:f=>i.onRequest(_.FoldingRangeRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onSelectionRanges:f=>i.onRequest(_.SelectionRangeRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),(0,S.attachPartialResult)(i,g))),onExecuteCommand:f=>i.onRequest(_.ExecuteCommandRequest.type,(g,R)=>f(g,R,(0,S.attachWorkDone)(i,g),void 0)),dispose:()=>i.dispose()};for(let f of b)f.attach(M);return i.onRequest(_.InitializeRequest.type,f=>{t.initialize(f),_e.string(f.trace)&&(o.trace=_.Trace.fromString(f.trace));for(let g of b)g.initialize(f.capabilities);if(ae){let g=ae(f,new _.CancellationTokenSource().token,(0,S.attachWorkDone)(i,f),void 0);return k(g).then(R=>{if(R instanceof _.ResponseError)return R;let oe=R;oe||(oe={capabilities:{}});let Y=oe.capabilities;Y||(Y={},oe.capabilities=Y),Y.textDocumentSync===void 0||Y.textDocumentSync===null?Y.textDocumentSync=_e.number(M.__textDocumentSync)?M.__textDocumentSync:_.TextDocumentSyncKind.None:!_e.number(Y.textDocumentSync)&&!_e.number(Y.textDocumentSync.change)&&(Y.textDocumentSync.change=_e.number(M.__textDocumentSync)?M.__textDocumentSync:_.TextDocumentSyncKind.None);for(let ue of b)ue.fillServerCapabilities(Y);return oe})}else{let g={capabilities:{textDocumentSync:_.TextDocumentSyncKind.None}};for(let R of b)R.fillServerCapabilities(g.capabilities);return g}}),i.onRequest(_.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,O)return O(new _.CancellationTokenSource().token)}),i.onNotification(_.ExitNotification.type,()=>{try{ce&&ce()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(_.SetTraceNotification.type,f=>{o.trace=_.Trace.fromString(f.value)}),M}F.createConnection=Xl;(function(e){var t=re&&re.__createBinding||(Object.create?function(d,h,m,w){w===void 0&&(w=m);var b=Object.getOwnPropertyDescriptor(h,m);(!b||("get"in b?!h.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return h[m]}}),Object.defineProperty(d,w,b)}:function(d,h,m,w){w===void 0&&(w=m),d[w]=h[m]}),n=re&&re.__exportStar||function(d,h){for(var m in d)m!=="default"&&!Object.prototype.hasOwnProperty.call(h,m)&&t(h,d,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=ze;Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=Cr;n(te,e);const o=Rn;Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const a=_t;Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return a.NotebookDocuments}}),n(F,e);var u;(function(d){d.all={__brand:"features",languages:i.InlineCompletionFeature}})(u||(e.ProposedFeatures=u={}))})(ei);var Ql=te;(function(e){var t=re&&re.__createBinding||(Object.create?function(u,d,h,m){m===void 0&&(m=h);var w=Object.getOwnPropertyDescriptor(d,h);(!w||("get"in w?!d.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(u,m,w)}:function(u,d,h,m){m===void 0&&(m=h),u[m]=d[h]}),n=re&&re.__exportStar||function(u,d){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&t(d,u,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=ei;n(Ql,e),n(ei,e);let i=!1;const o={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function a(u,d,h,m){let w,b,k,O;u!==void 0&&u.__brand==="features"&&(w=u,u=d,d=h,h=m),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?O=u:(b=u,k=d,O=h);const ae=ce=>(0,r.createProtocolConnection)(b,k,ce,O);return(0,r.createConnection)(ae,o,w)}e.createConnection=a})(Sa);new Sa.NotificationType("$/gitlab/theme/didChangeTheme");const $e=Object.create(null);$e.open="0";$e.close="1";$e.ping="2";$e.pong="3";$e.message="4";$e.upgrade="5";$e.noop="6";const Kn=Object.create(null);Object.keys($e).forEach(e=>{Kn[$e[e]]=e});const po={type:"error",data:"parser error"},sc=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",ac=typeof ArrayBuffer=="function",cc=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Po=({type:e,data:t},n,r)=>sc&&t instanceof Blob?n?r(t):ya(t,r):ac&&(t instanceof ArrayBuffer||cc(t))?n?r(t):ya(new Blob([t]),r):r($e[e]+(t||"")),ya=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function ba(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Jr;function Yl(e,t){if(sc&&e.data instanceof Blob)return e.data.arrayBuffer().then(ba).then(t);if(ac&&(e.data instanceof ArrayBuffer||cc(e.data)))return t(ba(e.data));Po(e,!1,n=>{Jr||(Jr=new TextEncoder),t(Jr.encode(n))})}const va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",un=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<va.length;e++)un[va.charCodeAt(e)]=e;const Kl=e=>{let t=e.length*.75,n=e.length,r,i=0,o,a,u,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),m=new Uint8Array(h);for(r=0;r<n;r+=4)o=un[e.charCodeAt(r)],a=un[e.charCodeAt(r+1)],u=un[e.charCodeAt(r+2)],d=un[e.charCodeAt(r+3)],m[i++]=o<<2|a>>4,m[i++]=(a&15)<<4|u>>2,m[i++]=(u&3)<<6|d&63;return h},Gl=typeof ArrayBuffer=="function",Co=(e,t)=>{if(typeof e!="string")return{type:"message",data:uc(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:Zl(e.substring(1),t)}:Kn[n]?e.length>1?{type:Kn[n],data:e.substring(1)}:{type:Kn[n]}:po},Zl=(e,t)=>{if(Gl){const n=Kl(e);return uc(n,t)}else return{base64:!0,data:e}},uc=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},lc="",ed=(e,t)=>{const n=e.length,r=new Array(n);let i=0;e.forEach((o,a)=>{Po(o,!1,u=>{r[a]=u,++i===n&&t(r.join(lc))})})},td=(e,t)=>{const n=e.split(lc),r=[];for(let i=0;i<n.length;i++){const o=Co(n[i],t);if(r.push(o),o.type==="error")break}return r};function nd(){return new TransformStream({transform(e,t){Yl(e,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);const o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(n)})}})}let Xr;function Vn(e){return e.reduce((t,n)=>t+n.length,0)}function Jn(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let i=0;i<t;i++)n[i]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function rd(e,t){Xr||(Xr=new TextDecoder);const n=[];let r=0,i=-1,o=!1;return new TransformStream({transform(a,u){for(n.push(a);;){if(r===0){if(Vn(n)<1)break;const d=Jn(n,1);o=(d[0]&128)===128,i=d[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(Vn(n)<2)break;const d=Jn(n,2);i=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(Vn(n)<8)break;const d=Jn(n,8),h=new DataView(d.buffer,d.byteOffset,d.length),m=h.getUint32(0);if(m>Math.pow(2,21)-1){u.enqueue(po);break}i=m*Math.pow(2,32)+h.getUint32(4),r=3}else{if(Vn(n)<i)break;const d=Jn(n,i);u.enqueue(Co(o?d:Xr.decode(d),t)),r=0}if(i===0||i>e){u.enqueue(po);break}}}})}const dc=4;function ie(e){if(e)return id(e)}function id(e){for(var t in ie.prototype)e[t]=ie.prototype[t];return e}ie.prototype.on=ie.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};ie.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};ie.prototype.off=ie.prototype.removeListener=ie.prototype.removeAllListeners=ie.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+e],this};ie.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this};ie.prototype.emitReserved=ie.prototype.emit;ie.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};ie.prototype.hasListeners=function(e){return!!this.listeners(e).length};const we=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function fc(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const od=we.setTimeout,sd=we.clearTimeout;function $r(e,t){t.useNativeTimers?(e.setTimeoutFn=od.bind(we),e.clearTimeoutFn=sd.bind(we)):(e.setTimeoutFn=we.setTimeout.bind(we),e.clearTimeoutFn=we.clearTimeout.bind(we))}const ad=1.33;function cd(e){return typeof e=="string"?ud(e):Math.ceil((e.byteLength||e.size)*ad)}function ud(e){let t=0,n=0;for(let r=0,i=e.length;r<i;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function ld(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function dd(e){let t={},n=e.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}class fd extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class So extends ie{constructor(t){super(),this.writable=!1,$r(this,t),this.opts=t,this.query=t.query,this.socket=t.socket}onError(t,n,r){return super.emitReserved("error",new fd(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Co(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=ld(t);return n.length?"?"+n:""}}const hc="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),mo=64,hd={};let _a=0,Xn=0,Ra;function wa(e){let t="";do t=hc[e%mo]+t,e=Math.floor(e/mo);while(e>0);return t}function gc(){const e=wa(+new Date);return e!==Ra?(_a=0,Ra=e):e+"."+wa(_a++)}for(;Xn<mo;Xn++)hd[hc[Xn]]=Xn;let pc=!1;try{pc=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const gd=pc;function mc(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||gd))return new XMLHttpRequest}catch{}if(!t)try{return new we[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function pd(){}const md=function(){return new mc({xdomain:!1}).responseType!=null}();class yd extends So{constructor(t){if(super(t),this.polling=!1,typeof location<"u"){const r=location.protocol==="https:";let i=location.port;i||(i=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}const n=t&&t.forceBase64;this.supportsBinary=md&&!n,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};td(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ed(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=gc()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}request(t={}){return Object.assign(t,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Fe(this.uri(),t)}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Fe extends ie{constructor(t,n){super(),$r(this,n),this.opts=n,this.method=n.method||"GET",this.uri=t,this.data=n.data!==void 0?n.data:null,this.create()}create(){var t;const n=fc(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this.opts.xd;const r=this.xhr=new mc(n);try{r.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this.opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(r.timeout=this.opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(r)),r.readyState===4&&(r.status===200||r.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof r.status=="number"?r.status:0)},0))},r.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Fe.requestsCount++,Fe.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=pd,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Fe.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}Fe.requestsCount=0;Fe.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Da);else if(typeof addEventListener=="function"){const e="onpagehide"in we?"pagehide":"unload";addEventListener(e,Da,!1)}}function Da(){for(let e in Fe.requests)Fe.requests.hasOwnProperty(e)&&Fe.requests[e].abort()}const Eo=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Qn=we.WebSocket||we.MozWebSocket,Ta=!0,bd="arraybuffer",ka=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class vd extends So{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),n=this.opts.protocols,r=ka?{}:fc(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=Ta&&!ka?n?new Qn(t,n):new Qn(t):new Qn(t,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;Po(r,this.supportsBinary,o=>{const a={};try{Ta&&this.ws.send(o)}catch{}i&&Eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=gc()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}check(){return!!Qn}}class _d extends So{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(t=>{const n=rd(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),i=nd();i.readable.pipeTo(t.writable),this.writer=i.writable.getWriter();const o=()=>{r.read().then(({done:u,value:d})=>{u||(this.onPacket(d),o())}).catch(u=>{})};o();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this.writer.write(a).then(()=>this.onOpen())})}))}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],i=n===t.length-1;this.writer.write(r).then(()=>{i&&Eo(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this.transport)===null||t===void 0||t.close()}}const Rd={websocket:vd,webtransport:_d,polling:yd},wd=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Dd=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function yo(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let i=wd.exec(e||""),o={},a=14;for(;a--;)o[Dd[a]]=i[a]||"";return n!=-1&&r!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Td(o,o.path),o.queryKey=kd(o,o.query),o}function Td(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function kd(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}let yc=class Et extends ie{constructor(t,n={}){super(),this.binaryType=bd,this.writeBuffer=[],t&&typeof t=="object"&&(n=t,t=null),t?(t=yo(t),n.hostname=t.host,n.secure=t.protocol==="https"||t.protocol==="wss",n.port=t.port,t.query&&(n.query=t.query)):n.host&&(n.hostname=yo(n.host).host),$r(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=dd(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=dc,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Rd[t](r)}open(){let t;if(this.opts.rememberUpgrade&&Et.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)t="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else t=this.transports[0];this.readyState="opening";try{t=this.createTransport(t)}catch{this.transports.shift(),this.open();return}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(t){let n=this.createTransport(t),r=!1;Et.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",w=>{if(!r)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Et.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(m(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=n.name,this.emitReserved("upgradeError",b)}}))};function o(){r||(r=!0,m(),n.close(),n=null)}const a=w=>{const b=new Error("probe error: "+w);b.transport=n.name,o(),this.emitReserved("upgradeError",b)};function u(){a("transport closed")}function d(){a("socket closed")}function h(w){n&&w.name!==n.name&&o()}const m=()=>{n.removeListener("open",i),n.removeListener("error",a),n.removeListener("close",u),this.off("close",d),this.off("upgrading",h)};n.once("open",i),n.once("error",a),n.once("close",u),this.once("close",d),this.once("upgrading",h),this.upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onOpen(){if(this.readyState="open",Et.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let t=0;const n=this.upgrades.length;for(;t<n;t++)this.probe(this.upgrades[t])}}onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=t.data,this.onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=cd(i)),r>0&&n>this.maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}write(t,n,r){return this.sendPacket("message",t,n,r),this}send(t,n,r){return this.sendPacket("message",t,n,r),this}sendPacket(t,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const o={type:t,data:n,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}onError(t){Et.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const n=[];let r=0;const i=t.length;for(;r<i;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}};yc.protocol=dc;function Pd(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=yo(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}const Cd=typeof ArrayBuffer=="function",Sd=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,bc=Object.prototype.toString,Ed=typeof Blob=="function"||typeof Blob<"u"&&bc.call(Blob)==="[object BlobConstructor]",Nd=typeof File=="function"||typeof File<"u"&&bc.call(File)==="[object FileConstructor]";function No(e){return Cd&&(e instanceof ArrayBuffer||Sd(e))||Ed&&e instanceof Blob||Nd&&e instanceof File}function Gn(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Gn(e[n]))return!0;return!1}if(No(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Gn(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Gn(e[n]))return!0;return!1}function qd(e){const t=[],n=e.data,r=e;return r.data=bo(n,t),r.attachments=t.length,{packet:r,buffers:t}}function bo(e,t){if(!e)return e;if(No(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=bo(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=bo(e[r],t));return n}return e}function Od(e,t){return e.data=vo(e.data,t),delete e.attachments,e}function vo(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=vo(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=vo(e[n],t));return e}const Md=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Ad=5;var L;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(L||(L={}));class Ld{constructor(t){this.replacer=t}encode(t){return(t.type===L.EVENT||t.type===L.ACK)&&Gn(t)?this.encodeAsBinary({type:t.type===L.EVENT?L.BINARY_EVENT:L.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===L.BINARY_EVENT||t.type===L.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=qd(t),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Pa(e){return Object.prototype.toString.call(e)==="[object Object]"}class qo extends ie{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===L.BINARY_EVENT;r||n.type===L.BINARY_ACK?(n.type=r?L.EVENT:L.ACK,this.reconstructor=new jd(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(No(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(L[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===L.BINARY_EVENT||r.type===L.BINARY_ACK){const o=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const a=t.substring(o,n);if(a!=Number(a)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(a)}if(t.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(o,n)}else r.nsp="/";const i=t.charAt(n+1);if(i!==""&&Number(i)==i){const o=n+1;for(;++n;){const a=t.charAt(n);if(a==null||Number(a)!=a){--n;break}if(n===t.length)break}r.id=Number(t.substring(o,n+1))}if(t.charAt(++n)){const o=this.tryParse(t.substr(n));if(qo.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case L.CONNECT:return Pa(n);case L.DISCONNECT:return n===void 0;case L.CONNECT_ERROR:return typeof n=="string"||Pa(n);case L.EVENT:case L.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Md.indexOf(n[0])===-1);case L.ACK:case L.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class jd{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=Od(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Fd=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qo,Encoder:Ld,get PacketType(){return L},protocol:Ad},Symbol.toStringTag,{value:"Module"}));function Ee(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Id=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vc extends ie{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ee(t,"open",this.onopen.bind(this)),Ee(t,"packet",this.onpacket.bind(this)),Ee(t,"error",this.onerror.bind(this)),Ee(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){if(Id.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const r={type:L.EVENT,data:n};if(r.options={},r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const a=this.ids++,u=n.pop();this._registerAckCallback(a,u),r.id=a}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(t,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[t]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},i),a=(...u)=>{this.io.clearTimeoutFn(o),n.apply(this,u)};a.withError=!0,this.acks[t]=a}emitWithAck(t,...n){return new Promise((r,i)=>{const o=(a,u)=>a?i(a):r(u);o.withError=!0,n.push(o),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:L.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case L.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case L.EVENT:case L.BINARY_EVENT:this.onevent(t);break;case L.ACK:case L.BINARY_ACK:this.onack(t);break;case L.DISCONNECT:this.ondisconnect();break;case L.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:L.ACK,id:t,data:i}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:L.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function Vt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Vt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};Vt.prototype.reset=function(){this.attempts=0};Vt.prototype.setMin=function(e){this.ms=e};Vt.prototype.setMax=function(e){this.max=e};Vt.prototype.setJitter=function(e){this.jitter=e};class _o extends ie{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,$r(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new Vt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const i=n.parser||Fd;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new yc(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=Ee(n,"open",function(){r.onopen(),t&&t()}),o=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},a=Ee(n,"error",o);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(i),this.subs.push(a),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ee(t,"ping",this.onping.bind(this)),Ee(t,"data",this.ondata.bind(this)),Ee(t,"error",this.onerror.bind(this)),Ee(t,"close",this.onclose.bind(this)),Ee(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Eo(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new vc(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const an={};function Zn(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Pd(e,t.path||"/socket.io"),r=n.source,i=n.id,o=n.path,a=an[i]&&o in an[i].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||a;let d;return u?d=new _o(r,t):(an[i]||(an[i]=new _o(r,t)),d=an[i]),n.query&&!t.query&&(t.query=n.queryKey),d.socket(n.path,t)}Object.assign(Zn,{Manager:_o,Socket:vc,io:Zn,connect:Zn});class Wd extends Error{type="HandlerNotFoundError";constructor(t){const n=`Handler not found for key ${t}`;super(n)}}class $d extends Error{type="UnhandledHandlerError";originalError;constructor(t,n){super(`Unhandled error in handler '${t}': ${n.message}`),this.name="UnhandledHandlerError",this.originalError=n,this.stack=n.stack}}class Qr{#e=new Map;get size(){return this.#e.size}register(t,n){return this.#e.set(t,n),{dispose:()=>{this.#e.delete(t)}}}has(t){return this.#e.has(t)}async handle(t,...n){const r=this.#e.get(t);if(!r)throw new Wd(t);try{return await r(...n)}catch(i){throw new $d(t,Bd(i))}}dispose(){this.#e.clear()}}function Bd(e){return e instanceof Error?e:typeof e=="string"?new Error(e):new Error("Unknown error")}var le=[];for(var Yr=0;Yr<256;++Yr)le.push((Yr+256).toString(16).slice(1));function Hd(e,t=0){return(le[e[t+0]]+le[e[t+1]]+le[e[t+2]]+le[e[t+3]]+"-"+le[e[t+4]]+le[e[t+5]]+"-"+le[e[t+6]]+le[e[t+7]]+"-"+le[e[t+8]]+le[e[t+9]]+"-"+le[e[t+10]]+le[e[t+11]]+le[e[t+12]]+le[e[t+13]]+le[e[t+14]]+le[e[t+15]]).toLowerCase()}var Yn,Ud=new Uint8Array(16);function zd(){if(!Yn&&(Yn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yn(Ud)}var xd=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Ca={randomUUID:xd};function Vd(e,t,n){if(Ca.randomUUID&&!t&&!e)return Ca.randomUUID();e=e||{};var r=e.random||(e.rng||zd)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Hd(r)}const Jd=()=>Vd(),Xd=1e4,Kr="notification",Gr="request",Zr="response";class Qd{#e=new Qr;#n=new Qr;#r=new Qr;#t;constructor(t){this.#t=t,this.#a()}async sendNotification(t,n){this.#t.emit(Kr,{type:t,payload:n})}sendRequest(t,n){const r=Jd();let i;return new Promise((o,a)=>{const u=this.#r.register(r,d=>{o(d),clearTimeout(i),u.dispose()});i=setTimeout(()=>{u.dispose(),a(new Error("Request timed out"))},Xd),this.#t.emit(Gr,{requestId:r,type:t,payload:n})})}onNotification(t,n){return this.#e.register(t,n)}onRequest(t,n){return this.#n.register(t,n)}dispose(){this.#t.off(Kr,this.#i),this.#t.off(Gr,this.#o),this.#t.off(Zr,this.#s),this.#e.dispose(),this.#n.dispose(),this.#r.dispose()}#a=()=>{this.#t.on(Kr,this.#i),this.#t.on(Gr,this.#o),this.#t.on(Zr,this.#s)};#i=async t=>{await this.#e.handle(t.type,t.payload)};#o=async t=>{const n=await this.#n.handle(t.event,t.payload);this.#t.emit(Zr,{requestId:t.requestId,payload:n})};#s=async t=>{await this.#r.handle(t.requestId,t.payload)}}const Yd=e=>`/webview/${e}`;class Kd{name="SocketIoMessageBusProvider";getMessageBus(t){if(!t)return null;const n=Yd(t),r=Zn(n);return new Qd(r)}}const Gd=e=>!e||typeof e!="object"?!1:!!("host"in e&&e.host);class Zd{name="HostApplicationMessageBusProvider";getMessageBus(){return"gitlab"in window&&Gd(window.gitlab)?window.gitlab.host:null}}const ef=()=>{const e=new Zd,t=new Kd;return[e,t]};function tf(e){const{webviewId:t}=e,n=e.logger||new Tc,r=e.providers||ef();for(const i of r){const o=nf(t,i,n);if(o)return rf(o,n),o}throw new Error(`Unable to resolve a message bus for webviewId: ${t}`)}function nf(e,t,n){try{n.debug(`Trying to resolve message bus from provider: ${t.name}`);const r=t.getMessageBus(e);return n.debug(`Message bus resolved from provider: ${t.name}`),r}catch(r){return n.debug("Failed to resolve message bus",r),null}}function rf(e,t){e.onNotification(Pc,n=>{if(!kc(n)){t.warn(`Invalid theme format: ${JSON.stringify(n)}`);return}Object.entries(n.styles).forEach(([r,i])=>{document.documentElement.style.setProperty(r,i)})})}const of="chat",sf="GitLab: Duo Chat",af={id:of,title:sf,setup:({webview:e})=>{e.onInstanceConnected((t,n)=>{n.sendNotification("newUserPrompt",{prompt:"This is a new prompt"})})}};tf({webviewId:af.id});const cf=new Rc,uf=new Dc,Br=document.createElement("input");Br.type="number";Br.placeholder="Enter a number";const Oo=document.createElement("button");Oo.textContent="Calculate";Oo.addEventListener("click",()=>{const e=parseInt(Br.value,10);isNaN(e)?alert("Please enter a valid number"):df(e)});const lf=[{name:"Simple solver",solver:cf},{name:"Fast solver",solver:uf}];function df(e){lf.map(({name:n,solver:r})=>{const i=performance.now(),o=r.solve(e),a=performance.now()-i;return{name:n,result:o,duration:a}}).forEach(({name:n,result:r,duration:i})=>{alert(`${n}: Fibonacci of ${e} is ${r} (calculated in ${i.toFixed(2)} ms)`)})}document.body.appendChild(Br);document.body.appendChild(Oo);
