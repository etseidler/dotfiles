"use strict";var eI=Object.create;var ai=Object.defineProperty;var tI=Object.getOwnPropertyDescriptor;var nI=Object.getOwnPropertyNames;var rI=Object.getPrototypeOf,oI=Object.prototype.hasOwnProperty;var iI=(e,t,n)=>t in e?ai(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var r=(e,t)=>ai(e,"name",{value:t,configurable:!0});var z=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Su=(e,t)=>{for(var n in t)ai(e,n,{get:t[n],enumerable:!0})},sI=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nI(t))!oI.call(e,i)&&i!==n&&ai(e,i,{get:()=>t[i],enumerable:!(o=tI(t,i))||o.enumerable});return e};var Dn=(e,t,n)=>(n=e!=null?eI(rI(e)):{},sI(t||!e||!e.__esModule?ai(n,"default",{value:e,enumerable:!0}):n,e));var Jn=(e,t,n)=>iI(e,typeof t!="symbol"?t+"":t,n);var Tp=z(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.bytePairEncode=Sn.BinaryMap=Sn.binaryMapKey=void 0;var II=r((e,t,n)=>{let o=n-t,i=16777215>>>Math.max(0,(3-o)*8),u=(e[t+0]|e[t+1]<<8|e[t+2]<<16)&i,s=16777215>>>Math.min(31,Math.max(0,(6-o)*8)),a=(e[t+3]|e[t+4]<<8|e[t+5]<<16)&s;return u+16777216*a},"binaryMapKey");Sn.binaryMapKey=II;var mi=class mi{constructor(){this.nested=new Map,this.final=new Map}get(t,n=0,o=t.length){var s;let i=o<6+n,u=(0,Sn.binaryMapKey)(t,n,o);return i?this.final.get(u):(s=this.nested.get(u))==null?void 0:s.get(t,6+n,o)}set(t,n){let o=(0,Sn.binaryMapKey)(t,0,t.length);if(t.length<6){this.final.set(o,n);return}let u=this.nested.get(o);if(u instanceof mi)u.set(t.subarray(6),n);else{let s=new mi;s.set(t.subarray(6),n),this.nested.set(o,s)}}};r(mi,"BinaryMap");var Hu=mi;Sn.BinaryMap=Hu;var xn=new Int32Array(128),Et=new Int32Array(128);function xI(e,t,n){var c;if(n===1)return[t.get(e)];let o=2147483647,i=-1;for(;xn.length<n*2;)Et=new Int32Array(Et.length*2),xn=new Int32Array(xn.length*2);for(let l=0;l<n-1;l++){let f=(c=t.get(e,l,l+2))!=null?c:2147483647;f<o&&(o=f,i=l),Et[l]=l,xn[l]=f}Et[n-1]=n-1,xn[n-1]=2147483647,Et[n]=n,xn[n]=2147483647;let u=n+1;function s(l,f=0){if(l+f+2<u){let p=t.get(e,Et[l],Et[l+f+2]);if(p!==void 0)return p}return 2147483647}for(r(s,"getRank");o!==2147483647;){xn[Et[i]]=s(i,1),i>0&&(xn[Et[i-1]]=s(i-1,1));for(let l=i+1;l<u-1;l++)Et[l]=Et[l+1];u--,i=-1,o=2147483647;for(let l=0;l<u-1;l++){let f=xn[Et[l]];xn[Et[l]]<o&&(o=f,i=l)}}let a=[];for(let l=0;l<u-1;l++)a.push(t.get(e,Et[l],Et[l+1]));return a}r(xI,"bytePairEncode");Sn.bytePairEncode=xI});var Ep=z(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.makeTextEncoder=void 0;var Ju=class Ju{constructor(){this.length=0,this.encoder=new TextEncoder}encode(t){let n=this.encoder.encode(t);return this.length=n.length,n}};r(Ju,"UniversalTextEncoder");var Zu=Ju,Xu=class Xu{constructor(){this.buffer=Buffer.alloc(256),this.length=0}encode(t){for(;;){if(this.length=this.buffer.write(t,"utf8"),this.length<this.buffer.length-4)return this.buffer;this.buffer=Buffer.alloc(this.length*2),this.length=this.buffer.write(t)}}};r(Xu,"NodeTextEncoder");var Qu=Xu,SI=r(()=>typeof Buffer<"u"?new Qu:new Zu,"makeTextEncoder");Ts.makeTextEncoder=SI});var Rp=z(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.LRUCache=void 0;var tc=class tc{constructor(t){this.size=t,this.nodes=new Map}get(t){let n=this.nodes.get(t);if(n)return this.moveToHead(n),n.value}set(t,n){let o=this.nodes.get(t);if(o)o.value=n,this.moveToHead(o);else{let i=new ec(t,n);this.nodes.set(t,i),this.addNode(i),this.nodes.size>this.size&&(this.nodes.delete(this.tail.key),this.removeNode(this.tail))}}moveToHead(t){this.removeNode(t),t.next=void 0,t.prev=void 0,this.addNode(t)}addNode(t){this.head&&(this.head.prev=t,t.next=this.head),this.tail||(this.tail=t),this.head=t}removeNode(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev}};r(tc,"LRUCache");var Yu=tc;Es.LRUCache=Yu;var nc=class nc{constructor(t,n){this.key=t,this.value=n}};r(nc,"Node");var ec=nc});var ic=z(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.TikTokenizer=void 0;var TI=require("fs"),EI=require("util"),Rs=Tp(),RI=Ep(),PI=Rp();function kI(e){let t=new Map;try{let o=TI.readFileSync(e,"utf-8");return n(o),t}catch(o){throw new Error(`Failed to load from BPE encoder file stream: ${o}`)}function n(o){for(let i of o.split(/[\r\n]+/)){if(i.trim()==="")continue;let u=i.split(" ");if(u.length!==2)throw new Error("Invalid format in the BPE encoder file stream");let s=new Uint8Array(Buffer.from(u[0],"base64")),a=parseInt(u[1]);if(!isNaN(a))t.set(s,a);else throw new Error(`Can't parse ${u[1]} to integer`)}}r(n,"processBpeRanks")}r(kI,"loadTikTokenBpe");function MI(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(MI,"escapeRegExp");var oc=class oc{constructor(t,n,o,i=8192){this.textEncoder=(0,RI.makeTextEncoder)(),this.textDecoder=new EI.TextDecoder("utf-8"),this.cache=new PI.LRUCache(i);let u=typeof t=="string"?kI(t):t;this.init(u,n,o)}init(t,n,o){this.encoder=new Rs.BinaryMap;for(let[i,u]of t)this.encoder.set(i,u);this.regex=new RegExp(o,"gu"),this.specialTokensRegex=new RegExp(Array.from(n.keys()).map(i=>MI(i)).join("|")),this.specialTokensEncoder=n,this.decoder=new Map;for(let[i,u]of t)this.decoder.set(u,i);if(t.size!==this.decoder.size)throw new Error("Encoder and decoder sizes do not match");this.specialTokensDecoder=new Map;for(let[i,u]of n)this.specialTokensDecoder.set(u,i)}findNextSpecialToken(t,n,o){let i=n,u=null;if(o&&this.specialTokensRegex)for(;u=t.slice(i).match(this.specialTokensRegex),!(!u||o&&o.includes(u[0]));)i+=u.index+1;let s=u?i+u.index:t.length;return[u,s]}encode(t,n){let o=[],i=0;for(;;){let u,s;if([u,s]=this.findNextSpecialToken(t,i,n),s>i&&this.encodeByIndex(t,o,i,s),u){if(i=i+this.encodeSpecialToken(o,u),i>=t.length)break}else break}return o}encodeSpecialToken(t,n){var i;let o=(i=this.specialTokensEncoder)==null?void 0:i.get(n[0]);return t.push(o),n.index+n[0].length}encodeByIndex(t,n,o,i){let u,s=t.substring(o,i);for(this.regex.lastIndex=0;u=this.regex.exec(s);){let a=this.cache.get(u[0]);if(a)for(let c of a)n.push(c);else{let c=this.textEncoder.encode(u[0]),l=this.encoder.get(c,0,this.textEncoder.length);if(l!==void 0)n.push(l),this.cache.set(u[0],[l]);else{let f=(0,Rs.bytePairEncode)(c,this.encoder,this.textEncoder.length);for(let p of f)n.push(p);this.cache.set(u[0],f)}}}}encodeTrimSuffixByIndex(t,n,o,i,u,s,a){let c,l=t.substring(o,i);for(this.regex.lastIndex=0;c=this.regex.exec(l);){let f=c[0],p=this.cache.get(f);if(p)if(s+p.length<=u)s+=p.length,a+=f.length,n.push(...p);else{let h=u-s;s+=h,a+=f.length,n.push(...p.slice(0,h));break}else{let h=this.textEncoder.encode(f),y=this.encoder.get(h,0,h.length);if(y!==void 0)if(this.cache.set(f,[y]),s+1<=u)s++,a+=f.length,n.push(y);else break;else{let x=(0,Rs.bytePairEncode)(h,this.encoder,this.textEncoder.length);if(this.cache.set(f,x),s+x.length<=u){s+=x.length,a+=f.length;for(let S of x)n.push(S)}else{let S=u-s;s+=S,a+=f.length;for(let N=0;N<S;N++)n.push(x[N]);break}}}if(s>=u)break}return{tokenCount:s,encodeLength:a}}encodeTrimSuffix(t,n,o){let i=[],u=0,s=0,a=0;for(;;){let l,f;if([l,f]=this.findNextSpecialToken(t,u,o),f>u){let{tokenCount:p,encodeLength:h}=this.encodeTrimSuffixByIndex(t,i,u,f,n,s,a);if(s=p,a=h,s>=n)break}if(l!==null){if(s++,s<=n&&(u=u+this.encodeSpecialToken(i,l),a+=l[0].length,u>=t.length)||s>=n)break}else break}let c=a===t.length?t:t.slice(0,a);return{tokenIds:i,text:c}}encodeTrimPrefix(t,n,o){let i=[],u=0,s=0,a=0,c=new Map;for(c.set(s,a);;){let h,y;if([h,y]=this.findNextSpecialToken(t,u,o),y>u){let x,S=t.substring(u,y);for(this.regex.lastIndex=0;x=this.regex.exec(S);){let N=x[0],R=this.cache.get(N);if(R)s+=R.length,a+=N.length,i.push(...R),c.set(s,a);else{let B=this.textEncoder.encode(N),A=this.encoder.get(B);if(A!==void 0)this.cache.set(N,[A]),s++,a+=N.length,i.push(A),c.set(s,a);else{let K=(0,Rs.bytePairEncode)(B,this.encoder,this.textEncoder.length);this.cache.set(N,K),s+=K.length,a+=N.length;for(let q of K)i.push(q);c.set(s,a)}}}}if(h!==null){if(u=u+this.encodeSpecialToken(i,h),s++,a+=h[0].length,c.set(s,a),u>=t.length)break}else break}if(s<=n)return{tokenIds:i,text:t};let l=s-n,f=0,p=0;for(let[h,y]of c)if(h>=l){f=h,p=y;break}if(f>n){let h=this.encode(t,o),y=h.slice(h.length-n);return{tokenIds:y,text:this.decode(y)}}return{tokenIds:i.slice(f),text:t.slice(p)}}decode(t){var o,i;let n=[];for(let u of t){let s=[],a=(o=this.decoder)==null?void 0:o.get(u);if(a!==void 0)s=Array.from(a);else{let c=(i=this.specialTokensDecoder)==null?void 0:i.get(u);if(c!==void 0){let l=this.textEncoder.encode(c);s=Array.from(l.subarray(0,this.textEncoder.length))}}n.push(...s)}return this.textDecoder.decode(new Uint8Array(n))}};r(oc,"TikTokenizer");var rc=oc;Ps.TikTokenizer=rc});var Dp=z(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.createTokenizer=Ye.createByEncoderName=Ye.createByModelName=Ye.getRegexByModel=Ye.getRegexByEncoder=Ye.getSpecialTokensByModel=Ye.getSpecialTokensByEncoder=Ye.MODEL_TO_ENCODING=void 0;var Ms=require("fs"),sc=require("path"),NI=ic(),CI=new Map([["gpt-4o-","o200k_base"],["gpt-4-","cl100k_base"],["gpt-3.5-turbo-","cl100k_base"],["gpt-35-turbo-","cl100k_base"]]);Ye.MODEL_TO_ENCODING=new Map([["gpt-4o","o200k_base"],["gpt-4","cl100k_base"],["gpt-3.5-turbo","cl100k_base"],["text-davinci-003","p50k_base"],["text-davinci-002","p50k_base"],["text-davinci-001","r50k_base"],["text-curie-001","r50k_base"],["text-babbage-001","r50k_base"],["text-ada-001","r50k_base"],["davinci","r50k_base"],["curie","r50k_base"],["babbage","r50k_base"],["ada","r50k_base"],["code-davinci-002","p50k_base"],["code-davinci-001","p50k_base"],["code-cushman-002","p50k_base"],["code-cushman-001","p50k_base"],["davinci-codex","p50k_base"],["cushman-codex","p50k_base"],["text-davinci-edit-001","p50k_edit"],["code-davinci-edit-001","p50k_edit"],["text-embedding-ada-002","cl100k_base"],["text-similarity-davinci-001","r50k_base"],["text-similarity-curie-001","r50k_base"],["text-similarity-babbage-001","r50k_base"],["text-similarity-ada-001","r50k_base"],["text-search-davinci-doc-001","r50k_base"],["text-search-curie-doc-001","r50k_base"],["text-search-babbage-doc-001","r50k_base"],["text-search-ada-doc-001","r50k_base"],["code-search-babbage-code-001","r50k_base"],["code-search-ada-code-001","r50k_base"],["gpt2","gpt2"]]);var ks="<|endoftext|>",Pp="<|fim_prefix|>",kp="<|fim_middle|>",Mp="<|fim_suffix|>",Np="<|endofprompt|>",pi="'s|'t|'re|'ve|'m|'ll|'d| ?\\p{L}+| ?\\p{N}+| ?[^\\s\\p{L}\\p{N}]+|\\s+(?!\\S)|\\s+",Cp="(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)|[^\\r\\n\\p{L}\\p{N}]?\\p{L}+|\\p{N}{1,3}| ?[^\\s\\p{L}\\p{N}]+[\\r\\n]*|\\s*[\\r\\n]+|\\s+(?!\\S)|\\s+",LI=[`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]*[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]+(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,`[^\r
\\p{L}\\p{N}]?[\\p{Lu}\\p{Lt}\\p{Lm}\\p{Lo}\\p{M}]+[\\p{Ll}\\p{Lm}\\p{Lo}\\p{M}]*(?:'s|'S|'t|'T|'re|'RE|'Re|'eR|'ve|'VE|'vE|'Ve|'m|'M|'ll|'lL|'Ll|'LL|'d|'D)?`,"\\p{N}{1,3}"," ?[^\\s\\p{L}\\p{N}]+[\\r\\n/]*","\\s*[\\r\\n]+","\\s+(?!\\S)","\\s+"],Lp=LI.join("|");function ac(e){let t="";if(Ye.MODEL_TO_ENCODING.has(e))t=Ye.MODEL_TO_ENCODING.get(e);else for(let[n,o]of CI)if(e.startsWith(n)){t=o;break}return t}r(ac,"getEncoderFromModelName");async function OI(e,t){let n=await fetch(e);if(!n.ok)throw new Error(`Failed to fetch file from ${e}. Status code: ${n.status}`);let o=await n.text();Ms.writeFileSync(t,o)}r(OI,"fetchAndSaveFile");function uc(e){let t=new Map([[ks,50256]]);switch(e){case"o200k_base":t=new Map([[ks,199999],[Np,200018]]);break;case"cl100k_base":t=new Map([[ks,100257],[Pp,100258],[kp,100259],[Mp,100260],[Np,100276]]);break;case"p50k_edit":t=new Map([[ks,50256],[Pp,50281],[kp,50282],[Mp,50283]]);break;default:break}return t}r(uc,"getSpecialTokensByEncoder");Ye.getSpecialTokensByEncoder=uc;function FI(e){let t=ac(e);return uc(t)}r(FI,"getSpecialTokensByModel");Ye.getSpecialTokensByModel=FI;function Op(e){switch(e){case"o200k_base":return Lp;case"cl100k_base":return Cp;default:break}return pi}r(Op,"getRegexByEncoder");Ye.getRegexByEncoder=Op;function AI(e){let t=ac(e);return Op(t)}r(AI,"getRegexByModel");Ye.getRegexByModel=AI;async function DI(e,t=null){return Fp(ac(e),t)}r(DI,"createByModelName");Ye.createByModelName=DI;async function Fp(e,t=null){let n,o,i=uc(e);switch(e){case"o200k_base":n=Lp,o="https://openaipublic.blob.core.windows.net/encodings/o200k_base.tiktoken";break;case"cl100k_base":n=Cp,o="https://openaipublic.blob.core.windows.net/encodings/cl100k_base.tiktoken";break;case"p50k_base":n=pi,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"p50k_edit":n=pi,o="https://openaipublic.blob.core.windows.net/encodings/p50k_base.tiktoken";break;case"r50k_base":n=pi,o="https://openaipublic.blob.core.windows.net/encodings/r50k_base.tiktoken";break;case"gpt2":n=pi,o="https://raw.githubusercontent.com/microsoft/Tokenizer/main/model/gpt2.tiktoken";break;default:throw new Error(`Doesn't support this encoder [${e}]`)}t!==null&&(i=new Map([...i,...t]));let u=sc.basename(o),s=sc.resolve(__dirname,"..","model");Ms.existsSync(s)||Ms.mkdirSync(s,{recursive:!0});let a=sc.resolve(s,u);return Ms.existsSync(a)||(console.log(`Downloading file from ${o}`),await OI(o,a),console.log(`Saved file to ${a}`)),Ap(a,i,n)}r(Fp,"createByEncoderName");Ye.createByEncoderName=Fp;function Ap(e,t,n,o=8192){return new NI.TikTokenizer(e,t,n,o)}r(Ap,"createTokenizer");Ye.createTokenizer=Ap});var jp=z(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.createTokenizer=et.createByEncoderName=et.createByModelName=et.getSpecialTokensByModel=et.getSpecialTokensByEncoder=et.getRegexByModel=et.getRegexByEncoder=et.MODEL_TO_ENCODING=et.TikTokenizer=void 0;var jI=ic();Object.defineProperty(et,"TikTokenizer",{enumerable:!0,get:r(function(){return jI.TikTokenizer},"get")});var Yn=Dp();Object.defineProperty(et,"MODEL_TO_ENCODING",{enumerable:!0,get:r(function(){return Yn.MODEL_TO_ENCODING},"get")});Object.defineProperty(et,"getRegexByEncoder",{enumerable:!0,get:r(function(){return Yn.getRegexByEncoder},"get")});Object.defineProperty(et,"getRegexByModel",{enumerable:!0,get:r(function(){return Yn.getRegexByModel},"get")});Object.defineProperty(et,"getSpecialTokensByEncoder",{enumerable:!0,get:r(function(){return Yn.getSpecialTokensByEncoder},"get")});Object.defineProperty(et,"getSpecialTokensByModel",{enumerable:!0,get:r(function(){return Yn.getSpecialTokensByModel},"get")});Object.defineProperty(et,"createByModelName",{enumerable:!0,get:r(function(){return Yn.createByModelName},"get")});Object.defineProperty(et,"createByEncoderName",{enumerable:!0,get:r(function(){return Yn.createByEncoderName},"get")});Object.defineProperty(et,"createTokenizer",{enumerable:!0,get:r(function(){return Yn.createTokenizer},"get")})});var Hp=z((exports,module)=>{var Module=Module!==void 0?Module:{},TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;let _Parser=class _Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=r((s,a)=>{throw a},"quit_"),ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",scriptDirectory="",read_,readAsync,readBinary,setWindowTitle;function locateFile(s){return Module.locateFile?Module.locateFile(s,scriptDirectory):scriptDirectory+s}r(locateFile,"locateFile");function logExceptionOnExit(s){s instanceof ExitStatus||err("exiting due to exception: "+s)}if(r(logExceptionOnExit,"logExceptionOnExit"),ENVIRONMENT_IS_NODE){var fs=require("fs"),nodePath=require("path");scriptDirectory=ENVIRONMENT_IS_WORKER?nodePath.dirname(scriptDirectory)+"/":__dirname+"/",read_=r((s,a)=>(s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFileSync(s,a?void 0:"utf8")),"read_"),readBinary=r(s=>{var a=read_(s,!0);return a.buffer||(a=new Uint8Array(a)),a},"readBinary"),readAsync=r((s,a,c)=>{s=isFileURI(s)?new URL(s):nodePath.normalize(s),fs.readFile(s,function(l,f){l?c(l):a(f.buffer)})},"readAsync"),process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),typeof module<"u"&&(module.exports=Module),quit_=r((s,a)=>{if(keepRuntimeAlive())throw process.exitCode=s,a;logExceptionOnExit(a),process.exit(s)},"quit_"),Module.inspect=function(){return"[Emscripten Module object]"}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:document!==void 0&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory=scriptDirectory.indexOf("blob:")!==0?scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1):"",read_=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.send(null),a.responseText},"read_"),ENVIRONMENT_IS_WORKER&&(readBinary=r(s=>{var a=new XMLHttpRequest;return a.open("GET",s,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)},"readBinary")),readAsync=r((s,a,c)=>{var l=new XMLHttpRequest;l.open("GET",s,!0),l.responseType="arraybuffer",l.onload=()=>{l.status==200||l.status==0&&l.response?a(l.response):c()},l.onerror=c,l.send(null)},"readAsync"),setWindowTitle=r(s=>document.title=s,"setWindowTitle"));var out=Module.print||console.log.bind(console),err=Module.printErr||console.warn.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var STACK_ALIGN=16,dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var noExitRuntime=Module.noExitRuntime||!0,wasmMemory;typeof WebAssembly!="object"&&abort("no native wasm support detected");var ABORT=!1,EXITSTATUS,UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,buffer,HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function UTF8ArrayToString(s,a,c){for(var l=a+c,f=a;s[f]&&!(f>=l);)++f;if(f-a>16&&s.buffer&&UTF8Decoder)return UTF8Decoder.decode(s.subarray(a,f));for(var p="";a<f;){var h=s[a++];if(128&h){var y=63&s[a++];if((224&h)!=192){var x=63&s[a++];if((h=(240&h)==224?(15&h)<<12|y<<6|x:(7&h)<<18|y<<12|x<<6|63&s[a++])<65536)p+=String.fromCharCode(h);else{var S=h-65536;p+=String.fromCharCode(55296|S>>10,56320|1023&S)}}else p+=String.fromCharCode((31&h)<<6|y)}else p+=String.fromCharCode(h)}return p}r(UTF8ArrayToString,"UTF8ArrayToString");function UTF8ToString(s,a){return s?UTF8ArrayToString(HEAPU8,s,a):""}r(UTF8ToString,"UTF8ToString");function stringToUTF8Array(s,a,c,l){if(!(l>0))return 0;for(var f=c,p=c+l-1,h=0;h<s.length;++h){var y=s.charCodeAt(h);if(y>=55296&&y<=57343&&(y=65536+((1023&y)<<10)|1023&s.charCodeAt(++h)),y<=127){if(c>=p)break;a[c++]=y}else if(y<=2047){if(c+1>=p)break;a[c++]=192|y>>6,a[c++]=128|63&y}else if(y<=65535){if(c+2>=p)break;a[c++]=224|y>>12,a[c++]=128|y>>6&63,a[c++]=128|63&y}else{if(c+3>=p)break;a[c++]=240|y>>18,a[c++]=128|y>>12&63,a[c++]=128|y>>6&63,a[c++]=128|63&y}}return a[c]=0,c-f}r(stringToUTF8Array,"stringToUTF8Array");function stringToUTF8(s,a,c){return stringToUTF8Array(s,HEAPU8,a,c)}r(stringToUTF8,"stringToUTF8");function lengthBytesUTF8(s){for(var a=0,c=0;c<s.length;++c){var l=s.charCodeAt(c);l<=127?a++:l<=2047?a+=2:l>=55296&&l<=57343?(a+=4,++c):a+=3}return a}r(lengthBytesUTF8,"lengthBytesUTF8");function updateGlobalBufferAndViews(s){buffer=s,Module.HEAP8=HEAP8=new Int8Array(s),Module.HEAP16=HEAP16=new Int16Array(s),Module.HEAP32=HEAP32=new Int32Array(s),Module.HEAPU8=HEAPU8=new Uint8Array(s),Module.HEAPU16=HEAPU16=new Uint16Array(s),Module.HEAPU32=HEAPU32=new Uint32Array(s),Module.HEAPF32=HEAPF32=new Float32Array(s),Module.HEAPF64=HEAPF64=new Float64Array(s)}r(updateGlobalBufferAndViews,"updateGlobalBufferAndViews");var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=Module.wasmMemory?Module.wasmMemory:new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:32768}),wasmMemory&&(buffer=wasmMemory.buffer),INITIAL_MEMORY=buffer.byteLength,updateGlobalBufferAndViews(buffer);var wasmTable=new WebAssembly.Table({initial:20,element:"anyfunc"}),__ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function keepRuntimeAlive(){return noExitRuntime}r(keepRuntimeAlive,"keepRuntimeAlive");function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}r(preRun,"preRun");function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}r(initRuntime,"initRuntime");function preMain(){callRuntimeCallbacks(__ATMAIN__)}r(preMain,"preMain");function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}r(postRun,"postRun");function addOnPreRun(s){__ATPRERUN__.unshift(s)}r(addOnPreRun,"addOnPreRun");function addOnInit(s){__ATINIT__.unshift(s)}r(addOnInit,"addOnInit");function addOnPostRun(s){__ATPOSTRUN__.unshift(s)}r(addOnPostRun,"addOnPostRun");var runDependencies=0,runDependencyWatcher=null,dependenciesFulfilled=null;function addRunDependency(s){runDependencies++,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies)}r(addRunDependency,"addRunDependency");function removeRunDependency(s){if(runDependencies--,Module.monitorRunDependencies&&Module.monitorRunDependencies(runDependencies),runDependencies==0&&(runDependencyWatcher!==null&&(clearInterval(runDependencyWatcher),runDependencyWatcher=null),dependenciesFulfilled)){var a=dependenciesFulfilled;dependenciesFulfilled=null,a()}}r(removeRunDependency,"removeRunDependency");function abort(s){throw Module.onAbort&&Module.onAbort(s),err(s="Aborted("+s+")"),ABORT=!0,EXITSTATUS=1,s+=". Build with -sASSERTIONS for more info.",new WebAssembly.RuntimeError(s)}r(abort,"abort");var dataURIPrefix="data:application/octet-stream;base64,",wasmBinaryFile,tempDouble,tempI64;function isDataURI(s){return s.startsWith(dataURIPrefix)}r(isDataURI,"isDataURI");function isFileURI(s){return s.startsWith("file://")}r(isFileURI,"isFileURI");function getBinary(s){try{if(s==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(s);throw"both async and sync fetching of the wasm failed"}catch(a){abort(a)}}r(getBinary,"getBinary");function getBinaryPromise(){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"&&!isFileURI(wasmBinaryFile))return fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(s){if(!s.ok)throw"failed to load wasm binary file at '"+wasmBinaryFile+"'";return s.arrayBuffer()}).catch(function(){return getBinary(wasmBinaryFile)});if(readAsync)return new Promise(function(s,a){readAsync(wasmBinaryFile,function(c){s(new Uint8Array(c))},a)})}return Promise.resolve().then(function(){return getBinary(wasmBinaryFile)})}r(getBinaryPromise,"getBinaryPromise");function createWasm(){var s={env:asmLibraryArg,wasi_snapshot_preview1:asmLibraryArg,"GOT.mem":new Proxy(asmLibraryArg,GOTHandler),"GOT.func":new Proxy(asmLibraryArg,GOTHandler)};function a(f,p){var h=f.exports;h=relocateExports(h,1024);var y=getDylinkMetadata(p);y.neededDynlibs&&(dynamicLibraries=y.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(h,"main"),Module.asm=h,addOnInit(Module.asm.__wasm_call_ctors),__RELOC_FUNCS__.push(Module.asm.__wasm_apply_data_relocs),removeRunDependency("wasm-instantiate")}r(a,"t");function c(f){a(f.instance,f.module)}r(c,"r");function l(f){return getBinaryPromise().then(function(p){return WebAssembly.instantiate(p,s)}).then(function(p){return p}).then(f,function(p){err("failed to asynchronously prepare wasm: "+p),abort(p)})}if(r(l,"_"),addRunDependency("wasm-instantiate"),Module.instantiateWasm)try{return Module.instantiateWasm(s,a)}catch(f){return err("Module.instantiateWasm callback failed with error: "+f),!1}return wasmBinary||typeof WebAssembly.instantiateStreaming!="function"||isDataURI(wasmBinaryFile)||isFileURI(wasmBinaryFile)||ENVIRONMENT_IS_NODE||typeof fetch!="function"?l(c):fetch(wasmBinaryFile,{credentials:"same-origin"}).then(function(f){return WebAssembly.instantiateStreaming(f,s).then(c,function(p){return err("wasm streaming compile failed: "+p),err("falling back to ArrayBuffer instantiation"),l(c)})}),{}}r(createWasm,"createWasm"),wasmBinaryFile="tree-sitter.wasm",isDataURI(wasmBinaryFile)||(wasmBinaryFile=locateFile(wasmBinaryFile));var ASM_CONSTS={};function ExitStatus(s){this.name="ExitStatus",this.message="Program terminated with exit("+s+")",this.status=s}r(ExitStatus,"ExitStatus");var GOT={},CurrentModuleWeakSymbols=new Set([]),GOTHandler={get:r(function(s,a){var c=GOT[a];return c||(c=GOT[a]=new WebAssembly.Global({value:"i32",mutable:!0})),CurrentModuleWeakSymbols.has(a)||(c.required=!0),c},"get")};function callRuntimeCallbacks(s){for(;s.length>0;)s.shift()(Module)}r(callRuntimeCallbacks,"callRuntimeCallbacks");function getDylinkMetadata(s){var a=0,c=0;function l(){for(var Q=0,D=1;;){var te=s[a++];if(Q+=(127&te)*D,D*=128,!(128&te))break}return Q}r(l,"_");function f(){var Q=l();return UTF8ArrayToString(s,(a+=Q)-Q,Q)}r(f,"n");function p(Q,D){if(Q)throw new Error(D)}r(p,"s");var h="dylink.0";if(s instanceof WebAssembly.Module){var y=WebAssembly.Module.customSections(s,h);y.length===0&&(h="dylink",y=WebAssembly.Module.customSections(s,h)),p(y.length===0,"need dylink section"),c=(s=new Uint8Array(y[0])).length}else{p(new Uint32Array(new Uint8Array(s.subarray(0,24)).buffer)[0]!=1836278016,"need to see wasm magic number"),p(s[8]!==0,"need the dylink section to be first"),a=9;var x=l();c=a+x,h=f()}var S={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(h=="dylink"){S.memorySize=l(),S.memoryAlign=l(),S.tableSize=l(),S.tableAlign=l();for(var N=l(),R=0;R<N;++R){var B=f();S.neededDynlibs.push(B)}}else for(p(h!=="dylink.0");a<c;){var A=s[a++],K=l();if(A===1)S.memorySize=l(),S.memoryAlign=l(),S.tableSize=l(),S.tableAlign=l();else if(A===2)for(N=l(),R=0;R<N;++R)B=f(),S.neededDynlibs.push(B);else if(A===3)for(var q=l();q--;){var J=f();256&l()&&S.tlsExports.add(J)}else if(A===4)for(q=l();q--;)f(),J=f(),(3&l())==1&&S.weakImports.add(J);else a+=K}return S}r(getDylinkMetadata,"getDylinkMetadata");function getValue(s,a="i8"){switch(a.endsWith("*")&&(a="*"),a){case"i1":case"i8":return HEAP8[s>>0];case"i16":return HEAP16[s>>1];case"i32":case"i64":return HEAP32[s>>2];case"float":return HEAPF32[s>>2];case"double":return HEAPF64[s>>3];case"*":return HEAPU32[s>>2];default:abort("invalid type for getValue: "+a)}return null}r(getValue,"getValue");function asmjsMangle(s){return s.indexOf("dynCall_")==0||["stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0"].includes(s)?s:"_"+s}r(asmjsMangle,"asmjsMangle");function mergeLibSymbols(s,a){for(var c in s)if(s.hasOwnProperty(c)){asmLibraryArg.hasOwnProperty(c)||(asmLibraryArg[c]=s[c]);var l=asmjsMangle(c);Module.hasOwnProperty(l)||(Module[l]=s[c]),c=="__main_argc_argv"&&(Module._main=s[c])}}r(mergeLibSymbols,"mergeLibSymbols");var LDSO={loadedLibsByName:{},loadedLibsByHandle:{}};function dynCallLegacy(s,a,c){var l=Module["dynCall_"+s];return c&&c.length?l.apply(null,[a].concat(c)):l.call(null,a)}r(dynCallLegacy,"dynCallLegacy");var wasmTableMirror=[];function getWasmTableEntry(s){var a=wasmTableMirror[s];return a||(s>=wasmTableMirror.length&&(wasmTableMirror.length=s+1),wasmTableMirror[s]=a=wasmTable.get(s)),a}r(getWasmTableEntry,"getWasmTableEntry");function dynCall(s,a,c){return s.includes("j")?dynCallLegacy(s,a,c):getWasmTableEntry(a).apply(null,c)}r(dynCall,"dynCall");function createInvokeFunction(s){return function(){var a=stackSave();try{return dynCall(s,arguments[0],Array.prototype.slice.call(arguments,1))}catch(c){if(stackRestore(a),c!==c+0)throw c;_setThrew(1,0)}}}r(createInvokeFunction,"createInvokeFunction");var ___heap_base=78144;function zeroMemory(s,a){return HEAPU8.fill(0,s,s+a),s}r(zeroMemory,"zeroMemory");function getMemory(s){if(runtimeInitialized)return zeroMemory(_malloc(s),s);var a=___heap_base,c=a+s+15&-16;return ___heap_base=c,GOT.__heap_base.value=c,a}r(getMemory,"getMemory");function isInternalSym(s){return["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm"].includes(s)}r(isInternalSym,"isInternalSym");function uleb128Encode(s,a){s<128?a.push(s):a.push(s%128|128,s>>7)}r(uleb128Encode,"uleb128Encode");function sigToWasmTypes(s){for(var a={i:"i32",j:"i32",f:"f32",d:"f64",p:"i32"},c={parameters:[],results:s[0]=="v"?[]:[a[s[0]]]},l=1;l<s.length;++l)c.parameters.push(a[s[l]]),s[l]==="j"&&c.parameters.push("i32");return c}r(sigToWasmTypes,"sigToWasmTypes");function generateFuncType(s,a){var c=s.slice(0,1),l=s.slice(1),f={i:127,p:127,j:126,f:125,d:124};a.push(96),uleb128Encode(l.length,a);for(var p=0;p<l.length;++p)a.push(f[l[p]]);c=="v"?a.push(0):a.push(1,f[c])}r(generateFuncType,"generateFuncType");function convertJsFunctionToWasm(s,a){if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(a),s);var c=[1];generateFuncType(a,c);var l=[0,97,115,109,1,0,0,0,1];uleb128Encode(c.length,l),l.push.apply(l,c),l.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var f=new WebAssembly.Module(new Uint8Array(l));return new WebAssembly.Instance(f,{e:{f:s}}).exports.f}r(convertJsFunctionToWasm,"convertJsFunctionToWasm");function updateTableMap(s,a){if(functionsInTableMap)for(var c=s;c<s+a;c++){var l=getWasmTableEntry(c);l&&functionsInTableMap.set(l,c)}}r(updateTableMap,"updateTableMap");var functionsInTableMap=void 0,freeTableIndexes=[];function getEmptyTableSlot(){if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(s){throw s instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":s}return wasmTable.length-1}r(getEmptyTableSlot,"getEmptyTableSlot");function setWasmTableEntry(s,a){wasmTable.set(s,a),wasmTableMirror[s]=wasmTable.get(s)}r(setWasmTableEntry,"setWasmTableEntry");function addFunction(s,a){if(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.has(s))return functionsInTableMap.get(s);var c=getEmptyTableSlot();try{setWasmTableEntry(c,s)}catch(l){if(!(l instanceof TypeError))throw l;setWasmTableEntry(c,convertJsFunctionToWasm(s,a))}return functionsInTableMap.set(s,c),c}r(addFunction,"addFunction");function updateGOT(s,a){for(var c in s)if(!isInternalSym(c)){var l=s[c];c.startsWith("orig$")&&(c=c.split("$")[1],a=!0),GOT[c]||(GOT[c]=new WebAssembly.Global({value:"i32",mutable:!0})),(a||GOT[c].value==0)&&(typeof l=="function"?GOT[c].value=addFunction(l):typeof l=="number"?GOT[c].value=l:err("unhandled export type for `"+c+"`: "+typeof l))}}r(updateGOT,"updateGOT");function relocateExports(s,a,c){var l={};for(var f in s){var p=s[f];typeof p=="object"&&(p=p.value),typeof p=="number"&&(p+=a),l[f]=p}return updateGOT(l,c),l}r(relocateExports,"relocateExports");function resolveGlobalSymbol(s,a){var c;return a&&(c=asmLibraryArg["orig$"+s]),c||(c=asmLibraryArg[s])&&c.stub&&(c=void 0),c||(c=Module[asmjsMangle(s)]),!c&&s.startsWith("invoke_")&&(c=createInvokeFunction(s.split("_")[1])),c}r(resolveGlobalSymbol,"resolveGlobalSymbol");function alignMemory(s,a){return Math.ceil(s/a)*a}r(alignMemory,"alignMemory");function loadWebAssemblyModule(binary,flags,handle){var metadata=getDylinkMetadata(binary);function loadModule(){var firstLoad=!handle||!HEAP8[handle+12>>0];if(firstLoad){var memAlign=Math.pow(2,metadata.memoryAlign);memAlign=Math.max(memAlign,STACK_ALIGN);var memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0;handle&&(HEAP8[handle+12>>0]=1,HEAPU32[handle+16>>2]=memoryBase,HEAP32[handle+20>>2]=metadata.memorySize,HEAPU32[handle+24>>2]=tableBase,HEAP32[handle+28>>2]=metadata.tableSize)}else memoryBase=HEAPU32[handle+16>>2],tableBase=HEAPU32[handle+24>>2];var tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length,moduleExports;function resolveSymbol(s){var a=resolveGlobalSymbol(s,!1);return a||(a=moduleExports[s]),a}r(resolveSymbol,"resolveSymbol"),tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var proxyHandler={get:r(function(s,a){switch(a){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(a in asmLibraryArg)return asmLibraryArg[a];var c;return a in s||(s[a]=function(){return c||(c=resolveSymbol(a)),c.apply(null,arguments)}),s[a]},"get")},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(instance){function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func="("+args+" ) => { "+body+"};";ASM_CONSTS[start]=eval(func)}if(r(addEmAsm,"addEmAsm"),updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols(),"__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(r(postInstantiation,"postInstantiation"),flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(instance))}return WebAssembly.instantiate(binary,info).then(function(s){return postInstantiation(s.instance)})}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(instance)}return r(loadModule,"loadModule"),CurrentModuleWeakSymbols=metadata.weakImports,flags.loadAsync?metadata.neededDynlibs.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,flags)})},Promise.resolve()).then(function(){return loadModule()}):(metadata.neededDynlibs.forEach(function(s){loadDynamicLibrary(s,flags)}),loadModule())}r(loadWebAssemblyModule,"loadWebAssemblyModule");function loadDynamicLibrary(s,a,c){a=a||{global:!0,nodelete:!0};var l=LDSO.loadedLibsByName[s];if(l)return a.global&&!l.global&&(l.global=!0,l.module!=="loading"&&mergeLibSymbols(l.module,s)),a.nodelete&&l.refcount!==1/0&&(l.refcount=1/0),l.refcount++,c&&(LDSO.loadedLibsByHandle[c]=l),!a.loadAsync||Promise.resolve(!0);function f(y){if(a.fs&&a.fs.findObject(y)){var x=a.fs.readFile(y,{encoding:"binary"});return x instanceof Uint8Array||(x=new Uint8Array(x)),a.loadAsync?Promise.resolve(x):x}if(y=locateFile(y),a.loadAsync)return new Promise(function(S,N){readAsync(y,R=>S(new Uint8Array(R)),N)});if(!readBinary)throw new Error(y+": file not found, and synchronous loading of external files is not available");return readBinary(y)}r(f,"n");function p(){if(typeof preloadedWasm<"u"&&preloadedWasm[s]){var y=preloadedWasm[s];return a.loadAsync?Promise.resolve(y):y}return a.loadAsync?f(s).then(function(x){return loadWebAssemblyModule(x,a,c)}):loadWebAssemblyModule(f(s),a,c)}r(p,"s");function h(y){l.global&&mergeLibSymbols(y,s),l.module=y}return r(h,"a"),l={refcount:a.nodelete?1/0:1,name:s,module:"loading",global:a.global},LDSO.loadedLibsByName[s]=l,c&&(LDSO.loadedLibsByHandle[c]=l),a.loadAsync?p().then(function(y){return h(y),!0}):(h(p()),!0)}r(loadDynamicLibrary,"loadDynamicLibrary");function reportUndefinedSymbols(){for(var s in GOT)if(GOT[s].value==0){var a=resolveGlobalSymbol(s,!0);if(!a&&!GOT[s].required)continue;if(typeof a=="function")GOT[s].value=addFunction(a,a.sig);else{if(typeof a!="number")throw new Error("bad export type for `"+s+"`: "+typeof a);GOT[s].value=a}}}r(reportUndefinedSymbols,"reportUndefinedSymbols");function preloadDylibs(){dynamicLibraries.length?(addRunDependency("preloadDylibs"),dynamicLibraries.reduce(function(s,a){return s.then(function(){return loadDynamicLibrary(a,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})})},Promise.resolve()).then(function(){reportUndefinedSymbols(),removeRunDependency("preloadDylibs")})):reportUndefinedSymbols()}r(preloadDylibs,"preloadDylibs");function setValue(s,a,c="i8"){switch(c.endsWith("*")&&(c="*"),c){case"i1":case"i8":HEAP8[s>>0]=a;break;case"i16":HEAP16[s>>1]=a;break;case"i32":HEAP32[s>>2]=a;break;case"i64":tempI64=[a>>>0,(tempDouble=a,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[s>>2]=tempI64[0],HEAP32[s+4>>2]=tempI64[1];break;case"float":HEAPF32[s>>2]=a;break;case"double":HEAPF64[s>>3]=a;break;case"*":HEAPU32[s>>2]=a;break;default:abort("invalid type for setValue: "+c)}}r(setValue,"setValue");var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78144),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),nowIsMonotonic=!0,_emscripten_get_now;function __emscripten_get_now_is_monotonic(){return nowIsMonotonic}r(__emscripten_get_now_is_monotonic,"__emscripten_get_now_is_monotonic");function _abort(){abort("")}r(_abort,"_abort");function _emscripten_date_now(){return Date.now()}r(_emscripten_date_now,"_emscripten_date_now");function _emscripten_memcpy_big(s,a,c){HEAPU8.copyWithin(s,a,a+c)}r(_emscripten_memcpy_big,"_emscripten_memcpy_big");function getHeapMax(){return 2147483648}r(getHeapMax,"getHeapMax");function emscripten_realloc_buffer(s){try{return wasmMemory.grow(s-buffer.byteLength+65535>>>16),updateGlobalBufferAndViews(wasmMemory.buffer),1}catch{}}r(emscripten_realloc_buffer,"emscripten_realloc_buffer");function _emscripten_resize_heap(s){var a=HEAPU8.length;s>>>=0;var c=getHeapMax();if(s>c)return!1;for(var l=1;l<=4;l*=2){var f=a*(1+.2/l);if(f=Math.min(f,s+100663296),emscripten_realloc_buffer(Math.min(c,(p=Math.max(s,f))+((h=65536)-p%h)%h)))return!0}var p,h;return!1}r(_emscripten_resize_heap,"_emscripten_resize_heap"),__emscripten_get_now_is_monotonic.sig="i",Module._abort=_abort,_abort.sig="v",_emscripten_date_now.sig="d",_emscripten_get_now=ENVIRONMENT_IS_NODE?()=>{var s=process.hrtime();return 1e3*s[0]+s[1]/1e6}:()=>performance.now(),_emscripten_get_now.sig="d",_emscripten_memcpy_big.sig="vppp",_emscripten_resize_heap.sig="ip";var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt:r(function(s,a,c){if(PATH.isAbs(a))return a;var l;if(s===-100?l=FS.cwd():l=SYSCALLS.getStreamFromFD(s).path,a.length==0){if(!c)throw new FS.ErrnoError(44);return l}return PATH.join2(l,a)},"calculateAt"),doStat:r(function(s,a,c){try{var l=s(a)}catch(y){if(y&&y.node&&PATH.normalize(a)!==PATH.normalize(FS.getPath(y.node)))return-54;throw y}HEAP32[c>>2]=l.dev,HEAP32[c+8>>2]=l.ino,HEAP32[c+12>>2]=l.mode,HEAPU32[c+16>>2]=l.nlink,HEAP32[c+20>>2]=l.uid,HEAP32[c+24>>2]=l.gid,HEAP32[c+28>>2]=l.rdev,tempI64=[l.size>>>0,(tempDouble=l.size,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+40>>2]=tempI64[0],HEAP32[c+44>>2]=tempI64[1],HEAP32[c+48>>2]=4096,HEAP32[c+52>>2]=l.blocks;var f=l.atime.getTime(),p=l.mtime.getTime(),h=l.ctime.getTime();return tempI64=[Math.floor(f/1e3)>>>0,(tempDouble=Math.floor(f/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+56>>2]=tempI64[0],HEAP32[c+60>>2]=tempI64[1],HEAPU32[c+64>>2]=f%1e3*1e3,tempI64=[Math.floor(p/1e3)>>>0,(tempDouble=Math.floor(p/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+72>>2]=tempI64[0],HEAP32[c+76>>2]=tempI64[1],HEAPU32[c+80>>2]=p%1e3*1e3,tempI64=[Math.floor(h/1e3)>>>0,(tempDouble=Math.floor(h/1e3),+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+88>>2]=tempI64[0],HEAP32[c+92>>2]=tempI64[1],HEAPU32[c+96>>2]=h%1e3*1e3,tempI64=[l.ino>>>0,(tempDouble=l.ino,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[c+104>>2]=tempI64[0],HEAP32[c+108>>2]=tempI64[1],0},"doStat"),doMsync:r(function(s,a,c,l,f){if(!FS.isFile(a.node.mode))throw new FS.ErrnoError(43);if(2&l)return 0;var p=HEAPU8.slice(s,s+c);FS.msync(a,p,f,c,l)},"doMsync"),varargs:void 0,get:r(function(){return SYSCALLS.varargs+=4,HEAP32[SYSCALLS.varargs-4>>2]},"get"),getStr:r(function(s){return UTF8ToString(s)},"getStr"),getStreamFromFD:r(function(s){var a=FS.getStream(s);if(!a)throw new FS.ErrnoError(8);return a},"getStreamFromFD")};function _proc_exit(s){EXITSTATUS=s,keepRuntimeAlive()||(Module.onExit&&Module.onExit(s),ABORT=!0),quit_(s,new ExitStatus(s))}r(_proc_exit,"_proc_exit");function exitJS(s,a){EXITSTATUS=s,_proc_exit(s)}r(exitJS,"exitJS"),_proc_exit.sig="vi";var _exit=exitJS;function _fd_close(s){try{var a=SYSCALLS.getStreamFromFD(s);return FS.close(a),0}catch(c){if(typeof FS>"u"||!(c instanceof FS.ErrnoError))throw c;return c.errno}}r(_fd_close,"_fd_close");function convertI32PairToI53Checked(s,a){return a+2097152>>>0<4194305-!!s?(s>>>0)+4294967296*a:NaN}r(convertI32PairToI53Checked,"convertI32PairToI53Checked");function _fd_seek(s,a,c,l,f){try{var p=convertI32PairToI53Checked(a,c);if(isNaN(p))return 61;var h=SYSCALLS.getStreamFromFD(s);return FS.llseek(h,p,l),tempI64=[h.position>>>0,(tempDouble=h.position,+Math.abs(tempDouble)>=1?tempDouble>0?(0|Math.min(+Math.floor(tempDouble/4294967296),4294967295))>>>0:~~+Math.ceil((tempDouble-+(~~tempDouble>>>0))/4294967296)>>>0:0)],HEAP32[f>>2]=tempI64[0],HEAP32[f+4>>2]=tempI64[1],h.getdents&&p===0&&l===0&&(h.getdents=null),0}catch(y){if(typeof FS>"u"||!(y instanceof FS.ErrnoError))throw y;return y.errno}}r(_fd_seek,"_fd_seek");function doWritev(s,a,c,l){for(var f=0,p=0;p<c;p++){var h=HEAPU32[a>>2],y=HEAPU32[a+4>>2];a+=8;var x=FS.write(s,HEAP8,h,y,l);if(x<0)return-1;f+=x,l!==void 0&&(l+=x)}return f}r(doWritev,"doWritev");function _fd_write(s,a,c,l){try{var f=doWritev(SYSCALLS.getStreamFromFD(s),a,c);return HEAPU32[l>>2]=f,0}catch(p){if(typeof FS>"u"||!(p instanceof FS.ErrnoError))throw p;return p.errno}}r(_fd_write,"_fd_write");function _tree_sitter_log_callback(s,a){if(currentLogCallback){let c=UTF8ToString(a);currentLogCallback(c,s!==0)}}r(_tree_sitter_log_callback,"_tree_sitter_log_callback");function _tree_sitter_parse_callback(s,a,c,l,f){var p=currentParseCallback(a,{row:c,column:l});typeof p=="string"?(setValue(f,p.length,"i32"),stringToUTF16(p,s,10240)):setValue(f,0,"i32")}r(_tree_sitter_parse_callback,"_tree_sitter_parse_callback");function handleException(s){if(s instanceof ExitStatus||s=="unwind")return EXITSTATUS;quit_(1,s)}r(handleException,"handleException");function allocateUTF8OnStack(s){var a=lengthBytesUTF8(s)+1,c=stackAlloc(a);return stringToUTF8Array(s,HEAP8,c,a),c}r(allocateUTF8OnStack,"allocateUTF8OnStack");function stringToUTF16(s,a,c){if(c===void 0&&(c=2147483647),c<2)return 0;for(var l=a,f=(c-=2)<2*s.length?c/2:s.length,p=0;p<f;++p){var h=s.charCodeAt(p);HEAP16[a>>1]=h,a+=2}return HEAP16[a>>1]=0,a-l}r(stringToUTF16,"stringToUTF16");function AsciiToString(s){for(var a="";;){var c=HEAPU8[s++>>0];if(!c)return a;a+=String.fromCharCode(c)}}r(AsciiToString,"AsciiToString"),_exit.sig="vi",_fd_close.sig="ii",_fd_seek.sig="iijip",_fd_write.sig="iippp";var asmLibraryArg={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,abort:_abort,emscripten_get_now:_emscripten_get_now,emscripten_memcpy_big:_emscripten_memcpy_big,emscripten_resize_heap:_emscripten_resize_heap,exit:_exit,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},asm=createWasm(),___wasm_call_ctors=Module.___wasm_call_ctors=function(){return(___wasm_call_ctors=Module.___wasm_call_ctors=Module.asm.__wasm_call_ctors).apply(null,arguments)},___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=function(){return(___wasm_apply_data_relocs=Module.___wasm_apply_data_relocs=Module.asm.__wasm_apply_data_relocs).apply(null,arguments)},_malloc=Module._malloc=function(){return(_malloc=Module._malloc=Module.asm.malloc).apply(null,arguments)},_calloc=Module._calloc=function(){return(_calloc=Module._calloc=Module.asm.calloc).apply(null,arguments)},_realloc=Module._realloc=function(){return(_realloc=Module._realloc=Module.asm.realloc).apply(null,arguments)},_free=Module._free=function(){return(_free=Module._free=Module.asm.free).apply(null,arguments)},_ts_language_symbol_count=Module._ts_language_symbol_count=function(){return(_ts_language_symbol_count=Module._ts_language_symbol_count=Module.asm.ts_language_symbol_count).apply(null,arguments)},_ts_language_version=Module._ts_language_version=function(){return(_ts_language_version=Module._ts_language_version=Module.asm.ts_language_version).apply(null,arguments)},_ts_language_field_count=Module._ts_language_field_count=function(){return(_ts_language_field_count=Module._ts_language_field_count=Module.asm.ts_language_field_count).apply(null,arguments)},_ts_language_symbol_name=Module._ts_language_symbol_name=function(){return(_ts_language_symbol_name=Module._ts_language_symbol_name=Module.asm.ts_language_symbol_name).apply(null,arguments)},_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=function(){return(_ts_language_symbol_for_name=Module._ts_language_symbol_for_name=Module.asm.ts_language_symbol_for_name).apply(null,arguments)},_ts_language_symbol_type=Module._ts_language_symbol_type=function(){return(_ts_language_symbol_type=Module._ts_language_symbol_type=Module.asm.ts_language_symbol_type).apply(null,arguments)},_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=function(){return(_ts_language_field_name_for_id=Module._ts_language_field_name_for_id=Module.asm.ts_language_field_name_for_id).apply(null,arguments)},_memset=Module._memset=function(){return(_memset=Module._memset=Module.asm.memset).apply(null,arguments)},_memcpy=Module._memcpy=function(){return(_memcpy=Module._memcpy=Module.asm.memcpy).apply(null,arguments)},_ts_parser_delete=Module._ts_parser_delete=function(){return(_ts_parser_delete=Module._ts_parser_delete=Module.asm.ts_parser_delete).apply(null,arguments)},_ts_parser_reset=Module._ts_parser_reset=function(){return(_ts_parser_reset=Module._ts_parser_reset=Module.asm.ts_parser_reset).apply(null,arguments)},_ts_parser_set_language=Module._ts_parser_set_language=function(){return(_ts_parser_set_language=Module._ts_parser_set_language=Module.asm.ts_parser_set_language).apply(null,arguments)},_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=function(){return(_ts_parser_timeout_micros=Module._ts_parser_timeout_micros=Module.asm.ts_parser_timeout_micros).apply(null,arguments)},_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=function(){return(_ts_parser_set_timeout_micros=Module._ts_parser_set_timeout_micros=Module.asm.ts_parser_set_timeout_micros).apply(null,arguments)},_memmove=Module._memmove=function(){return(_memmove=Module._memmove=Module.asm.memmove).apply(null,arguments)},_memcmp=Module._memcmp=function(){return(_memcmp=Module._memcmp=Module.asm.memcmp).apply(null,arguments)},_ts_query_new=Module._ts_query_new=function(){return(_ts_query_new=Module._ts_query_new=Module.asm.ts_query_new).apply(null,arguments)},_ts_query_delete=Module._ts_query_delete=function(){return(_ts_query_delete=Module._ts_query_delete=Module.asm.ts_query_delete).apply(null,arguments)},_iswspace=Module._iswspace=function(){return(_iswspace=Module._iswspace=Module.asm.iswspace).apply(null,arguments)},_iswalnum=Module._iswalnum=function(){return(_iswalnum=Module._iswalnum=Module.asm.iswalnum).apply(null,arguments)},_ts_query_pattern_count=Module._ts_query_pattern_count=function(){return(_ts_query_pattern_count=Module._ts_query_pattern_count=Module.asm.ts_query_pattern_count).apply(null,arguments)},_ts_query_capture_count=Module._ts_query_capture_count=function(){return(_ts_query_capture_count=Module._ts_query_capture_count=Module.asm.ts_query_capture_count).apply(null,arguments)},_ts_query_string_count=Module._ts_query_string_count=function(){return(_ts_query_string_count=Module._ts_query_string_count=Module.asm.ts_query_string_count).apply(null,arguments)},_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=function(){return(_ts_query_capture_name_for_id=Module._ts_query_capture_name_for_id=Module.asm.ts_query_capture_name_for_id).apply(null,arguments)},_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=function(){return(_ts_query_string_value_for_id=Module._ts_query_string_value_for_id=Module.asm.ts_query_string_value_for_id).apply(null,arguments)},_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=function(){return(_ts_query_predicates_for_pattern=Module._ts_query_predicates_for_pattern=Module.asm.ts_query_predicates_for_pattern).apply(null,arguments)},_ts_tree_copy=Module._ts_tree_copy=function(){return(_ts_tree_copy=Module._ts_tree_copy=Module.asm.ts_tree_copy).apply(null,arguments)},_ts_tree_delete=Module._ts_tree_delete=function(){return(_ts_tree_delete=Module._ts_tree_delete=Module.asm.ts_tree_delete).apply(null,arguments)},_ts_init=Module._ts_init=function(){return(_ts_init=Module._ts_init=Module.asm.ts_init).apply(null,arguments)},_ts_parser_new_wasm=Module._ts_parser_new_wasm=function(){return(_ts_parser_new_wasm=Module._ts_parser_new_wasm=Module.asm.ts_parser_new_wasm).apply(null,arguments)},_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=function(){return(_ts_parser_enable_logger_wasm=Module._ts_parser_enable_logger_wasm=Module.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=function(){return(_ts_parser_parse_wasm=Module._ts_parser_parse_wasm=Module.asm.ts_parser_parse_wasm).apply(null,arguments)},_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=function(){return(_ts_language_type_is_named_wasm=Module._ts_language_type_is_named_wasm=Module.asm.ts_language_type_is_named_wasm).apply(null,arguments)},_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=function(){return(_ts_language_type_is_visible_wasm=Module._ts_language_type_is_visible_wasm=Module.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=function(){return(_ts_tree_root_node_wasm=Module._ts_tree_root_node_wasm=Module.asm.ts_tree_root_node_wasm).apply(null,arguments)},_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=function(){return(_ts_tree_edit_wasm=Module._ts_tree_edit_wasm=Module.asm.ts_tree_edit_wasm).apply(null,arguments)},_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=function(){return(_ts_tree_get_changed_ranges_wasm=Module._ts_tree_get_changed_ranges_wasm=Module.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=function(){return(_ts_tree_cursor_new_wasm=Module._ts_tree_cursor_new_wasm=Module.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=function(){return(_ts_tree_cursor_delete_wasm=Module._ts_tree_cursor_delete_wasm=Module.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=function(){return(_ts_tree_cursor_reset_wasm=Module._ts_tree_cursor_reset_wasm=Module.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=function(){return(_ts_tree_cursor_goto_first_child_wasm=Module._ts_tree_cursor_goto_first_child_wasm=Module.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=function(){return(_ts_tree_cursor_goto_next_sibling_wasm=Module._ts_tree_cursor_goto_next_sibling_wasm=Module.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=function(){return(_ts_tree_cursor_goto_parent_wasm=Module._ts_tree_cursor_goto_parent_wasm=Module.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=function(){return(_ts_tree_cursor_current_node_type_id_wasm=Module._ts_tree_cursor_current_node_type_id_wasm=Module.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=function(){return(_ts_tree_cursor_current_node_is_named_wasm=Module._ts_tree_cursor_current_node_is_named_wasm=Module.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=function(){return(_ts_tree_cursor_current_node_is_missing_wasm=Module._ts_tree_cursor_current_node_is_missing_wasm=Module.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=function(){return(_ts_tree_cursor_current_node_id_wasm=Module._ts_tree_cursor_current_node_id_wasm=Module.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=function(){return(_ts_tree_cursor_start_position_wasm=Module._ts_tree_cursor_start_position_wasm=Module.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=function(){return(_ts_tree_cursor_end_position_wasm=Module._ts_tree_cursor_end_position_wasm=Module.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=function(){return(_ts_tree_cursor_start_index_wasm=Module._ts_tree_cursor_start_index_wasm=Module.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=function(){return(_ts_tree_cursor_end_index_wasm=Module._ts_tree_cursor_end_index_wasm=Module.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=function(){return(_ts_tree_cursor_current_field_id_wasm=Module._ts_tree_cursor_current_field_id_wasm=Module.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=function(){return(_ts_tree_cursor_current_node_wasm=Module._ts_tree_cursor_current_node_wasm=Module.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=function(){return(_ts_node_symbol_wasm=Module._ts_node_symbol_wasm=Module.asm.ts_node_symbol_wasm).apply(null,arguments)},_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=function(){return(_ts_node_child_count_wasm=Module._ts_node_child_count_wasm=Module.asm.ts_node_child_count_wasm).apply(null,arguments)},_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=function(){return(_ts_node_named_child_count_wasm=Module._ts_node_named_child_count_wasm=Module.asm.ts_node_named_child_count_wasm).apply(null,arguments)},_ts_node_child_wasm=Module._ts_node_child_wasm=function(){return(_ts_node_child_wasm=Module._ts_node_child_wasm=Module.asm.ts_node_child_wasm).apply(null,arguments)},_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=function(){return(_ts_node_named_child_wasm=Module._ts_node_named_child_wasm=Module.asm.ts_node_named_child_wasm).apply(null,arguments)},_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=function(){return(_ts_node_child_by_field_id_wasm=Module._ts_node_child_by_field_id_wasm=Module.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=function(){return(_ts_node_next_sibling_wasm=Module._ts_node_next_sibling_wasm=Module.asm.ts_node_next_sibling_wasm).apply(null,arguments)},_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=function(){return(_ts_node_prev_sibling_wasm=Module._ts_node_prev_sibling_wasm=Module.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=function(){return(_ts_node_next_named_sibling_wasm=Module._ts_node_next_named_sibling_wasm=Module.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=function(){return(_ts_node_prev_named_sibling_wasm=Module._ts_node_prev_named_sibling_wasm=Module.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},_ts_node_parent_wasm=Module._ts_node_parent_wasm=function(){return(_ts_node_parent_wasm=Module._ts_node_parent_wasm=Module.asm.ts_node_parent_wasm).apply(null,arguments)},_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=function(){return(_ts_node_descendant_for_index_wasm=Module._ts_node_descendant_for_index_wasm=Module.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=function(){return(_ts_node_named_descendant_for_index_wasm=Module._ts_node_named_descendant_for_index_wasm=Module.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=function(){return(_ts_node_descendant_for_position_wasm=Module._ts_node_descendant_for_position_wasm=Module.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=function(){return(_ts_node_named_descendant_for_position_wasm=Module._ts_node_named_descendant_for_position_wasm=Module.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=function(){return(_ts_node_start_point_wasm=Module._ts_node_start_point_wasm=Module.asm.ts_node_start_point_wasm).apply(null,arguments)},_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=function(){return(_ts_node_end_point_wasm=Module._ts_node_end_point_wasm=Module.asm.ts_node_end_point_wasm).apply(null,arguments)},_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=function(){return(_ts_node_start_index_wasm=Module._ts_node_start_index_wasm=Module.asm.ts_node_start_index_wasm).apply(null,arguments)},_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=function(){return(_ts_node_end_index_wasm=Module._ts_node_end_index_wasm=Module.asm.ts_node_end_index_wasm).apply(null,arguments)},_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=function(){return(_ts_node_to_string_wasm=Module._ts_node_to_string_wasm=Module.asm.ts_node_to_string_wasm).apply(null,arguments)},_ts_node_children_wasm=Module._ts_node_children_wasm=function(){return(_ts_node_children_wasm=Module._ts_node_children_wasm=Module.asm.ts_node_children_wasm).apply(null,arguments)},_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=function(){return(_ts_node_named_children_wasm=Module._ts_node_named_children_wasm=Module.asm.ts_node_named_children_wasm).apply(null,arguments)},_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=function(){return(_ts_node_descendants_of_type_wasm=Module._ts_node_descendants_of_type_wasm=Module.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=function(){return(_ts_node_is_named_wasm=Module._ts_node_is_named_wasm=Module.asm.ts_node_is_named_wasm).apply(null,arguments)},_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=function(){return(_ts_node_has_changes_wasm=Module._ts_node_has_changes_wasm=Module.asm.ts_node_has_changes_wasm).apply(null,arguments)},_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=function(){return(_ts_node_has_error_wasm=Module._ts_node_has_error_wasm=Module.asm.ts_node_has_error_wasm).apply(null,arguments)},_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=function(){return(_ts_node_is_missing_wasm=Module._ts_node_is_missing_wasm=Module.asm.ts_node_is_missing_wasm).apply(null,arguments)},_ts_query_matches_wasm=Module._ts_query_matches_wasm=function(){return(_ts_query_matches_wasm=Module._ts_query_matches_wasm=Module.asm.ts_query_matches_wasm).apply(null,arguments)},_ts_query_captures_wasm=Module._ts_query_captures_wasm=function(){return(_ts_query_captures_wasm=Module._ts_query_captures_wasm=Module.asm.ts_query_captures_wasm).apply(null,arguments)},___cxa_atexit=Module.___cxa_atexit=function(){return(___cxa_atexit=Module.___cxa_atexit=Module.asm.__cxa_atexit).apply(null,arguments)},_iswdigit=Module._iswdigit=function(){return(_iswdigit=Module._iswdigit=Module.asm.iswdigit).apply(null,arguments)},_iswalpha=Module._iswalpha=function(){return(_iswalpha=Module._iswalpha=Module.asm.iswalpha).apply(null,arguments)},_iswlower=Module._iswlower=function(){return(_iswlower=Module._iswlower=Module.asm.iswlower).apply(null,arguments)},_memchr=Module._memchr=function(){return(_memchr=Module._memchr=Module.asm.memchr).apply(null,arguments)},_strlen=Module._strlen=function(){return(_strlen=Module._strlen=Module.asm.strlen).apply(null,arguments)},_towupper=Module._towupper=function(){return(_towupper=Module._towupper=Module.asm.towupper).apply(null,arguments)},_setThrew=Module._setThrew=function(){return(_setThrew=Module._setThrew=Module.asm.setThrew).apply(null,arguments)},stackSave=Module.stackSave=function(){return(stackSave=Module.stackSave=Module.asm.stackSave).apply(null,arguments)},stackRestore=Module.stackRestore=function(){return(stackRestore=Module.stackRestore=Module.asm.stackRestore).apply(null,arguments)},stackAlloc=Module.stackAlloc=function(){return(stackAlloc=Module.stackAlloc=Module.asm.stackAlloc).apply(null,arguments)},__Znwm=Module.__Znwm=function(){return(__Znwm=Module.__Znwm=Module.asm._Znwm).apply(null,arguments)},__ZdlPv=Module.__ZdlPv=function(){return(__ZdlPv=Module.__ZdlPv=Module.asm._ZdlPv).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=Module.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=Module.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=function(){return(__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw=Module.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE6resizeEmw).apply(null,arguments)},dynCall_jiji=Module.dynCall_jiji=function(){return(dynCall_jiji=Module.dynCall_jiji=Module.asm.dynCall_jiji).apply(null,arguments)},_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=function(){return(_orig$ts_parser_timeout_micros=Module._orig$ts_parser_timeout_micros=Module.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=function(){return(_orig$ts_parser_set_timeout_micros=Module._orig$ts_parser_set_timeout_micros=Module.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},calledRun;function callMain(s){var a=Module._main;if(a){(s=s||[]).unshift(thisProgram);var c=s.length,l=stackAlloc(4*(c+1)),f=l>>2;s.forEach(h=>{HEAP32[f++]=allocateUTF8OnStack(h)}),HEAP32[f]=0;try{var p=a(c,l);return exitJS(p,!0),p}catch(h){return handleException(h)}}}r(callMain,"callMain"),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16,dependenciesFulfilled=r(function s(){calledRun||run(),calledRun||(dependenciesFulfilled=s)},"e");var dylibsLoaded=!1;function run(s){function a(){calledRun||(calledRun=!0,Module.calledRun=!0,ABORT||(initRuntime(),preMain(),Module.onRuntimeInitialized&&Module.onRuntimeInitialized(),shouldRunNow&&callMain(s),postRun()))}r(a,"t"),s=s||arguments_,runDependencies>0||!dylibsLoaded&&(preloadDylibs(),dylibsLoaded=!0,runDependencies>0)||(preRun(),runDependencies>0||(Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),a()},1)):a()))}if(r(run,"run"),Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();let C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;var VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;let e=class e{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(a){let c;if(a){if(a.constructor!==Language)throw new Error("Argument must be a Language");{c=a[0];let l=C._ts_language_version(c);if(l<MIN_COMPATIBLE_VERSION||VERSION<l)throw new Error(`Incompatible language version ${l}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}}else c=0,a=null;return this.language=a,C._ts_parser_set_language(this[0],c),this}getLanguage(){return this.language}parse(a,c,l){if(typeof a=="string")currentParseCallback=r((x,S,N)=>a.slice(x,N),"currentParseCallback");else{if(typeof a!="function")throw new Error("Argument must be a string or a function");currentParseCallback=a}this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let f=0,p=0;if(l&&l.includedRanges){f=l.includedRanges.length,p=C._calloc(f,SIZE_OF_RANGE);let x=p;for(let S=0;S<f;S++)marshalRange(x,l.includedRanges[S]),x+=SIZE_OF_RANGE}let h=C._ts_parser_parse_wasm(this[0],this[1],c?c[0]:0,p,f);if(!h)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");let y=new Tree(INTERNAL,h,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,y}reset(){C._ts_parser_reset(this[0])}setTimeoutMicros(a){C._ts_parser_set_timeout_micros(this[0],a)}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setLogger(a){if(a){if(typeof a!="function")throw new Error("Logger callback must be a function")}else a=null;return this.logCallback=a,this}getLogger(){return this.logCallback}};r(e,"ParserImpl");let ParserImpl=e,t=class t{constructor(a,c,l,f){assertInternal(a),this[0]=c,this.language=l,this.textCallback=f}copy(){let a=C._ts_tree_copy(this[0]);return new t(INTERNAL,a,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(a){marshalEdit(a),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(a){if(a.constructor!==t)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],a[0]);let c=getValue(TRANSFER_BUFFER,"i32"),l=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),f=new Array(c);if(c>0){let p=l;for(let h=0;h<c;h++)f[h]=unmarshalRange(p),p+=SIZE_OF_RANGE;C._free(l)}return f}};r(t,"Tree");let Tree=t,n=class n{constructor(a,c){assertInternal(a),this.tree=c}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}equals(a){return this.id===a.id}child(a){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}namedChild(a){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldId(a){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],a),unmarshalNode(this.tree)}childForFieldName(a){let c=this.tree.language.fields.indexOf(a);if(c!==-1)return this.childForFieldId(c)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(a),a>0){let l=c;for(let f=0;f<a;f++)this._children[f]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);let a=getValue(TRANSFER_BUFFER,"i32"),c=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(a),a>0){let l=c;for(let f=0;f<a;f++)this._namedChildren[f]=unmarshalNode(this.tree,l),l+=SIZE_OF_NODE;C._free(c)}}return this._namedChildren}descendantsOfType(a,c,l){Array.isArray(a)||(a=[a]),c||(c=ZERO_POINT),l||(l=ZERO_POINT);let f=[],p=this.tree.language.types;for(let N=0,R=p.length;N<R;N++)a.includes(p[N])&&f.push(N);let h=C._malloc(SIZE_OF_INT*f.length);for(let N=0,R=f.length;N<R;N++)setValue(h+N*SIZE_OF_INT,f[N],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],h,f.length,c.row,c.column,l.row,l.column);let y=getValue(TRANSFER_BUFFER,"i32"),x=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),S=new Array(y);if(y>0){let N=x;for(let R=0;R<y;R++)S[R]=unmarshalNode(this.tree,N),N+=SIZE_OF_NODE}return C._free(x),C._free(h),S}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(a,c=a){if(typeof a!="number"||typeof c!="number")throw new Error("Arguments must be numbers");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(l,a,"i32"),setValue(l+SIZE_OF_INT,c,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(a,c=a){if(!isPoint(a)||!isPoint(c))throw new Error("Arguments must be {row, column} objects");marshalNode(this);let l=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(l,a),marshalPoint(l+SIZE_OF_POINT,c),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);let a=C._ts_node_to_string_wasm(this.tree[0]),c=AsciiToString(a);return C._free(a),c}};r(n,"Node");let Node=n,o=class o{constructor(a,c){assertInternal(a),this.tree=c,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(a){marshalNode(a),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);let a=C._ts_tree_cursor_start_index_wasm(this.tree[0]),c=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,a,c)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoNextSibling(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}gotoParent(){marshalTreeCursor(this);let a=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),a===1}};r(o,"TreeCursor");let TreeCursor=o,i=class i{constructor(a,c){assertInternal(a),this[0]=c,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let l=0,f=this.types.length;l<f;l++)C._ts_language_symbol_type(this[0],l)<2&&(this.types[l]=UTF8ToString(C._ts_language_symbol_name(this[0],l)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let l=0,f=this.fields.length;l<f;l++){let p=C._ts_language_field_name_for_id(this[0],l);this.fields[l]=p!==0?UTF8ToString(p):null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(a){let c=this.fields.indexOf(a);return c!==-1?c:null}fieldNameForId(a){return this.fields[a]||null}idForNodeType(a,c){let l=lengthBytesUTF8(a),f=C._malloc(l+1);stringToUTF8(a,f,l+1);let p=C._ts_language_symbol_for_name(this[0],f,l,c);return C._free(f),p||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(a){let c=C._ts_language_symbol_name(this[0],a);return c?UTF8ToString(c):null}nodeTypeIsNamed(a){return!!C._ts_language_type_is_named_wasm(this[0],a)}nodeTypeIsVisible(a){return!!C._ts_language_type_is_visible_wasm(this[0],a)}query(a){let c=lengthBytesUTF8(a),l=C._malloc(c+1);stringToUTF8(a,l,c+1);let f=C._ts_query_new(this[0],l,c,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!f){let q=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),J=UTF8ToString(l,getValue(TRANSFER_BUFFER,"i32")).length,Q=a.substr(J,100).split(`
`)[0],D,te=Q.match(QUERY_WORD_REGEX)[0];switch(q){case 2:D=new RangeError(`Bad node name '${te}'`);break;case 3:D=new RangeError(`Bad field name '${te}'`);break;case 4:D=new RangeError(`Bad capture name @${te}`);break;case 5:D=new TypeError(`Bad pattern structure at offset ${J}: '${Q}'...`),te="";break;default:D=new SyntaxError(`Bad syntax at offset ${J}: '${Q}'...`),te=""}throw D.index=J,D.length=te.length,C._free(l),D}let p=C._ts_query_string_count(f),h=C._ts_query_capture_count(f),y=C._ts_query_pattern_count(f),x=new Array(h),S=new Array(p);for(let q=0;q<h;q++){let J=C._ts_query_capture_name_for_id(f,q,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");x[q]=UTF8ToString(J,Q)}for(let q=0;q<p;q++){let J=C._ts_query_string_value_for_id(f,q,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");S[q]=UTF8ToString(J,Q)}let N=new Array(y),R=new Array(y),B=new Array(y),A=new Array(y),K=new Array(y);for(let q=0;q<y;q++){let J=C._ts_query_predicates_for_pattern(f,q,TRANSFER_BUFFER),Q=getValue(TRANSFER_BUFFER,"i32");A[q]=[],K[q]=[];let D=[],te=J;for(let Xe=0;Xe<Q;Xe++){let st=getValue(te,"i32");te+=SIZE_OF_INT;let De=getValue(te,"i32");if(te+=SIZE_OF_INT,st===PREDICATE_STEP_TYPE_CAPTURE)D.push({type:"capture",name:x[De]});else if(st===PREDICATE_STEP_TYPE_STRING)D.push({type:"string",value:S[De]});else if(D.length>0){if(D[0].type!=="string")throw new Error("Predicates must begin with a literal value");let V=D[0].value,F=!0;switch(V){case"not-eq?":F=!1;case"eq?":if(D.length!==3)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(D.length-1));if(D[1].type!=="capture")throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${D[1].value}"`);if(D[2].type==="capture"){let ee=D[1].name,Y=D[2].name;K[q].push(function(je){let ke,he;for(let Pt of je)Pt.name===ee&&(ke=Pt.node),Pt.name===Y&&(he=Pt.node);return ke===void 0||he===void 0||ke.text===he.text===F})}else{let ee=D[1].name,Y=D[2].value;K[q].push(function(je){for(let ke of je)if(ke.name===ee)return ke.node.text===Y===F;return!0})}break;case"not-match?":F=!1;case"match?":if(D.length!==3)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${D.length-1}.`);if(D[1].type!=="capture")throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${D[1].value}".`);if(D[2].type!=="string")throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${D[2].value}.`);let W=D[1].name,G=new RegExp(D[2].value);K[q].push(function(ee){for(let Y of ee)if(Y.name===W)return G.test(Y.node.text)===F;return!0});break;case"set!":if(D.length<2||D.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${D.length-1}.`);if(D.some(ee=>ee.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');N[q]||(N[q]={}),N[q][D[1].value]=D[2]?D[2].value:null;break;case"is?":case"is-not?":if(D.length<2||D.length>3)throw new Error(`Wrong number of arguments to \`#${V}\` predicate. Expected 1 or 2. Got ${D.length-1}.`);if(D.some(ee=>ee.type!=="string"))throw new Error(`Arguments to \`#${V}\` predicate must be a strings.".`);let ae=V==="is?"?R:B;ae[q]||(ae[q]={}),ae[q][D[1].value]=D[2]?D[2].value:null;break;default:A[q].push({operator:V,operands:D.slice(1)})}D.length=0}}Object.freeze(N[q]),Object.freeze(R[q]),Object.freeze(B[q])}return C._free(l),new Query(INTERNAL,f,x,K,A,Object.freeze(N),Object.freeze(R),Object.freeze(B))}static load(a){let c;if(a instanceof Uint8Array)c=Promise.resolve(a);else{let f=a;if(typeof process<"u"&&process.versions&&process.versions.node){let p=require("fs");c=Promise.resolve(p.readFileSync(f))}else c=fetch(f).then(p=>p.arrayBuffer().then(h=>{if(p.ok)return new Uint8Array(h);{let y=new TextDecoder("utf-8").decode(h);throw new Error(`Language.load failed with status ${p.status}.

${y}`)}}))}let l=typeof loadSideModule=="function"?loadSideModule:loadWebAssemblyModule;return c.then(f=>l(f,{loadAsync:!0})).then(f=>{let p=Object.keys(f),h=p.find(x=>LANGUAGE_FUNCTION_REGEX.test(x)&&!x.includes("external_scanner_"));h||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(p,null,2)}`);let y=f[h]();return new i(INTERNAL,y)})}};r(i,"Language");let Language=i,u=class u{constructor(a,c,l,f,p,h,y,x){assertInternal(a),this[0]=c,this.captureNames=l,this.textPredicates=f,this.predicates=p,this.setProperties=h,this.assertedProperties=y,this.refutedProperties=x,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(a,c,l,f){c||(c=ZERO_POINT),l||(l=ZERO_POINT),f||(f={});let p=f.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_matches_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,p);let h=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),S=new Array(h);this.exceededMatchLimit=!!x;let N=0,R=y;for(let B=0;B<h;B++){let A=getValue(R,"i32");R+=SIZE_OF_INT;let K=getValue(R,"i32");R+=SIZE_OF_INT;let q=new Array(K);if(R=unmarshalCaptures(this,a.tree,R,q),this.textPredicates[A].every(J=>J(q))){S[N++]={pattern:A,captures:q};let J=this.setProperties[A];J&&(S[B].setProperties=J);let Q=this.assertedProperties[A];Q&&(S[B].assertedProperties=Q);let D=this.refutedProperties[A];D&&(S[B].refutedProperties=D)}}return S.length=N,C._free(y),S}captures(a,c,l,f){c||(c=ZERO_POINT),l||(l=ZERO_POINT),f||(f={});let p=f.matchLimit;if(p===void 0)p=0;else if(typeof p!="number")throw new Error("Arguments must be numbers");marshalNode(a),C._ts_query_captures_wasm(this[0],a.tree[0],c.row,c.column,l.row,l.column,p);let h=getValue(TRANSFER_BUFFER,"i32"),y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),x=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),S=[];this.exceededMatchLimit=!!x;let N=[],R=y;for(let B=0;B<h;B++){let A=getValue(R,"i32");R+=SIZE_OF_INT;let K=getValue(R,"i32");R+=SIZE_OF_INT;let q=getValue(R,"i32");if(R+=SIZE_OF_INT,N.length=K,R=unmarshalCaptures(this,a.tree,R,N),this.textPredicates[A].every(J=>J(N))){let J=N[q],Q=this.setProperties[A];Q&&(J.setProperties=Q);let D=this.assertedProperties[A];D&&(J.assertedProperties=D);let te=this.refutedProperties[A];te&&(J.refutedProperties=te),S.push(J)}}return C._free(y),S}predicatesForPattern(a){return this.predicates[a]}didExceedMatchLimit(){return this.exceededMatchLimit}};r(u,"Query");let Query=u;function getText(s,a,c){let l=c-a,f=s.textCallback(a,null,c);for(a+=f.length;a<c;){let p=s.textCallback(a,null,c);if(!(p&&p.length>0))break;a+=p.length,f+=p}return a>c&&(f=f.slice(0,l)),f}r(getText,"getText");function unmarshalCaptures(s,a,c,l){for(let f=0,p=l.length;f<p;f++){let h=getValue(c,"i32"),y=unmarshalNode(a,c+=SIZE_OF_INT);c+=SIZE_OF_NODE,l[f]={name:s.captureNames[h],node:y}}return c}r(unmarshalCaptures,"unmarshalCaptures");function assertInternal(s){if(s!==INTERNAL)throw new Error("Illegal constructor")}r(assertInternal,"assertInternal");function isPoint(s){return s&&typeof s.row=="number"&&typeof s.column=="number"}r(isPoint,"isPoint");function marshalNode(s){let a=TRANSFER_BUFFER;setValue(a,s.id,"i32"),a+=SIZE_OF_INT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.row,"i32"),a+=SIZE_OF_INT,setValue(a,s.startPosition.column,"i32"),a+=SIZE_OF_INT,setValue(a,s[0],"i32")}r(marshalNode,"marshalNode");function unmarshalNode(s,a=TRANSFER_BUFFER){let c=getValue(a,"i32");if(c===0)return null;let l=getValue(a+=SIZE_OF_INT,"i32"),f=getValue(a+=SIZE_OF_INT,"i32"),p=getValue(a+=SIZE_OF_INT,"i32"),h=getValue(a+=SIZE_OF_INT,"i32"),y=new Node(INTERNAL,s);return y.id=c,y.startIndex=l,y.startPosition={row:f,column:p},y[0]=h,y}r(unmarshalNode,"unmarshalNode");function marshalTreeCursor(s,a=TRANSFER_BUFFER){setValue(a+0*SIZE_OF_INT,s[0],"i32"),setValue(a+1*SIZE_OF_INT,s[1],"i32"),setValue(a+2*SIZE_OF_INT,s[2],"i32")}r(marshalTreeCursor,"marshalTreeCursor");function unmarshalTreeCursor(s){s[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),s[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),s[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32")}r(unmarshalTreeCursor,"unmarshalTreeCursor");function marshalPoint(s,a){setValue(s,a.row,"i32"),setValue(s+SIZE_OF_INT,a.column,"i32")}r(marshalPoint,"marshalPoint");function unmarshalPoint(s){return{row:getValue(s,"i32"),column:getValue(s+SIZE_OF_INT,"i32")}}r(unmarshalPoint,"unmarshalPoint");function marshalRange(s,a){marshalPoint(s,a.startPosition),marshalPoint(s+=SIZE_OF_POINT,a.endPosition),setValue(s+=SIZE_OF_POINT,a.startIndex,"i32"),setValue(s+=SIZE_OF_INT,a.endIndex,"i32"),s+=SIZE_OF_INT}r(marshalRange,"marshalRange");function unmarshalRange(s){let a={};return a.startPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.endPosition=unmarshalPoint(s),s+=SIZE_OF_POINT,a.startIndex=getValue(s,"i32"),s+=SIZE_OF_INT,a.endIndex=getValue(s,"i32"),a}r(unmarshalRange,"unmarshalRange");function marshalEdit(s){let a=TRANSFER_BUFFER;marshalPoint(a,s.startPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.oldEndPosition),a+=SIZE_OF_POINT,marshalPoint(a,s.newEndPosition),a+=SIZE_OF_POINT,setValue(a,s.startIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.oldEndIndex,"i32"),a+=SIZE_OF_INT,setValue(a,s.newEndIndex,"i32"),a+=SIZE_OF_INT}r(marshalEdit,"marshalEdit");for(let s of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(_Parser.prototype,s,{value:ParserImpl.prototype[s],enumerable:!1,writable:!1});_Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}};r(_Parser,"Parser");let Parser=_Parser;return Parser}();typeof exports=="object"&&(module.exports=TreeSitter)});var h_=z(Il=>{var g_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");Il.encode=function(e){if(0<=e&&e<g_.length)return g_[e];throw new TypeError("Must be between 0 and 63: "+e)};Il.decode=function(e){var t=65,n=90,o=97,i=122,u=48,s=57,a=43,c=47,l=26,f=52;return t<=e&&e<=n?e-t:o<=e&&e<=i?e-o+l:u<=e&&e<=s?e-u+f:e==a?62:e==c?63:-1}});var Tl=z(Sl=>{var __=h_(),xl=5,y_=1<<xl,b_=y_-1,w_=y_;function NR(e){return e<0?(-e<<1)+1:(e<<1)+0}r(NR,"toVLQSigned");function CR(e){var t=(e&1)===1,n=e>>1;return t?-n:n}r(CR,"fromVLQSigned");Sl.encode=r(function(t){var n="",o,i=NR(t);do o=i&b_,i>>>=xl,i>0&&(o|=w_),n+=__.encode(o);while(i>0);return n},"base64VLQ_encode");Sl.decode=r(function(t,n,o){var i=t.length,u=0,s=0,a,c;do{if(n>=i)throw new Error("Expected more digits in base 64 VLQ value.");if(c=__.decode(t.charCodeAt(n++)),c===-1)throw new Error("Invalid base64 digit: "+t.charAt(n-1));a=!!(c&w_),c&=b_,u=u+(c<<s),s+=xl}while(a);o.value=CR(u),o.rest=n},"base64VLQ_decode")});var To=z(It=>{function LR(e,t,n){if(t in e)return e[t];if(arguments.length===3)return n;throw new Error('"'+t+'" is a required argument.')}r(LR,"getArg");It.getArg=LR;var v_=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,OR=/^data:.+\,.+$/;function Ui(e){var t=e.match(v_);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}r(Ui,"urlParse");It.urlParse=Ui;function xo(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}r(xo,"urlGenerate");It.urlGenerate=xo;function El(e){var t=e,n=Ui(e);if(n){if(!n.path)return e;t=n.path}for(var o=It.isAbsolute(t),i=t.split(/\/+/),u,s=0,a=i.length-1;a>=0;a--)u=i[a],u==="."?i.splice(a,1):u===".."?s++:s>0&&(u===""?(i.splice(a+1,s),s=0):(i.splice(a,2),s--));return t=i.join("/"),t===""&&(t=o?"/":"."),n?(n.path=t,xo(n)):t}r(El,"normalize");It.normalize=El;function I_(e,t){e===""&&(e="."),t===""&&(t=".");var n=Ui(t),o=Ui(e);if(o&&(e=o.path||"/"),n&&!n.scheme)return o&&(n.scheme=o.scheme),xo(n);if(n||t.match(OR))return t;if(o&&!o.host&&!o.path)return o.host=t,xo(o);var i=t.charAt(0)==="/"?t:El(e.replace(/\/+$/,"")+"/"+t);return o?(o.path=i,xo(o)):i}r(I_,"join");It.join=I_;It.isAbsolute=function(e){return e.charAt(0)==="/"||v_.test(e)};function FR(e,t){e===""&&(e="."),e=e.replace(/\/$/,"");for(var n=0;t.indexOf(e+"/")!==0;){var o=e.lastIndexOf("/");if(o<0||(e=e.slice(0,o),e.match(/^([^\/]+:\/)?\/*$/)))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)}r(FR,"relative");It.relative=FR;var x_=function(){var e=Object.create(null);return!("__proto__"in e)}();function S_(e){return e}r(S_,"identity");function AR(e){return T_(e)?"$"+e:e}r(AR,"toSetString");It.toSetString=x_?S_:AR;function DR(e){return T_(e)?e.slice(1):e}r(DR,"fromSetString");It.fromSetString=x_?S_:DR;function T_(e){if(!e)return!1;var t=e.length;if(t<9||e.charCodeAt(t-1)!==95||e.charCodeAt(t-2)!==95||e.charCodeAt(t-3)!==111||e.charCodeAt(t-4)!==116||e.charCodeAt(t-5)!==111||e.charCodeAt(t-6)!==114||e.charCodeAt(t-7)!==112||e.charCodeAt(t-8)!==95||e.charCodeAt(t-9)!==95)return!1;for(var n=t-10;n>=0;n--)if(e.charCodeAt(n)!==36)return!1;return!0}r(T_,"isProtoString");function jR(e,t,n){var o=So(e.source,t.source);return o!==0||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0||n)||(o=e.generatedColumn-t.generatedColumn,o!==0)||(o=e.generatedLine-t.generatedLine,o!==0)?o:So(e.name,t.name)}r(jR,"compareByOriginalPositions");It.compareByOriginalPositions=jR;function UR(e,t,n){var o=e.generatedLine-t.generatedLine;return o!==0||(o=e.generatedColumn-t.generatedColumn,o!==0||n)||(o=So(e.source,t.source),o!==0)||(o=e.originalLine-t.originalLine,o!==0)||(o=e.originalColumn-t.originalColumn,o!==0)?o:So(e.name,t.name)}r(UR,"compareByGeneratedPositionsDeflated");It.compareByGeneratedPositionsDeflated=UR;function So(e,t){return e===t?0:e===null?1:t===null?-1:e>t?1:-1}r(So,"strcmp");function qR(e,t){var n=e.generatedLine-t.generatedLine;return n!==0||(n=e.generatedColumn-t.generatedColumn,n!==0)||(n=So(e.source,t.source),n!==0)||(n=e.originalLine-t.originalLine,n!==0)||(n=e.originalColumn-t.originalColumn,n!==0)?n:So(e.name,t.name)}r(qR,"compareByGeneratedPositionsInflated");It.compareByGeneratedPositionsInflated=qR;function BR(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}r(BR,"parseSourceMapInput");It.parseSourceMapInput=BR;function WR(e,t,n){if(t=t||"",e&&(e[e.length-1]!=="/"&&t[0]!=="/"&&(e+="/"),t=e+t),n){var o=Ui(n);if(!o)throw new Error("sourceMapURL could not be parsed");if(o.path){var i=o.path.lastIndexOf("/");i>=0&&(o.path=o.path.substring(0,i+1))}t=I_(xo(o),t)}return El(t)}r(WR,"computeSourceURL");It.computeSourceURL=WR});var kl=z(E_=>{var Rl=To(),Pl=Object.prototype.hasOwnProperty,Dr=typeof Map<"u";function zn(){this._array=[],this._set=Dr?new Map:Object.create(null)}r(zn,"ArraySet");zn.fromArray=r(function(t,n){for(var o=new zn,i=0,u=t.length;i<u;i++)o.add(t[i],n);return o},"ArraySet_fromArray");zn.prototype.size=r(function(){return Dr?this._set.size:Object.getOwnPropertyNames(this._set).length},"ArraySet_size");zn.prototype.add=r(function(t,n){var o=Dr?t:Rl.toSetString(t),i=Dr?this.has(t):Pl.call(this._set,o),u=this._array.length;(!i||n)&&this._array.push(t),i||(Dr?this._set.set(t,u):this._set[o]=u)},"ArraySet_add");zn.prototype.has=r(function(t){if(Dr)return this._set.has(t);var n=Rl.toSetString(t);return Pl.call(this._set,n)},"ArraySet_has");zn.prototype.indexOf=r(function(t){if(Dr){var n=this._set.get(t);if(n>=0)return n}else{var o=Rl.toSetString(t);if(Pl.call(this._set,o))return this._set[o]}throw new Error('"'+t+'" is not in the set.')},"ArraySet_indexOf");zn.prototype.at=r(function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},"ArraySet_at");zn.prototype.toArray=r(function(){return this._array.slice()},"ArraySet_toArray");E_.ArraySet=zn});var k_=z(P_=>{var R_=To();function $R(e,t){var n=e.generatedLine,o=t.generatedLine,i=e.generatedColumn,u=t.generatedColumn;return o>n||o==n&&u>=i||R_.compareByGeneratedPositionsInflated(e,t)<=0}r($R,"generatedPositionAfter");function ca(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}r(ca,"MappingList");ca.prototype.unsortedForEach=r(function(t,n){this._array.forEach(t,n)},"MappingList_forEach");ca.prototype.add=r(function(t){$R(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},"MappingList_add");ca.prototype.toArray=r(function(){return this._sorted||(this._array.sort(R_.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},"MappingList_toArray");P_.MappingList=ca});var Ml=z(M_=>{var qi=Tl(),rt=To(),la=kl().ArraySet,VR=k_().MappingList;function tn(e){e||(e={}),this._file=rt.getArg(e,"file",null),this._sourceRoot=rt.getArg(e,"sourceRoot",null),this._skipValidation=rt.getArg(e,"skipValidation",!1),this._sources=new la,this._names=new la,this._mappings=new VR,this._sourcesContents=null}r(tn,"SourceMapGenerator");tn.prototype._version=3;tn.fromSourceMap=r(function(t){var n=t.sourceRoot,o=new tn({file:t.file,sourceRoot:n});return t.eachMapping(function(i){var u={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(u.source=i.source,n!=null&&(u.source=rt.relative(n,u.source)),u.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(u.name=i.name)),o.addMapping(u)}),t.sources.forEach(function(i){var u=i;n!==null&&(u=rt.relative(n,i)),o._sources.has(u)||o._sources.add(u);var s=t.sourceContentFor(i);s!=null&&o.setSourceContent(i,s)}),o},"SourceMapGenerator_fromSourceMap");tn.prototype.addMapping=r(function(t){var n=rt.getArg(t,"generated"),o=rt.getArg(t,"original",null),i=rt.getArg(t,"source",null),u=rt.getArg(t,"name",null);this._skipValidation||this._validateMapping(n,o,i,u),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),u!=null&&(u=String(u),this._names.has(u)||this._names.add(u)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:o!=null&&o.line,originalColumn:o!=null&&o.column,source:i,name:u})},"SourceMapGenerator_addMapping");tn.prototype.setSourceContent=r(function(t,n){var o=t;this._sourceRoot!=null&&(o=rt.relative(this._sourceRoot,o)),n!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[rt.toSetString(o)]=n):this._sourcesContents&&(delete this._sourcesContents[rt.toSetString(o)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},"SourceMapGenerator_setSourceContent");tn.prototype.applySourceMap=r(function(t,n,o){var i=n;if(n==null){if(t.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=t.file}var u=this._sourceRoot;u!=null&&(i=rt.relative(u,i));var s=new la,a=new la;this._mappings.unsortedForEach(function(c){if(c.source===i&&c.originalLine!=null){var l=t.originalPositionFor({line:c.originalLine,column:c.originalColumn});l.source!=null&&(c.source=l.source,o!=null&&(c.source=rt.join(o,c.source)),u!=null&&(c.source=rt.relative(u,c.source)),c.originalLine=l.line,c.originalColumn=l.column,l.name!=null&&(c.name=l.name))}var f=c.source;f!=null&&!s.has(f)&&s.add(f);var p=c.name;p!=null&&!a.has(p)&&a.add(p)},this),this._sources=s,this._names=a,t.sources.forEach(function(c){var l=t.sourceContentFor(c);l!=null&&(o!=null&&(c=rt.join(o,c)),u!=null&&(c=rt.relative(u,c)),this.setSourceContent(c,l))},this)},"SourceMapGenerator_applySourceMap");tn.prototype._validateMapping=r(function(t,n,o,i){if(n&&typeof n.line!="number"&&typeof n.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(t&&"line"in t&&"column"in t&&t.line>0&&t.column>=0&&!n&&!o&&!i)){if(t&&"line"in t&&"column"in t&&n&&"line"in n&&"column"in n&&t.line>0&&t.column>=0&&n.line>0&&n.column>=0&&o)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:t,source:o,original:n,name:i}))}},"SourceMapGenerator_validateMapping");tn.prototype._serializeMappings=r(function(){for(var t=0,n=1,o=0,i=0,u=0,s=0,a="",c,l,f,p,h=this._mappings.toArray(),y=0,x=h.length;y<x;y++){if(l=h[y],c="",l.generatedLine!==n)for(t=0;l.generatedLine!==n;)c+=";",n++;else if(y>0){if(!rt.compareByGeneratedPositionsInflated(l,h[y-1]))continue;c+=","}c+=qi.encode(l.generatedColumn-t),t=l.generatedColumn,l.source!=null&&(p=this._sources.indexOf(l.source),c+=qi.encode(p-s),s=p,c+=qi.encode(l.originalLine-1-i),i=l.originalLine-1,c+=qi.encode(l.originalColumn-o),o=l.originalColumn,l.name!=null&&(f=this._names.indexOf(l.name),c+=qi.encode(f-u),u=f)),a+=c}return a},"SourceMapGenerator_serializeMappings");tn.prototype._generateSourcesContent=r(function(t,n){return t.map(function(o){if(!this._sourcesContents)return null;n!=null&&(o=rt.relative(n,o));var i=rt.toSetString(o);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)},"SourceMapGenerator_generateSourcesContent");tn.prototype.toJSON=r(function(){var t={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(t.file=this._file),this._sourceRoot!=null&&(t.sourceRoot=this._sourceRoot),this._sourcesContents&&(t.sourcesContent=this._generateSourcesContent(t.sources,t.sourceRoot)),t},"SourceMapGenerator_toJSON");tn.prototype.toString=r(function(){return JSON.stringify(this.toJSON())},"SourceMapGenerator_toString");M_.SourceMapGenerator=tn});var N_=z(jr=>{jr.GREATEST_LOWER_BOUND=1;jr.LEAST_UPPER_BOUND=2;function Nl(e,t,n,o,i,u){var s=Math.floor((t-e)/2)+e,a=i(n,o[s],!0);return a===0?s:a>0?t-s>1?Nl(s,t,n,o,i,u):u==jr.LEAST_UPPER_BOUND?t<o.length?t:-1:s:s-e>1?Nl(e,s,n,o,i,u):u==jr.LEAST_UPPER_BOUND?s:e<0?-1:e}r(Nl,"recursiveSearch");jr.search=r(function(t,n,o,i){if(n.length===0)return-1;var u=Nl(-1,n.length,t,n,o,i||jr.GREATEST_LOWER_BOUND);if(u<0)return-1;for(;u-1>=0&&o(n[u],n[u-1],!0)===0;)--u;return u},"search")});var L_=z(C_=>{function Cl(e,t,n){var o=e[t];e[t]=e[n],e[n]=o}r(Cl,"swap");function zR(e,t){return Math.round(e+Math.random()*(t-e))}r(zR,"randomIntInRange");function Ll(e,t,n,o){if(n<o){var i=zR(n,o),u=n-1;Cl(e,i,o);for(var s=e[o],a=n;a<o;a++)t(e[a],s)<=0&&(u+=1,Cl(e,u,a));Cl(e,u+1,a);var c=u+1;Ll(e,t,n,c-1),Ll(e,t,c+1,o)}}r(Ll,"doQuickSort");C_.quickSort=function(e,t){Ll(e,t,0,e.length-1)}});var F_=z(da=>{var Z=To(),Ol=N_(),Eo=kl().ArraySet,GR=Tl(),Bi=L_().quickSort;function Fe(e,t){var n=e;return typeof e=="string"&&(n=Z.parseSourceMapInput(e)),n.sections!=null?new yn(n,t):new gt(n,t)}r(Fe,"SourceMapConsumer");Fe.fromSourceMap=function(e,t){return gt.fromSourceMap(e,t)};Fe.prototype._version=3;Fe.prototype.__generatedMappings=null;Object.defineProperty(Fe.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings},"get")});Fe.prototype.__originalMappings=null;Object.defineProperty(Fe.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:r(function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings},"get")});Fe.prototype._charIsMappingSeparator=r(function(t,n){var o=t.charAt(n);return o===";"||o===","},"SourceMapConsumer_charIsMappingSeparator");Fe.prototype._parseMappings=r(function(t,n){throw new Error("Subclasses must implement _parseMappings")},"SourceMapConsumer_parseMappings");Fe.GENERATED_ORDER=1;Fe.ORIGINAL_ORDER=2;Fe.GREATEST_LOWER_BOUND=1;Fe.LEAST_UPPER_BOUND=2;Fe.prototype.eachMapping=r(function(t,n,o){var i=n||null,u=o||Fe.GENERATED_ORDER,s;switch(u){case Fe.GENERATED_ORDER:s=this._generatedMappings;break;case Fe.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var a=this.sourceRoot;s.map(function(c){var l=c.source===null?null:this._sources.at(c.source);return l=Z.computeSourceURL(a,l,this._sourceMapURL),{source:l,generatedLine:c.generatedLine,generatedColumn:c.generatedColumn,originalLine:c.originalLine,originalColumn:c.originalColumn,name:c.name===null?null:this._names.at(c.name)}},this).forEach(t,i)},"SourceMapConsumer_eachMapping");Fe.prototype.allGeneratedPositionsFor=r(function(t){var n=Z.getArg(t,"line"),o={source:Z.getArg(t,"source"),originalLine:n,originalColumn:Z.getArg(t,"column",0)};if(o.source=this._findSourceIndex(o.source),o.source<0)return[];var i=[],u=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",Z.compareByOriginalPositions,Ol.LEAST_UPPER_BOUND);if(u>=0){var s=this._originalMappings[u];if(t.column===void 0)for(var a=s.originalLine;s&&s.originalLine===a;)i.push({line:Z.getArg(s,"generatedLine",null),column:Z.getArg(s,"generatedColumn",null),lastColumn:Z.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u];else for(var c=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==c;)i.push({line:Z.getArg(s,"generatedLine",null),column:Z.getArg(s,"generatedColumn",null),lastColumn:Z.getArg(s,"lastGeneratedColumn",null)}),s=this._originalMappings[++u]}return i},"SourceMapConsumer_allGeneratedPositionsFor");da.SourceMapConsumer=Fe;function gt(e,t){var n=e;typeof e=="string"&&(n=Z.parseSourceMapInput(e));var o=Z.getArg(n,"version"),i=Z.getArg(n,"sources"),u=Z.getArg(n,"names",[]),s=Z.getArg(n,"sourceRoot",null),a=Z.getArg(n,"sourcesContent",null),c=Z.getArg(n,"mappings"),l=Z.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);s&&(s=Z.normalize(s)),i=i.map(String).map(Z.normalize).map(function(f){return s&&Z.isAbsolute(s)&&Z.isAbsolute(f)?Z.relative(s,f):f}),this._names=Eo.fromArray(u.map(String),!0),this._sources=Eo.fromArray(i,!0),this._absoluteSources=this._sources.toArray().map(function(f){return Z.computeSourceURL(s,f,t)}),this.sourceRoot=s,this.sourcesContent=a,this._mappings=c,this._sourceMapURL=t,this.file=l}r(gt,"BasicSourceMapConsumer");gt.prototype=Object.create(Fe.prototype);gt.prototype.consumer=Fe;gt.prototype._findSourceIndex=function(e){var t=e;if(this.sourceRoot!=null&&(t=Z.relative(this.sourceRoot,t)),this._sources.has(t))return this._sources.indexOf(t);var n;for(n=0;n<this._absoluteSources.length;++n)if(this._absoluteSources[n]==e)return n;return-1};gt.fromSourceMap=r(function(t,n){var o=Object.create(gt.prototype),i=o._names=Eo.fromArray(t._names.toArray(),!0),u=o._sources=Eo.fromArray(t._sources.toArray(),!0);o.sourceRoot=t._sourceRoot,o.sourcesContent=t._generateSourcesContent(o._sources.toArray(),o.sourceRoot),o.file=t._file,o._sourceMapURL=n,o._absoluteSources=o._sources.toArray().map(function(y){return Z.computeSourceURL(o.sourceRoot,y,n)});for(var s=t._mappings.toArray().slice(),a=o.__generatedMappings=[],c=o.__originalMappings=[],l=0,f=s.length;l<f;l++){var p=s[l],h=new O_;h.generatedLine=p.generatedLine,h.generatedColumn=p.generatedColumn,p.source&&(h.source=u.indexOf(p.source),h.originalLine=p.originalLine,h.originalColumn=p.originalColumn,p.name&&(h.name=i.indexOf(p.name)),c.push(h)),a.push(h)}return Bi(o.__originalMappings,Z.compareByOriginalPositions),o},"SourceMapConsumer_fromSourceMap");gt.prototype._version=3;Object.defineProperty(gt.prototype,"sources",{get:r(function(){return this._absoluteSources.slice()},"get")});function O_(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}r(O_,"Mapping");gt.prototype._parseMappings=r(function(t,n){for(var o=1,i=0,u=0,s=0,a=0,c=0,l=t.length,f=0,p={},h={},y=[],x=[],S,N,R,B,A;f<l;)if(t.charAt(f)===";")o++,f++,i=0;else if(t.charAt(f)===",")f++;else{for(S=new O_,S.generatedLine=o,B=f;B<l&&!this._charIsMappingSeparator(t,B);B++);if(N=t.slice(f,B),R=p[N],R)f+=N.length;else{for(R=[];f<B;)GR.decode(t,f,h),A=h.value,f=h.rest,R.push(A);if(R.length===2)throw new Error("Found a source, but no line and column");if(R.length===3)throw new Error("Found a source and line, but no column");p[N]=R}S.generatedColumn=i+R[0],i=S.generatedColumn,R.length>1&&(S.source=a+R[1],a+=R[1],S.originalLine=u+R[2],u=S.originalLine,S.originalLine+=1,S.originalColumn=s+R[3],s=S.originalColumn,R.length>4&&(S.name=c+R[4],c+=R[4])),x.push(S),typeof S.originalLine=="number"&&y.push(S)}Bi(x,Z.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,Bi(y,Z.compareByOriginalPositions),this.__originalMappings=y},"SourceMapConsumer_parseMappings");gt.prototype._findMapping=r(function(t,n,o,i,u,s){if(t[o]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+t[o]);if(t[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+t[i]);return Ol.search(t,n,u,s)},"SourceMapConsumer_findMapping");gt.prototype.computeColumnSpans=r(function(){for(var t=0;t<this._generatedMappings.length;++t){var n=this._generatedMappings[t];if(t+1<this._generatedMappings.length){var o=this._generatedMappings[t+1];if(n.generatedLine===o.generatedLine){n.lastGeneratedColumn=o.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},"SourceMapConsumer_computeColumnSpans");gt.prototype.originalPositionFor=r(function(t){var n={generatedLine:Z.getArg(t,"line"),generatedColumn:Z.getArg(t,"column")},o=this._findMapping(n,this._generatedMappings,"generatedLine","generatedColumn",Z.compareByGeneratedPositionsDeflated,Z.getArg(t,"bias",Fe.GREATEST_LOWER_BOUND));if(o>=0){var i=this._generatedMappings[o];if(i.generatedLine===n.generatedLine){var u=Z.getArg(i,"source",null);u!==null&&(u=this._sources.at(u),u=Z.computeSourceURL(this.sourceRoot,u,this._sourceMapURL));var s=Z.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:u,line:Z.getArg(i,"originalLine",null),column:Z.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},"SourceMapConsumer_originalPositionFor");gt.prototype.hasContentsOfAllSources=r(function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(t){return t==null}):!1},"BasicSourceMapConsumer_hasContentsOfAllSources");gt.prototype.sourceContentFor=r(function(t,n){if(!this.sourcesContent)return null;var o=this._findSourceIndex(t);if(o>=0)return this.sourcesContent[o];var i=t;this.sourceRoot!=null&&(i=Z.relative(this.sourceRoot,i));var u;if(this.sourceRoot!=null&&(u=Z.urlParse(this.sourceRoot))){var s=i.replace(/^file:\/\//,"");if(u.scheme=="file"&&this._sources.has(s))return this.sourcesContent[this._sources.indexOf(s)];if((!u.path||u.path=="/")&&this._sources.has("/"+i))return this.sourcesContent[this._sources.indexOf("/"+i)]}if(n)return null;throw new Error('"'+i+'" is not in the SourceMap.')},"SourceMapConsumer_sourceContentFor");gt.prototype.generatedPositionFor=r(function(t){var n=Z.getArg(t,"source");if(n=this._findSourceIndex(n),n<0)return{line:null,column:null,lastColumn:null};var o={source:n,originalLine:Z.getArg(t,"line"),originalColumn:Z.getArg(t,"column")},i=this._findMapping(o,this._originalMappings,"originalLine","originalColumn",Z.compareByOriginalPositions,Z.getArg(t,"bias",Fe.GREATEST_LOWER_BOUND));if(i>=0){var u=this._originalMappings[i];if(u.source===o.source)return{line:Z.getArg(u,"generatedLine",null),column:Z.getArg(u,"generatedColumn",null),lastColumn:Z.getArg(u,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},"SourceMapConsumer_generatedPositionFor");da.BasicSourceMapConsumer=gt;function yn(e,t){var n=e;typeof e=="string"&&(n=Z.parseSourceMapInput(e));var o=Z.getArg(n,"version"),i=Z.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new Eo,this._names=new Eo;var u={line:-1,column:0};this._sections=i.map(function(s){if(s.url)throw new Error("Support for url field in sections not implemented.");var a=Z.getArg(s,"offset"),c=Z.getArg(a,"line"),l=Z.getArg(a,"column");if(c<u.line||c===u.line&&l<u.column)throw new Error("Section offsets must be ordered and non-overlapping.");return u=a,{generatedOffset:{generatedLine:c+1,generatedColumn:l+1},consumer:new Fe(Z.getArg(s,"map"),t)}})}r(yn,"IndexedSourceMapConsumer");yn.prototype=Object.create(Fe.prototype);yn.prototype.constructor=Fe;yn.prototype._version=3;Object.defineProperty(yn.prototype,"sources",{get:r(function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e},"get")});yn.prototype.originalPositionFor=r(function(t){var n={generatedLine:Z.getArg(t,"line"),generatedColumn:Z.getArg(t,"column")},o=Ol.search(n,this._sections,function(u,s){var a=u.generatedLine-s.generatedOffset.generatedLine;return a||u.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[o];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:t.bias}):{source:null,line:null,column:null,name:null}},"IndexedSourceMapConsumer_originalPositionFor");yn.prototype.hasContentsOfAllSources=r(function(){return this._sections.every(function(t){return t.consumer.hasContentsOfAllSources()})},"IndexedSourceMapConsumer_hasContentsOfAllSources");yn.prototype.sourceContentFor=r(function(t,n){for(var o=0;o<this._sections.length;o++){var i=this._sections[o],u=i.consumer.sourceContentFor(t,!0);if(u)return u}if(n)return null;throw new Error('"'+t+'" is not in the SourceMap.')},"IndexedSourceMapConsumer_sourceContentFor");yn.prototype.generatedPositionFor=r(function(t){for(var n=0;n<this._sections.length;n++){var o=this._sections[n];if(o.consumer._findSourceIndex(Z.getArg(t,"source"))!==-1){var i=o.consumer.generatedPositionFor(t);if(i){var u={line:i.line+(o.generatedOffset.generatedLine-1),column:i.column+(o.generatedOffset.generatedLine===i.line?o.generatedOffset.generatedColumn-1:0)};return u}}}return{line:null,column:null}},"IndexedSourceMapConsumer_generatedPositionFor");yn.prototype._parseMappings=r(function(t,n){this.__generatedMappings=[],this.__originalMappings=[];for(var o=0;o<this._sections.length;o++)for(var i=this._sections[o],u=i.consumer._generatedMappings,s=0;s<u.length;s++){var a=u[s],c=i.consumer._sources.at(a.source);c=Z.computeSourceURL(i.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var l=null;a.name&&(l=i.consumer._names.at(a.name),this._names.add(l),l=this._names.indexOf(l));var f={source:c,generatedLine:a.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:a.generatedColumn+(i.generatedOffset.generatedLine===a.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:a.originalLine,originalColumn:a.originalColumn,name:l};this.__generatedMappings.push(f),typeof f.originalLine=="number"&&this.__originalMappings.push(f)}Bi(this.__generatedMappings,Z.compareByGeneratedPositionsDeflated),Bi(this.__originalMappings,Z.compareByOriginalPositions)},"IndexedSourceMapConsumer_parseMappings");da.IndexedSourceMapConsumer=yn});var D_=z(A_=>{var KR=Ml().SourceMapGenerator,fa=To(),HR=/(\r?\n)/,ZR=10,Ro="$$$isSourceNode$$$";function Bt(e,t,n,o,i){this.children=[],this.sourceContents={},this.line=e==null?null:e,this.column=t==null?null:t,this.source=n==null?null:n,this.name=i==null?null:i,this[Ro]=!0,o!=null&&this.add(o)}r(Bt,"SourceNode");Bt.fromStringWithSourceMap=r(function(t,n,o){var i=new Bt,u=t.split(HR),s=0,a=r(function(){var h=x(),y=x()||"";return h+y;function x(){return s<u.length?u[s++]:void 0}},"shiftNextLine"),c=1,l=0,f=null;return n.eachMapping(function(h){if(f!==null)if(c<h.generatedLine)p(f,a()),c++,l=0;else{var y=u[s]||"",x=y.substr(0,h.generatedColumn-l);u[s]=y.substr(h.generatedColumn-l),l=h.generatedColumn,p(f,x),f=h;return}for(;c<h.generatedLine;)i.add(a()),c++;if(l<h.generatedColumn){var y=u[s]||"";i.add(y.substr(0,h.generatedColumn)),u[s]=y.substr(h.generatedColumn),l=h.generatedColumn}f=h},this),s<u.length&&(f&&p(f,a()),i.add(u.splice(s).join(""))),n.sources.forEach(function(h){var y=n.sourceContentFor(h);y!=null&&(o!=null&&(h=fa.join(o,h)),i.setSourceContent(h,y))}),i;function p(h,y){if(h===null||h.source===void 0)i.add(y);else{var x=o?fa.join(o,h.source):h.source;i.add(new Bt(h.originalLine,h.originalColumn,x,y,h.name))}}r(p,"addMappingWithCode")},"SourceNode_fromStringWithSourceMap");Bt.prototype.add=r(function(t){if(Array.isArray(t))t.forEach(function(n){this.add(n)},this);else if(t[Ro]||typeof t=="string")t&&this.children.push(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_add");Bt.prototype.prepend=r(function(t){if(Array.isArray(t))for(var n=t.length-1;n>=0;n--)this.prepend(t[n]);else if(t[Ro]||typeof t=="string")this.children.unshift(t);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+t);return this},"SourceNode_prepend");Bt.prototype.walk=r(function(t){for(var n,o=0,i=this.children.length;o<i;o++)n=this.children[o],n[Ro]?n.walk(t):n!==""&&t(n,{source:this.source,line:this.line,column:this.column,name:this.name})},"SourceNode_walk");Bt.prototype.join=r(function(t){var n,o,i=this.children.length;if(i>0){for(n=[],o=0;o<i-1;o++)n.push(this.children[o]),n.push(t);n.push(this.children[o]),this.children=n}return this},"SourceNode_join");Bt.prototype.replaceRight=r(function(t,n){var o=this.children[this.children.length-1];return o[Ro]?o.replaceRight(t,n):typeof o=="string"?this.children[this.children.length-1]=o.replace(t,n):this.children.push("".replace(t,n)),this},"SourceNode_replaceRight");Bt.prototype.setSourceContent=r(function(t,n){this.sourceContents[fa.toSetString(t)]=n},"SourceNode_setSourceContent");Bt.prototype.walkSourceContents=r(function(t){for(var n=0,o=this.children.length;n<o;n++)this.children[n][Ro]&&this.children[n].walkSourceContents(t);for(var i=Object.keys(this.sourceContents),n=0,o=i.length;n<o;n++)t(fa.fromSetString(i[n]),this.sourceContents[i[n]])},"SourceNode_walkSourceContents");Bt.prototype.toString=r(function(){var t="";return this.walk(function(n){t+=n}),t},"SourceNode_toString");Bt.prototype.toStringWithSourceMap=r(function(t){var n={code:"",line:1,column:0},o=new KR(t),i=!1,u=null,s=null,a=null,c=null;return this.walk(function(l,f){n.code+=l,f.source!==null&&f.line!==null&&f.column!==null?((u!==f.source||s!==f.line||a!==f.column||c!==f.name)&&o.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:n.line,column:n.column},name:f.name}),u=f.source,s=f.line,a=f.column,c=f.name,i=!0):i&&(o.addMapping({generated:{line:n.line,column:n.column}}),u=null,i=!1);for(var p=0,h=l.length;p<h;p++)l.charCodeAt(p)===ZR?(n.line++,n.column=0,p+1===h?(u=null,i=!1):i&&o.addMapping({source:f.source,original:{line:f.line,column:f.column},generated:{line:n.line,column:n.column},name:f.name})):n.column++}),this.walkSourceContents(function(l,f){o.setSourceContent(l,f)}),{code:n.code,map:o}},"SourceNode_toStringWithSourceMap");A_.SourceNode=Bt});var j_=z(ma=>{ma.SourceMapGenerator=Ml().SourceMapGenerator;ma.SourceMapConsumer=F_().SourceMapConsumer;ma.SourceNode=D_().SourceNode});var q_=z((a3,U_)=>{var QR=Object.prototype.toString,Fl=typeof Buffer<"u"&&typeof Buffer.alloc=="function"&&typeof Buffer.allocUnsafe=="function"&&typeof Buffer.from=="function";function JR(e){return QR.call(e).slice(8,-1)==="ArrayBuffer"}r(JR,"isArrayBuffer");function XR(e,t,n){t>>>=0;var o=e.byteLength-t;if(o<0)throw new RangeError("'offset' is out of bounds");if(n===void 0)n=o;else if(n>>>=0,n>o)throw new RangeError("'length' is out of bounds");return Fl?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}r(XR,"fromArrayBuffer");function YR(e,t){if((typeof t!="string"||t==="")&&(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return Fl?Buffer.from(e,t):new Buffer(e,t)}r(YR,"fromString");function eP(e,t,n){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return JR(e)?XR(e,t,n):typeof e=="string"?YR(e,t):Fl?Buffer.from(e):new Buffer(e)}r(eP,"bufferFrom");U_.exports=eP});var H_=z((qr,Ul)=>{var tP=j_().SourceMapConsumer,Al=require("path"),kn;try{kn=require("fs"),(!kn.existsSync||!kn.readFileSync)&&(kn=null)}catch{}var nP=q_();function B_(e,t){return e.require(t)}r(B_,"dynamicRequire");var W_=!1,$_=!1,Dl=!1,Wi="auto",Ur={},$i={},rP=/^data:application\/json[^,]+base64,/,ur=[],cr=[];function ql(){return Wi==="browser"?!0:Wi==="node"?!1:typeof window<"u"&&typeof XMLHttpRequest=="function"&&!(window.require&&window.module&&window.process&&window.process.type==="renderer")}r(ql,"isInBrowser");function oP(){return typeof process=="object"&&process!==null&&typeof process.on=="function"}r(oP,"hasGlobalProcessEventEmitter");function iP(){return typeof process=="object"&&process!==null?process.version:""}r(iP,"globalProcessVersion");function sP(){if(typeof process=="object"&&process!==null)return process.stderr}r(sP,"globalProcessStderr");function aP(e){if(typeof process=="object"&&process!==null&&typeof process.exit=="function")return process.exit(e)}r(aP,"globalProcessExit");function pa(e){return function(t){for(var n=0;n<e.length;n++){var o=e[n](t);if(o)return o}return null}}r(pa,"handlerExec");var Bl=pa(ur);ur.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(o,i){return i?"":"/"})),e in Ur)return Ur[e];var t="";try{if(kn)kn.existsSync(e)&&(t=kn.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),n.readyState===4&&n.status===200&&(t=n.responseText)}}catch{}return Ur[e]=t});function jl(e,t){if(!e)return t;var n=Al.dirname(e),o=/^\w+:\/\/[^\/]*/.exec(n),i=o?o[0]:"",u=n.slice(i.length);return i&&/^\/\w\:/.test(u)?(i+="/",i+Al.resolve(n.slice(i.length),t).replace(/\\/g,"/")):i+Al.resolve(n.slice(i.length),t)}r(jl,"supportRelativeURL");function uP(e){var t;if(ql())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=n.readyState===4?n.responseText:null;var o=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(o)return o}catch{}t=Bl(e);for(var i=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg,u,s;s=i.exec(t);)u=s;return u?u[1]:null}r(uP,"retrieveSourceMapURL");var Wl=pa(cr);cr.push(function(e){var t=uP(e);if(!t)return null;var n;if(rP.test(t)){var o=t.slice(t.indexOf(",")+1);n=nP(o,"base64").toString(),t=e}else t=jl(e,t),n=Bl(t);return n?{url:t,map:n}:null});function $l(e){var t=$i[e.source];if(!t){var n=Wl(e.source);n?(t=$i[e.source]={url:n.url,map:new tP(n.map)},t.map.sourcesContent&&t.map.sources.forEach(function(i,u){var s=t.map.sourcesContent[u];if(s){var a=jl(t.url,i);Ur[a]=s}})):t=$i[e.source]={url:null,map:null}}if(t&&t.map&&typeof t.map.originalPositionFor=="function"){var o=t.map.originalPositionFor(e);if(o.source!==null)return o.source=jl(t.url,o.source),o}return e}r($l,"mapSourcePosition");function z_(e){var t=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(e);if(t){var n=$l({source:t[2],line:+t[3],column:t[4]-1});return"eval at "+t[1]+" ("+n.source+":"+n.line+":"+(n.column+1)+")"}return t=/^eval at ([^(]+) \((.+)\)$/.exec(e),t?"eval at "+t[1]+" ("+z_(t[2])+")":e}r(z_,"mapEvalOrigin");function cP(){var e,t="";if(this.isNative())t="native";else{e=this.getScriptNameOrSourceURL(),!e&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),e?t+=e:t+="<anonymous>";var n=this.getLineNumber();if(n!=null){t+=":"+n;var o=this.getColumnNumber();o&&(t+=":"+o)}}var i="",u=this.getFunctionName(),s=!0,a=this.isConstructor(),c=!(this.isToplevel()||a);if(c){var l=this.getTypeName();l==="[object Object]"&&(l="null");var f=this.getMethodName();u?(l&&u.indexOf(l)!=0&&(i+=l+"."),i+=u,f&&u.indexOf("."+f)!=u.length-f.length-1&&(i+=" [as "+f+"]")):i+=l+"."+(f||"<anonymous>")}else a?i+="new "+(u||"<anonymous>"):u?i+=u:(i+=t,s=!1);return s&&(i+=" ("+t+")"),i}r(cP,"CallSiteToString");function V_(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]}),t.toString=cP,t}r(V_,"cloneCallSite");function G_(e,t){if(t===void 0&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var o=e.getLineNumber(),i=e.getColumnNumber()-1,u=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/,s=u.test(iP())?0:62;o===1&&i>s&&!ql()&&!e.isEval()&&(i-=s);var a=$l({source:n,line:o,column:i});t.curPosition=a,e=V_(e);var c=e.getFunctionName;return e.getFunctionName=function(){return t.nextPosition==null?c():t.nextPosition.name||c()},e.getFileName=function(){return a.source},e.getLineNumber=function(){return a.line},e.getColumnNumber=function(){return a.column+1},e.getScriptNameOrSourceURL=function(){return a.source},e}var l=e.isEval()&&e.getEvalOrigin();return l&&(l=z_(l),e=V_(e),e.getEvalOrigin=function(){return l}),e}r(G_,"wrapCallSite");function lP(e,t){Dl&&(Ur={},$i={});for(var n=e.name||"Error",o=e.message||"",i=n+": "+o,u={nextPosition:null,curPosition:null},s=[],a=t.length-1;a>=0;a--)s.push(`
    at `+G_(t[a],u)),u.nextPosition=u.curPosition;return u.curPosition=u.nextPosition=null,i+s.reverse().join("")}r(lP,"prepareStackTrace");function K_(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],o=+t[2],i=+t[3],u=Ur[n];if(!u&&kn&&kn.existsSync(n))try{u=kn.readFileSync(n,"utf8")}catch{u=""}if(u){var s=u.split(/(?:\r\n|\r|\n)/)[o-1];if(s)return n+":"+o+`
`+s+`
`+new Array(i).join(" ")+"^"}}return null}r(K_,"getErrorSource");function dP(e){var t=K_(e),n=sP();n&&n._handle&&n._handle.setBlocking&&n._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),aP(1)}r(dP,"printErrorAndExit");function fP(){var e=process.emit;process.emit=function(t){if(t==="uncaughtException"){var n=arguments[1]&&arguments[1].stack,o=this.listeners(t).length>0;if(n&&!o)return dP(arguments[1])}return e.apply(this,arguments)}}r(fP,"shimEmitUncaughtException");var mP=ur.slice(0),pP=cr.slice(0);qr.wrapCallSite=G_;qr.getErrorSource=K_;qr.mapSourcePosition=$l;qr.retrieveSourceMap=Wl;qr.install=function(e){if(e=e||{},e.environment&&(Wi=e.environment,["node","browser","auto"].indexOf(Wi)===-1))throw new Error("environment "+Wi+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(ur.length=0),ur.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(cr.length=0),cr.unshift(e.retrieveSourceMap)),e.hookRequire&&!ql()){var t=B_(Ul,"module"),n=t.prototype._compile;n.__sourceMapSupport||(t.prototype._compile=function(u,s){return Ur[s]=u,$i[s]=void 0,n.call(this,u,s)},t.prototype._compile.__sourceMapSupport=!0)}if(Dl||(Dl="emptyCacheBetweenOperations"in e?e.emptyCacheBetweenOperations:!1),W_||(W_=!0,Error.prepareStackTrace=lP),!$_){var o="handleUncaughtExceptions"in e?e.handleUncaughtExceptions:!0;try{var i=B_(Ul,"worker_threads");i.isMainThread===!1&&(o=!1)}catch{}o&&oP()&&($_=!0,fP())}};qr.resetRetrieveHandlers=function(){ur.length=0,cr.length=0,ur=mP.slice(0),cr=pP.slice(0),Wl=pa(cr),Bl=pa(ur)}});var Z_=z(()=>{H_().install()});var ly=z((_z,cy)=>{var hd=require("fs"),Ra=require("path"),Ji=Ra.join,NP=Ra.dirname,ay=hd.accessSync&&function(e){try{hd.accessSync(e)}catch{return!1}return!0}||hd.existsSync||Ra.existsSync,uy={arrow:process.env.NODE_BINDINGS_ARROW||" \u2192 ",compiled:process.env.NODE_BINDINGS_COMPILED_DIR||"compiled",platform:process.platform,arch:process.arch,nodePreGyp:"node-v"+process.versions.modules+"-"+process.platform+"-"+process.arch,version:process.versions.node,bindings:"bindings.node",try:[["module_root","build","bindings"],["module_root","build","Debug","bindings"],["module_root","build","Release","bindings"],["module_root","out","Debug","bindings"],["module_root","Debug","bindings"],["module_root","out","Release","bindings"],["module_root","Release","bindings"],["module_root","build","default","bindings"],["module_root","compiled","version","platform","arch","bindings"],["module_root","compiled","platform","arch","bindings"]]};function CP(e){typeof e=="string"?e={bindings:e}:e||(e={}),Object.keys(uy).map(function(c){c in e||(e[c]=uy[c])}),e.module_root||(e.module_root=LP(__filename)),Ra.extname(e.bindings)!=".node"&&(e.bindings+=".node");for(var t=typeof __webpack_require__=="function"?__non_webpack_require__:require,n=[],o=0,i=e.try.length,u,s,a;o<i;o++){u=Ji.apply(null,e.try[o].map(function(c){return e[c]||c})),n.push(u);try{return s=e.path?t.resolve(u):t(u),e.path||(s.path=u),s}catch(c){if(c.code!=="MODULE_NOT_FOUND"&&c.code!=="QUALIFIED_PATH_RESOLUTION_FAILED"&&!/not find/i.test(c.message))throw c}}throw a=new Error(`Could not locate the bindings file. Tried:
`+n.map(function(c){return e.arrow+c}).join(`
`)),a.tries=n,a}r(CP,"bindings");cy.exports=CP;function LP(e){for(var t=NP(e),n;;){if(t==="."&&(t=process.cwd()),ay(Ji(t,"dist")))return Ji(t,"dist");if(ay(Ji(t,"compiled")))return t;if(n===t)throw new Error('Could not find module root given file: "'+e+'". Do you have a `dist` or `compiled` directory? ');n=t,t=Ji(t,"..")}}r(LP,"getRoot")});var fy=z((bz,dy)=>{dy.exports=ly()("node_sqlite3.node")});var gy=z(py=>{var OP=require("util");function FP(e,t,n){let o=e[t];e[t]=function(){let i=new Error,u=e.constructor.name+"#"+t+"("+Array.prototype.slice.call(arguments).map(function(a){return OP.inspect(a,!1,0)}).join(", ")+")";typeof n>"u"&&(n=-1),n<0&&(n+=arguments.length);let s=arguments[n];return typeof arguments[n]=="function"&&(arguments[n]=r(function(){let c=arguments[0];return c&&c.stack&&!c.__augmented&&(c.stack=my(c).join(`
`),c.stack+=`
--> in `+u,c.stack+=`
`+my(i).slice(1).join(`
`),c.__augmented=!0),s.apply(this,arguments)},"replacement")),o.apply(this,arguments)}}r(FP,"extendTrace");py.extendTrace=FP;function my(e){return e.stack.split(`
`).filter(function(t){return t.indexOf(__filename)<0})}r(my,"filter")});var by=z((_y,yy)=>{var AP=require("path"),on=fy(),Co=require("events").EventEmitter;yy.exports=_y=on;function Lo(e){return function(t){let n,o=Array.prototype.slice.call(arguments,1);if(typeof o[o.length-1]=="function"){let u=o[o.length-1];n=r(function(s){s&&u(s)},"errBack")}let i=new Pa(this,t,n);return e.call(this,i,o)}}r(Lo,"normalizeMethod");function yd(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}r(yd,"inherits");on.cached={Database:r(function(e,t,n){if(e===""||e===":memory:")return new Rt(e,t,n);let o;if(e=AP.resolve(e),!on.cached.objects[e])o=on.cached.objects[e]=new Rt(e,t,n);else{o=on.cached.objects[e];let u=typeof t=="number"?n:t;if(typeof u=="function"){let s=function(){u.call(o,null)};var i=s;r(s,"cb"),o.open?process.nextTick(s):o.once("open",s)}}return o},"Database"),objects:{}};var Rt=on.Database,Pa=on.Statement,_d=on.Backup;yd(Rt,Co);yd(Pa,Co);yd(_d,Co);Rt.prototype.prepare=Lo(function(e,t){return t.length?e.bind.apply(e,t):e});Rt.prototype.run=Lo(function(e,t){return e.run.apply(e,t).finalize(),this});Rt.prototype.get=Lo(function(e,t){return e.get.apply(e,t).finalize(),this});Rt.prototype.all=Lo(function(e,t){return e.all.apply(e,t).finalize(),this});Rt.prototype.each=Lo(function(e,t){return e.each.apply(e,t).finalize(),this});Rt.prototype.map=Lo(function(e,t){return e.map.apply(e,t).finalize(),this});Rt.prototype.backup=function(){let e;return arguments.length<=2?e=new _d(this,arguments[0],"main","main",!0,arguments[1]):e=new _d(this,arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]),e.retryErrors=[on.BUSY,on.LOCKED],e};Pa.prototype.map=function(){let e=Array.prototype.slice.call(arguments),t=e.pop();return e.push(function(n,o){if(n)return t(n);let i={};if(o.length){let u=Object.keys(o[0]),s=u[0];if(u.length>2)for(let a=0;a<o.length;a++)i[o[a][s]]=o[a];else{let a=u[1];for(let c=0;c<o.length;c++)i[o[c][s]]=o[c][a]}}t(n,i)}),this.all.apply(this,e)};var hy=!1,bd=["trace","profile","change"];Rt.prototype.addListener=Rt.prototype.on=function(e){let t=Co.prototype.addListener.apply(this,arguments);return bd.indexOf(e)>=0&&this.configure(e,!0),t};Rt.prototype.removeListener=function(e){let t=Co.prototype.removeListener.apply(this,arguments);return bd.indexOf(e)>=0&&!this._events[e]&&this.configure(e,!1),t};Rt.prototype.removeAllListeners=function(e){let t=Co.prototype.removeAllListeners.apply(this,arguments);return bd.indexOf(e)>=0&&this.configure(e,!1),t};on.verbose=function(){if(!hy){let e=gy();["prepare","get","run","all","each","map","close","exec"].forEach(function(t){e.extendTrace(Rt.prototype,t)}),["bind","get","run","all","each","map","reset","finalize"].forEach(function(t){e.extendTrace(Pa.prototype,t)}),hy=!0}return on}});var Fo=z(xt=>{"use strict";Object.defineProperty(xt,"__esModule",{value:!0});xt.stringArray=xt.array=xt.func=xt.error=xt.number=xt.string=xt.boolean=void 0;function jP(e){return e===!0||e===!1}r(jP,"boolean");xt.boolean=jP;function Iy(e){return typeof e=="string"||e instanceof String}r(Iy,"string");xt.string=Iy;function UP(e){return typeof e=="number"||e instanceof Number}r(UP,"number");xt.number=UP;function qP(e){return e instanceof Error}r(qP,"error");xt.error=qP;function BP(e){return typeof e=="function"}r(BP,"func");xt.func=BP;function xy(e){return Array.isArray(e)}r(xy,"array");xt.array=xy;function WP(e){return xy(e)&&e.every(t=>Iy(t))}r(WP,"stringArray");xt.stringArray=WP});var wf=z(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.Message=X.NotificationType9=X.NotificationType8=X.NotificationType7=X.NotificationType6=X.NotificationType5=X.NotificationType4=X.NotificationType3=X.NotificationType2=X.NotificationType1=X.NotificationType0=X.NotificationType=X.RequestType9=X.RequestType8=X.RequestType7=X.RequestType6=X.RequestType5=X.RequestType4=X.RequestType3=X.RequestType2=X.RequestType1=X.RequestType=X.RequestType0=X.AbstractMessageSignature=X.ParameterStructures=X.ResponseError=X.ErrorCodes=void 0;var Vr=Fo(),Ed;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Ed||(X.ErrorCodes=Ed={}));var La=class La extends Error{constructor(t,n,o){super(n),this.code=Vr.number(t)?t:Ed.UnknownErrorCode,this.data=o,Object.setPrototypeOf(this,La.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};r(La,"ResponseError");var Rd=La;X.ResponseError=Rd;var Ao=class Ao{constructor(t){this.kind=t}static is(t){return t===Ao.auto||t===Ao.byName||t===Ao.byPosition}toString(){return this.kind}};r(Ao,"ParameterStructures");var Ot=Ao;X.ParameterStructures=Ot;Ot.auto=new Ot("auto");Ot.byPosition=new Ot("byPosition");Ot.byName=new Ot("byName");var Qd=class Qd{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return Ot.auto}};r(Qd,"AbstractMessageSignature");var Ae=Qd;X.AbstractMessageSignature=Ae;var Jd=class Jd extends Ae{constructor(t){super(t,0)}};r(Jd,"RequestType0");var Pd=Jd;X.RequestType0=Pd;var Xd=class Xd extends Ae{constructor(t,n=Ot.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(Xd,"RequestType");var kd=Xd;X.RequestType=kd;var Yd=class Yd extends Ae{constructor(t,n=Ot.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(Yd,"RequestType1");var Md=Yd;X.RequestType1=Md;var ef=class ef extends Ae{constructor(t){super(t,2)}};r(ef,"RequestType2");var Nd=ef;X.RequestType2=Nd;var tf=class tf extends Ae{constructor(t){super(t,3)}};r(tf,"RequestType3");var Cd=tf;X.RequestType3=Cd;var nf=class nf extends Ae{constructor(t){super(t,4)}};r(nf,"RequestType4");var Ld=nf;X.RequestType4=Ld;var rf=class rf extends Ae{constructor(t){super(t,5)}};r(rf,"RequestType5");var Od=rf;X.RequestType5=Od;var of=class of extends Ae{constructor(t){super(t,6)}};r(of,"RequestType6");var Fd=of;X.RequestType6=Fd;var sf=class sf extends Ae{constructor(t){super(t,7)}};r(sf,"RequestType7");var Ad=sf;X.RequestType7=Ad;var af=class af extends Ae{constructor(t){super(t,8)}};r(af,"RequestType8");var Dd=af;X.RequestType8=Dd;var uf=class uf extends Ae{constructor(t){super(t,9)}};r(uf,"RequestType9");var jd=uf;X.RequestType9=jd;var cf=class cf extends Ae{constructor(t,n=Ot.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(cf,"NotificationType");var Ud=cf;X.NotificationType=Ud;var lf=class lf extends Ae{constructor(t){super(t,0)}};r(lf,"NotificationType0");var qd=lf;X.NotificationType0=qd;var df=class df extends Ae{constructor(t,n=Ot.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};r(df,"NotificationType1");var Bd=df;X.NotificationType1=Bd;var ff=class ff extends Ae{constructor(t){super(t,2)}};r(ff,"NotificationType2");var Wd=ff;X.NotificationType2=Wd;var mf=class mf extends Ae{constructor(t){super(t,3)}};r(mf,"NotificationType3");var $d=mf;X.NotificationType3=$d;var pf=class pf extends Ae{constructor(t){super(t,4)}};r(pf,"NotificationType4");var Vd=pf;X.NotificationType4=Vd;var gf=class gf extends Ae{constructor(t){super(t,5)}};r(gf,"NotificationType5");var zd=gf;X.NotificationType5=zd;var hf=class hf extends Ae{constructor(t){super(t,6)}};r(hf,"NotificationType6");var Gd=hf;X.NotificationType6=Gd;var _f=class _f extends Ae{constructor(t){super(t,7)}};r(_f,"NotificationType7");var Kd=_f;X.NotificationType7=Kd;var yf=class yf extends Ae{constructor(t){super(t,8)}};r(yf,"NotificationType8");var Hd=yf;X.NotificationType8=Hd;var bf=class bf extends Ae{constructor(t){super(t,9)}};r(bf,"NotificationType9");var Zd=bf;X.NotificationType9=Zd;var Sy;(function(e){function t(i){let u=i;return u&&Vr.string(u.method)&&(Vr.string(u.id)||Vr.number(u.id))}r(t,"isRequest"),e.isRequest=t;function n(i){let u=i;return u&&Vr.string(u.method)&&i.id===void 0}r(n,"isNotification"),e.isNotification=n;function o(i){let u=i;return u&&(u.result!==void 0||!!u.error)&&(Vr.string(u.id)||Vr.number(u.id)||u.id===null)}r(o,"isResponse"),e.isResponse=o})(Sy||(X.Message=Sy={}))});var Sf=z(dr=>{"use strict";var Ty;Object.defineProperty(dr,"__esModule",{value:!0});dr.LRUCache=dr.LinkedMap=dr.Touch=void 0;var St;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(St||(dr.Touch=St={}));var If=class If{constructor(){this[Ty]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=St.None){let o=this._map.get(t);if(o)return n!==St.None&&this.touch(o,n),o.value}set(t,n,o=St.None){let i=this._map.get(t);if(i)i.value=n,o!==St.None&&this.touch(i,o);else{switch(i={key:t,value:n,next:void 0,previous:void 0},o){case St.None:this.addItemLast(i);break;case St.First:this.addItemFirst(i);break;case St.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){let o=this._state,i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==o)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}values(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}entries(){let t=this._state,n=this._head,o={[Symbol.iterator]:()=>o,next:r(()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){let i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}},"next")};return o}[(Ty=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,o=this.size;for(;n&&o>t;)this._map.delete(n.key),n=n.next,o--;this._head=n,this._size=o,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let n=t.next,o=t.previous;if(!n||!o)throw new Error("Invalid list");n.previous=o,o.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==St.First&&n!==St.Last)){if(n===St.First){if(t===this._head)return;let o=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(o.previous=i,i.next=o),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===St.Last){if(t===this._tail)return;let o=t.next,i=t.previous;t===this._head?(o.previous=void 0,this._head=o):(o.previous=i,i.next=o),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((n,o)=>{t.push([o,n])}),t}fromJSON(t){this.clear();for(let[n,o]of t)this.set(n,o)}};r(If,"LinkedMap");var Oa=If;dr.LinkedMap=Oa;var xf=class xf extends Oa{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=St.AsNew){return super.get(t,n)}peek(t){return super.get(t,St.None)}set(t,n){return super.set(t,n,St.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};r(xf,"LRUCache");var vf=xf;dr.LRUCache=vf});var Ry=z(Fa=>{"use strict";Object.defineProperty(Fa,"__esModule",{value:!0});Fa.Disposable=void 0;var Ey;(function(e){function t(n){return{dispose:n}}r(t,"create"),e.create=t})(Ey||(Fa.Disposable=Ey={}))});var fr=z(Rf=>{"use strict";Object.defineProperty(Rf,"__esModule",{value:!0});var Tf;function Ef(){if(Tf===void 0)throw new Error("No runtime abstraction layer installed");return Tf}r(Ef,"RAL");(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Tf=n}r(t,"install"),e.install=t})(Ef||(Ef={}));Rf.default=Ef});var jo=z(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.Emitter=Do.Event=void 0;var $P=fr(),Py;(function(e){let t={dispose(){}};e.None=function(){return t}})(Py||(Do.Event=Py={}));var kf=class kf{add(t,n=null,o){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(o)&&o.push({dispose:r(()=>this.remove(t,n),"dispose")})}remove(t,n=null){if(!this._callbacks)return;let o=!1;for(let i=0,u=this._callbacks.length;i<u;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else o=!0;if(o)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let n=[],o=this._callbacks.slice(0),i=this._contexts.slice(0);for(let u=0,s=o.length;u<s;u++)try{n.push(o[u].apply(i[u],t))}catch(a){(0,$P.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}};r(kf,"CallbackList");var Pf=kf,Da=class Da{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,o)=>{this._callbacks||(this._callbacks=new Pf),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);let i={dispose:r(()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=Da._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))},"dispose")};return Array.isArray(o)&&o.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};r(Da,"Emitter");var Aa=Da;Do.Emitter=Aa;Aa._noop=function(){}});var qa=z(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.CancellationTokenSource=Uo.CancellationToken=void 0;var VP=fr(),zP=Fo(),Mf=jo(),ja;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Mf.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Mf.Event.None});function t(n){let o=n;return o&&(o===e.None||o===e.Cancelled||zP.boolean(o.isCancellationRequested)&&!!o.onCancellationRequested)}r(t,"is"),e.is=t})(ja||(Uo.CancellationToken=ja={}));var GP=Object.freeze(function(e,t){let n=(0,VP.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}),Cf=class Cf{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?GP:(this._emitter||(this._emitter=new Mf.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}};r(Cf,"MutableToken");var Ua=Cf,Lf=class Lf{get token(){return this._token||(this._token=new Ua),this._token}cancel(){this._token?this._token.cancel():this._token=ja.Cancelled}dispose(){this._token?this._token instanceof Ua&&this._token.dispose():this._token=ja.None}};r(Lf,"CancellationTokenSource");var Nf=Lf;Uo.CancellationTokenSource=Nf});var ky=z(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.SharedArrayReceiverStrategy=qo.SharedArraySenderStrategy=void 0;var KP=qa(),Xi;(function(e){e.Continue=0,e.Cancelled=1})(Xi||(Xi={}));var jf=class jf{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let n=new SharedArrayBuffer(4),o=new Int32Array(n,0,1);o[0]=Xi.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){let o=this.buffers.get(n);if(o===void 0)return;let i=new Int32Array(o,0,1);Atomics.store(i,0,Xi.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};r(jf,"SharedArraySenderStrategy");var Of=jf;qo.SharedArraySenderStrategy=Of;var Uf=class Uf{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Xi.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}};r(Uf,"SharedArrayBufferCancellationToken");var Ff=Uf,qf=class qf{constructor(t){this.token=new Ff(t)}cancel(){}dispose(){}};r(qf,"SharedArrayBufferCancellationTokenSource");var Af=qf,Bf=class Bf{constructor(){this.kind="request"}createCancellationTokenSource(t){let n=t.$cancellationData;return n===void 0?new KP.CancellationTokenSource:new Af(n)}};r(Bf,"SharedArrayReceiverStrategy");var Df=Bf;qo.SharedArrayReceiverStrategy=Df});var Vf=z(Ba=>{"use strict";Object.defineProperty(Ba,"__esModule",{value:!0});Ba.Semaphore=void 0;var HP=fr(),$f=class $f{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,o)=>{this._waiting.push({thunk:t,resolve:n,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,HP.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=t.thunk();n instanceof Promise?n.then(o=>{this._active--,t.resolve(o),this.runNext()},o=>{this._active--,t.reject(o),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}};r($f,"Semaphore");var Wf=$f;Ba.Semaphore=Wf});var Ny=z(mr=>{"use strict";Object.defineProperty(mr,"__esModule",{value:!0});mr.ReadableStreamMessageReader=mr.AbstractMessageReader=mr.MessageReader=void 0;var Gf=fr(),Bo=Fo(),zf=jo(),ZP=Vf(),My;(function(e){function t(n){let o=n;return o&&Bo.func(o.listen)&&Bo.func(o.dispose)&&Bo.func(o.onError)&&Bo.func(o.onClose)&&Bo.func(o.onPartialMessage)}r(t,"is"),e.is=t})(My||(mr.MessageReader=My={}));var Zf=class Zf{constructor(){this.errorEmitter=new zf.Emitter,this.closeEmitter=new zf.Emitter,this.partialMessageEmitter=new zf.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Bo.string(t.message)?t.message:"unknown"}`)}};r(Zf,"AbstractMessageReader");var Wa=Zf;mr.AbstractMessageReader=Wa;var Kf;(function(e){function t(n){var l;let o,i,u,s=new Map,a,c=new Map;if(n===void 0||typeof n=="string")o=n!=null?n:"utf-8";else{if(o=(l=n.charset)!=null?l:"utf-8",n.contentDecoder!==void 0&&(u=n.contentDecoder,s.set(u.name,u)),n.contentDecoders!==void 0)for(let f of n.contentDecoders)s.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(a=n.contentTypeDecoder,c.set(a.name,a)),n.contentTypeDecoders!==void 0)for(let f of n.contentTypeDecoders)c.set(f.name,f)}return a===void 0&&(a=(0,Gf.default)().applicationJson.decoder,c.set(a.name,a)),{charset:o,contentDecoder:u,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}r(t,"fromOptions"),e.fromOptions=t})(Kf||(Kf={}));var Qf=class Qf extends Wa{constructor(t,n){super(),this.readable=t,this.options=Kf.fromOptions(n),this.buffer=(0,Gf.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new ZP.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let n=this.readable.onData(o=>{this.onData(o)});return this.readable.onError(o=>this.fireError(o)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let o=this.buffer.tryReadHeaders(!0);if(!o)return;let i=o.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(o))}`));return}let u=parseInt(i);if(isNaN(u)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=u}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let o=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(o,this.options);this.callback(i)}).catch(o=>{this.fireError(o)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gf.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};r(Qf,"ReadableStreamMessageReader");var Hf=Qf;mr.ReadableStreamMessageReader=Hf});var Ay=z(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.WriteableStreamMessageWriter=pr.AbstractMessageWriter=pr.MessageWriter=void 0;var Cy=fr(),Yi=Fo(),QP=Vf(),Ly=jo(),JP="Content-Length: ",Oy=`\r
`,Fy;(function(e){function t(n){let o=n;return o&&Yi.func(o.dispose)&&Yi.func(o.onClose)&&Yi.func(o.onError)&&Yi.func(o.write)}r(t,"is"),e.is=t})(Fy||(pr.MessageWriter=Fy={}));var Yf=class Yf{constructor(){this.errorEmitter=new Ly.Emitter,this.closeEmitter=new Ly.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,o){this.errorEmitter.fire([this.asError(t),n,o])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Yi.string(t.message)?t.message:"unknown"}`)}};r(Yf,"AbstractMessageWriter");var $a=Yf;pr.AbstractMessageWriter=$a;var Jf;(function(e){function t(n){var o,i;return n===void 0||typeof n=="string"?{charset:n!=null?n:"utf-8",contentTypeEncoder:(0,Cy.default)().applicationJson.encoder}:{charset:(o=n.charset)!=null?o:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!=null?i:(0,Cy.default)().applicationJson.encoder}}r(t,"fromOptions"),e.fromOptions=t})(Jf||(Jf={}));var em=class em extends $a{constructor(t,n){super(),this.writable=t,this.options=Jf.fromOptions(n),this.errorCount=0,this.writeSemaphore=new QP.Semaphore(1),this.writable.onError(o=>this.fireError(o)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(o=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(o):o).then(o=>{let i=[];return i.push(JP,o.byteLength.toString(),Oy),i.push(Oy),this.doWrite(t,i,o)},o=>{throw this.fireError(o),o}))}async doWrite(t,n,o){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(o)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}};r(em,"WriteableStreamMessageWriter");var Xf=em;pr.WriteableStreamMessageWriter=Xf});var Dy=z(Va=>{"use strict";Object.defineProperty(Va,"__esModule",{value:!0});Va.AbstractMessageBuffer=void 0;var XP=13,YP=10,e0=`\r
`,nm=class nm{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,o=0,i=0,u=0;e:for(;o<this._chunks.length;){let l=this._chunks[o];for(i=0;i<l.length;){switch(l[i]){case XP:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case YP:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}u+=l.byteLength,o++}if(n!==4)return;let s=this._read(u+i),a=new Map,c=this.toString(s,"ascii").split(e0);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let f=c[l],p=f.indexOf(":");if(p===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let h=f.substr(0,p),y=f.substr(p+1).trim();a.set(t?h.toLowerCase():h,y)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let u=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(u)}if(this._chunks[0].byteLength>t){let u=this._chunks[0],s=this.asNative(u,t);return this._chunks[0]=u.slice(t),this._totalLength-=t,s}let n=this.allocNative(t),o=0,i=0;for(;t>0;){let u=this._chunks[i];if(u.byteLength>t){let s=u.slice(0,t);n.set(s,o),o+=t,this._chunks[i]=u.slice(t),this._totalLength-=t,t-=t}else n.set(u,o),o+=u.byteLength,this._chunks.shift(),this._totalLength-=u.byteLength,t-=u.byteLength}return n}};r(nm,"AbstractMessageBuffer");var tm=nm;Va.AbstractMessageBuffer=tm});var Wy=z(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.createMessageConnection=oe.ConnectionOptions=oe.MessageStrategy=oe.CancellationStrategy=oe.CancellationSenderStrategy=oe.CancellationReceiverStrategy=oe.RequestCancellationReceiverStrategy=oe.IdCancellationReceiverStrategy=oe.ConnectionStrategy=oe.ConnectionError=oe.ConnectionErrors=oe.LogTraceNotification=oe.SetTraceNotification=oe.TraceFormat=oe.TraceValues=oe.Trace=oe.NullLogger=oe.ProgressType=oe.ProgressToken=void 0;var jy=fr(),ze=Fo(),ne=wf(),Uy=Sf(),es=jo(),rm=qa(),rs;(function(e){e.type=new ne.NotificationType("$/cancelRequest")})(rs||(rs={}));var om;(function(e){function t(n){return typeof n=="string"||typeof n=="number"}r(t,"is"),e.is=t})(om||(oe.ProgressToken=om={}));var ts;(function(e){e.type=new ne.NotificationType("$/progress")})(ts||(ts={}));var lm=class lm{constructor(){}};r(lm,"ProgressType");var im=lm;oe.ProgressType=im;var sm;(function(e){function t(n){return ze.func(n)}r(t,"is"),e.is=t})(sm||(sm={}));oe.NullLogger=Object.freeze({error:r(()=>{},"error"),warn:r(()=>{},"warn"),info:r(()=>{},"info"),log:r(()=>{},"log")});var ye;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(ye||(oe.Trace=ye={}));var qy;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(qy||(oe.TraceValues=qy={}));(function(e){function t(o){if(!ze.string(o))return e.Off;switch(o=o.toLowerCase(),o){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}r(t,"fromString"),e.fromString=t;function n(o){switch(o){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}r(n,"toString"),e.toString=n})(ye||(oe.Trace=ye={}));var $t;(function(e){e.Text="text",e.JSON="json"})($t||(oe.TraceFormat=$t={}));(function(e){function t(n){return ze.string(n)?(n=n.toLowerCase(),n==="json"?e.JSON:e.Text):e.Text}r(t,"fromString"),e.fromString=t})($t||(oe.TraceFormat=$t={}));var am;(function(e){e.type=new ne.NotificationType("$/setTrace")})(am||(oe.SetTraceNotification=am={}));var za;(function(e){e.type=new ne.NotificationType("$/logTrace")})(za||(oe.LogTraceNotification=za={}));var ns;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(ns||(oe.ConnectionErrors=ns={}));var Ja=class Ja extends Error{constructor(t,n){super(n),this.code=t,Object.setPrototypeOf(this,Ja.prototype)}};r(Ja,"ConnectionError");var Wo=Ja;oe.ConnectionError=Wo;var um;(function(e){function t(n){let o=n;return o&&ze.func(o.cancelUndispatched)}r(t,"is"),e.is=t})(um||(oe.ConnectionStrategy=um={}));var Ga;(function(e){function t(n){let o=n;return o&&(o.kind===void 0||o.kind==="id")&&ze.func(o.createCancellationTokenSource)&&(o.dispose===void 0||ze.func(o.dispose))}r(t,"is"),e.is=t})(Ga||(oe.IdCancellationReceiverStrategy=Ga={}));var cm;(function(e){function t(n){let o=n;return o&&o.kind==="request"&&ze.func(o.createCancellationTokenSource)&&(o.dispose===void 0||ze.func(o.dispose))}r(t,"is"),e.is=t})(cm||(oe.RequestCancellationReceiverStrategy=cm={}));var Ka;(function(e){e.Message=Object.freeze({createCancellationTokenSource(n){return new rm.CancellationTokenSource}});function t(n){return Ga.is(n)||cm.is(n)}r(t,"is"),e.is=t})(Ka||(oe.CancellationReceiverStrategy=Ka={}));var Ha;(function(e){e.Message=Object.freeze({sendCancellation(n,o){return n.sendNotification(rs.type,{id:o})},cleanup(n){}});function t(n){let o=n;return o&&ze.func(o.sendCancellation)&&ze.func(o.cleanup)}r(t,"is"),e.is=t})(Ha||(oe.CancellationSenderStrategy=Ha={}));var Za;(function(e){e.Message=Object.freeze({receiver:Ka.Message,sender:Ha.Message});function t(n){let o=n;return o&&Ka.is(o.receiver)&&Ha.is(o.sender)}r(t,"is"),e.is=t})(Za||(oe.CancellationStrategy=Za={}));var Qa;(function(e){function t(n){let o=n;return o&&ze.func(o.handleMessage)}r(t,"is"),e.is=t})(Qa||(oe.MessageStrategy=Qa={}));var By;(function(e){function t(n){let o=n;return o&&(Za.is(o.cancellationStrategy)||um.is(o.connectionStrategy)||Qa.is(o.messageStrategy))}r(t,"is"),e.is=t})(By||(oe.ConnectionOptions=By={}));var wn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(wn||(wn={}));function t0(e,t,n,o){let i=n!==void 0?n:oe.NullLogger,u=0,s=0,a=0,c="2.0",l,f=new Map,p,h=new Map,y=new Map,x,S=new Uy.LinkedMap,N=new Map,R=new Set,B=new Map,A=ye.Off,K=$t.Text,q,J=wn.New,Q=new es.Emitter,D=new es.Emitter,te=new es.Emitter,Xe=new es.Emitter,st=new es.Emitter,De=o&&o.cancellationStrategy?o.cancellationStrategy:Za.Message;function V(b){if(b===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+b.toString()}r(V,"createRequestQueueKey");function F(b){return b===null?"res-unknown-"+(++a).toString():"res-"+b.toString()}r(F,"createResponseQueueKey");function W(){return"not-"+(++s).toString()}r(W,"createNotificationQueueKey");function G(b,L){ne.Message.isRequest(L)?b.set(V(L.id),L):ne.Message.isResponse(L)?b.set(F(L.id),L):b.set(W(),L)}r(G,"addMessageToQueue");function ae(b){}r(ae,"cancelUndispatched");function ee(){return J===wn.Listening}r(ee,"isListening");function Y(){return J===wn.Closed}r(Y,"isClosed");function je(){return J===wn.Disposed}r(je,"isDisposed");function ke(){(J===wn.New||J===wn.Listening)&&(J=wn.Closed,D.fire(void 0))}r(ke,"closeHandler");function he(b){Q.fire([b,void 0,void 0])}r(he,"readErrorHandler");function Pt(b){Q.fire(b)}r(Pt,"writeErrorHandler"),e.onClose(ke),e.onError(he),t.onClose(ke),t.onError(Pt);function ni(){x||S.size===0||(x=(0,jy.default)().timer.setImmediate(()=>{x=void 0,as()}))}r(ni,"triggerMessageQueue");function ri(b){ne.Message.isRequest(b)?cs(b):ne.Message.isNotification(b)?ds(b):ne.Message.isResponse(b)?ls(b):Qr(b)}r(ri,"handleMessage");function as(){if(S.size===0)return;let b=S.shift();try{let L=o==null?void 0:o.messageStrategy;Qa.is(L)?L.handleMessage(b,ri):ri(b)}finally{ni()}}r(as,"processMessageQueue");let us=r(b=>{try{if(ne.Message.isNotification(b)&&b.method===rs.type.method){let L=b.params.id,$=V(L),H=S.get($);if(ne.Message.isRequest(H)){let be=o==null?void 0:o.connectionStrategy,we=be&&be.cancelUndispatched?be.cancelUndispatched(H,ae):void 0;if(we&&(we.error!==void 0||we.result!==void 0)){S.delete($),B.delete(L),we.id=H.id,wr(we,b.method,Date.now()),t.write(we).catch(()=>i.error("Sending response for canceled message failed."));return}}let Te=B.get(L);if(Te!==void 0){Te.cancel(),Jr(b);return}else R.add(L)}G(S,b)}finally{ni()}},"callback");function cs(b){var He;if(je())return;function L(fe,qe,ve){let Be={jsonrpc:c,id:b.id};fe instanceof ne.ResponseError?Be.error=fe.toJson():Be.result=fe===void 0?null:fe,wr(Be,qe,ve),t.write(Be).catch(()=>i.error("Sending response failed."))}r(L,"reply");function $(fe,qe,ve){let Be={jsonrpc:c,id:b.id,error:fe.toJson()};wr(Be,qe,ve),t.write(Be).catch(()=>i.error("Sending response failed."))}r($,"replyError");function H(fe,qe,ve){fe===void 0&&(fe=null);let Be={jsonrpc:c,id:b.id,result:fe};wr(Be,qe,ve),t.write(Be).catch(()=>i.error("Sending response failed."))}r(H,"replySuccess"),gs(b);let Te=f.get(b.method),be,we;Te&&(be=Te.type,we=Te.handler);let Ue=Date.now();if(we||l){let fe=(He=b.id)!=null?He:String(Date.now()),qe=Ga.is(De.receiver)?De.receiver.createCancellationTokenSource(fe):De.receiver.createCancellationTokenSource(b);b.id!==null&&R.has(b.id)&&qe.cancel(),b.id!==null&&B.set(fe,qe);try{let ve;if(we)if(b.params===void 0){if(be!==void 0&&be.numberOfParams!==0){$(new ne.ResponseError(ne.ErrorCodes.InvalidParams,`Request ${b.method} defines ${be.numberOfParams} params but received none.`),b.method,Ue);return}ve=we(qe.token)}else if(Array.isArray(b.params)){if(be!==void 0&&be.parameterStructures===ne.ParameterStructures.byName){$(new ne.ResponseError(ne.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by name but received parameters by position`),b.method,Ue);return}ve=we(...b.params,qe.token)}else{if(be!==void 0&&be.parameterStructures===ne.ParameterStructures.byPosition){$(new ne.ResponseError(ne.ErrorCodes.InvalidParams,`Request ${b.method} defines parameters by position but received parameters by name`),b.method,Ue);return}ve=we(b.params,qe.token)}else l&&(ve=l(b.method,b.params,qe.token));let Be=ve;ve?Be.then?Be.then(Ze=>{B.delete(fe),L(Ze,b.method,Ue)},Ze=>{B.delete(fe),Ze instanceof ne.ResponseError?$(Ze,b.method,Ue):Ze&&ze.string(Ze.message)?$(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${Ze.message}`),b.method,Ue):$(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,Ue)}):(B.delete(fe),L(ve,b.method,Ue)):(B.delete(fe),H(ve,b.method,Ue))}catch(ve){B.delete(fe),ve instanceof ne.ResponseError?L(ve,b.method,Ue):ve&&ze.string(ve.message)?$(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${b.method} failed with message: ${ve.message}`),b.method,Ue):$(new ne.ResponseError(ne.ErrorCodes.InternalError,`Request ${b.method} failed unexpectedly without providing any details.`),b.method,Ue)}}else $(new ne.ResponseError(ne.ErrorCodes.MethodNotFound,`Unhandled method ${b.method}`),b.method,Ue)}r(cs,"handleRequest");function ls(b){if(!je())if(b.id===null)b.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(b.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let L=b.id,$=N.get(L);if(hs(b,$),$!==void 0){N.delete(L);try{if(b.error){let H=b.error;$.reject(new ne.ResponseError(H.code,H.message,H.data))}else if(b.result!==void 0)$.resolve(b.result);else throw new Error("Should never happen.")}catch(H){H.message?i.error(`Response handler '${$.method}' failed with message: ${H.message}`):i.error(`Response handler '${$.method}' failed unexpectedly.`)}}}}r(ls,"handleResponse");function ds(b){if(je())return;let L,$;if(b.method===rs.type.method){let H=b.params.id;R.delete(H),Jr(b);return}else{let H=h.get(b.method);H&&($=H.handler,L=H.type)}if($||p)try{if(Jr(b),$)if(b.params===void 0)L!==void 0&&L.numberOfParams!==0&&L.parameterStructures!==ne.ParameterStructures.byName&&i.error(`Notification ${b.method} defines ${L.numberOfParams} params but received none.`),$();else if(Array.isArray(b.params)){let H=b.params;b.method===ts.type.method&&H.length===2&&om.is(H[0])?$({token:H[0],value:H[1]}):(L!==void 0&&(L.parameterStructures===ne.ParameterStructures.byName&&i.error(`Notification ${b.method} defines parameters by name but received parameters by position`),L.numberOfParams!==b.params.length&&i.error(`Notification ${b.method} defines ${L.numberOfParams} params but received ${H.length} arguments`)),$(...H))}else L!==void 0&&L.parameterStructures===ne.ParameterStructures.byPosition&&i.error(`Notification ${b.method} defines parameters by position but received parameters by name`),$(b.params);else p&&p(b.method,b.params)}catch(H){H.message?i.error(`Notification handler '${b.method}' failed with message: ${H.message}`):i.error(`Notification handler '${b.method}' failed unexpectedly.`)}else te.fire(b)}r(ds,"handleNotification");function Qr(b){if(!b){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(b,null,4)}`);let L=b;if(ze.string(L.id)||ze.number(L.id)){let $=L.id,H=N.get($);H&&H.reject(new Error("The received response has neither a result nor an error property."))}}r(Qr,"handleInvalidMessage");function ln(b){if(b!=null)switch(A){case ye.Verbose:return JSON.stringify(b,null,4);case ye.Compact:return JSON.stringify(b);default:return}}r(ln,"stringifyTrace");function ms(b){if(!(A===ye.Off||!q))if(K===$t.Text){let L;(A===ye.Verbose||A===ye.Compact)&&b.params&&(L=`Params: ${ln(b.params)}

`),q.log(`Sending request '${b.method} - (${b.id})'.`,L)}else On("send-request",b)}r(ms,"traceSendingRequest");function ps(b){if(!(A===ye.Off||!q))if(K===$t.Text){let L;(A===ye.Verbose||A===ye.Compact)&&(b.params?L=`Params: ${ln(b.params)}

`:L=`No parameters provided.

`),q.log(`Sending notification '${b.method}'.`,L)}else On("send-notification",b)}r(ps,"traceSendingNotification");function wr(b,L,$){if(!(A===ye.Off||!q))if(K===$t.Text){let H;(A===ye.Verbose||A===ye.Compact)&&(b.error&&b.error.data?H=`Error data: ${ln(b.error.data)}

`:b.result?H=`Result: ${ln(b.result)}

`:b.error===void 0&&(H=`No result returned.

`)),q.log(`Sending response '${L} - (${b.id})'. Processing request took ${Date.now()-$}ms`,H)}else On("send-response",b)}r(wr,"traceSendingResponse");function gs(b){if(!(A===ye.Off||!q))if(K===$t.Text){let L;(A===ye.Verbose||A===ye.Compact)&&b.params&&(L=`Params: ${ln(b.params)}

`),q.log(`Received request '${b.method} - (${b.id})'.`,L)}else On("receive-request",b)}r(gs,"traceReceivedRequest");function Jr(b){if(!(A===ye.Off||!q||b.method===za.type.method))if(K===$t.Text){let L;(A===ye.Verbose||A===ye.Compact)&&(b.params?L=`Params: ${ln(b.params)}

`:L=`No parameters provided.

`),q.log(`Received notification '${b.method}'.`,L)}else On("receive-notification",b)}r(Jr,"traceReceivedNotification");function hs(b,L){if(!(A===ye.Off||!q))if(K===$t.Text){let $;if((A===ye.Verbose||A===ye.Compact)&&(b.error&&b.error.data?$=`Error data: ${ln(b.error.data)}

`:b.result?$=`Result: ${ln(b.result)}

`:b.error===void 0&&($=`No result returned.

`)),L){let H=b.error?` Request failed: ${b.error.message} (${b.error.code}).`:"";q.log(`Received response '${L.method} - (${b.id})' in ${Date.now()-L.timerStart}ms.${H}`,$)}else q.log(`Received response ${b.id} without active response promise.`,$)}else On("receive-response",b)}r(hs,"traceReceivedResponse");function On(b,L){if(!q||A===ye.Off)return;let $={isLSPMessage:!0,type:b,message:L,timestamp:Date.now()};q.log($)}r(On,"logLSPMessage");function Qn(){if(Y())throw new Wo(ns.Closed,"Connection is closed.");if(je())throw new Wo(ns.Disposed,"Connection is disposed.")}r(Qn,"throwIfClosedOrDisposed");function _s(){if(ee())throw new Wo(ns.AlreadyListening,"Connection is already listening")}r(_s,"throwIfListening");function ys(){if(!ee())throw new Error("Call listen() first.")}r(ys,"throwIfNotListening");function In(b){return b===void 0?null:b}r(In,"undefinedToNull");function oi(b){if(b!==null)return b}r(oi,"nullToUndefined");function ii(b){return b!=null&&!Array.isArray(b)&&typeof b=="object"}r(ii,"isNamedParam");function Xr(b,L){switch(b){case ne.ParameterStructures.auto:return ii(L)?oi(L):[In(L)];case ne.ParameterStructures.byName:if(!ii(L))throw new Error("Received parameters by name but param is not an object literal.");return oi(L);case ne.ParameterStructures.byPosition:return[In(L)];default:throw new Error(`Unknown parameter structure ${b.toString()}`)}}r(Xr,"computeSingleParam");function si(b,L){let $,H=b.numberOfParams;switch(H){case 0:$=void 0;break;case 1:$=Xr(b.parameterStructures,L[0]);break;default:$=[];for(let Te=0;Te<L.length&&Te<H;Te++)$.push(In(L[Te]));if(L.length<H)for(let Te=L.length;Te<H;Te++)$.push(null);break}return $}r(si,"computeMessageParams");let Fn={sendNotification:r((b,...L)=>{Qn();let $,H;if(ze.string(b)){$=b;let be=L[0],we=0,Ue=ne.ParameterStructures.auto;ne.ParameterStructures.is(be)&&(we=1,Ue=be);let He=L.length,fe=He-we;switch(fe){case 0:H=void 0;break;case 1:H=Xr(Ue,L[we]);break;default:if(Ue===ne.ParameterStructures.byName)throw new Error(`Received ${fe} parameters for 'by Name' notification parameter structure.`);H=L.slice(we,He).map(qe=>In(qe));break}}else{let be=L;$=b.method,H=si(b,be)}let Te={jsonrpc:c,method:$,params:H};return ps(Te),t.write(Te).catch(be=>{throw i.error("Sending notification failed."),be})},"sendNotification"),onNotification:r((b,L)=>{Qn();let $;return ze.func(b)?p=b:L&&(ze.string(b)?($=b,h.set(b,{type:void 0,handler:L})):($=b.method,h.set(b.method,{type:b,handler:L}))),{dispose:r(()=>{$!==void 0?h.delete($):p=void 0},"dispose")}},"onNotification"),onProgress:r((b,L,$)=>{if(y.has(L))throw new Error(`Progress handler for token ${L} already registered`);return y.set(L,$),{dispose:r(()=>{y.delete(L)},"dispose")}},"onProgress"),sendProgress:r((b,L,$)=>Fn.sendNotification(ts.type,{token:L,value:$}),"sendProgress"),onUnhandledProgress:Xe.event,sendRequest:r((b,...L)=>{Qn(),ys();let $,H,Te;if(ze.string(b)){$=b;let He=L[0],fe=L[L.length-1],qe=0,ve=ne.ParameterStructures.auto;ne.ParameterStructures.is(He)&&(qe=1,ve=He);let Be=L.length;rm.CancellationToken.is(fe)&&(Be=Be-1,Te=fe);let Ze=Be-qe;switch(Ze){case 0:H=void 0;break;case 1:H=Xr(ve,L[qe]);break;default:if(ve===ne.ParameterStructures.byName)throw new Error(`Received ${Ze} parameters for 'by Name' request parameter structure.`);H=L.slice(qe,Be).map(bs=>In(bs));break}}else{let He=L;$=b.method,H=si(b,He);let fe=b.numberOfParams;Te=rm.CancellationToken.is(He[fe])?He[fe]:void 0}let be=u++,we;Te&&(we=Te.onCancellationRequested(()=>{let He=De.sender.sendCancellation(Fn,be);return He===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${be}`),Promise.resolve()):He.catch(()=>{i.log(`Sending cancellation messages for id ${be} failed`)})}));let Ue={jsonrpc:c,id:be,method:$,params:H};return ms(Ue),typeof De.sender.enableCancellation=="function"&&De.sender.enableCancellation(Ue),new Promise(async(He,fe)=>{let qe=r(Ze=>{He(Ze),De.sender.cleanup(be),we==null||we.dispose()},"resolveWithCleanup"),ve=r(Ze=>{fe(Ze),De.sender.cleanup(be),we==null||we.dispose()},"rejectWithCleanup"),Be={method:$,timerStart:Date.now(),resolve:qe,reject:ve};try{await t.write(Ue),N.set(be,Be)}catch(Ze){throw i.error("Sending request failed."),Be.reject(new ne.ResponseError(ne.ErrorCodes.MessageWriteError,Ze.message?Ze.message:"Unknown reason")),Ze}})},"sendRequest"),onRequest:r((b,L)=>{Qn();let $=null;return sm.is(b)?($=void 0,l=b):ze.string(b)?($=null,L!==void 0&&($=b,f.set(b,{handler:L,type:void 0}))):L!==void 0&&($=b.method,f.set(b.method,{type:b,handler:L})),{dispose:r(()=>{$!==null&&($!==void 0?f.delete($):l=void 0)},"dispose")}},"onRequest"),hasPendingResponse:r(()=>N.size>0,"hasPendingResponse"),trace:r(async(b,L,$)=>{let H=!1,Te=$t.Text;$!==void 0&&(ze.boolean($)?H=$:(H=$.sendNotification||!1,Te=$.traceFormat||$t.Text)),A=b,K=Te,A===ye.Off?q=void 0:q=L,H&&!Y()&&!je()&&await Fn.sendNotification(am.type,{value:ye.toString(b)})},"trace"),onError:Q.event,onClose:D.event,onUnhandledNotification:te.event,onDispose:st.event,end:r(()=>{t.end()},"end"),dispose:r(()=>{if(je())return;J=wn.Disposed,st.fire(void 0);let b=new ne.ResponseError(ne.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let L of N.values())L.reject(b);N=new Map,B=new Map,R=new Set,S=new Uy.LinkedMap,ze.func(t.dispose)&&t.dispose(),ze.func(e.dispose)&&e.dispose()},"dispose"),listen:r(()=>{Qn(),_s(),J=wn.Listening,e.listen(us)},"listen"),inspect:r(()=>{(0,jy.default)().console.log("inspect")},"inspect")};return Fn.onNotification(za.type,b=>{if(A===ye.Off||!q)return;let L=A===ye.Verbose||A===ye.Compact;q.log(b.message,L?b.verbose:void 0)}),Fn.onNotification(ts.type,b=>{let L=y.get(b.token);L?L(b.value):Xe.fire(b)}),Fn}r(t0,"createMessageConnection");oe.createMessageConnection=t0});var Xa=z(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.ProgressType=M.ProgressToken=M.createMessageConnection=M.NullLogger=M.ConnectionOptions=M.ConnectionStrategy=M.AbstractMessageBuffer=M.WriteableStreamMessageWriter=M.AbstractMessageWriter=M.MessageWriter=M.ReadableStreamMessageReader=M.AbstractMessageReader=M.MessageReader=M.SharedArrayReceiverStrategy=M.SharedArraySenderStrategy=M.CancellationToken=M.CancellationTokenSource=M.Emitter=M.Event=M.Disposable=M.LRUCache=M.Touch=M.LinkedMap=M.ParameterStructures=M.NotificationType9=M.NotificationType8=M.NotificationType7=M.NotificationType6=M.NotificationType5=M.NotificationType4=M.NotificationType3=M.NotificationType2=M.NotificationType1=M.NotificationType0=M.NotificationType=M.ErrorCodes=M.ResponseError=M.RequestType9=M.RequestType8=M.RequestType7=M.RequestType6=M.RequestType5=M.RequestType4=M.RequestType3=M.RequestType2=M.RequestType1=M.RequestType0=M.RequestType=M.Message=M.RAL=void 0;M.MessageStrategy=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.TraceValues=M.Trace=void 0;var Ce=wf();Object.defineProperty(M,"Message",{enumerable:!0,get:r(function(){return Ce.Message},"get")});Object.defineProperty(M,"RequestType",{enumerable:!0,get:r(function(){return Ce.RequestType},"get")});Object.defineProperty(M,"RequestType0",{enumerable:!0,get:r(function(){return Ce.RequestType0},"get")});Object.defineProperty(M,"RequestType1",{enumerable:!0,get:r(function(){return Ce.RequestType1},"get")});Object.defineProperty(M,"RequestType2",{enumerable:!0,get:r(function(){return Ce.RequestType2},"get")});Object.defineProperty(M,"RequestType3",{enumerable:!0,get:r(function(){return Ce.RequestType3},"get")});Object.defineProperty(M,"RequestType4",{enumerable:!0,get:r(function(){return Ce.RequestType4},"get")});Object.defineProperty(M,"RequestType5",{enumerable:!0,get:r(function(){return Ce.RequestType5},"get")});Object.defineProperty(M,"RequestType6",{enumerable:!0,get:r(function(){return Ce.RequestType6},"get")});Object.defineProperty(M,"RequestType7",{enumerable:!0,get:r(function(){return Ce.RequestType7},"get")});Object.defineProperty(M,"RequestType8",{enumerable:!0,get:r(function(){return Ce.RequestType8},"get")});Object.defineProperty(M,"RequestType9",{enumerable:!0,get:r(function(){return Ce.RequestType9},"get")});Object.defineProperty(M,"ResponseError",{enumerable:!0,get:r(function(){return Ce.ResponseError},"get")});Object.defineProperty(M,"ErrorCodes",{enumerable:!0,get:r(function(){return Ce.ErrorCodes},"get")});Object.defineProperty(M,"NotificationType",{enumerable:!0,get:r(function(){return Ce.NotificationType},"get")});Object.defineProperty(M,"NotificationType0",{enumerable:!0,get:r(function(){return Ce.NotificationType0},"get")});Object.defineProperty(M,"NotificationType1",{enumerable:!0,get:r(function(){return Ce.NotificationType1},"get")});Object.defineProperty(M,"NotificationType2",{enumerable:!0,get:r(function(){return Ce.NotificationType2},"get")});Object.defineProperty(M,"NotificationType3",{enumerable:!0,get:r(function(){return Ce.NotificationType3},"get")});Object.defineProperty(M,"NotificationType4",{enumerable:!0,get:r(function(){return Ce.NotificationType4},"get")});Object.defineProperty(M,"NotificationType5",{enumerable:!0,get:r(function(){return Ce.NotificationType5},"get")});Object.defineProperty(M,"NotificationType6",{enumerable:!0,get:r(function(){return Ce.NotificationType6},"get")});Object.defineProperty(M,"NotificationType7",{enumerable:!0,get:r(function(){return Ce.NotificationType7},"get")});Object.defineProperty(M,"NotificationType8",{enumerable:!0,get:r(function(){return Ce.NotificationType8},"get")});Object.defineProperty(M,"NotificationType9",{enumerable:!0,get:r(function(){return Ce.NotificationType9},"get")});Object.defineProperty(M,"ParameterStructures",{enumerable:!0,get:r(function(){return Ce.ParameterStructures},"get")});var dm=Sf();Object.defineProperty(M,"LinkedMap",{enumerable:!0,get:r(function(){return dm.LinkedMap},"get")});Object.defineProperty(M,"LRUCache",{enumerable:!0,get:r(function(){return dm.LRUCache},"get")});Object.defineProperty(M,"Touch",{enumerable:!0,get:r(function(){return dm.Touch},"get")});var n0=Ry();Object.defineProperty(M,"Disposable",{enumerable:!0,get:r(function(){return n0.Disposable},"get")});var $y=jo();Object.defineProperty(M,"Event",{enumerable:!0,get:r(function(){return $y.Event},"get")});Object.defineProperty(M,"Emitter",{enumerable:!0,get:r(function(){return $y.Emitter},"get")});var Vy=qa();Object.defineProperty(M,"CancellationTokenSource",{enumerable:!0,get:r(function(){return Vy.CancellationTokenSource},"get")});Object.defineProperty(M,"CancellationToken",{enumerable:!0,get:r(function(){return Vy.CancellationToken},"get")});var zy=ky();Object.defineProperty(M,"SharedArraySenderStrategy",{enumerable:!0,get:r(function(){return zy.SharedArraySenderStrategy},"get")});Object.defineProperty(M,"SharedArrayReceiverStrategy",{enumerable:!0,get:r(function(){return zy.SharedArrayReceiverStrategy},"get")});var fm=Ny();Object.defineProperty(M,"MessageReader",{enumerable:!0,get:r(function(){return fm.MessageReader},"get")});Object.defineProperty(M,"AbstractMessageReader",{enumerable:!0,get:r(function(){return fm.AbstractMessageReader},"get")});Object.defineProperty(M,"ReadableStreamMessageReader",{enumerable:!0,get:r(function(){return fm.ReadableStreamMessageReader},"get")});var mm=Ay();Object.defineProperty(M,"MessageWriter",{enumerable:!0,get:r(function(){return mm.MessageWriter},"get")});Object.defineProperty(M,"AbstractMessageWriter",{enumerable:!0,get:r(function(){return mm.AbstractMessageWriter},"get")});Object.defineProperty(M,"WriteableStreamMessageWriter",{enumerable:!0,get:r(function(){return mm.WriteableStreamMessageWriter},"get")});var r0=Dy();Object.defineProperty(M,"AbstractMessageBuffer",{enumerable:!0,get:r(function(){return r0.AbstractMessageBuffer},"get")});var ht=Wy();Object.defineProperty(M,"ConnectionStrategy",{enumerable:!0,get:r(function(){return ht.ConnectionStrategy},"get")});Object.defineProperty(M,"ConnectionOptions",{enumerable:!0,get:r(function(){return ht.ConnectionOptions},"get")});Object.defineProperty(M,"NullLogger",{enumerable:!0,get:r(function(){return ht.NullLogger},"get")});Object.defineProperty(M,"createMessageConnection",{enumerable:!0,get:r(function(){return ht.createMessageConnection},"get")});Object.defineProperty(M,"ProgressToken",{enumerable:!0,get:r(function(){return ht.ProgressToken},"get")});Object.defineProperty(M,"ProgressType",{enumerable:!0,get:r(function(){return ht.ProgressType},"get")});Object.defineProperty(M,"Trace",{enumerable:!0,get:r(function(){return ht.Trace},"get")});Object.defineProperty(M,"TraceValues",{enumerable:!0,get:r(function(){return ht.TraceValues},"get")});Object.defineProperty(M,"TraceFormat",{enumerable:!0,get:r(function(){return ht.TraceFormat},"get")});Object.defineProperty(M,"SetTraceNotification",{enumerable:!0,get:r(function(){return ht.SetTraceNotification},"get")});Object.defineProperty(M,"LogTraceNotification",{enumerable:!0,get:r(function(){return ht.LogTraceNotification},"get")});Object.defineProperty(M,"ConnectionErrors",{enumerable:!0,get:r(function(){return ht.ConnectionErrors},"get")});Object.defineProperty(M,"ConnectionError",{enumerable:!0,get:r(function(){return ht.ConnectionError},"get")});Object.defineProperty(M,"CancellationReceiverStrategy",{enumerable:!0,get:r(function(){return ht.CancellationReceiverStrategy},"get")});Object.defineProperty(M,"CancellationSenderStrategy",{enumerable:!0,get:r(function(){return ht.CancellationSenderStrategy},"get")});Object.defineProperty(M,"CancellationStrategy",{enumerable:!0,get:r(function(){return ht.CancellationStrategy},"get")});Object.defineProperty(M,"MessageStrategy",{enumerable:!0,get:r(function(){return ht.MessageStrategy},"get")});var o0=fr();M.RAL=o0.default});var Hy=z(_m=>{"use strict";Object.defineProperty(_m,"__esModule",{value:!0});var Gy=require("util"),Hn=Xa(),eu=class eu extends Hn.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return eu.emptyBuffer}fromString(t,n){return Buffer.from(t,n)}toString(t,n){return t instanceof Buffer?t.toString(n):new Gy.TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,n):Buffer.from(t,0,n)}allocNative(t){return Buffer.allocUnsafe(t)}};r(eu,"MessageBuffer");var Ya=eu;Ya.emptyBuffer=Buffer.allocUnsafe(0);var ym=class ym{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hn.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hn.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hn.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),Hn.Disposable.create(()=>this.stream.off("data",t))}};r(ym,"ReadableStreamWrapper");var pm=ym,bm=class bm{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),Hn.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),Hn.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),Hn.Disposable.create(()=>this.stream.off("end",t))}write(t,n){return new Promise((o,i)=>{let u=r(s=>{s==null?o():i(s)},"callback");typeof t=="string"?this.stream.write(t,n,u):this.stream.write(t,u)})}end(){this.stream.end()}};r(bm,"WritableStreamWrapper");var gm=bm,Ky=Object.freeze({messageBuffer:Object.freeze({create:r(e=>new Ya(e),"create")}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:r((e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(n){return Promise.reject(n)}},"encode")}),decoder:Object.freeze({name:"application/json",decode:r((e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Gy.TextDecoder(t.charset).decode(e)))}catch(n){return Promise.reject(n)}},"decode")})}),stream:Object.freeze({asReadableStream:r(e=>new pm(e),"asReadableStream"),asWritableStream:r(e=>new gm(e),"asWritableStream")}),console,timer:Object.freeze({setTimeout(e,t,...n){let o=setTimeout(e,t,...n);return{dispose:r(()=>clearTimeout(o),"dispose")}},setImmediate(e,...t){let n=setImmediate(e,...t);return{dispose:r(()=>clearImmediate(n),"dispose")}},setInterval(e,t,...n){let o=setInterval(e,t,...n);return{dispose:r(()=>clearInterval(o),"dispose")}}})});function hm(){return Ky}r(hm,"RIL");(function(e){function t(){Hn.RAL.install(Ky)}r(t,"install"),e.install=t})(hm||(hm={}));_m.default=hm});var Kr=z(le=>{"use strict";var i0=le&&le.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),s0=le&&le.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&i0(t,e,n)};Object.defineProperty(le,"__esModule",{value:!0});le.createMessageConnection=le.createServerSocketTransport=le.createClientSocketTransport=le.createServerPipeTransport=le.createClientPipeTransport=le.generateRandomPipeName=le.StreamMessageWriter=le.StreamMessageReader=le.SocketMessageWriter=le.SocketMessageReader=le.PortMessageWriter=le.PortMessageReader=le.IPCMessageWriter=le.IPCMessageReader=void 0;var $o=Hy();$o.default.install();var Zy=require("path"),a0=require("os"),u0=require("crypto"),ru=require("net"),Vt=Xa();s0(Xa(),le);var Sm=class Sm extends Vt.AbstractMessageReader{constructor(t){super(),this.process=t;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Vt.Disposable.create(()=>this.process.off("message",t))}};r(Sm,"IPCMessageReader");var wm=Sm;le.IPCMessageReader=wm;var Tm=class Tm extends Vt.AbstractMessageWriter{constructor(t){super(),this.process=t,this.errorCount=0;let n=this.process;n.on("error",o=>this.fireError(o)),n.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,t)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Tm,"IPCMessageWriter");var vm=Tm;le.IPCMessageWriter=vm;var Em=class Em extends Vt.AbstractMessageReader{constructor(t){super(),this.onData=new Vt.Emitter,t.on("close",()=>this.fireClose),t.on("error",n=>this.fireError(n)),t.on("message",n=>{this.onData.fire(n)})}listen(t){return this.onData.event(t)}};r(Em,"PortMessageReader");var Im=Em;le.PortMessageReader=Im;var Rm=class Rm extends Vt.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.on("close",()=>this.fireClose()),t.on("error",n=>this.fireError(n))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(n){return this.handleError(n,t),Promise.reject(n)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){}};r(Rm,"PortMessageWriter");var xm=Rm;le.PortMessageWriter=xm;var Pm=class Pm extends Vt.ReadableStreamMessageReader{constructor(t,n="utf-8"){super((0,$o.default)().stream.asReadableStream(t),n)}};r(Pm,"SocketMessageReader");var zr=Pm;le.SocketMessageReader=zr;var km=class km extends Vt.WriteableStreamMessageWriter{constructor(t,n){super((0,$o.default)().stream.asWritableStream(t),n),this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};r(km,"SocketMessageWriter");var Gr=km;le.SocketMessageWriter=Gr;var Mm=class Mm extends Vt.ReadableStreamMessageReader{constructor(t,n){super((0,$o.default)().stream.asReadableStream(t),n)}};r(Mm,"StreamMessageReader");var tu=Mm;le.StreamMessageReader=tu;var Nm=class Nm extends Vt.WriteableStreamMessageWriter{constructor(t,n){super((0,$o.default)().stream.asWritableStream(t),n)}};r(Nm,"StreamMessageWriter");var nu=Nm;le.StreamMessageWriter=nu;var Qy=process.env.XDG_RUNTIME_DIR,c0=new Map([["linux",107],["darwin",103]]);function l0(){let e=(0,u0.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Qy?t=Zy.join(Qy,`vscode-ipc-${e}.sock`):t=Zy.join(a0.tmpdir(),`vscode-${e}.sock`);let n=c0.get(process.platform);return n!==void 0&&t.length>n&&(0,$o.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t}r(l0,"generateRandomPipeName");le.generateRandomPipeName=l0;function d0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,ru.createServer)(a=>{s.close(),n([new zr(a,t),new Gr(a,t)])});s.on("error",u),s.listen(e,()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(d0,"createClientPipeTransport");le.createClientPipeTransport=d0;function f0(e,t="utf-8"){let n=(0,ru.createConnection)(e);return[new zr(n,t),new Gr(n,t)]}r(f0,"createServerPipeTransport");le.createServerPipeTransport=f0;function m0(e,t="utf-8"){let n,o=new Promise((i,u)=>{n=i});return new Promise((i,u)=>{let s=(0,ru.createServer)(a=>{s.close(),n([new zr(a,t),new Gr(a,t)])});s.on("error",u),s.listen(e,"127.0.0.1",()=>{s.removeListener("error",u),i({onConnected:r(()=>o,"onConnected")})})})}r(m0,"createClientSocketTransport");le.createClientSocketTransport=m0;function p0(e,t="utf-8"){let n=(0,ru.createConnection)(e,"127.0.0.1");return[new zr(n,t),new Gr(n,t)]}r(p0,"createServerSocketTransport");le.createServerSocketTransport=p0;function g0(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}r(g0,"isReadableStream");function h0(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}r(h0,"isWritableStream");function _0(e,t,n,o){n||(n=Vt.NullLogger);let i=g0(e)?new tu(e):e,u=h0(t)?new nu(t):t;return Vt.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Vt.createMessageConnection)(i,u,n,o)}r(_0,"createMessageConnection");le.createMessageConnection=_0});var Cm=z((_G,Jy)=>{"use strict";Jy.exports=Kr()});var iu=z((Xy,ou)=>{(function(e){if(typeof ou=="object"&&typeof ou.exports=="object"){var t=e(require,Xy);t!==void 0&&(ou.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var n;(function(m){function w(v){return typeof v=="string"}r(w,"is"),m.is=w})(n||(t.DocumentUri=n={}));var o;(function(m){function w(v){return typeof v=="string"}r(w,"is"),m.is=w})(o||(t.URI=o={}));var i;(function(m){m.MIN_VALUE=-2147483648,m.MAX_VALUE=2147483647;function w(v){return typeof v=="number"&&m.MIN_VALUE<=v&&v<=m.MAX_VALUE}r(w,"is"),m.is=w})(i||(t.integer=i={}));var u;(function(m){m.MIN_VALUE=0,m.MAX_VALUE=2147483647;function w(v){return typeof v=="number"&&m.MIN_VALUE<=v&&v<=m.MAX_VALUE}r(w,"is"),m.is=w})(u||(t.uinteger=u={}));var s;(function(m){function w(g,d){return g===Number.MAX_VALUE&&(g=u.MAX_VALUE),d===Number.MAX_VALUE&&(d=u.MAX_VALUE),{line:g,character:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&E.uinteger(d.line)&&E.uinteger(d.character)}r(v,"is"),m.is=v})(s||(t.Position=s={}));var a;(function(m){function w(g,d,T,O){if(E.uinteger(g)&&E.uinteger(d)&&E.uinteger(T)&&E.uinteger(O))return{start:s.create(g,d),end:s.create(T,O)};if(s.is(g)&&s.is(d))return{start:g,end:d};throw new Error("Range#create called with invalid arguments[".concat(g,", ").concat(d,", ").concat(T,", ").concat(O,"]"))}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&s.is(d.start)&&s.is(d.end)}r(v,"is"),m.is=v})(a||(t.Range=a={}));var c;(function(m){function w(g,d){return{uri:g,range:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&a.is(d.range)&&(E.string(d.uri)||E.undefined(d.uri))}r(v,"is"),m.is=v})(c||(t.Location=c={}));var l;(function(m){function w(g,d,T,O){return{targetUri:g,targetRange:d,targetSelectionRange:T,originSelectionRange:O}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&a.is(d.targetRange)&&E.string(d.targetUri)&&a.is(d.targetSelectionRange)&&(a.is(d.originSelectionRange)||E.undefined(d.originSelectionRange))}r(v,"is"),m.is=v})(l||(t.LocationLink=l={}));var f;(function(m){function w(g,d,T,O){return{red:g,green:d,blue:T,alpha:O}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&E.numberRange(d.red,0,1)&&E.numberRange(d.green,0,1)&&E.numberRange(d.blue,0,1)&&E.numberRange(d.alpha,0,1)}r(v,"is"),m.is=v})(f||(t.Color=f={}));var p;(function(m){function w(g,d){return{range:g,color:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&a.is(d.range)&&f.is(d.color)}r(v,"is"),m.is=v})(p||(t.ColorInformation=p={}));var h;(function(m){function w(g,d,T){return{label:g,textEdit:d,additionalTextEdits:T}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&E.string(d.label)&&(E.undefined(d.textEdit)||q.is(d))&&(E.undefined(d.additionalTextEdits)||E.typedArray(d.additionalTextEdits,q.is))}r(v,"is"),m.is=v})(h||(t.ColorPresentation=h={}));var y;(function(m){m.Comment="comment",m.Imports="imports",m.Region="region"})(y||(t.FoldingRangeKind=y={}));var x;(function(m){function w(g,d,T,O,re,Ge){var Me={startLine:g,endLine:d};return E.defined(T)&&(Me.startCharacter=T),E.defined(O)&&(Me.endCharacter=O),E.defined(re)&&(Me.kind=re),E.defined(Ge)&&(Me.collapsedText=Ge),Me}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&E.uinteger(d.startLine)&&E.uinteger(d.startLine)&&(E.undefined(d.startCharacter)||E.uinteger(d.startCharacter))&&(E.undefined(d.endCharacter)||E.uinteger(d.endCharacter))&&(E.undefined(d.kind)||E.string(d.kind))}r(v,"is"),m.is=v})(x||(t.FoldingRange=x={}));var S;(function(m){function w(g,d){return{location:g,message:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&c.is(d.location)&&E.string(d.message)}r(v,"is"),m.is=v})(S||(t.DiagnosticRelatedInformation=S={}));var N;(function(m){m.Error=1,m.Warning=2,m.Information=3,m.Hint=4})(N||(t.DiagnosticSeverity=N={}));var R;(function(m){m.Unnecessary=1,m.Deprecated=2})(R||(t.DiagnosticTag=R={}));var B;(function(m){function w(v){var g=v;return E.objectLiteral(g)&&E.string(g.href)}r(w,"is"),m.is=w})(B||(t.CodeDescription=B={}));var A;(function(m){function w(g,d,T,O,re,Ge){var Me={range:g,message:d};return E.defined(T)&&(Me.severity=T),E.defined(O)&&(Me.code=O),E.defined(re)&&(Me.source=re),E.defined(Ge)&&(Me.relatedInformation=Ge),Me}r(w,"create"),m.create=w;function v(g){var d,T=g;return E.defined(T)&&a.is(T.range)&&E.string(T.message)&&(E.number(T.severity)||E.undefined(T.severity))&&(E.integer(T.code)||E.string(T.code)||E.undefined(T.code))&&(E.undefined(T.codeDescription)||E.string((d=T.codeDescription)===null||d===void 0?void 0:d.href))&&(E.string(T.source)||E.undefined(T.source))&&(E.undefined(T.relatedInformation)||E.typedArray(T.relatedInformation,S.is))}r(v,"is"),m.is=v})(A||(t.Diagnostic=A={}));var K;(function(m){function w(g,d){for(var T=[],O=2;O<arguments.length;O++)T[O-2]=arguments[O];var re={title:g,command:d};return E.defined(T)&&T.length>0&&(re.arguments=T),re}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.string(d.title)&&E.string(d.command)}r(v,"is"),m.is=v})(K||(t.Command=K={}));var q;(function(m){function w(T,O){return{range:T,newText:O}}r(w,"replace"),m.replace=w;function v(T,O){return{range:{start:T,end:T},newText:O}}r(v,"insert"),m.insert=v;function g(T){return{range:T,newText:""}}r(g,"del"),m.del=g;function d(T){var O=T;return E.objectLiteral(O)&&E.string(O.newText)&&a.is(O.range)}r(d,"is"),m.is=d})(q||(t.TextEdit=q={}));var J;(function(m){function w(g,d,T){var O={label:g};return d!==void 0&&(O.needsConfirmation=d),T!==void 0&&(O.description=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&E.string(d.label)&&(E.boolean(d.needsConfirmation)||d.needsConfirmation===void 0)&&(E.string(d.description)||d.description===void 0)}r(v,"is"),m.is=v})(J||(t.ChangeAnnotation=J={}));var Q;(function(m){function w(v){var g=v;return E.string(g)}r(w,"is"),m.is=w})(Q||(t.ChangeAnnotationIdentifier=Q={}));var D;(function(m){function w(T,O,re){return{range:T,newText:O,annotationId:re}}r(w,"replace"),m.replace=w;function v(T,O,re){return{range:{start:T,end:T},newText:O,annotationId:re}}r(v,"insert"),m.insert=v;function g(T,O){return{range:T,newText:"",annotationId:O}}r(g,"del"),m.del=g;function d(T){var O=T;return q.is(O)&&(J.is(O.annotationId)||Q.is(O.annotationId))}r(d,"is"),m.is=d})(D||(t.AnnotatedTextEdit=D={}));var te;(function(m){function w(g,d){return{textDocument:g,edits:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&Y.is(d.textDocument)&&Array.isArray(d.edits)}r(v,"is"),m.is=v})(te||(t.TextDocumentEdit=te={}));var Xe;(function(m){function w(g,d,T){var O={kind:"create",uri:g};return d!==void 0&&(d.overwrite!==void 0||d.ignoreIfExists!==void 0)&&(O.options=d),T!==void 0&&(O.annotationId=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return d&&d.kind==="create"&&E.string(d.uri)&&(d.options===void 0||(d.options.overwrite===void 0||E.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||E.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||Q.is(d.annotationId))}r(v,"is"),m.is=v})(Xe||(t.CreateFile=Xe={}));var st;(function(m){function w(g,d,T,O){var re={kind:"rename",oldUri:g,newUri:d};return T!==void 0&&(T.overwrite!==void 0||T.ignoreIfExists!==void 0)&&(re.options=T),O!==void 0&&(re.annotationId=O),re}r(w,"create"),m.create=w;function v(g){var d=g;return d&&d.kind==="rename"&&E.string(d.oldUri)&&E.string(d.newUri)&&(d.options===void 0||(d.options.overwrite===void 0||E.boolean(d.options.overwrite))&&(d.options.ignoreIfExists===void 0||E.boolean(d.options.ignoreIfExists)))&&(d.annotationId===void 0||Q.is(d.annotationId))}r(v,"is"),m.is=v})(st||(t.RenameFile=st={}));var De;(function(m){function w(g,d,T){var O={kind:"delete",uri:g};return d!==void 0&&(d.recursive!==void 0||d.ignoreIfNotExists!==void 0)&&(O.options=d),T!==void 0&&(O.annotationId=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return d&&d.kind==="delete"&&E.string(d.uri)&&(d.options===void 0||(d.options.recursive===void 0||E.boolean(d.options.recursive))&&(d.options.ignoreIfNotExists===void 0||E.boolean(d.options.ignoreIfNotExists)))&&(d.annotationId===void 0||Q.is(d.annotationId))}r(v,"is"),m.is=v})(De||(t.DeleteFile=De={}));var V;(function(m){function w(v){var g=v;return g&&(g.changes!==void 0||g.documentChanges!==void 0)&&(g.documentChanges===void 0||g.documentChanges.every(function(d){return E.string(d.kind)?Xe.is(d)||st.is(d)||De.is(d):te.is(d)}))}r(w,"is"),m.is=w})(V||(t.WorkspaceEdit=V={}));var F=function(){function m(w,v){this.edits=w,this.changeAnnotations=v}return r(m,"TextEditChangeImpl"),m.prototype.insert=function(w,v,g){var d,T;if(g===void 0?d=q.insert(w,v):Q.is(g)?(T=g,d=D.insert(w,v,g)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(g),d=D.insert(w,v,T)),this.edits.push(d),T!==void 0)return T},m.prototype.replace=function(w,v,g){var d,T;if(g===void 0?d=q.replace(w,v):Q.is(g)?(T=g,d=D.replace(w,v,g)):(this.assertChangeAnnotations(this.changeAnnotations),T=this.changeAnnotations.manage(g),d=D.replace(w,v,T)),this.edits.push(d),T!==void 0)return T},m.prototype.delete=function(w,v){var g,d;if(v===void 0?g=q.del(w):Q.is(v)?(d=v,g=D.del(w,v)):(this.assertChangeAnnotations(this.changeAnnotations),d=this.changeAnnotations.manage(v),g=D.del(w,d)),this.edits.push(g),d!==void 0)return d},m.prototype.add=function(w){this.edits.push(w)},m.prototype.all=function(){return this.edits},m.prototype.clear=function(){this.edits.splice(0,this.edits.length)},m.prototype.assertChangeAnnotations=function(w){if(w===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},m}(),W=function(){function m(w){this._annotations=w===void 0?Object.create(null):w,this._counter=0,this._size=0}return r(m,"ChangeAnnotations"),m.prototype.all=function(){return this._annotations},Object.defineProperty(m.prototype,"size",{get:r(function(){return this._size},"get"),enumerable:!1,configurable:!0}),m.prototype.manage=function(w,v){var g;if(Q.is(w)?g=w:(g=this.nextId(),v=w),this._annotations[g]!==void 0)throw new Error("Id ".concat(g," is already in use."));if(v===void 0)throw new Error("No annotation provided for id ".concat(g));return this._annotations[g]=v,this._size++,g},m.prototype.nextId=function(){return this._counter++,this._counter.toString()},m}(),G=function(){function m(w){var v=this;this._textEditChanges=Object.create(null),w!==void 0?(this._workspaceEdit=w,w.documentChanges?(this._changeAnnotations=new W(w.changeAnnotations),w.changeAnnotations=this._changeAnnotations.all(),w.documentChanges.forEach(function(g){if(te.is(g)){var d=new F(g.edits,v._changeAnnotations);v._textEditChanges[g.textDocument.uri]=d}})):w.changes&&Object.keys(w.changes).forEach(function(g){var d=new F(w.changes[g]);v._textEditChanges[g]=d})):this._workspaceEdit={}}return r(m,"WorkspaceChange"),Object.defineProperty(m.prototype,"edit",{get:r(function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},"get"),enumerable:!1,configurable:!0}),m.prototype.getTextEditChange=function(w){if(Y.is(w)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var v={uri:w.uri,version:w.version},g=this._textEditChanges[v.uri];if(!g){var d=[],T={textDocument:v,edits:d};this._workspaceEdit.documentChanges.push(T),g=new F(d,this._changeAnnotations),this._textEditChanges[v.uri]=g}return g}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var g=this._textEditChanges[w];if(!g){var d=[];this._workspaceEdit.changes[w]=d,g=new F(d),this._textEditChanges[w]=g}return g}},m.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new W,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},m.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},m.prototype.createFile=function(w,v,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;J.is(v)||Q.is(v)?d=v:g=v;var T,O;if(d===void 0?T=Xe.create(w,g):(O=Q.is(d)?d:this._changeAnnotations.manage(d),T=Xe.create(w,g,O)),this._workspaceEdit.documentChanges.push(T),O!==void 0)return O},m.prototype.renameFile=function(w,v,g,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var T;J.is(g)||Q.is(g)?T=g:d=g;var O,re;if(T===void 0?O=st.create(w,v,d):(re=Q.is(T)?T:this._changeAnnotations.manage(T),O=st.create(w,v,d,re)),this._workspaceEdit.documentChanges.push(O),re!==void 0)return re},m.prototype.deleteFile=function(w,v,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var d;J.is(v)||Q.is(v)?d=v:g=v;var T,O;if(d===void 0?T=De.create(w,g):(O=Q.is(d)?d:this._changeAnnotations.manage(d),T=De.create(w,g,O)),this._workspaceEdit.documentChanges.push(T),O!==void 0)return O},m}();t.WorkspaceChange=G;var ae;(function(m){function w(g){return{uri:g}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.string(d.uri)}r(v,"is"),m.is=v})(ae||(t.TextDocumentIdentifier=ae={}));var ee;(function(m){function w(g,d){return{uri:g,version:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.string(d.uri)&&E.integer(d.version)}r(v,"is"),m.is=v})(ee||(t.VersionedTextDocumentIdentifier=ee={}));var Y;(function(m){function w(g,d){return{uri:g,version:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.string(d.uri)&&(d.version===null||E.integer(d.version))}r(v,"is"),m.is=v})(Y||(t.OptionalVersionedTextDocumentIdentifier=Y={}));var je;(function(m){function w(g,d,T,O){return{uri:g,languageId:d,version:T,text:O}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.string(d.uri)&&E.string(d.languageId)&&E.integer(d.version)&&E.string(d.text)}r(v,"is"),m.is=v})(je||(t.TextDocumentItem=je={}));var ke;(function(m){m.PlainText="plaintext",m.Markdown="markdown";function w(v){var g=v;return g===m.PlainText||g===m.Markdown}r(w,"is"),m.is=w})(ke||(t.MarkupKind=ke={}));var he;(function(m){function w(v){var g=v;return E.objectLiteral(v)&&ke.is(g.kind)&&E.string(g.value)}r(w,"is"),m.is=w})(he||(t.MarkupContent=he={}));var Pt;(function(m){m.Text=1,m.Method=2,m.Function=3,m.Constructor=4,m.Field=5,m.Variable=6,m.Class=7,m.Interface=8,m.Module=9,m.Property=10,m.Unit=11,m.Value=12,m.Enum=13,m.Keyword=14,m.Snippet=15,m.Color=16,m.File=17,m.Reference=18,m.Folder=19,m.EnumMember=20,m.Constant=21,m.Struct=22,m.Event=23,m.Operator=24,m.TypeParameter=25})(Pt||(t.CompletionItemKind=Pt={}));var ni;(function(m){m.PlainText=1,m.Snippet=2})(ni||(t.InsertTextFormat=ni={}));var ri;(function(m){m.Deprecated=1})(ri||(t.CompletionItemTag=ri={}));var as;(function(m){function w(g,d,T){return{newText:g,insert:d,replace:T}}r(w,"create"),m.create=w;function v(g){var d=g;return d&&E.string(d.newText)&&a.is(d.insert)&&a.is(d.replace)}r(v,"is"),m.is=v})(as||(t.InsertReplaceEdit=as={}));var us;(function(m){m.asIs=1,m.adjustIndentation=2})(us||(t.InsertTextMode=us={}));var cs;(function(m){function w(v){var g=v;return g&&(E.string(g.detail)||g.detail===void 0)&&(E.string(g.description)||g.description===void 0)}r(w,"is"),m.is=w})(cs||(t.CompletionItemLabelDetails=cs={}));var ls;(function(m){function w(v){return{label:v}}r(w,"create"),m.create=w})(ls||(t.CompletionItem=ls={}));var ds;(function(m){function w(v,g){return{items:v||[],isIncomplete:!!g}}r(w,"create"),m.create=w})(ds||(t.CompletionList=ds={}));var Qr;(function(m){function w(g){return g.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}r(w,"fromPlainText"),m.fromPlainText=w;function v(g){var d=g;return E.string(d)||E.objectLiteral(d)&&E.string(d.language)&&E.string(d.value)}r(v,"is"),m.is=v})(Qr||(t.MarkedString=Qr={}));var ln;(function(m){function w(v){var g=v;return!!g&&E.objectLiteral(g)&&(he.is(g.contents)||Qr.is(g.contents)||E.typedArray(g.contents,Qr.is))&&(v.range===void 0||a.is(v.range))}r(w,"is"),m.is=w})(ln||(t.Hover=ln={}));var ms;(function(m){function w(v,g){return g?{label:v,documentation:g}:{label:v}}r(w,"create"),m.create=w})(ms||(t.ParameterInformation=ms={}));var ps;(function(m){function w(v,g){for(var d=[],T=2;T<arguments.length;T++)d[T-2]=arguments[T];var O={label:v};return E.defined(g)&&(O.documentation=g),E.defined(d)?O.parameters=d:O.parameters=[],O}r(w,"create"),m.create=w})(ps||(t.SignatureInformation=ps={}));var wr;(function(m){m.Text=1,m.Read=2,m.Write=3})(wr||(t.DocumentHighlightKind=wr={}));var gs;(function(m){function w(v,g){var d={range:v};return E.number(g)&&(d.kind=g),d}r(w,"create"),m.create=w})(gs||(t.DocumentHighlight=gs={}));var Jr;(function(m){m.File=1,m.Module=2,m.Namespace=3,m.Package=4,m.Class=5,m.Method=6,m.Property=7,m.Field=8,m.Constructor=9,m.Enum=10,m.Interface=11,m.Function=12,m.Variable=13,m.Constant=14,m.String=15,m.Number=16,m.Boolean=17,m.Array=18,m.Object=19,m.Key=20,m.Null=21,m.EnumMember=22,m.Struct=23,m.Event=24,m.Operator=25,m.TypeParameter=26})(Jr||(t.SymbolKind=Jr={}));var hs;(function(m){m.Deprecated=1})(hs||(t.SymbolTag=hs={}));var On;(function(m){function w(v,g,d,T,O){var re={name:v,kind:g,location:{uri:T,range:d}};return O&&(re.containerName=O),re}r(w,"create"),m.create=w})(On||(t.SymbolInformation=On={}));var Qn;(function(m){function w(v,g,d,T){return T!==void 0?{name:v,kind:g,location:{uri:d,range:T}}:{name:v,kind:g,location:{uri:d}}}r(w,"create"),m.create=w})(Qn||(t.WorkspaceSymbol=Qn={}));var _s;(function(m){function w(g,d,T,O,re,Ge){var Me={name:g,detail:d,kind:T,range:O,selectionRange:re};return Ge!==void 0&&(Me.children=Ge),Me}r(w,"create"),m.create=w;function v(g){var d=g;return d&&E.string(d.name)&&E.number(d.kind)&&a.is(d.range)&&a.is(d.selectionRange)&&(d.detail===void 0||E.string(d.detail))&&(d.deprecated===void 0||E.boolean(d.deprecated))&&(d.children===void 0||Array.isArray(d.children))&&(d.tags===void 0||Array.isArray(d.tags))}r(v,"is"),m.is=v})(_s||(t.DocumentSymbol=_s={}));var ys;(function(m){m.Empty="",m.QuickFix="quickfix",m.Refactor="refactor",m.RefactorExtract="refactor.extract",m.RefactorInline="refactor.inline",m.RefactorRewrite="refactor.rewrite",m.Source="source",m.SourceOrganizeImports="source.organizeImports",m.SourceFixAll="source.fixAll"})(ys||(t.CodeActionKind=ys={}));var In;(function(m){m.Invoked=1,m.Automatic=2})(In||(t.CodeActionTriggerKind=In={}));var oi;(function(m){function w(g,d,T){var O={diagnostics:g};return d!=null&&(O.only=d),T!=null&&(O.triggerKind=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.typedArray(d.diagnostics,A.is)&&(d.only===void 0||E.typedArray(d.only,E.string))&&(d.triggerKind===void 0||d.triggerKind===In.Invoked||d.triggerKind===In.Automatic)}r(v,"is"),m.is=v})(oi||(t.CodeActionContext=oi={}));var ii;(function(m){function w(g,d,T){var O={title:g},re=!0;return typeof d=="string"?(re=!1,O.kind=d):K.is(d)?O.command=d:O.edit=d,re&&T!==void 0&&(O.kind=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return d&&E.string(d.title)&&(d.diagnostics===void 0||E.typedArray(d.diagnostics,A.is))&&(d.kind===void 0||E.string(d.kind))&&(d.edit!==void 0||d.command!==void 0)&&(d.command===void 0||K.is(d.command))&&(d.isPreferred===void 0||E.boolean(d.isPreferred))&&(d.edit===void 0||V.is(d.edit))}r(v,"is"),m.is=v})(ii||(t.CodeAction=ii={}));var Xr;(function(m){function w(g,d){var T={range:g};return E.defined(d)&&(T.data=d),T}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&a.is(d.range)&&(E.undefined(d.command)||K.is(d.command))}r(v,"is"),m.is=v})(Xr||(t.CodeLens=Xr={}));var si;(function(m){function w(g,d){return{tabSize:g,insertSpaces:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&E.uinteger(d.tabSize)&&E.boolean(d.insertSpaces)}r(v,"is"),m.is=v})(si||(t.FormattingOptions=si={}));var Fn;(function(m){function w(g,d,T){return{range:g,target:d,data:T}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&a.is(d.range)&&(E.undefined(d.target)||E.string(d.target))}r(v,"is"),m.is=v})(Fn||(t.DocumentLink=Fn={}));var b;(function(m){function w(g,d){return{range:g,parent:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&a.is(d.range)&&(d.parent===void 0||m.is(d.parent))}r(v,"is"),m.is=v})(b||(t.SelectionRange=b={}));var L;(function(m){m.namespace="namespace",m.type="type",m.class="class",m.enum="enum",m.interface="interface",m.struct="struct",m.typeParameter="typeParameter",m.parameter="parameter",m.variable="variable",m.property="property",m.enumMember="enumMember",m.event="event",m.function="function",m.method="method",m.macro="macro",m.keyword="keyword",m.modifier="modifier",m.comment="comment",m.string="string",m.number="number",m.regexp="regexp",m.operator="operator",m.decorator="decorator"})(L||(t.SemanticTokenTypes=L={}));var $;(function(m){m.declaration="declaration",m.definition="definition",m.readonly="readonly",m.static="static",m.deprecated="deprecated",m.abstract="abstract",m.async="async",m.modification="modification",m.documentation="documentation",m.defaultLibrary="defaultLibrary"})($||(t.SemanticTokenModifiers=$={}));var H;(function(m){function w(v){var g=v;return E.objectLiteral(g)&&(g.resultId===void 0||typeof g.resultId=="string")&&Array.isArray(g.data)&&(g.data.length===0||typeof g.data[0]=="number")}r(w,"is"),m.is=w})(H||(t.SemanticTokens=H={}));var Te;(function(m){function w(g,d){return{range:g,text:d}}r(w,"create"),m.create=w;function v(g){var d=g;return d!=null&&a.is(d.range)&&E.string(d.text)}r(v,"is"),m.is=v})(Te||(t.InlineValueText=Te={}));var be;(function(m){function w(g,d,T){return{range:g,variableName:d,caseSensitiveLookup:T}}r(w,"create"),m.create=w;function v(g){var d=g;return d!=null&&a.is(d.range)&&E.boolean(d.caseSensitiveLookup)&&(E.string(d.variableName)||d.variableName===void 0)}r(v,"is"),m.is=v})(be||(t.InlineValueVariableLookup=be={}));var we;(function(m){function w(g,d){return{range:g,expression:d}}r(w,"create"),m.create=w;function v(g){var d=g;return d!=null&&a.is(d.range)&&(E.string(d.expression)||d.expression===void 0)}r(v,"is"),m.is=v})(we||(t.InlineValueEvaluatableExpression=we={}));var Ue;(function(m){function w(g,d){return{frameId:g,stoppedLocation:d}}r(w,"create"),m.create=w;function v(g){var d=g;return E.defined(d)&&a.is(g.stoppedLocation)}r(v,"is"),m.is=v})(Ue||(t.InlineValueContext=Ue={}));var He;(function(m){m.Type=1,m.Parameter=2;function w(v){return v===1||v===2}r(w,"is"),m.is=w})(He||(t.InlayHintKind=He={}));var fe;(function(m){function w(g){return{value:g}}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&(d.tooltip===void 0||E.string(d.tooltip)||he.is(d.tooltip))&&(d.location===void 0||c.is(d.location))&&(d.command===void 0||K.is(d.command))}r(v,"is"),m.is=v})(fe||(t.InlayHintLabelPart=fe={}));var qe;(function(m){function w(g,d,T){var O={position:g,label:d};return T!==void 0&&(O.kind=T),O}r(w,"create"),m.create=w;function v(g){var d=g;return E.objectLiteral(d)&&s.is(d.position)&&(E.string(d.label)||E.typedArray(d.label,fe.is))&&(d.kind===void 0||He.is(d.kind))&&d.textEdits===void 0||E.typedArray(d.textEdits,q.is)&&(d.tooltip===void 0||E.string(d.tooltip)||he.is(d.tooltip))&&(d.paddingLeft===void 0||E.boolean(d.paddingLeft))&&(d.paddingRight===void 0||E.boolean(d.paddingRight))}r(v,"is"),m.is=v})(qe||(t.InlayHint=qe={}));var ve;(function(m){function w(v){return{kind:"snippet",value:v}}r(w,"createSnippet"),m.createSnippet=w})(ve||(t.StringValue=ve={}));var Be;(function(m){function w(v,g,d,T){return{insertText:v,filterText:g,range:d,command:T}}r(w,"create"),m.create=w})(Be||(t.InlineCompletionItem=Be={}));var Ze;(function(m){function w(v){return{items:v}}r(w,"create"),m.create=w})(Ze||(t.InlineCompletionList=Ze={}));var bs;(function(m){m.Invoked=0,m.Automatic=1})(bs||(t.InlineCompletionTriggerKind=bs={}));var np;(function(m){function w(v,g){return{range:v,text:g}}r(w,"create"),m.create=w})(np||(t.SelectedCompletionInfo=np={}));var rp;(function(m){function w(v,g){return{triggerKind:v,selectedCompletionInfo:g}}r(w,"create"),m.create=w})(rp||(t.InlineCompletionContext=rp={}));var op;(function(m){function w(v){var g=v;return E.objectLiteral(g)&&o.is(g.uri)&&E.string(g.name)}r(w,"is"),m.is=w})(op||(t.WorkspaceFolder=op={})),t.EOL=[`
`,`\r
`,"\r"];var ip;(function(m){function w(T,O,re,Ge){return new Yv(T,O,re,Ge)}r(w,"create"),m.create=w;function v(T){var O=T;return!!(E.defined(O)&&E.string(O.uri)&&(E.undefined(O.languageId)||E.string(O.languageId))&&E.uinteger(O.lineCount)&&E.func(O.getText)&&E.func(O.positionAt)&&E.func(O.offsetAt))}r(v,"is"),m.is=v;function g(T,O){for(var re=T.getText(),Ge=d(O,function(Yr,ws){var sp=Yr.range.start.line-ws.range.start.line;return sp===0?Yr.range.start.character-ws.range.start.character:sp}),Me=re.length,dn=Ge.length-1;dn>=0;dn--){var fn=Ge[dn],An=T.offsetAt(fn.range.start),ue=T.offsetAt(fn.range.end);if(ue<=Me)re=re.substring(0,An)+fn.newText+re.substring(ue,re.length);else throw new Error("Overlapping edit");Me=An}return re}r(g,"applyEdits"),m.applyEdits=g;function d(T,O){if(T.length<=1)return T;var re=T.length/2|0,Ge=T.slice(0,re),Me=T.slice(re);d(Ge,O),d(Me,O);for(var dn=0,fn=0,An=0;dn<Ge.length&&fn<Me.length;){var ue=O(Ge[dn],Me[fn]);ue<=0?T[An++]=Ge[dn++]:T[An++]=Me[fn++]}for(;dn<Ge.length;)T[An++]=Ge[dn++];for(;fn<Me.length;)T[An++]=Me[fn++];return T}r(d,"mergeSort")})(ip||(t.TextDocument=ip={}));var Yv=function(){function m(w,v,g,d){this._uri=w,this._languageId=v,this._version=g,this._content=d,this._lineOffsets=void 0}return r(m,"FullTextDocument"),Object.defineProperty(m.prototype,"uri",{get:r(function(){return this._uri},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"languageId",{get:r(function(){return this._languageId},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"version",{get:r(function(){return this._version},"get"),enumerable:!1,configurable:!0}),m.prototype.getText=function(w){if(w){var v=this.offsetAt(w.start),g=this.offsetAt(w.end);return this._content.substring(v,g)}return this._content},m.prototype.update=function(w,v){this._content=w.text,this._version=v,this._lineOffsets=void 0},m.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var w=[],v=this._content,g=!0,d=0;d<v.length;d++){g&&(w.push(d),g=!1);var T=v.charAt(d);g=T==="\r"||T===`
`,T==="\r"&&d+1<v.length&&v.charAt(d+1)===`
`&&d++}g&&v.length>0&&w.push(v.length),this._lineOffsets=w}return this._lineOffsets},m.prototype.positionAt=function(w){w=Math.max(Math.min(w,this._content.length),0);var v=this.getLineOffsets(),g=0,d=v.length;if(d===0)return s.create(0,w);for(;g<d;){var T=Math.floor((g+d)/2);v[T]>w?d=T:g=T+1}var O=g-1;return s.create(O,w-v[O])},m.prototype.offsetAt=function(w){var v=this.getLineOffsets();if(w.line>=v.length)return this._content.length;if(w.line<0)return 0;var g=v[w.line],d=w.line+1<v.length?v[w.line+1]:this._content.length;return Math.max(Math.min(g+w.character,d),g)},Object.defineProperty(m.prototype,"lineCount",{get:r(function(){return this.getLineOffsets().length},"get"),enumerable:!1,configurable:!0}),m}(),E;(function(m){var w=Object.prototype.toString;function v(ue){return typeof ue<"u"}r(v,"defined"),m.defined=v;function g(ue){return typeof ue>"u"}r(g,"undefined"),m.undefined=g;function d(ue){return ue===!0||ue===!1}r(d,"boolean"),m.boolean=d;function T(ue){return w.call(ue)==="[object String]"}r(T,"string"),m.string=T;function O(ue){return w.call(ue)==="[object Number]"}r(O,"number"),m.number=O;function re(ue,Yr,ws){return w.call(ue)==="[object Number]"&&Yr<=ue&&ue<=ws}r(re,"numberRange"),m.numberRange=re;function Ge(ue){return w.call(ue)==="[object Number]"&&-2147483648<=ue&&ue<=2147483647}r(Ge,"integer"),m.integer=Ge;function Me(ue){return w.call(ue)==="[object Number]"&&0<=ue&&ue<=2147483647}r(Me,"uinteger"),m.uinteger=Me;function dn(ue){return w.call(ue)==="[object Function]"}r(dn,"func"),m.func=dn;function fn(ue){return ue!==null&&typeof ue=="object"}r(fn,"objectLiteral"),m.objectLiteral=fn;function An(ue,Yr){return Array.isArray(ue)&&ue.every(Yr)}r(An,"typedArray"),m.typedArray=An})(E||(E={}))})});var We=z(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.ProtocolNotificationType=Ft.ProtocolNotificationType0=Ft.ProtocolRequestType=Ft.ProtocolRequestType0=Ft.RegistrationType=Ft.MessageDirection=void 0;var Vo=Kr(),Yy;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Yy||(Ft.MessageDirection=Yy={}));var jm=class jm{constructor(t){this.method=t}};r(jm,"RegistrationType");var Lm=jm;Ft.RegistrationType=Lm;var Um=class Um extends Vo.RequestType0{constructor(t){super(t)}};r(Um,"ProtocolRequestType0");var Om=Um;Ft.ProtocolRequestType0=Om;var qm=class qm extends Vo.RequestType{constructor(t){super(t,Vo.ParameterStructures.byName)}};r(qm,"ProtocolRequestType");var Fm=qm;Ft.ProtocolRequestType=Fm;var Bm=class Bm extends Vo.NotificationType0{constructor(t){super(t)}};r(Bm,"ProtocolNotificationType0");var Am=Bm;Ft.ProtocolNotificationType0=Am;var Wm=class Wm extends Vo.NotificationType{constructor(t){super(t,Vo.ParameterStructures.byName)}};r(Wm,"ProtocolNotificationType");var Dm=Wm;Ft.ProtocolNotificationType=Dm});var su=z(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});it.objectLiteral=it.typedArray=it.stringArray=it.array=it.func=it.error=it.number=it.string=it.boolean=void 0;function y0(e){return e===!0||e===!1}r(y0,"boolean");it.boolean=y0;function eb(e){return typeof e=="string"||e instanceof String}r(eb,"string");it.string=eb;function b0(e){return typeof e=="number"||e instanceof Number}r(b0,"number");it.number=b0;function w0(e){return e instanceof Error}r(w0,"error");it.error=w0;function v0(e){return typeof e=="function"}r(v0,"func");it.func=v0;function tb(e){return Array.isArray(e)}r(tb,"array");it.array=tb;function I0(e){return tb(e)&&e.every(t=>eb(t))}r(I0,"stringArray");it.stringArray=I0;function x0(e,t){return Array.isArray(e)&&e.every(t)}r(x0,"typedArray");it.typedArray=x0;function S0(e){return e!==null&&typeof e=="object"}r(S0,"objectLiteral");it.objectLiteral=S0});var ob=z(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.ImplementationRequest=void 0;var nb=We(),rb;(function(e){e.method="textDocument/implementation",e.messageDirection=nb.MessageDirection.clientToServer,e.type=new nb.ProtocolRequestType(e.method)})(rb||(au.ImplementationRequest=rb={}))});var ab=z(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.TypeDefinitionRequest=void 0;var ib=We(),sb;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=ib.MessageDirection.clientToServer,e.type=new ib.ProtocolRequestType(e.method)})(sb||(uu.TypeDefinitionRequest=sb={}))});var lb=z(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.DidChangeWorkspaceFoldersNotification=zo.WorkspaceFoldersRequest=void 0;var cu=We(),ub;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=cu.MessageDirection.serverToClient,e.type=new cu.ProtocolRequestType0(e.method)})(ub||(zo.WorkspaceFoldersRequest=ub={}));var cb;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=cu.MessageDirection.clientToServer,e.type=new cu.ProtocolNotificationType(e.method)})(cb||(zo.DidChangeWorkspaceFoldersNotification=cb={}))});var mb=z(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.ConfigurationRequest=void 0;var db=We(),fb;(function(e){e.method="workspace/configuration",e.messageDirection=db.MessageDirection.serverToClient,e.type=new db.ProtocolRequestType(e.method)})(fb||(lu.ConfigurationRequest=fb={}))});var hb=z(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.ColorPresentationRequest=Go.DocumentColorRequest=void 0;var du=We(),pb;(function(e){e.method="textDocument/documentColor",e.messageDirection=du.MessageDirection.clientToServer,e.type=new du.ProtocolRequestType(e.method)})(pb||(Go.DocumentColorRequest=pb={}));var gb;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=du.MessageDirection.clientToServer,e.type=new du.ProtocolRequestType(e.method)})(gb||(Go.ColorPresentationRequest=gb={}))});var bb=z(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.FoldingRangeRefreshRequest=Ko.FoldingRangeRequest=void 0;var fu=We(),_b;(function(e){e.method="textDocument/foldingRange",e.messageDirection=fu.MessageDirection.clientToServer,e.type=new fu.ProtocolRequestType(e.method)})(_b||(Ko.FoldingRangeRequest=_b={}));var yb;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=fu.MessageDirection.serverToClient,e.type=new fu.ProtocolRequestType0(e.method)})(yb||(Ko.FoldingRangeRefreshRequest=yb={}))});var Ib=z(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.DeclarationRequest=void 0;var wb=We(),vb;(function(e){e.method="textDocument/declaration",e.messageDirection=wb.MessageDirection.clientToServer,e.type=new wb.ProtocolRequestType(e.method)})(vb||(mu.DeclarationRequest=vb={}))});var Tb=z(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.SelectionRangeRequest=void 0;var xb=We(),Sb;(function(e){e.method="textDocument/selectionRange",e.messageDirection=xb.MessageDirection.clientToServer,e.type=new xb.ProtocolRequestType(e.method)})(Sb||(pu.SelectionRangeRequest=Sb={}))});var kb=z(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.WorkDoneProgressCancelNotification=gr.WorkDoneProgressCreateRequest=gr.WorkDoneProgress=void 0;var T0=Kr(),gu=We(),Eb;(function(e){e.type=new T0.ProgressType;function t(n){return n===e.type}r(t,"is"),e.is=t})(Eb||(gr.WorkDoneProgress=Eb={}));var Rb;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=gu.MessageDirection.serverToClient,e.type=new gu.ProtocolRequestType(e.method)})(Rb||(gr.WorkDoneProgressCreateRequest=Rb={}));var Pb;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=gu.MessageDirection.clientToServer,e.type=new gu.ProtocolNotificationType(e.method)})(Pb||(gr.WorkDoneProgressCancelNotification=Pb={}))});var Lb=z(hr=>{"use strict";Object.defineProperty(hr,"__esModule",{value:!0});hr.CallHierarchyOutgoingCallsRequest=hr.CallHierarchyIncomingCallsRequest=hr.CallHierarchyPrepareRequest=void 0;var Ho=We(),Mb;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=Ho.MessageDirection.clientToServer,e.type=new Ho.ProtocolRequestType(e.method)})(Mb||(hr.CallHierarchyPrepareRequest=Mb={}));var Nb;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=Ho.MessageDirection.clientToServer,e.type=new Ho.ProtocolRequestType(e.method)})(Nb||(hr.CallHierarchyIncomingCallsRequest=Nb={}));var Cb;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=Ho.MessageDirection.clientToServer,e.type=new Ho.ProtocolRequestType(e.method)})(Cb||(hr.CallHierarchyOutgoingCallsRequest=Cb={}))});var Ub=z(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.SemanticTokensRefreshRequest=At.SemanticTokensRangeRequest=At.SemanticTokensDeltaRequest=At.SemanticTokensRequest=At.SemanticTokensRegistrationType=At.TokenFormat=void 0;var Zn=We(),Ob;(function(e){e.Relative="relative"})(Ob||(At.TokenFormat=Ob={}));var os;(function(e){e.method="textDocument/semanticTokens",e.type=new Zn.RegistrationType(e.method)})(os||(At.SemanticTokensRegistrationType=os={}));var Fb;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Zn.MessageDirection.clientToServer,e.type=new Zn.ProtocolRequestType(e.method),e.registrationMethod=os.method})(Fb||(At.SemanticTokensRequest=Fb={}));var Ab;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Zn.MessageDirection.clientToServer,e.type=new Zn.ProtocolRequestType(e.method),e.registrationMethod=os.method})(Ab||(At.SemanticTokensDeltaRequest=Ab={}));var Db;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Zn.MessageDirection.clientToServer,e.type=new Zn.ProtocolRequestType(e.method),e.registrationMethod=os.method})(Db||(At.SemanticTokensRangeRequest=Db={}));var jb;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Zn.MessageDirection.serverToClient,e.type=new Zn.ProtocolRequestType0(e.method)})(jb||(At.SemanticTokensRefreshRequest=jb={}))});var Wb=z(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.ShowDocumentRequest=void 0;var qb=We(),Bb;(function(e){e.method="window/showDocument",e.messageDirection=qb.MessageDirection.serverToClient,e.type=new qb.ProtocolRequestType(e.method)})(Bb||(hu.ShowDocumentRequest=Bb={}))});var zb=z(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.LinkedEditingRangeRequest=void 0;var $b=We(),Vb;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=$b.MessageDirection.clientToServer,e.type=new $b.ProtocolRequestType(e.method)})(Vb||(_u.LinkedEditingRangeRequest=Vb={}))});var Yb=z(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.WillDeleteFilesRequest=Tt.DidDeleteFilesNotification=Tt.DidRenameFilesNotification=Tt.WillRenameFilesRequest=Tt.DidCreateFilesNotification=Tt.WillCreateFilesRequest=Tt.FileOperationPatternKind=void 0;var an=We(),Gb;(function(e){e.file="file",e.folder="folder"})(Gb||(Tt.FileOperationPatternKind=Gb={}));var Kb;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(Kb||(Tt.WillCreateFilesRequest=Kb={}));var Hb;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolNotificationType(e.method)})(Hb||(Tt.DidCreateFilesNotification=Hb={}));var Zb;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(Zb||(Tt.WillRenameFilesRequest=Zb={}));var Qb;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolNotificationType(e.method)})(Qb||(Tt.DidRenameFilesNotification=Qb={}));var Jb;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolNotificationType(e.method)})(Jb||(Tt.DidDeleteFilesNotification=Jb={}));var Xb;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=an.MessageDirection.clientToServer,e.type=new an.ProtocolRequestType(e.method)})(Xb||(Tt.WillDeleteFilesRequest=Xb={}))});var ow=z(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.MonikerRequest=_r.MonikerKind=_r.UniquenessLevel=void 0;var ew=We(),tw;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(tw||(_r.UniquenessLevel=tw={}));var nw;(function(e){e.$import="import",e.$export="export",e.local="local"})(nw||(_r.MonikerKind=nw={}));var rw;(function(e){e.method="textDocument/moniker",e.messageDirection=ew.MessageDirection.clientToServer,e.type=new ew.ProtocolRequestType(e.method)})(rw||(_r.MonikerRequest=rw={}))});var uw=z(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.TypeHierarchySubtypesRequest=yr.TypeHierarchySupertypesRequest=yr.TypeHierarchyPrepareRequest=void 0;var Zo=We(),iw;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Zo.MessageDirection.clientToServer,e.type=new Zo.ProtocolRequestType(e.method)})(iw||(yr.TypeHierarchyPrepareRequest=iw={}));var sw;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Zo.MessageDirection.clientToServer,e.type=new Zo.ProtocolRequestType(e.method)})(sw||(yr.TypeHierarchySupertypesRequest=sw={}));var aw;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Zo.MessageDirection.clientToServer,e.type=new Zo.ProtocolRequestType(e.method)})(aw||(yr.TypeHierarchySubtypesRequest=aw={}))});var dw=z(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.InlineValueRefreshRequest=Qo.InlineValueRequest=void 0;var yu=We(),cw;(function(e){e.method="textDocument/inlineValue",e.messageDirection=yu.MessageDirection.clientToServer,e.type=new yu.ProtocolRequestType(e.method)})(cw||(Qo.InlineValueRequest=cw={}));var lw;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=yu.MessageDirection.serverToClient,e.type=new yu.ProtocolRequestType0(e.method)})(lw||(Qo.InlineValueRefreshRequest=lw={}))});var gw=z(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.InlayHintRefreshRequest=br.InlayHintResolveRequest=br.InlayHintRequest=void 0;var Jo=We(),fw;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Jo.MessageDirection.clientToServer,e.type=new Jo.ProtocolRequestType(e.method)})(fw||(br.InlayHintRequest=fw={}));var mw;(function(e){e.method="inlayHint/resolve",e.messageDirection=Jo.MessageDirection.clientToServer,e.type=new Jo.ProtocolRequestType(e.method)})(mw||(br.InlayHintResolveRequest=mw={}));var pw;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Jo.MessageDirection.serverToClient,e.type=new Jo.ProtocolRequestType0(e.method)})(pw||(br.InlayHintRefreshRequest=pw={}))});var Iw=z(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.DiagnosticRefreshRequest=un.WorkspaceDiagnosticRequest=un.DocumentDiagnosticRequest=un.DocumentDiagnosticReportKind=un.DiagnosticServerCancellationData=void 0;var vw=Kr(),E0=su(),Xo=We(),hw;(function(e){function t(n){let o=n;return o&&E0.boolean(o.retriggerRequest)}r(t,"is"),e.is=t})(hw||(un.DiagnosticServerCancellationData=hw={}));var _w;(function(e){e.Full="full",e.Unchanged="unchanged"})(_w||(un.DocumentDiagnosticReportKind=_w={}));var yw;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Xo.MessageDirection.clientToServer,e.type=new Xo.ProtocolRequestType(e.method),e.partialResult=new vw.ProgressType})(yw||(un.DocumentDiagnosticRequest=yw={}));var bw;(function(e){e.method="workspace/diagnostic",e.messageDirection=Xo.MessageDirection.clientToServer,e.type=new Xo.ProtocolRequestType(e.method),e.partialResult=new vw.ProgressType})(bw||(un.WorkspaceDiagnosticRequest=bw={}));var ww;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Xo.MessageDirection.serverToClient,e.type=new Xo.ProtocolRequestType0(e.method)})(ww||(un.DiagnosticRefreshRequest=ww={}))});var kw=z(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.DidCloseNotebookDocumentNotification=Ke.DidSaveNotebookDocumentNotification=Ke.DidChangeNotebookDocumentNotification=Ke.NotebookCellArrayChange=Ke.DidOpenNotebookDocumentNotification=Ke.NotebookDocumentSyncRegistrationType=Ke.NotebookDocument=Ke.NotebookCell=Ke.ExecutionSummary=Ke.NotebookCellKind=void 0;var is=iu(),vn=su(),Nn=We(),$m;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}r(t,"is"),e.is=t})($m||(Ke.NotebookCellKind=$m={}));var Vm;(function(e){function t(i,u){let s={executionOrder:i};return(u===!0||u===!1)&&(s.success=u),s}r(t,"create"),e.create=t;function n(i){let u=i;return vn.objectLiteral(u)&&is.uinteger.is(u.executionOrder)&&(u.success===void 0||vn.boolean(u.success))}r(n,"is"),e.is=n;function o(i,u){return i===u?!0:i==null||u===null||u===void 0?!1:i.executionOrder===u.executionOrder&&i.success===u.success}r(o,"equals"),e.equals=o})(Vm||(Ke.ExecutionSummary=Vm={}));var bu;(function(e){function t(u,s){return{kind:u,document:s}}r(t,"create"),e.create=t;function n(u){let s=u;return vn.objectLiteral(s)&&$m.is(s.kind)&&is.DocumentUri.is(s.document)&&(s.metadata===void 0||vn.objectLiteral(s.metadata))}r(n,"is"),e.is=n;function o(u,s){let a=new Set;return u.document!==s.document&&a.add("document"),u.kind!==s.kind&&a.add("kind"),u.executionSummary!==s.executionSummary&&a.add("executionSummary"),(u.metadata!==void 0||s.metadata!==void 0)&&!i(u.metadata,s.metadata)&&a.add("metadata"),(u.executionSummary!==void 0||s.executionSummary!==void 0)&&!Vm.equals(u.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}r(o,"diff"),e.diff=o;function i(u,s){if(u===s)return!0;if(u==null||s===null||s===void 0||typeof u!=typeof s||typeof u!="object")return!1;let a=Array.isArray(u),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(u.length!==s.length)return!1;for(let l=0;l<u.length;l++)if(!i(u[l],s[l]))return!1}if(vn.objectLiteral(u)&&vn.objectLiteral(s)){let l=Object.keys(u),f=Object.keys(s);if(l.length!==f.length||(l.sort(),f.sort(),!i(l,f)))return!1;for(let p=0;p<l.length;p++){let h=l[p];if(!i(u[h],s[h]))return!1}}return!0}r(i,"equalsMetadata")})(bu||(Ke.NotebookCell=bu={}));var xw;(function(e){function t(o,i,u,s){return{uri:o,notebookType:i,version:u,cells:s}}r(t,"create"),e.create=t;function n(o){let i=o;return vn.objectLiteral(i)&&vn.string(i.uri)&&is.integer.is(i.version)&&vn.typedArray(i.cells,bu.is)}r(n,"is"),e.is=n})(xw||(Ke.NotebookDocument=xw={}));var Yo;(function(e){e.method="notebookDocument/sync",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.RegistrationType(e.method)})(Yo||(Ke.NotebookDocumentSyncRegistrationType=Yo={}));var Sw;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Yo.method})(Sw||(Ke.DidOpenNotebookDocumentNotification=Sw={}));var Tw;(function(e){function t(o){let i=o;return vn.objectLiteral(i)&&is.uinteger.is(i.start)&&is.uinteger.is(i.deleteCount)&&(i.cells===void 0||vn.typedArray(i.cells,bu.is))}r(t,"is"),e.is=t;function n(o,i,u){let s={start:o,deleteCount:i};return u!==void 0&&(s.cells=u),s}r(n,"create"),e.create=n})(Tw||(Ke.NotebookCellArrayChange=Tw={}));var Ew;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Yo.method})(Ew||(Ke.DidChangeNotebookDocumentNotification=Ew={}));var Rw;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Yo.method})(Rw||(Ke.DidSaveNotebookDocumentNotification=Rw={}));var Pw;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Yo.method})(Pw||(Ke.DidCloseNotebookDocumentNotification=Pw={}))});var Cw=z(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.InlineCompletionRequest=void 0;var Mw=We(),Nw;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=Mw.MessageDirection.clientToServer,e.type=new Mw.ProtocolRequestType(e.method)})(Nw||(wu.InlineCompletionRequest=Nw={}))});var zv=z(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.WorkspaceSymbolRequest=_.CodeActionResolveRequest=_.CodeActionRequest=_.DocumentSymbolRequest=_.DocumentHighlightRequest=_.ReferencesRequest=_.DefinitionRequest=_.SignatureHelpRequest=_.SignatureHelpTriggerKind=_.HoverRequest=_.CompletionResolveRequest=_.CompletionRequest=_.CompletionTriggerKind=_.PublishDiagnosticsNotification=_.WatchKind=_.RelativePattern=_.FileChangeType=_.DidChangeWatchedFilesNotification=_.WillSaveTextDocumentWaitUntilRequest=_.WillSaveTextDocumentNotification=_.TextDocumentSaveReason=_.DidSaveTextDocumentNotification=_.DidCloseTextDocumentNotification=_.DidChangeTextDocumentNotification=_.TextDocumentContentChangeEvent=_.DidOpenTextDocumentNotification=_.TextDocumentSyncKind=_.TelemetryEventNotification=_.LogMessageNotification=_.ShowMessageRequest=_.ShowMessageNotification=_.MessageType=_.DidChangeConfigurationNotification=_.ExitNotification=_.ShutdownRequest=_.InitializedNotification=_.InitializeErrorCodes=_.InitializeRequest=_.WorkDoneProgressOptions=_.TextDocumentRegistrationOptions=_.StaticRegistrationOptions=_.PositionEncodingKind=_.FailureHandlingKind=_.ResourceOperationKind=_.UnregistrationRequest=_.RegistrationRequest=_.DocumentSelector=_.NotebookCellTextDocumentFilter=_.NotebookDocumentFilter=_.TextDocumentFilter=void 0;_.MonikerRequest=_.MonikerKind=_.UniquenessLevel=_.WillDeleteFilesRequest=_.DidDeleteFilesNotification=_.WillRenameFilesRequest=_.DidRenameFilesNotification=_.WillCreateFilesRequest=_.DidCreateFilesNotification=_.FileOperationPatternKind=_.LinkedEditingRangeRequest=_.ShowDocumentRequest=_.SemanticTokensRegistrationType=_.SemanticTokensRefreshRequest=_.SemanticTokensRangeRequest=_.SemanticTokensDeltaRequest=_.SemanticTokensRequest=_.TokenFormat=_.CallHierarchyPrepareRequest=_.CallHierarchyOutgoingCallsRequest=_.CallHierarchyIncomingCallsRequest=_.WorkDoneProgressCancelNotification=_.WorkDoneProgressCreateRequest=_.WorkDoneProgress=_.SelectionRangeRequest=_.DeclarationRequest=_.FoldingRangeRefreshRequest=_.FoldingRangeRequest=_.ColorPresentationRequest=_.DocumentColorRequest=_.ConfigurationRequest=_.DidChangeWorkspaceFoldersNotification=_.WorkspaceFoldersRequest=_.TypeDefinitionRequest=_.ImplementationRequest=_.ApplyWorkspaceEditRequest=_.ExecuteCommandRequest=_.PrepareRenameRequest=_.RenameRequest=_.PrepareSupportDefaultBehavior=_.DocumentOnTypeFormattingRequest=_.DocumentRangesFormattingRequest=_.DocumentRangeFormattingRequest=_.DocumentFormattingRequest=_.DocumentLinkResolveRequest=_.DocumentLinkRequest=_.CodeLensRefreshRequest=_.CodeLensResolveRequest=_.CodeLensRequest=_.WorkspaceSymbolResolveRequest=void 0;_.InlineCompletionRequest=_.DidCloseNotebookDocumentNotification=_.DidSaveNotebookDocumentNotification=_.DidChangeNotebookDocumentNotification=_.NotebookCellArrayChange=_.DidOpenNotebookDocumentNotification=_.NotebookDocumentSyncRegistrationType=_.NotebookDocument=_.NotebookCell=_.ExecutionSummary=_.NotebookCellKind=_.DiagnosticRefreshRequest=_.WorkspaceDiagnosticRequest=_.DocumentDiagnosticRequest=_.DocumentDiagnosticReportKind=_.DiagnosticServerCancellationData=_.InlayHintRefreshRequest=_.InlayHintResolveRequest=_.InlayHintRequest=_.InlineValueRefreshRequest=_.InlineValueRequest=_.TypeHierarchySupertypesRequest=_.TypeHierarchySubtypesRequest=_.TypeHierarchyPrepareRequest=void 0;var U=We(),Lw=iu(),dt=su(),R0=ob();Object.defineProperty(_,"ImplementationRequest",{enumerable:!0,get:r(function(){return R0.ImplementationRequest},"get")});var P0=ab();Object.defineProperty(_,"TypeDefinitionRequest",{enumerable:!0,get:r(function(){return P0.TypeDefinitionRequest},"get")});var Bv=lb();Object.defineProperty(_,"WorkspaceFoldersRequest",{enumerable:!0,get:r(function(){return Bv.WorkspaceFoldersRequest},"get")});Object.defineProperty(_,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:r(function(){return Bv.DidChangeWorkspaceFoldersNotification},"get")});var k0=mb();Object.defineProperty(_,"ConfigurationRequest",{enumerable:!0,get:r(function(){return k0.ConfigurationRequest},"get")});var Wv=hb();Object.defineProperty(_,"DocumentColorRequest",{enumerable:!0,get:r(function(){return Wv.DocumentColorRequest},"get")});Object.defineProperty(_,"ColorPresentationRequest",{enumerable:!0,get:r(function(){return Wv.ColorPresentationRequest},"get")});var $v=bb();Object.defineProperty(_,"FoldingRangeRequest",{enumerable:!0,get:r(function(){return $v.FoldingRangeRequest},"get")});Object.defineProperty(_,"FoldingRangeRefreshRequest",{enumerable:!0,get:r(function(){return $v.FoldingRangeRefreshRequest},"get")});var M0=Ib();Object.defineProperty(_,"DeclarationRequest",{enumerable:!0,get:r(function(){return M0.DeclarationRequest},"get")});var N0=Tb();Object.defineProperty(_,"SelectionRangeRequest",{enumerable:!0,get:r(function(){return N0.SelectionRangeRequest},"get")});var Zm=kb();Object.defineProperty(_,"WorkDoneProgress",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgress},"get")});Object.defineProperty(_,"WorkDoneProgressCreateRequest",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgressCreateRequest},"get")});Object.defineProperty(_,"WorkDoneProgressCancelNotification",{enumerable:!0,get:r(function(){return Zm.WorkDoneProgressCancelNotification},"get")});var Qm=Lb();Object.defineProperty(_,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyIncomingCallsRequest},"get")});Object.defineProperty(_,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyOutgoingCallsRequest},"get")});Object.defineProperty(_,"CallHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return Qm.CallHierarchyPrepareRequest},"get")});var ei=Ub();Object.defineProperty(_,"TokenFormat",{enumerable:!0,get:r(function(){return ei.TokenFormat},"get")});Object.defineProperty(_,"SemanticTokensRequest",{enumerable:!0,get:r(function(){return ei.SemanticTokensRequest},"get")});Object.defineProperty(_,"SemanticTokensDeltaRequest",{enumerable:!0,get:r(function(){return ei.SemanticTokensDeltaRequest},"get")});Object.defineProperty(_,"SemanticTokensRangeRequest",{enumerable:!0,get:r(function(){return ei.SemanticTokensRangeRequest},"get")});Object.defineProperty(_,"SemanticTokensRefreshRequest",{enumerable:!0,get:r(function(){return ei.SemanticTokensRefreshRequest},"get")});Object.defineProperty(_,"SemanticTokensRegistrationType",{enumerable:!0,get:r(function(){return ei.SemanticTokensRegistrationType},"get")});var C0=Wb();Object.defineProperty(_,"ShowDocumentRequest",{enumerable:!0,get:r(function(){return C0.ShowDocumentRequest},"get")});var L0=zb();Object.defineProperty(_,"LinkedEditingRangeRequest",{enumerable:!0,get:r(function(){return L0.LinkedEditingRangeRequest},"get")});var Hr=Yb();Object.defineProperty(_,"FileOperationPatternKind",{enumerable:!0,get:r(function(){return Hr.FileOperationPatternKind},"get")});Object.defineProperty(_,"DidCreateFilesNotification",{enumerable:!0,get:r(function(){return Hr.DidCreateFilesNotification},"get")});Object.defineProperty(_,"WillCreateFilesRequest",{enumerable:!0,get:r(function(){return Hr.WillCreateFilesRequest},"get")});Object.defineProperty(_,"DidRenameFilesNotification",{enumerable:!0,get:r(function(){return Hr.DidRenameFilesNotification},"get")});Object.defineProperty(_,"WillRenameFilesRequest",{enumerable:!0,get:r(function(){return Hr.WillRenameFilesRequest},"get")});Object.defineProperty(_,"DidDeleteFilesNotification",{enumerable:!0,get:r(function(){return Hr.DidDeleteFilesNotification},"get")});Object.defineProperty(_,"WillDeleteFilesRequest",{enumerable:!0,get:r(function(){return Hr.WillDeleteFilesRequest},"get")});var Jm=ow();Object.defineProperty(_,"UniquenessLevel",{enumerable:!0,get:r(function(){return Jm.UniquenessLevel},"get")});Object.defineProperty(_,"MonikerKind",{enumerable:!0,get:r(function(){return Jm.MonikerKind},"get")});Object.defineProperty(_,"MonikerRequest",{enumerable:!0,get:r(function(){return Jm.MonikerRequest},"get")});var Xm=uw();Object.defineProperty(_,"TypeHierarchyPrepareRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchyPrepareRequest},"get")});Object.defineProperty(_,"TypeHierarchySubtypesRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchySubtypesRequest},"get")});Object.defineProperty(_,"TypeHierarchySupertypesRequest",{enumerable:!0,get:r(function(){return Xm.TypeHierarchySupertypesRequest},"get")});var Vv=dw();Object.defineProperty(_,"InlineValueRequest",{enumerable:!0,get:r(function(){return Vv.InlineValueRequest},"get")});Object.defineProperty(_,"InlineValueRefreshRequest",{enumerable:!0,get:r(function(){return Vv.InlineValueRefreshRequest},"get")});var Ym=gw();Object.defineProperty(_,"InlayHintRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintRequest},"get")});Object.defineProperty(_,"InlayHintResolveRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintResolveRequest},"get")});Object.defineProperty(_,"InlayHintRefreshRequest",{enumerable:!0,get:r(function(){return Ym.InlayHintRefreshRequest},"get")});var ss=Iw();Object.defineProperty(_,"DiagnosticServerCancellationData",{enumerable:!0,get:r(function(){return ss.DiagnosticServerCancellationData},"get")});Object.defineProperty(_,"DocumentDiagnosticReportKind",{enumerable:!0,get:r(function(){return ss.DocumentDiagnosticReportKind},"get")});Object.defineProperty(_,"DocumentDiagnosticRequest",{enumerable:!0,get:r(function(){return ss.DocumentDiagnosticRequest},"get")});Object.defineProperty(_,"WorkspaceDiagnosticRequest",{enumerable:!0,get:r(function(){return ss.WorkspaceDiagnosticRequest},"get")});Object.defineProperty(_,"DiagnosticRefreshRequest",{enumerable:!0,get:r(function(){return ss.DiagnosticRefreshRequest},"get")});var Cn=kw();Object.defineProperty(_,"NotebookCellKind",{enumerable:!0,get:r(function(){return Cn.NotebookCellKind},"get")});Object.defineProperty(_,"ExecutionSummary",{enumerable:!0,get:r(function(){return Cn.ExecutionSummary},"get")});Object.defineProperty(_,"NotebookCell",{enumerable:!0,get:r(function(){return Cn.NotebookCell},"get")});Object.defineProperty(_,"NotebookDocument",{enumerable:!0,get:r(function(){return Cn.NotebookDocument},"get")});Object.defineProperty(_,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:r(function(){return Cn.NotebookDocumentSyncRegistrationType},"get")});Object.defineProperty(_,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Cn.DidOpenNotebookDocumentNotification},"get")});Object.defineProperty(_,"NotebookCellArrayChange",{enumerable:!0,get:r(function(){return Cn.NotebookCellArrayChange},"get")});Object.defineProperty(_,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Cn.DidChangeNotebookDocumentNotification},"get")});Object.defineProperty(_,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Cn.DidSaveNotebookDocumentNotification},"get")});Object.defineProperty(_,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:r(function(){return Cn.DidCloseNotebookDocumentNotification},"get")});var O0=Cw();Object.defineProperty(_,"InlineCompletionRequest",{enumerable:!0,get:r(function(){return O0.InlineCompletionRequest},"get")});var zm;(function(e){function t(n){let o=n;return dt.string(o)||dt.string(o.language)||dt.string(o.scheme)||dt.string(o.pattern)}r(t,"is"),e.is=t})(zm||(_.TextDocumentFilter=zm={}));var Gm;(function(e){function t(n){let o=n;return dt.objectLiteral(o)&&(dt.string(o.notebookType)||dt.string(o.scheme)||dt.string(o.pattern))}r(t,"is"),e.is=t})(Gm||(_.NotebookDocumentFilter=Gm={}));var Km;(function(e){function t(n){let o=n;return dt.objectLiteral(o)&&(dt.string(o.notebook)||Gm.is(o.notebook))&&(o.language===void 0||dt.string(o.language))}r(t,"is"),e.is=t})(Km||(_.NotebookCellTextDocumentFilter=Km={}));var Hm;(function(e){function t(n){if(!Array.isArray(n))return!1;for(let o of n)if(!dt.string(o)&&!zm.is(o)&&!Km.is(o))return!1;return!0}r(t,"is"),e.is=t})(Hm||(_.DocumentSelector=Hm={}));var Ow;(function(e){e.method="client/registerCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(Ow||(_.RegistrationRequest=Ow={}));var Fw;(function(e){e.method="client/unregisterCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(Fw||(_.UnregistrationRequest=Fw={}));var Aw;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(Aw||(_.ResourceOperationKind=Aw={}));var Dw;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(Dw||(_.FailureHandlingKind=Dw={}));var jw;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(jw||(_.PositionEncodingKind=jw={}));var Uw;(function(e){function t(n){let o=n;return o&&dt.string(o.id)&&o.id.length>0}r(t,"hasId"),e.hasId=t})(Uw||(_.StaticRegistrationOptions=Uw={}));var qw;(function(e){function t(n){let o=n;return o&&(o.documentSelector===null||Hm.is(o.documentSelector))}r(t,"is"),e.is=t})(qw||(_.TextDocumentRegistrationOptions=qw={}));var Bw;(function(e){function t(o){let i=o;return dt.objectLiteral(i)&&(i.workDoneProgress===void 0||dt.boolean(i.workDoneProgress))}r(t,"is"),e.is=t;function n(o){let i=o;return i&&dt.boolean(i.workDoneProgress)}r(n,"hasWorkDoneProgress"),e.hasWorkDoneProgress=n})(Bw||(_.WorkDoneProgressOptions=Bw={}));var Ww;(function(e){e.method="initialize",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ww||(_.InitializeRequest=Ww={}));var $w;(function(e){e.unknownProtocolVersion=1})($w||(_.InitializeErrorCodes=$w={}));var Vw;(function(e){e.method="initialized",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(Vw||(_.InitializedNotification=Vw={}));var zw;(function(e){e.method="shutdown",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType0(e.method)})(zw||(_.ShutdownRequest=zw={}));var Gw;(function(e){e.method="exit",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType0(e.method)})(Gw||(_.ExitNotification=Gw={}));var Kw;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(Kw||(_.DidChangeConfigurationNotification=Kw={}));var Hw;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(Hw||(_.MessageType=Hw={}));var Zw;(function(e){e.method="window/showMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(Zw||(_.ShowMessageNotification=Zw={}));var Qw;(function(e){e.method="window/showMessageRequest",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(Qw||(_.ShowMessageRequest=Qw={}));var Jw;(function(e){e.method="window/logMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(Jw||(_.LogMessageNotification=Jw={}));var Xw;(function(e){e.method="telemetry/event",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(Xw||(_.TelemetryEventNotification=Xw={}));var Yw;(function(e){e.None=0,e.Full=1,e.Incremental=2})(Yw||(_.TextDocumentSyncKind=Yw={}));var ev;(function(e){e.method="textDocument/didOpen",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(ev||(_.DidOpenTextDocumentNotification=ev={}));var tv;(function(e){function t(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}r(t,"isIncremental"),e.isIncremental=t;function n(o){let i=o;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}r(n,"isFull"),e.isFull=n})(tv||(_.TextDocumentContentChangeEvent=tv={}));var nv;(function(e){e.method="textDocument/didChange",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(nv||(_.DidChangeTextDocumentNotification=nv={}));var rv;(function(e){e.method="textDocument/didClose",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(rv||(_.DidCloseTextDocumentNotification=rv={}));var ov;(function(e){e.method="textDocument/didSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(ov||(_.DidSaveTextDocumentNotification=ov={}));var iv;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(iv||(_.TextDocumentSaveReason=iv={}));var sv;(function(e){e.method="textDocument/willSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(sv||(_.WillSaveTextDocumentNotification=sv={}));var av;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(av||(_.WillSaveTextDocumentWaitUntilRequest=av={}));var uv;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(uv||(_.DidChangeWatchedFilesNotification=uv={}));var cv;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(cv||(_.FileChangeType=cv={}));var lv;(function(e){function t(n){let o=n;return dt.objectLiteral(o)&&(Lw.URI.is(o.baseUri)||Lw.WorkspaceFolder.is(o.baseUri))&&dt.string(o.pattern)}r(t,"is"),e.is=t})(lv||(_.RelativePattern=lv={}));var dv;(function(e){e.Create=1,e.Change=2,e.Delete=4})(dv||(_.WatchKind=dv={}));var fv;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(fv||(_.PublishDiagnosticsNotification=fv={}));var mv;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(mv||(_.CompletionTriggerKind=mv={}));var pv;(function(e){e.method="textDocument/completion",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(pv||(_.CompletionRequest=pv={}));var gv;(function(e){e.method="completionItem/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(gv||(_.CompletionResolveRequest=gv={}));var hv;(function(e){e.method="textDocument/hover",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(hv||(_.HoverRequest=hv={}));var _v;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(_v||(_.SignatureHelpTriggerKind=_v={}));var yv;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(yv||(_.SignatureHelpRequest=yv={}));var bv;(function(e){e.method="textDocument/definition",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(bv||(_.DefinitionRequest=bv={}));var wv;(function(e){e.method="textDocument/references",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(wv||(_.ReferencesRequest=wv={}));var vv;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(vv||(_.DocumentHighlightRequest=vv={}));var Iv;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Iv||(_.DocumentSymbolRequest=Iv={}));var xv;(function(e){e.method="textDocument/codeAction",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(xv||(_.CodeActionRequest=xv={}));var Sv;(function(e){e.method="codeAction/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Sv||(_.CodeActionResolveRequest=Sv={}));var Tv;(function(e){e.method="workspace/symbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Tv||(_.WorkspaceSymbolRequest=Tv={}));var Ev;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ev||(_.WorkspaceSymbolResolveRequest=Ev={}));var Rv;(function(e){e.method="textDocument/codeLens",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Rv||(_.CodeLensRequest=Rv={}));var Pv;(function(e){e.method="codeLens/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Pv||(_.CodeLensResolveRequest=Pv={}));var kv;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType0(e.method)})(kv||(_.CodeLensRefreshRequest=kv={}));var Mv;(function(e){e.method="textDocument/documentLink",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Mv||(_.DocumentLinkRequest=Mv={}));var Nv;(function(e){e.method="documentLink/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Nv||(_.DocumentLinkResolveRequest=Nv={}));var Cv;(function(e){e.method="textDocument/formatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Cv||(_.DocumentFormattingRequest=Cv={}));var Lv;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Lv||(_.DocumentRangeFormattingRequest=Lv={}));var Ov;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ov||(_.DocumentRangesFormattingRequest=Ov={}));var Fv;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Fv||(_.DocumentOnTypeFormattingRequest=Fv={}));var Av;(function(e){e.Identifier=1})(Av||(_.PrepareSupportDefaultBehavior=Av={}));var Dv;(function(e){e.method="textDocument/rename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Dv||(_.RenameRequest=Dv={}));var jv;(function(e){e.method="textDocument/prepareRename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(jv||(_.PrepareRenameRequest=jv={}));var Uv;(function(e){e.method="workspace/executeCommand",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Uv||(_.ExecuteCommandRequest=Uv={}));var qv;(function(e){e.method="workspace/applyEdit",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType("workspace/applyEdit")})(qv||(_.ApplyWorkspaceEditRequest=qv={}))});var Kv=z(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.createProtocolConnection=void 0;var Gv=Kr();function F0(e,t,n,o){return Gv.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,Gv.createMessageConnection)(e,t,n,o)}r(F0,"createProtocolConnection");vu.createProtocolConnection=F0});var Zv=z(Dt=>{"use strict";var A0=Dt&&Dt.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Iu=Dt&&Dt.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&A0(t,e,n)};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.LSPErrorCodes=Dt.createProtocolConnection=void 0;Iu(Kr(),Dt);Iu(iu(),Dt);Iu(We(),Dt);Iu(zv(),Dt);var D0=Kv();Object.defineProperty(Dt,"createProtocolConnection",{enumerable:!0,get:r(function(){return D0.createProtocolConnection},"get")});var Hv;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Hv||(Dt.LSPErrorCodes=Hv={}))});var Jv=z(Ln=>{"use strict";var j0=Ln&&Ln.__createBinding||(Object.create?function(e,t,n,o){o===void 0&&(o=n);var i=Object.getOwnPropertyDescriptor(t,n);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:r(function(){return t[n]},"get")}),Object.defineProperty(e,o,i)}:function(e,t,n,o){o===void 0&&(o=n),e[o]=t[n]}),Qv=Ln&&Ln.__exportStar||function(e,t){for(var n in e)n!=="default"&&!Object.prototype.hasOwnProperty.call(t,n)&&j0(t,e,n)};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.createProtocolConnection=void 0;var U0=Cm();Qv(Cm(),Ln);Qv(Zv(),Ln);function q0(e,t,n,o){return(0,U0.createMessageConnection)(e,t,n,o)}r(q0,"createProtocolConnection");Ln.createProtocolConnection=q0});var vr={abap:{extensions:[".abap"]},aspdotnet:{extensions:[".asax",".ascx",".ashx",".asmx",".aspx",".axd"]},bat:{extensions:[".bat",".cmd"]},bibtex:{extensions:[".bib",".bibtex"]},blade:{extensions:[".blade",".blade.php"]},BluespecSystemVerilog:{extensions:[".bsv"]},c:{extensions:[".c",".cats",".h",".idc"]},csharp:{extensions:[".cake",".cs",".cs.pp",".csx",".linq"]},cpp:{extensions:[".c++",".cc",".cp",".cpp",".cppm",".cxx",".h",".h++",".hh",".hpp",".hxx",".idl",".inc",".inl",".ino",".ipp",".ixx",".rc",".re",".tcc",".tpp",".txx",".i"]},cobol:{extensions:[".cbl",".ccp",".cob",".cobol",".cpy"]},css:{extensions:[".css",".wxss"]},clojure:{extensions:[".bb",".boot",".cl2",".clj",".cljc",".cljs",".cljs.hl",".cljscm",".cljx",".edn",".hic"],filenames:["riemann.config"]},ql:{extensions:[".ql",".qll"]},coffeescript:{extensions:["._coffee",".cake",".cjsx",".coffee",".iced"],filenames:["Cakefile"]},cuda:{extensions:[".cu",".cuh"]},dart:{extensions:[".dart"]},dockerfile:{extensions:[".dockerfile"],filenames:["Containerfile","Dockerfile"]},dotenv:{extensions:[".env"],filenames:[".env",".env.ci",".env.dev",".env.development",".env.development.local",".env.example",".env.local",".env.prod",".env.production",".env.sample",".env.staging",".env.test",".env.testing"]},html:{extensions:[".ect",".ejs",".ejs.t",".jst",".hta",".htm",".html",".html.hl",".html5",".inc",".jsp",".njk",".tpl",".twig",".wxml",".xht",".xhtml",".phtml",".liquid"]},elixir:{extensions:[".ex",".exs"],filenames:["mix.lock"]},erlang:{extensions:[".app",".app.src",".erl",".es",".escript",".hrl",".xrl",".yrl"],filenames:["Emakefile","rebar.config","rebar.config.lock","rebar.lock"]},fsharp:{extensions:[".fs",".fsi",".fsx"]},go:{extensions:[".go"]},groovy:{extensions:[".gradle",".groovy",".grt",".gtpl",".gvy",".jenkinsfile"],filenames:["Jenkinsfile","Jenkinsfile"]},graphql:{extensions:[".gql",".graphql",".graphqls"]},terraform:{extensions:[".hcl",".nomad",".tf",".tfvars",".workflow"]},hlsl:{extensions:[".cginc",".fx",".fxh",".hlsl",".hlsli"]},erb:{extensions:[".erb",".erb.deface",".rhtml"]},razor:{extensions:[".cshtml",".razor"]},haml:{extensions:[".haml",".haml.deface"]},handlebars:{extensions:[".handlebars",".hbs"]},haskell:{extensions:[".hs",".hs-boot",".hsc"]},ini:{extensions:[".cfg",".cnf",".dof",".ini",".lektorproject",".prefs",".pro",".properties",".url"],filenames:[".coveragerc",".flake8",".pylintrc","HOSTS","buildozer.spec","hosts","pylintrc","vlcrc"]},json:{extensions:[".4DForm",".4DProject",".JSON-tmLanguage",".avsc",".geojson",".gltf",".har",".ice",".json",".jsonl",".mcmeta",".sarif",".tfstate",".tfstate.backup",".topojson",".webapp",".webmanifest",".yy",".yyp"],filenames:[".all-contributorsrc",".arcconfig",".auto-changelog",".c8rc",".htmlhintrc",".imgbotconfig",".nycrc",".tern-config",".tern-project",".watchmanconfig","MODULE.bazel.lock","Pipfile.lock","composer.lock","deno.lock","flake.lock","mcmod.info"]},jsonc:{extensions:[".code-snippets",".code-workspace",".jsonc",".sublime-build",".sublime-color-scheme",".sublime-commands",".sublime-completions",".sublime-keymap",".sublime-macro",".sublime-menu",".sublime-mousemap",".sublime-project",".sublime-settings",".sublime-theme",".sublime-workspace",".sublime_metrics",".sublime_session"],filenames:[".babelrc",".devcontainer.json",".eslintrc.json",".jscsrc",".jshintrc",".jslintrc",".swcrc","api-extractor.json","argv.json","devcontainer.json","extensions.json","jsconfig.json","keybindings.json","language-configuration.json","launch.json","profiles.json","settings.json","tasks.json","tsconfig.json","tslint.json"]},java:{extensions:[".jav",".java",".jsh"]},javascript:{extensions:["._js",".bones",".cjs",".es",".es6",".frag",".gs",".jake",".javascript",".js",".jsb",".jscad",".jsfl",".jslib",".jsm",".jspre",".jss",".mjs",".njs",".pac",".sjs",".ssjs",".xsjs",".xsjslib"],filenames:["Jakefile"]},julia:{extensions:[".jl"]},python:{extensions:[".ipynb",".cgi",".codon",".fcgi",".gyp",".gypi",".lmi",".py",".py3",".pyde",".pyi",".pyp",".pyt",".pyw",".rpy",".sage",".spec",".tac",".wsgi",".xpy"],filenames:["Notebook",".gclient","DEPS","SConscript","SConstruct","wscript"]},kotlin:{extensions:[".kt",".ktm",".kts"]},less:{extensions:[".less"]},lua:{extensions:[".fcgi",".lua",".luau",".nse",".p8",".pd_lua",".rbxs",".rockspec",".wlua"],filenames:[".luacheckrc"]},makefile:{extensions:[".d",".mak",".make",".makefile",".mk",".mkfile"],filenames:["BSDmakefile","GNUmakefile","Kbuild","Makefile","Makefile.am","Makefile.boot","Makefile.frag","Makefile.in","Makefile.inc","Makefile.wat","makefile","makefile.sco","mkfile"]},markdown:{extensions:[".livemd",".markdown",".md",".mdown",".mdwn",".mdx",".mkd",".mkdn",".mkdown",".ronn",".scd",".workbook"],filenames:["contents.lr"]},"objective-c":{extensions:[".h",".m"]},"objective-cpp":{extensions:[".mm"]},php:{extensions:[".aw",".ctp",".fcgi",".inc",".install",".module",".php",".php3",".php4",".php5",".phps",".phpt",".theme"],filenames:[".php",".php_cs",".php_cs.dist","Phakefile"]},perl:{extensions:[".al",".cgi",".fcgi",".perl",".ph",".pl",".plx",".pm",".psgi",".t"],filenames:[".latexmkrc","Makefile.PL","Rexfile","ack","cpanfile","latexmkrc"]},powershell:{extensions:[".ps1",".psd1",".psm1"]},pug:{extensions:[".jade",".pug"]},r:{extensions:[".r",".rd",".rsx"],filenames:[".Rprofile","expr-dist"]},ruby:{extensions:[".builder",".eye",".fcgi",".gemspec",".god",".jbuilder",".mspec",".pluginspec",".podspec",".prawn",".rabl",".rake",".rb",".rbi",".rbuild",".rbw",".rbx",".ru",".ruby",".spec",".thor",".watchr"],filenames:[".irbrc",".pryrc",".simplecov","Appraisals","Berksfile","Brewfile","Buildfile","Capfile","Dangerfile","Deliverfile","Fastfile","Gemfile","Guardfile","Jarfile","Mavenfile","Podfile","Puppetfile","Rakefile","Snapfile","Steepfile","Thorfile","Vagrantfile","buildfile"]},rust:{extensions:[".rs",".rs.in"]},scss:{extensions:[".scss"]},sql:{extensions:[".cql",".ddl",".inc",".mysql",".prc",".sql",".tab",".udf",".viw"]},sass:{extensions:[".sass"]},scala:{extensions:[".kojo",".sbt",".sc",".scala"]},shellscript:{extensions:[".bash",".bats",".cgi",".command",".fcgi",".fish",".ksh",".sh",".sh.in",".tmux",".tool",".trigger",".zsh",".zsh-theme"],filenames:[".bash_aliases",".bash_functions",".bash_history",".bash_logout",".bash_profile",".bashrc",".cshrc",".envrc",".flaskenv",".kshrc",".login",".profile",".tmux.conf",".zlogin",".zlogout",".zprofile",".zshenv",".zshrc","9fs","PKGBUILD","bash_aliases","bash_logout","bash_profile","bashrc","cshrc","gradlew","kshrc","login","man","profile","tmux.conf","zlogin","zlogout","zprofile","zshenv","zshrc"]},slim:{extensions:[".slim"]},solidity:{extensions:[".sol"]},stylus:{extensions:[".styl"]},svelte:{extensions:[".svelte"]},swift:{extensions:[".swift"]},systemverilog:{extensions:[".sv",".svh",".vh"]},typescriptreact:{extensions:[".tsx"]},latex:{extensions:[".aux",".bbx",".cbx",".cls",".dtx",".ins",".lbx",".ltx",".mkii",".mkiv",".mkvi",".sty",".tex",".toc"]},typescript:{extensions:[".cts",".mts",".ts"]},verilog:{extensions:[".v",".veo"]},vim:{extensions:[".vba",".vim",".vimrc",".vmb"],filenames:[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"]},vb:{extensions:[".vb",".vbhtml",".Dsr",".bas",".cls",".ctl",".frm",".vbs"]},vue:{extensions:[".nvue",".vue"]},xml:{extensions:[".adml",".admx",".ant",".axaml",".axml",".builds",".ccproj",".ccxml",".clixml",".cproject",".cscfg",".csdef",".csl",".csproj",".ct",".depproj",".dita",".ditamap",".ditaval",".dll.config",".dotsettings",".filters",".fsproj",".fxml",".glade",".gml",".gmx",".grxml",".gst",".hzp",".iml",".ivy",".jelly",".jsproj",".kml",".launch",".mdpolicy",".mjml",".mod",".mojo",".mxml",".natvis",".ncl",".ndproj",".nproj",".nuspec",".odd",".osm",".pkgproj",".plist",".pluginspec",".proj",".props",".ps1xml",".psc1",".pt",".pubxml",".qhelp",".rdf",".res",".resx",".rss",".sch",".scxml",".sfproj",".shproj",".srdf",".storyboard",".sublime-snippet",".svg",".sw",".targets",".tml",".typ",".ui",".urdf",".ux",".vbproj",".vcxproj",".vsixmanifest",".vssettings",".vstemplate",".vxml",".wixproj",".workflow",".wsdl",".wsf",".wxi",".wxl",".wxs",".x3d",".xacro",".xaml",".xib",".xlf",".xliff",".xmi",".xml",".xml.dist",".xmp",".xproj",".xsd",".xspec",".xul",".zcml"],filenames:[".classpath",".cproject",".project","App.config","NuGet.config","Settings.StyleCop","Web.Debug.config","Web.Release.config","Web.config","packages.config"]},xsl:{extensions:[".xsl",".xslt"]},yaml:{extensions:[".mir",".reek",".rviz",".sublime-syntax",".syntax",".yaml",".yaml-tmlanguage",".yaml.sed",".yml",".yml.mysql"],filenames:[".clang-format",".clang-tidy",".gemrc","CITATION.cff","glide.lock","yarn.lock"]},javascriptreact:{extensions:[".jsx"]},legend:{extensions:[".pure"]},slang:{extensions:[".fxc",".hlsl",".s",".slang",".slangh",".usf",".ush",".vfx"]}};var ap=[".ejs",".erb",".haml",".hbs",".j2",".jinja",".jinja2",".liquid",".mustache",".njk",".php",".pug",".slim",".webc"],up={".php":[".blade"]},cp=Object.keys(vr).flatMap(e=>vr[e].extensions);var Eu=require("os"),Ru=require("path");var lp;(()=>{"use strict";var e={470:i=>{function u(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}r(u,"e");function s(c,l){for(var f,p="",h=0,y=-1,x=0,S=0;S<=c.length;++S){if(S<c.length)f=c.charCodeAt(S);else{if(f===47)break;f=47}if(f===47){if(!(y===S-1||x===1))if(y!==S-1&&x===2){if(p.length<2||h!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var N=p.lastIndexOf("/");if(N!==p.length-1){N===-1?(p="",h=0):h=(p=p.slice(0,N)).length-1-p.lastIndexOf("/"),y=S,x=0;continue}}else if(p.length===2||p.length===1){p="",h=0,y=S,x=0;continue}}l&&(p.length>0?p+="/..":p="..",h=2)}else p.length>0?p+="/"+c.slice(y+1,S):p=c.slice(y+1,S),h=S-y-1;y=S,x=0}else f===46&&x!==-1?++x:x=-1}return p}r(s,"r");var a={resolve:r(function(){for(var c,l="",f=!1,p=arguments.length-1;p>=-1&&!f;p--){var h;p>=0?h=arguments[p]:(c===void 0&&(c=process.cwd()),h=c),u(h),h.length!==0&&(l=h+"/"+l,f=h.charCodeAt(0)===47)}return l=s(l,!f),f?l.length>0?"/"+l:"/":l.length>0?l:"."},"resolve"),normalize:r(function(c){if(u(c),c.length===0)return".";var l=c.charCodeAt(0)===47,f=c.charCodeAt(c.length-1)===47;return(c=s(c,!l)).length!==0||l||(c="."),c.length>0&&f&&(c+="/"),l?"/"+c:c},"normalize"),isAbsolute:r(function(c){return u(c),c.length>0&&c.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var c,l=0;l<arguments.length;++l){var f=arguments[l];u(f),f.length>0&&(c===void 0?c=f:c+="/"+f)}return c===void 0?".":a.normalize(c)},"join"),relative:r(function(c,l){if(u(c),u(l),c===l||(c=a.resolve(c))===(l=a.resolve(l)))return"";for(var f=1;f<c.length&&c.charCodeAt(f)===47;++f);for(var p=c.length,h=p-f,y=1;y<l.length&&l.charCodeAt(y)===47;++y);for(var x=l.length-y,S=h<x?h:x,N=-1,R=0;R<=S;++R){if(R===S){if(x>S){if(l.charCodeAt(y+R)===47)return l.slice(y+R+1);if(R===0)return l.slice(y+R)}else h>S&&(c.charCodeAt(f+R)===47?N=R:R===0&&(N=0));break}var B=c.charCodeAt(f+R);if(B!==l.charCodeAt(y+R))break;B===47&&(N=R)}var A="";for(R=f+N+1;R<=p;++R)R!==p&&c.charCodeAt(R)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+l.slice(y+N):(y+=N,l.charCodeAt(y)===47&&++y,l.slice(y))},"relative"),_makeLong:r(function(c){return c},"_makeLong"),dirname:r(function(c){if(u(c),c.length===0)return".";for(var l=c.charCodeAt(0),f=l===47,p=-1,h=!0,y=c.length-1;y>=1;--y)if((l=c.charCodeAt(y))===47){if(!h){p=y;break}}else h=!1;return p===-1?f?"/":".":f&&p===1?"//":c.slice(0,p)},"dirname"),basename:r(function(c,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');u(c);var f,p=0,h=-1,y=!0;if(l!==void 0&&l.length>0&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var x=l.length-1,S=-1;for(f=c.length-1;f>=0;--f){var N=c.charCodeAt(f);if(N===47){if(!y){p=f+1;break}}else S===-1&&(y=!1,S=f+1),x>=0&&(N===l.charCodeAt(x)?--x==-1&&(h=f):(x=-1,h=S))}return p===h?h=S:h===-1&&(h=c.length),c.slice(p,h)}for(f=c.length-1;f>=0;--f)if(c.charCodeAt(f)===47){if(!y){p=f+1;break}}else h===-1&&(y=!1,h=f+1);return h===-1?"":c.slice(p,h)},"basename"),extname:r(function(c){u(c);for(var l=-1,f=0,p=-1,h=!0,y=0,x=c.length-1;x>=0;--x){var S=c.charCodeAt(x);if(S!==47)p===-1&&(h=!1,p=x+1),S===46?l===-1?l=x:y!==1&&(y=1):l!==-1&&(y=-1);else if(!h){f=x+1;break}}return l===-1||p===-1||y===0||y===1&&l===p-1&&l===f+1?"":c.slice(l,p)},"extname"),format:r(function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(l,f){var p=f.dir||f.root,h=f.base||(f.name||"")+(f.ext||"");return p?p===f.root?p+h:p+"/"+h:h}(0,c)},"format"),parse:r(function(c){u(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return l;var f,p=c.charCodeAt(0),h=p===47;h?(l.root="/",f=1):f=0;for(var y=-1,x=0,S=-1,N=!0,R=c.length-1,B=0;R>=f;--R)if((p=c.charCodeAt(R))!==47)S===-1&&(N=!1,S=R+1),p===46?y===-1?y=R:B!==1&&(B=1):y!==-1&&(B=-1);else if(!N){x=R+1;break}return y===-1||S===-1||B===0||B===1&&y===S-1&&y===x+1?S!==-1&&(l.base=l.name=x===0&&h?c.slice(1,S):c.slice(x,S)):(x===0&&h?(l.name=c.slice(1,y),l.base=c.slice(1,S)):(l.name=c.slice(x,y),l.base=c.slice(x,S)),l.ext=c.slice(y,S)),x>0?l.dir=c.slice(0,x-1):h&&(l.dir="/"),l},"parse"),sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},t={};function n(i){var u=t[i];if(u!==void 0)return u.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}r(n,"r"),n.d=(i,u)=>{for(var s in u)n.o(u,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:u[s]})},n.o=(i,u)=>Object.prototype.hasOwnProperty.call(i,u),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var o={};(()=>{let i;n.r(o),n.d(o,{URI:r(()=>h,"URI"),Utils:r(()=>Xe,"Utils")}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let u=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(V,F){if(!V.scheme&&F)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${V.authority}", path: "${V.path}", query: "${V.query}", fragment: "${V.fragment}"}`);if(V.scheme&&!u.test(V.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(V.path){if(V.authority){if(!s.test(V.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(V.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}r(c,"s");let l="",f="/",p=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,st=class st{constructor(F,W,G,ae,ee,Y=!1){Jn(this,"scheme");Jn(this,"authority");Jn(this,"path");Jn(this,"query");Jn(this,"fragment");typeof F=="object"?(this.scheme=F.scheme||l,this.authority=F.authority||l,this.path=F.path||l,this.query=F.query||l,this.fragment=F.fragment||l):(this.scheme=function(je,ke){return je||ke?je:"file"}(F,Y),this.authority=W||l,this.path=function(je,ke){switch(je){case"https":case"http":case"file":ke?ke[0]!==f&&(ke=f+ke):ke=f}return ke}(this.scheme,G||l),this.query=ae||l,this.fragment=ee||l,c(this,Y))}static isUri(F){return F instanceof st||!!F&&typeof F.authority=="string"&&typeof F.fragment=="string"&&typeof F.path=="string"&&typeof F.query=="string"&&typeof F.scheme=="string"&&typeof F.fsPath=="string"&&typeof F.with=="function"&&typeof F.toString=="function"}get fsPath(){return B(this,!1)}with(F){if(!F)return this;let{scheme:W,authority:G,path:ae,query:ee,fragment:Y}=F;return W===void 0?W=this.scheme:W===null&&(W=l),G===void 0?G=this.authority:G===null&&(G=l),ae===void 0?ae=this.path:ae===null&&(ae=l),ee===void 0?ee=this.query:ee===null&&(ee=l),Y===void 0?Y=this.fragment:Y===null&&(Y=l),W===this.scheme&&G===this.authority&&ae===this.path&&ee===this.query&&Y===this.fragment?this:new x(W,G,ae,ee,Y)}static parse(F,W=!1){let G=p.exec(F);return G?new x(G[2]||l,J(G[4]||l),J(G[5]||l),J(G[7]||l),J(G[9]||l),W):new x(l,l,l,l,l)}static file(F){let W=l;if(i&&(F=F.replace(/\\/g,f)),F[0]===f&&F[1]===f){let G=F.indexOf(f,2);G===-1?(W=F.substring(2),F=f):(W=F.substring(2,G),F=F.substring(G)||f)}return new x("file",W,F,l,l)}static from(F){let W=new x(F.scheme,F.authority,F.path,F.query,F.fragment);return c(W,!0),W}toString(F=!1){return A(this,F)}toJSON(){return this}static revive(F){if(F){if(F instanceof st)return F;{let W=new x(F);return W._formatted=F.external,W._fsPath=F._sep===y?F.fsPath:null,W}}return F}};r(st,"f");let h=st,y=i?1:void 0,De=class De extends h{constructor(){super(...arguments);Jn(this,"_formatted",null);Jn(this,"_fsPath",null)}get fsPath(){return this._fsPath||(this._fsPath=B(this,!1)),this._fsPath}toString(W=!1){return W?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)}toJSON(){let W={$mid:1};return this._fsPath&&(W.fsPath=this._fsPath,W._sep=y),this._formatted&&(W.external=this._formatted),this.path&&(W.path=this.path),this.scheme&&(W.scheme=this.scheme),this.authority&&(W.authority=this.authority),this.query&&(W.query=this.query),this.fragment&&(W.fragment=this.fragment),W}};r(De,"l");let x=De,S={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function N(V,F,W){let G,ae=-1;for(let ee=0;ee<V.length;ee++){let Y=V.charCodeAt(ee);if(Y>=97&&Y<=122||Y>=65&&Y<=90||Y>=48&&Y<=57||Y===45||Y===46||Y===95||Y===126||F&&Y===47||W&&Y===91||W&&Y===93||W&&Y===58)ae!==-1&&(G+=encodeURIComponent(V.substring(ae,ee)),ae=-1),G!==void 0&&(G+=V.charAt(ee));else{G===void 0&&(G=V.substr(0,ee));let je=S[Y];je!==void 0?(ae!==-1&&(G+=encodeURIComponent(V.substring(ae,ee)),ae=-1),G+=je):ae===-1&&(ae=ee)}}return ae!==-1&&(G+=encodeURIComponent(V.substring(ae))),G!==void 0?G:V}r(N,"d");function R(V){let F;for(let W=0;W<V.length;W++){let G=V.charCodeAt(W);G===35||G===63?(F===void 0&&(F=V.substr(0,W)),F+=S[G]):F!==void 0&&(F+=V[W])}return F!==void 0?F:V}r(R,"p");function B(V,F){let W;return W=V.authority&&V.path.length>1&&V.scheme==="file"?`//${V.authority}${V.path}`:V.path.charCodeAt(0)===47&&(V.path.charCodeAt(1)>=65&&V.path.charCodeAt(1)<=90||V.path.charCodeAt(1)>=97&&V.path.charCodeAt(1)<=122)&&V.path.charCodeAt(2)===58?F?V.path.substr(1):V.path[1].toLowerCase()+V.path.substr(2):V.path,i&&(W=W.replace(/\//g,"\\")),W}r(B,"m");function A(V,F){let W=F?R:N,G="",{scheme:ae,authority:ee,path:Y,query:je,fragment:ke}=V;if(ae&&(G+=ae,G+=":"),(ee||ae==="file")&&(G+=f,G+=f),ee){let he=ee.indexOf("@");if(he!==-1){let Pt=ee.substr(0,he);ee=ee.substr(he+1),he=Pt.lastIndexOf(":"),he===-1?G+=W(Pt,!1,!1):(G+=W(Pt.substr(0,he),!1,!1),G+=":",G+=W(Pt.substr(he+1),!1,!0)),G+="@"}ee=ee.toLowerCase(),he=ee.lastIndexOf(":"),he===-1?G+=W(ee,!1,!0):(G+=W(ee.substr(0,he),!1,!0),G+=ee.substr(he))}if(Y){if(Y.length>=3&&Y.charCodeAt(0)===47&&Y.charCodeAt(2)===58){let he=Y.charCodeAt(1);he>=65&&he<=90&&(Y=`/${String.fromCharCode(he+32)}:${Y.substr(3)}`)}else if(Y.length>=2&&Y.charCodeAt(1)===58){let he=Y.charCodeAt(0);he>=65&&he<=90&&(Y=`${String.fromCharCode(he+32)}:${Y.substr(2)}`)}G+=W(Y,!0,!1)}return je&&(G+="?",G+=W(je,!1,!1)),ke&&(G+="#",G+=F?ke:N(ke,!1,!1)),G}r(A,"y");function K(V){try{return decodeURIComponent(V)}catch{return V.length>3?V.substr(0,3)+K(V.substr(3)):V}}r(K,"v");let q=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function J(V){return V.match(q)?V.replace(q,F=>K(F)):V}r(J,"C");var Q=n(470);let D=Q.posix||Q,te="/";var Xe;(function(V){V.joinPath=function(F,...W){return F.with({path:D.join(F.path,...W)})},V.resolvePath=function(F,...W){let G=F.path,ae=!1;G[0]!==te&&(G=te+G,ae=!0);let ee=D.resolve(G,...W);return ae&&ee[0]===te&&!F.authority&&(ee=ee.substring(1)),F.with({path:ee})},V.dirname=function(F){if(F.path.length===0||F.path===te)return F;let W=D.dirname(F.path);return W.length===1&&W.charCodeAt(0)===46&&(W=""),F.with({path:W})},V.basename=function(F){return D.basename(F.path)},V.extname=function(F){return D.extname(F.path)}})(Xe||(Xe={}))})(),lp=o})();var{URI:Tu,Utils:aI}=lp;function fp(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substring(0,3)+fp(e.substring(3)):e}}r(fp,"decodeURIComponentGraceful");var dp=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function uI(e){return e.match(dp)?e.replace(dp,t=>fp(t)):e}r(uI,"percentDecode");function Ir(e,t=!1){try{let n=e.match(/^(?:([^:/?#]+?:)?\/\/)(\/\/.*)$/);return n?Tu.parse(n[1]+n[2],t):Tu.parse(e,t)}catch(n){let o=new Error(`Could not parse <${e}>`);throw o.cause=n,o}}r(Ir,"parseUri");function cI(e){return["file","notebook","vscode-notebook","vscode-notebook-cell"].includes(e)}r(cI,"isFsScheme");function lI(e){return cI(e.scheme)&&(!e.authority||(0,Eu.platform)()=="win32")}r(lI,"isFsUri");function mp(e){try{typeof e=="string"&&(e=Ir(e,!0))}catch{return}if(lI(e))if((0,Eu.platform)()==="win32"){let t=e.path;return e.authority?t=`//${e.authority}${e.path}`:/^\/[A-Za-z]:/.test(t)&&(t=t.substring(1)),(0,Ru.normalize)(t)}else return e.authority?void 0:e.path}r(mp,"getFsPath");function pp(e){return uI(e.toString().replace(/[#?].*$/,"").replace(/\/$/,"").replace(/^.*[/:]/,""))}r(pp,"basename");var Pu=Dn(require("path"));var Lu=class Lu{constructor(t,n,o){this.languageId=t;this.isGuess=n;this.fileExtension=o}};r(Lu,"Language");var ui=Lu,Ou=class Ou{};r(Ou,"LanguageDetection");var ci=Ou,ku=new Map,eo=new Map,gp,hp;for(let[e,{extensions:t,filenames:n}]of Object.entries(vr)){for(let o of t)ku.set(o,[...(gp=ku.get(o))!=null?gp:[],e]);for(let o of n!=null?n:[])eo.set(o,[...(hp=eo.get(o))!=null?hp:[],e])}var Fu=class Fu extends ci{detectLanguage(t){let n=pp(t.uri),o=Pu.extname(n).toLowerCase(),i=this.extensionWithoutTemplateLanguage(n,o),u=this.detectLanguageId(n,i);return new ui(u.languageId,u.isGuess,this.computeFullyQualifiedExtension(o,i))}extensionWithoutTemplateLanguage(t,n){if(ap.includes(n)){let o=t.substring(0,t.lastIndexOf(".")),i=Pu.extname(o).toLowerCase();if(i.length>0&&cp.includes(i)&&this.isExtensionValidForTemplateLanguage(n,i))return i}return n}isExtensionValidForTemplateLanguage(t,n){let o=up[t];return!o||o.includes(n)}detectLanguageId(t,n){var i;if(eo.has(t))return{languageId:eo.get(t)[0],isGuess:!1};let o=(i=ku.get(n))!=null?i:[];if(o.length>0)return{languageId:o[0],isGuess:o.length>1};for(;t.includes(".");)if(t=t.replace(/\.[^.]*$/,""),eo.has(t))return{languageId:eo.get(t)[0],isGuess:!1};return{languageId:"unknown",isGuess:!0}}computeFullyQualifiedExtension(t,n){return t!==n?n+t:t}};r(Fu,"FilenameAndExensionLanguageDetection");var Mu=Fu,Au=class Au extends ci{constructor(n){super();this.delegate=n}detectLanguage(n){let o=this.delegate.detectLanguage(n),i=o.languageId;return i==="c"||i==="cpp"?new ui("cpp",o.isGuess,o.fileExtension):o}};r(Au,"GroupingLanguageDetection");var Nu=Au,Du=class Du extends ci{constructor(n){super();this.delegate=n}detectLanguage(n){return n.uri.startsWith("untitled:")||n.uri.startsWith("vscode-notebook-cell:")?new ui(n.languageId,!0,""):this.delegate.detectLanguage(n)}};r(Du,"ClientProvidedLanguageDetection");var Cu=Du,ek=new Nu(new Cu(new Mu));function jn(e){if(e.isCancellationRequested)throw new ju}r(jn,"throwIfCancellationRequested");var Uu=class Uu extends Error{constructor(){super(dI),this.name=this.message}};r(Uu,"CancellationError");var ju=Uu,dI="Canceled",qu=class qu{constructor(){this.items=[]}push(t){this.items.push(t)}pop(){return this.items.pop()}peek(){return this.items[this.items.length-1]}tryPeek(){return this.items.length>0}toArray(){return this.items}};r(qu,"Stack");var vs=qu;function Bu(e,t,n){return{type:"virtual",indentation:e,subs:t,label:n}}r(Bu,"virtualNode");function _p(e,t,n,o,i){if(n==="")throw new Error("Cannot create a line node with an empty source line");return{type:"line",indentation:e,lineNumber:t,sourceLine:n,subs:o,label:i}}r(_p,"lineNode");function Wu(e){return{type:"blank",lineNumber:e,subs:[]}}r(Wu,"blankNode");function Is(e){return{type:"top",indentation:-1,subs:e!=null?e:[]}}r(Is,"topNode");function ft(e){return e.type==="blank"}r(ft,"isBlank");function xr(e){return e.type==="line"}r(xr,"isLine");function Sr(e){return e.type==="virtual"}r(Sr,"isVirtual");function yp(e,t){return yt(e,n=>{n.label=n.label?t(n.label)?void 0:n.label:void 0},"bottomUp"),e}r(yp,"clearLabelsIf");function Tr(e,t){switch(e.type){case"line":case"virtual":{let n=e.subs.map(o=>Tr(o,t));return{...e,subs:n,label:e.label?t(e.label):void 0}}case"blank":return{...e,label:e.label?t(e.label):void 0};case"top":return{...e,subs:e.subs.map(n=>Tr(n,t)),label:e.label?t(e.label):void 0}}}r(Tr,"mapLabels");function yt(e,t,n){function o(i){n==="topDown"&&t(i),i.subs.forEach(u=>{o(u)}),n==="bottomUp"&&t(i)}r(o,"_visit"),o(e)}r(yt,"visitTree");function $u(e,t,n,o){let i=t;function u(s){i=n(s,i)}return r(u,"visitor"),yt(e,u,o),i}r($u,"foldTree");function xs(e,t,n){let o=r(u=>{if(n!==void 0&&n(u))return u;{let s=u.subs.map(o).filter(a=>a!==void 0);return u.subs=s,t(u)}},"rebuild"),i=o(e);return i!==void 0?i:Is()}r(xs,"rebuildTree");function mI(e){let t=e.split(`
`),n=t.map(l=>l.match(/^\s*/)[0].length),o=t.map(l=>l.trimLeft());function i(l){let[f,p]=u(l+1,n[l]);return[_p(n[l],l,o[l],f),p]}r(i,"parseNode");function u(l,f){let p,h=[],y=l,x;for(;y<o.length&&(o[y]===""||n[y]>f);)if(o[y]==="")x===void 0&&(x=y),y+=1;else{if(x!==void 0){for(let S=x;S<y;S++)h.push(Wu(S));x=void 0}[p,y]=i(y),h.push(p)}return x!==void 0&&(y=x),[h,y]}r(u,"parseSubs");let[s,a]=u(0,-1),c=a;for(;c<o.length&&o[c]==="";)s.push(Wu(c)),c+=1;if(c<o.length)throw new Error(`Parsing did not go to end of file. Ended at ${c} out of ${o.length}`);return Is(s)}r(mI,"parseRaw");function li(e,t){function n(o){if(xr(o)){let i=t.find(u=>u.matches(o.sourceLine));i&&(o.label=i.label)}}r(n,"visitor"),yt(e,n,"bottomUp")}r(li,"labelLines");function Ss(e){function t(n){if(Sr(n)&&n.label===void 0){let o=n.subs.filter(i=>!ft(i));o.length===1&&(n.label=o[0].label)}}r(t,"visitor"),yt(e,t,"bottomUp")}r(Ss,"labelVirtualInherited");function di(e){return Object.keys(e).map(t=>{let n;return e[t].test?n=r(o=>e[t].test(o),"matches"):n=e[t],{matches:n,label:t}})}r(di,"buildLabelRules");function Vu(e){let n=xs(e,r(function(o){if(o.subs.length===0||o.subs.findIndex(s=>s.label==="closer"||s.label==="opener")===-1)return o;let i=[],u;for(let s=0;s<o.subs.length;s++){let a=o.subs[s],c=o.subs[s-1];if(a.label==="opener"&&c!==void 0&&xr(c))c.subs.push(a),a.subs.forEach(l=>c.subs.push(l)),a.subs=[];else if(a.label==="closer"&&u!==void 0&&(xr(a)||Sr(a))&&a.indentation>=u.indentation){let l=i.length-1;for(;l>0&&ft(i[l]);)l-=1;if(u.subs.push(...i.splice(l+1)),a.subs.length>0){let f=u.subs.findIndex(x=>x.label!=="newVirtual"),p=u.subs.slice(0,f),h=u.subs.slice(f),y=h.length>0?[Bu(a.indentation,h,"newVirtual")]:[];u.subs=[...p,...y,a]}else u.subs.push(a)}else i.push(a),ft(a)||(u=a)}return o.subs=i,o},"rebuilder"));return yp(e,o=>o==="newVirtual"),n}r(Vu,"combineClosersAndOpeners");function bp(e,t=ft,n){return xs(e,r(function(i){if(i.subs.length<=1)return i;let u=[],s=[],a,c=!1;function l(f=!1){if(a!==void 0&&(u.length>0||!f)){let p=Bu(a,s,n);u.push(p)}else s.forEach(p=>u.push(p))}r(l,"flushBlockIntoNewSubs");for(let f=0;f<i.subs.length;f++){let p=i.subs[f],h=t(p);!h&&c&&(l(),s=[]),c=h,s.push(p),ft(p)||(a=a!=null?a:p.indentation)}return l(!0),i.subs=u,i},"rebuilder"))}r(bp,"groupBlocks");function Er(e){return xs(e,r(function(n){return Sr(n)&&n.label===void 0&&n.subs.length<=1?n.subs.length===0?void 0:n.subs[0]:(n.subs.length===1&&Sr(n.subs[0])&&n.subs[0].label===void 0&&(n.subs=n.subs[0].subs),n)},"rebuilder"))}r(Er,"flattenVirtual");var pI={opener:/^[[({]/,closer:/^[\])}]/},gI=di(pI),wp={};function zu(e,t){wp[e]=t}r(zu,"registerLanguageSpecificParser");function fi(e,t){let n=mI(e),o=wp[t!=null?t:""];return o?o(n):(li(n,gI),Vu(n))}r(fi,"parseTree");var hI={package:/^package /,import:/^import /,class:/\bclass /,interface:/\binterface /,javadoc:/^\/\*\*/,comment_multi:/^\/\*[^*]/,comment_single:/^\/\//,annotation:/^@/,opener:/^[[({]/,closer:/^[\])}]/},_I=di(hI);function vp(e){let t=e;return li(t,_I),t=Vu(t),t=Er(t),Ss(t),yt(t,n=>{if(n.label==="class"||n.label==="interface")for(let o of n.subs)!ft(o)&&(o.label===void 0||o.label==="annotation")&&(o.label="member")},"bottomUp"),t}r(vp,"processJava");var yI={heading:/^# /,subheading:/^## /,subsubheading:/### /},bI=di(yI);function Ip(e){let t=e;if(li(t,bI),ft(t))return t;function n(u){if(u.label==="heading")return 1;if(u.label==="subheading")return 2;if(u.label==="subsubheading")return 3}r(n,"headingLevel");let o=[t],i=[...t.subs];t.subs=[];for(let u of i){let s=n(u);if(s===void 0||ft(u))o[o.length-1].subs.push(u);else{for(;o.length<s;)o.push(o[o.length-1]);for(o[s-1].subs.push(u),o[s]=u;o.length>s+1;)o.pop()}}return t=bp(t),t=Er(t),Ss(t),t}r(Ip,"processMarkdown");function xp(e){return" ".repeat(e.indentation)+e.sourceLine+`
`}r(xp,"deparseLine");zu("markdown",Ip);zu("java",vp);var wI={worthUp:.9,worthSibling:.88,worthDown:.8};function Gu(e,t=wI){let n=Tr(e,o=>o?1:void 0);return yt(n,o=>{var u;if(ft(o))return;let i=o.subs.reduce((s,a)=>{var c;return Math.max(s,(c=a.label)!=null?c:0)},0);o.label=Math.max((u=o.label)!=null?u:0,i*t.worthUp)},"bottomUp"),yt(n,o=>{if(ft(o))return;let i=o.subs.map(a=>{var c;return(c=a.label)!=null?c:0}),u=[...i];for(let a=0;a<i.length;a++)i[a]!==0&&(u=u.map((c,l)=>Math.max(c,Math.pow(t.worthSibling,Math.abs(a-l))*i[a])));let s=o.label;s!==void 0&&(u=u.map(a=>Math.max(a,t.worthDown*s))),o.subs.forEach((a,c)=>a.label=u[c])},"topDown"),vI(n)}r(Gu,"fromTreeWithFocussedLines");function vI(e){let t=$u(e,[],(n,o)=>{var i,u;return(n.type==="line"||n.type==="blank")&&o.push(n.type==="line"?[xp(n).trimEnd(),(i=n.label)!=null?i:0]:["",(u=n.label)!=null?u:0]),o},"topDown");return new Rr(t)}r(vI,"fromTreeWithValuedLines");function Sp(e,t=!0,n=!0){let o=typeof e=="string"?fi(e):fi(e.source,e.languageId);Er(o);let i=Tr(o,u=>t&&u!=="closer");return yt(i,u=>{u.label===void 0&&(u.label=t&&u.label!==!1)},"topDown"),t&&yt(i,u=>{if(u.label){let s=!1;for(let a of[...u.subs].reverse())a.label&&!s?s=!0:a.label=!1}else for(let s of u.subs)s.label=!1;u.subs.length>0&&(u.label=!1)},"topDown"),n&&yt(i,u=>{u.label||(u.label=(xr(u)||ft(u))&&u.lineNumber==0)},"topDown"),Gu(i)}r(Sp,"elidableTextForSourceCode");var Ku=class Ku extends Error{constructor(n,o){super(n);this.cause=o;this.code="CopilotPromptLoadFailure"}};r(Ku,"CopilotPromptLoadFailure");var Xn=Ku;var to=Dn(jp()),qp=require("fs"),Bp=require("path");var Up=new Map;function mn(e="cl100k_base"){let t=Up.get(e);return t!==void 0||(e==="mock"?t=new lc:t=new cc(e),Up.set(e,t)),t}r(mn,"getTokenizer");function UI(e){if(!e.endsWith(".tiktoken.noindex"))throw new Error("File does not end with .tiktoken.noindex");let t=(0,qp.readFileSync)(e,"utf-8"),n=new Map;for(let o of t.split(`
`)){if(!o)continue;let i=Buffer.from(o,"base64");n.set(i,n.size)}return n}r(UI,"parseTikTokenNoIndex");var dc=class dc{constructor(t){try{this._tokenizer=(0,to.createTokenizer)(UI((0,Bp.join)(__dirname,`./resources/${t}.tiktoken.noindex`)),(0,to.getSpecialTokensByEncoder)(t),(0,to.getRegexByEncoder)(t),32768)}catch(n){throw n instanceof Error?new Xn("Could not load tokenizer",n):n}}tokenize(t){return this._tokenizer.encode(t)}detokenize(t){return this._tokenizer.decode(t)}tokenLength(t){return this.tokenize(t).length}tokenizeStrings(t){return this.tokenize(t).map(o=>this.detokenize([o]))}takeLastTokens(t,n){if(n<=0)return"";let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(-u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(-u),a=this.tokenize(s);return a.length<n?t:(a=a.slice(-n),this.detokenize(a))}takeFirstTokens(t,n){if(n<=0)return{text:"",tokens:[]};let o=4,i=1,u=Math.min(t.length,n*o),s=t.slice(0,u),a=this.tokenize(s);for(;a.length<n+2&&u<t.length;)u=Math.min(t.length,u+n*i),s=t.slice(0,u),a=this.tokenize(s);return a.length<n?{text:t,tokens:a}:(a=a.slice(0,n),{text:this.detokenize(a),tokens:a})}takeLastLinesTokens(t,n){let o=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(dc,"TTokenizer");var cc=dc,fc=class fc{constructor(){this.hash=r(t=>{let n=0;for(let o=0;o<t.length;o++){let i=t.charCodeAt(o);n=(n<<5)-n+i,n&=n&65535}return n},"hash")}tokenize(t){return this.tokenizeStrings(t).map(this.hash)}detokenize(t){return t.map(n=>n.toString()).join(" ")}tokenizeStrings(t){return t.split(/\b/)}tokenLength(t){return this.tokenizeStrings(t).length}takeLastTokens(t,n){return this.tokenizeStrings(t).slice(-n).join("")}takeFirstTokens(t,n){let o=this.tokenizeStrings(t).slice(0,n);return{text:o.join(""),tokens:o.map(this.hash)}}takeLastLinesTokens(t,n){let o=this.takeLastTokens(t,n);if(o.length===t.length||t[t.length-o.length-1]===`
`)return o;let i=o.indexOf(`
`);return o.substring(i+1)}};r(fc,"MockTokenizer");var lc=fc;var Ns=class Ns{constructor(t,n,o=mn().tokenLength(t+`
`),i="strict"){this.text=t;this._value=n;this._cost=o;if(t.includes(`
`)&&i!=="none")throw new Error("LineWithValueAndCost: text contains newline");if(n<0&&i!=="none")throw new Error("LineWithValueAndCost: value is negative");if(o<0&&i!=="none")throw new Error("LineWithValueAndCost: cost is negative");if(i=="strict"&&n>1)throw new Error("Value should normally be between 0 and 1 -- set validation to `loose` to ignore this error")}get value(){return this._value}get cost(){return this._cost}adjustValue(t){return this._value*=t,this}recost(t=n=>mn().tokenLength(n+`
`)){return this._cost=t(this.text),this}copy(){return new Ns(this.text,this.value,this.cost,"none")}};r(Ns,"LineWithValueAndCost");var gi=Ns;var Cs=class Cs{constructor(t){this.lines=[];let n=[];for(let o of t){let i=Array.isArray(o)?o[1]:1,u=Array.isArray(o)?o[0]:o;typeof u=="string"?u.split(`
`).forEach(s=>n.push(new gi(s,i))):u instanceof Cs?u.lines.forEach(s=>n.push(s.copy().adjustValue(i))):"source"in u&&"languageId"in u&&Sp(u).lines.forEach(s=>n.push(s.copy().adjustValue(i)))}this.lines=n}adjust(t){this.lines.forEach(n=>n.adjustValue(t))}recost(t=n=>mn().tokenLength(n+`
`)){this.lines.forEach(n=>n.recost(t))}makePrompt(t,n="[...]",o=!0,i="removeLeastDesirable",u=mn()){let s=this.lines.map(a=>a.copy());return qI(s,t,n,o,i,u)}};r(Cs,"ElidableText");var Rr=Cs;function qI(e,t,n,o,i,u){var p,h,y,x,S,N,R,B,A,K,q,J,Q;if(u.tokenLength(n+`
`)>t)throw new Error("maxTokens must be larger than the ellipsis length");i==="removeLeastBangForBuck"&&e.forEach(D=>D.adjustValue(1/D.cost));let s=e.reduce((D,te)=>Math.max(D,te.value),0)+1,a=e.reduce((D,te)=>Math.max(D,te.text.length),0)+1,c=n.trim(),l=e.reduce((D,te)=>D+te.cost,0),f=e.length+1;for(;l>t&&f-->=-1;){let D=e.reduce((W,G)=>G.value<W.value?G:W),te=e.indexOf(D),Xe=(p=e.slice(0,te+1).reverse().find(W=>W.text.trim()!==""))!=null?p:{text:""},st=o?Math.min((y=(h=Xe.text.match(/^\s*/))==null?void 0:h[0].length)!=null?y:0,((x=e[te-1])==null?void 0:x.text.trim())===c?(R=(N=(S=e[te-1])==null?void 0:S.text.match(/^\s*/))==null?void 0:N[0].length)!=null?R:0:a,((B=e[te+1])==null?void 0:B.text.trim())===c?(q=(K=(A=e[te+1])==null?void 0:A.text.match(/^\s*/))==null?void 0:K[0].length)!=null?q:0:a):0,De=" ".repeat(st)+n,V=new gi(De,s,u.tokenLength(De+`
`),"loose");e.splice(te,1,V),((J=e[te+1])==null?void 0:J.text.trim())===c&&e.splice(te+1,1),((Q=e[te-1])==null?void 0:Q.text.trim())===c&&e.splice(te-1,1);let F=e.reduce((W,G)=>W+G.cost,0);F>=l&&e.every(W=>W.value===s)&&(o=!1),l=F}if(f<0)throw new Error("Infinite loop in ElidableText.makePrompt: Defensive counter < 0 in ElidableText.makePrompt with end text");return e.map(D=>D.text).join(`
`)}r(qI,"makePrompt");function pn(){}r(pn,"Diff");pn.prototype={diff:r(function(t,n){var o,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=i.callback;typeof i=="function"&&(u=i,i={});var s=this;function a(K){return K=s.postProcess(K,i),u?(setTimeout(function(){u(K)},0),!0):K}r(a,"done"),t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var c=n.length,l=t.length,f=1,p=c+l;i.maxEditLength!=null&&(p=Math.min(p,i.maxEditLength));var h=(o=i.timeout)!==null&&o!==void 0?o:1/0,y=Date.now()+h,x=[{oldPos:-1,lastComponent:void 0}],S=this.extractCommon(x[0],n,t,0,i);if(x[0].oldPos+1>=l&&S+1>=c)return a(Wp(s,x[0].lastComponent,n,t,s.useLongestToken));var N=-1/0,R=1/0;function B(){for(var K=Math.max(N,-f);K<=Math.min(R,f);K+=2){var q=void 0,J=x[K-1],Q=x[K+1];J&&(x[K-1]=void 0);var D=!1;if(Q){var te=Q.oldPos-K;D=Q&&0<=te&&te<c}var Xe=J&&J.oldPos+1<l;if(!D&&!Xe){x[K]=void 0;continue}if(!Xe||D&&J.oldPos<Q.oldPos?q=s.addToPath(Q,!0,!1,0,i):q=s.addToPath(J,!1,!0,1,i),S=s.extractCommon(q,n,t,K,i),q.oldPos+1>=l&&S+1>=c)return a(Wp(s,q.lastComponent,n,t,s.useLongestToken));x[K]=q,q.oldPos+1>=l&&(R=Math.min(R,K-1)),S+1>=c&&(N=Math.max(N,K+1))}f++}if(r(B,"execEditLength"),u)r(function K(){setTimeout(function(){if(f>p||Date.now()>y)return u();B()||K()},0)},"exec")();else for(;f<=p&&Date.now()<=y;){var A=B();if(A)return A}},"diff"),addToPath:r(function(t,n,o,i,u){var s=t.lastComponent;return s&&!u.oneChangePerToken&&s.added===n&&s.removed===o?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:o,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:o,previousComponent:s}}},"addToPath"),extractCommon:r(function(t,n,o,i,u){for(var s=n.length,a=o.length,c=t.oldPos,l=c-i,f=0;l+1<s&&c+1<a&&this.equals(o[c+1],n[l+1],u);)l++,c++,f++,u.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return f&&!u.oneChangePerToken&&(t.lastComponent={count:f,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=c,l},"extractCommon"),equals:r(function(t,n,o){return o.comparator?o.comparator(t,n):t===n||o.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:r(function(t){for(var n=[],o=0;o<t.length;o++)t[o]&&n.push(t[o]);return n},"removeEmpty"),castInput:r(function(t){return t},"castInput"),tokenize:r(function(t){return Array.from(t)},"tokenize"),join:r(function(t){return t.join("")},"join"),postProcess:r(function(t){return t},"postProcess")};function Wp(e,t,n,o,i){for(var u=[],s;t;)u.push(t),s=t.previousComponent,delete t.previousComponent,t=s;u.reverse();for(var a=0,c=u.length,l=0,f=0;a<c;a++){var p=u[a];if(p.removed)p.value=e.join(o.slice(f,f+p.count)),f+=p.count;else{if(!p.added&&i){var h=n.slice(l,l+p.count);h=h.map(function(y,x){var S=o[f+x];return S.length>y.length?S:y}),p.value=e.join(h)}else p.value=e.join(n.slice(l,l+p.count));l+=p.count,p.added||(f+=p.count)}}return u}r(Wp,"buildValues");var jM=new pn;function $p(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}r($p,"longestCommonPrefix");function Vp(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}r(Vp,"longestCommonSuffix");function mc(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}r(mc,"replacePrefix");function pc(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}r(pc,"replaceSuffix");function hi(e,t){return mc(e,t,"")}r(hi,"removePrefix");function Ls(e,t){return pc(e,t,"")}r(Ls,"removeSuffix");function zp(e,t){return t.slice(0,BI(e,t))}r(zp,"maximumOverlap");function BI(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var o=t.length;e.length<t.length&&(o=e.length);var i=Array(o),u=0;i[0]=0;for(var s=1;s<o;s++){for(t[s]==t[u]?i[s]=i[u]:i[s]=u;u>0&&t[s]!=t[u];)u=i[u];t[s]==t[u]&&u++}u=0;for(var a=n;a<e.length;a++){for(;u>0&&e[a]!=t[u];)u=i[u];e[a]==t[u]&&u++}return u}r(BI,"overlapCount");var Os="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",WI=new RegExp("[".concat(Os,"]+|\\s+|[^").concat(Os,"]"),"ug"),Fs=new pn;Fs.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};Fs.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(u){return u.segment})}else n=e.match(WI)||[];var o=[],i=null;return n.forEach(function(u){/\s/.test(u)?i==null?o.push(u):o.push(o.pop()+u):/\s/.test(i)?o[o.length-1]==i?o.push(o.pop()+u):o.push(i+u):o.push(u),i=u}),o};Fs.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};Fs.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,o=null,i=null;return e.forEach(function(u){u.added?o=u:u.removed?i=u:((o||i)&&Gp(n,i,o,u),n=u,o=null,i=null)}),(o||i)&&Gp(n,i,o,null),e};function Gp(e,t,n,o){if(t&&n){var i=t.value.match(/^\s*/)[0],u=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var c=$p(i,s);e.value=pc(e.value,s,c),t.value=hi(t.value,c),n.value=hi(n.value,c)}if(o){var l=Vp(u,a);o.value=mc(o.value,a,l),t.value=Ls(t.value,l),n.value=Ls(n.value,l)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),o&&(o.value=o.value.replace(/^\s*/,""));else if(e&&o){var f=o.value.match(/^\s*/)[0],p=t.value.match(/^\s*/)[0],h=t.value.match(/\s*$/)[0],y=$p(f,p);t.value=hi(t.value,y);var x=Vp(hi(f,y),h);t.value=Ls(t.value,x),o.value=mc(o.value,f,x),e.value=pc(e.value,f,f.slice(0,f.length-x.length))}else if(o){var S=o.value.match(/^\s*/)[0],N=t.value.match(/\s*$/)[0],R=zp(N,S);t.value=Ls(t.value,R)}else if(e){var B=e.value.match(/\s*$/)[0],A=t.value.match(/^\s*/)[0],K=zp(B,A);t.value=hi(t.value,K)}}r(Gp,"dedupeWhitespaceInChangeObjects");var $I=new pn;$I.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(Os,"]+|[^\\S\\n\\r]+|[^").concat(Os,"]"),"ug");return e.match(t)||[]};var yc=new pn;yc.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],o=e.split(/(\n|\r\n)/);o[o.length-1]||o.pop();for(var i=0;i<o.length;i++){var u=o[i];i%2&&!t.newlineIsToken?n[n.length-1]+=u:n.push(u)}return n};yc.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),pn.prototype.equals.call(this,e,t,n)};var VI=new pn;VI.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var zI=new pn;zI.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}r(gc,"_typeof");var _i=new pn;_i.useLongestToken=!0;_i.tokenize=yc.tokenize;_i.castInput=function(e,t){var n=t.undefinedReplacement,o=t.stringifyReplacer,i=o===void 0?function(u,s){return typeof s>"u"?n:s}:o;return typeof e=="string"?e:JSON.stringify(hc(e,null,null,i),i,"  ")};_i.equals=function(e,t,n){return pn.prototype.equals.call(_i,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function hc(e,t,n,o,i){t=t||[],n=n||[],o&&(e=o(i,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return n[u];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),u=0;u<e.length;u+=1)s[u]=hc(e[u],t,n,o,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),gc(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var a=[],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&a.push(c);for(a.sort(),u=0;u<a.length;u+=1)c=a[u],s[c]=hc(e[c],t,n,o,c);t.pop(),n.pop()}else s=e;return s}r(hc,"canonicalize");var _c=new pn;_c.tokenize=function(e){return e.slice()};_c.join=_c.removeEmpty=function(e){return e};var HI={tokenizerName:"cl100k_base"};function ZI(e){return{...HI,...e}}r(ZI,"cursorContextOptions");function no(e,t={}){let n=ZI(t),o=mn(n.tokenizerName);if(n.maxLineCount!==void 0&&n.maxLineCount<0)throw new Error("maxLineCount must be non-negative if defined");if(n.maxTokenLength!==void 0&&n.maxTokenLength<0)throw new Error("maxTokenLength must be non-negative if defined");if(n.maxLineCount===0||n.maxTokenLength===0)return{context:"",lineCount:0,tokenLength:0,tokenizerName:n.tokenizerName};let i=e.source.slice(0,e.offset);return n.maxLineCount!==void 0&&(i=i.split(`
`).slice(-n.maxLineCount).join(`
`)),n.maxTokenLength!==void 0&&(i=o.takeLastLinesTokens(i,n.maxTokenLength)),{context:i,lineCount:i.split(`
`).length,tokenLength:o.tokenLength(i),tokenizerName:n.tokenizerName}}r(no,"getCursorContext");var vc=class vc{constructor(t){this.keys=[];this.cache={};this.size=t}put(t,n){var o;if(this.cache[t]=n,this.keys.length>this.size){this.keys.push(t);let i=(o=this.keys.shift())!=null?o:"";delete this.cache[i]}}get(t){return this.cache[t]}};r(vc,"FifoCache");var bc=vc;var Ic=class Ic{constructor(t){var n;this.stopsForLanguage=(n=YI.get(t.languageId))!=null?n:XI}tokenize(t){return new Set(QI(t).filter(n=>!this.stopsForLanguage.has(n)))}};r(Ic,"Tokenizer");var wc=Ic,Kp=new bc(20),xc=class xc{constructor(t){this.referenceDoc=t,this.tokenizer=new wc(t)}get referenceTokens(){return this.createReferenceTokens()}async createReferenceTokens(){var t;return(t=this.referenceTokensCache)!=null?t:this.referenceTokensCache=this.tokenizer.tokenize(this._getCursorContextInfo(this.referenceDoc).context)}sortScoredSnippets(t,n="descending"){return n=="ascending"?t.sort((o,i)=>o.score>i.score?1:-1):n=="descending"?t.sort((o,i)=>o.score>i.score?-1:1):t}async retrieveAllSnippets(t,n="descending"){var l;let o=[];if(t.source.length===0||(await this.referenceTokens).size===0)return o;let i=t.source.split(`
`),u=this.id()+":"+t.source,s=(l=Kp.get(u))!=null?l:[],a=s.length==0,c=a?i.map(f=>this.tokenizer.tokenize(f),this.tokenizer):[];for(let[f,[p,h]]of this.getWindowsDelineations(i).entries()){if(a){let S=new Set;c.slice(p,h).forEach(N=>N.forEach(R=>S.add(R),S)),s.push(S)}let y=s[f],x=this.similarityScore(y,await this.referenceTokens);if(o.length&&p>0&&o[o.length-1].endLine>p){o[o.length-1].score<x&&(o[o.length-1].score=x,o[o.length-1].startLine=p,o[o.length-1].endLine=h);continue}o.push({score:x,startLine:p,endLine:h})}return a&&Kp.put(u,s),this.sortScoredSnippets(o,n)}findMatches(t,n){return this.findBestMatch(t,n)}async findBestMatch(t,n){if(t.source.length===0||(await this.referenceTokens).size===0)return[];let o=t.source.split(`
`),i=await this.retrieveAllSnippets(t,"descending");if(i.length===0)return[];let u=[];for(let s=0;s<i.length&&s<n;s++)if(i[s].score!==0){let a=o.slice(i[s].startLine,i[s].endLine).join(`
`);u.push({snippet:a,semantics:"snippet",provider:"similar-files",...i[s]})}return u}};r(xc,"WindowedMatcher");var ro=xc;function QI(e){return e.split(/[^a-zA-Z0-9]/).filter(t=>t.length>0)}r(QI,"splitIntoWords");var JI=new Set(["we","our","you","it","its","they","them","their","this","that","these","those","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","can","don","t","s","will","would","should","what","which","who","when","where","why","how","a","an","the","and","or","not","no","but","because","as","until","again","further","then","once","here","there","all","any","both","each","few","more","most","other","some","such","above","below","to","during","before","after","of","at","by","about","between","into","through","from","up","down","in","out","on","off","over","under","only","own","same","so","than","too","very","just","now"]),XI=new Set(["if","then","else","for","while","with","def","function","return","TODO","import","try","catch","raise","finally","repeat","switch","case","match","assert","continue","break","const","class","enum","struct","static","new","super","this","var",...JI]),YI=new Map([]);function As(e,t){let n=[],o=t.length;if(o==0)return[];if(o<e)return[[0,o]];for(let i=0;i<o-e+1;i++)n.push([i,i+e]);return n}r(As,"getBasicWindowDelineations");var yi=class yi extends ro{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return As(this.windowLength,t)}_getCursorContextInfo(t){return no(t,{maxLineCount:this.windowLength})}similarityScore(t,n){return ex(t,n)}};r(yi,"FixedWindowSizeJaccardMatcher"),yi.FACTORY=r(t=>({to:r(n=>new yi(n,t),"to")}),"FACTORY");var Ds=yi;function ex(e,t){let n=new Set;return e.forEach(o=>{t.has(o)&&n.add(o)}),n.size/(e.size+t.size-n.size)}r(ex,"computeScore");var Qp=require("fs"),js=Dn(require("path")),Us=Dn(Hp());var Zp={python:"python",javascript:"javascript",javascriptreact:"javascript",jsx:"javascript",typescript:"typescript",typescriptreact:"tsx",go:"go",ruby:"ruby",csharp:"c_sharp",java:"java"};function Jp(e){if(!(e in Zp))throw new Error(`Unrecognized language: ${e}`);return Zp[e]}r(Jp,"languageIdToWasmLanguage");var Sc=new Map;async function tx(e){let t,n=js.default.resolve(js.default.extname(__filename)!==".ts"?__dirname:js.default.resolve(__dirname,"../../dist"),`tree-sitter-${e}.wasm`);try{t=await Qp.promises.readFile(n)}catch(o){throw o instanceof Error&&"code"in o&&typeof o.code=="string"&&o.name==="Error"?new Xn(`Could not load tree-sitter-${e}.wasm`,o):o}return Us.default.Language.load(t)}r(tx,"loadWasmLanguage");function nx(e){let t=Jp(e);if(!Sc.has(t)){let n=tx(t);Sc.set(t,n)}return Sc.get(t)}r(nx,"getLanguage");var Ec=class Ec extends Error{constructor(n,o){super(n);this.cause=o}};r(Ec,"WrappedError");var Tc=Ec;async function Pr(e,t){await Us.default.init();let n;try{n=new Us.default}catch(u){throw u&&typeof u=="object"&&"message"in u&&typeof u.message=="string"&&u.message.includes("table index is out of bounds")?new Tc(`Could not init Parse for language <${e}>`,u):u}let o=await nx(e);n.setLanguage(o);let i=n.parse(t);return n.delete(),i}r(Pr,"parseTreeSitter");function rx(e,t){let n=[];for(let o of e){if(!o[1]){let i=t.tree.getLanguage();o[1]=i.query(o[0])}n.push(...o[1].matches(t))}return n}r(rx,"innerQuery");var ox=[`[
    (class_definition (block (expression_statement (string))))
    (function_definition (block (expression_statement (string))))
]`];function Xp(e){return rx([ox],e).length==1}r(Xp,"queryPythonIsDocstring");var er=class er extends ro{constructor(t,n){super(t),this.windowLength=n}id(){return"fixed:"+this.windowLength}getWindowsDelineations(t){return As(this.windowLength,t)}_getCursorContextInfo(t){return no(t,{maxLineCount:this.windowLength})}get referenceTokens(){return this.createReferenceTokensForLanguage()}async createReferenceTokensForLanguage(){return this.referenceTokensCache?this.referenceTokensCache:(this.referenceTokensCache=er.syntaxAwareSupportsLanguage(this.referenceDoc.languageId)?await this.syntaxAwareReferenceTokens():await super.referenceTokens,this.referenceTokensCache)}async syntaxAwareReferenceTokens(){var i;let t=(i=await this.getEnclosingMemberStart(this.referenceDoc.source,this.referenceDoc.offset))==null?void 0:i.startIndex,n=this.referenceDoc.offset,o=t?this.referenceDoc.source.slice(t,n):no(this.referenceDoc,{maxLineCount:this.windowLength}).context;return this.tokenizer.tokenize(o)}static syntaxAwareSupportsLanguage(t){switch(t){case"csharp":return!0;default:return!1}}similarityScore(t,n){return ix(t,n)}async getEnclosingMemberStart(t,n){var i;let o;try{o=await Pr(this.referenceDoc.languageId,t);let u=o.rootNode.namedDescendantForIndex(n);for(;u&&!(er.isMember(u)||er.isBlock(u));)u=(i=u.parent)!=null?i:void 0;return u}finally{o==null||o.delete()}}static isMember(t){switch(t==null?void 0:t.type){case"method_declaration":case"property_declaration":case"field_declaration":case"constructor_declaration":return!0;default:return!1}}static isBlock(t){switch(t==null?void 0:t.type){case"class_declaration":case"struct_declaration":case"record_declaration":case"enum_declaration":case"interface_declaration":return!0;default:return!1}}};r(er,"BlockTokenSubsetMatcher"),er.FACTORY=r(t=>({to:r(n=>new er(n,t),"to")}),"FACTORY");var qs=er;function ix(e,t){let n=new Set;return t.forEach(o=>{e.has(o)&&n.add(o)}),n.size}r(ix,"computeScore");function sx(e,t){return(t.useSubsetMatching?qs.FACTORY(t.snippetLength):Ds.FACTORY(t.snippetLength)).to(e)}r(sx,"getMatcher");async function Yp(e,t,n){let o=sx(e,n);return n.maxTopSnippets===0?[]:(await t.filter(u=>u.source.length<n.maxCharPerFile&&u.source.length>0).slice(0,n.maxNumberOfFiles).reduce(async(u,s)=>(await u).concat((await o.findMatches(s,n.maxSnippetsPerFile)).map(a=>({relativePath:s.relativePath,...a}))),Promise.resolve([]))).filter(u=>u.score&&u.snippet&&u.score>n.threshold).sort((u,s)=>u.score-s.score).slice(-n.maxTopSnippets)}r(Yp,"getSimilarSnippets");var bt={};Su(bt,{HasPropertyKey:()=>Bs,IsArray:()=>Qe,IsAsyncIterator:()=>Pc,IsBigInt:()=>bi,IsBoolean:()=>qn,IsDate:()=>kr,IsFunction:()=>kc,IsIterator:()=>Mc,IsNull:()=>Nc,IsNumber:()=>zt,IsObject:()=>Ie,IsRegExp:()=>wi,IsString:()=>Ee,IsSymbol:()=>Cc,IsUint8Array:()=>Bn,IsUndefined:()=>at});function Bs(e,t){return t in e}r(Bs,"HasPropertyKey");function Pc(e){return Ie(e)&&!Qe(e)&&!Bn(e)&&Symbol.asyncIterator in e}r(Pc,"IsAsyncIterator");function Qe(e){return Array.isArray(e)}r(Qe,"IsArray");function bi(e){return typeof e=="bigint"}r(bi,"IsBigInt");function qn(e){return typeof e=="boolean"}r(qn,"IsBoolean");function kr(e){return e instanceof globalThis.Date}r(kr,"IsDate");function kc(e){return typeof e=="function"}r(kc,"IsFunction");function Mc(e){return Ie(e)&&!Qe(e)&&!Bn(e)&&Symbol.iterator in e}r(Mc,"IsIterator");function Nc(e){return e===null}r(Nc,"IsNull");function zt(e){return typeof e=="number"}r(zt,"IsNumber");function Ie(e){return typeof e=="object"&&e!==null}r(Ie,"IsObject");function wi(e){return e instanceof globalThis.RegExp}r(wi,"IsRegExp");function Ee(e){return typeof e=="string"}r(Ee,"IsString");function Cc(e){return typeof e=="symbol"}r(Cc,"IsSymbol");function Bn(e){return e instanceof globalThis.Uint8Array}r(Bn,"IsUint8Array");function at(e){return e===void 0}r(at,"IsUndefined");function ux(e){return e.map(t=>Ws(t))}r(ux,"ArrayType");function cx(e){return new Date(e.getTime())}r(cx,"DateType");function lx(e){return new Uint8Array(e)}r(lx,"Uint8ArrayType");function dx(e){return new RegExp(e.source,e.flags)}r(dx,"RegExpType");function fx(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=Ws(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=Ws(e[n]);return t}r(fx,"ObjectType");function Ws(e){return Qe(e)?ux(e):kr(e)?cx(e):Bn(e)?lx(e):wi(e)?dx(e):Ie(e)?fx(e):e}r(Ws,"Visit");function Le(e){return Ws(e)}r(Le,"Clone");function eg(e,t){return t===void 0?Le(e):Le({...t,...e})}r(eg,"CloneType");function tg(e){return e!==null&&typeof e=="object"}r(tg,"IsObject");function ng(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}r(ng,"IsArray");function rg(e){return e===void 0}r(rg,"IsUndefined");function og(e){return typeof e=="number"}r(og,"IsNumber");var $s;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(s,a){return e.ExactOptionalPropertyTypes?a in s:s[a]!==void 0}r(t,"IsExactOptionalProperty"),e.IsExactOptionalProperty=t;function n(s){let a=tg(s);return e.AllowArrayObject?a:a&&!ng(s)}r(n,"IsObjectLike"),e.IsObjectLike=n;function o(s){return n(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}r(o,"IsRecordLike"),e.IsRecordLike=o;function i(s){return e.AllowNaN?og(s):Number.isFinite(s)}r(i,"IsNumberLike"),e.IsNumberLike=i;function u(s){let a=rg(s);return e.AllowNullVoid?a||s===null:a}r(u,"IsVoidLike"),e.IsVoidLike=u})($s||($s={}));function mx(e){return globalThis.Object.freeze(e).map(t=>vi(t))}r(mx,"ImmutableArray");function px(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=vi(e[n]);for(let n of Object.getOwnPropertySymbols(e))t[n]=vi(e[n]);return globalThis.Object.freeze(t)}r(px,"ImmutableObject");function vi(e){return Qe(e)?mx(e):kr(e)?e:Bn(e)?e:wi(e)?e:Ie(e)?px(e):e}r(vi,"Immutable");function k(e,t){let n=t!==void 0?{...t,...e}:e;switch($s.InstanceMode){case"freeze":return vi(n);case"clone":return Le(n);default:return n}}r(k,"CreateType");var Lc=class Lc extends Error{constructor(t){super(t)}};r(Lc,"TypeBoxError");var ct=Lc;var mt=Symbol.for("TypeBox.Transform"),gn=Symbol.for("TypeBox.Readonly"),pt=Symbol.for("TypeBox.Optional"),Gt=Symbol.for("TypeBox.Hint"),j=Symbol.for("TypeBox.Kind");function Vs(e){return Ie(e)&&e[gn]==="Readonly"}r(Vs,"IsReadonly");function Kt(e){return Ie(e)&&e[pt]==="Optional"}r(Kt,"IsOptional");function Oc(e){return ce(e,"Any")}r(Oc,"IsAny");function Wn(e){return ce(e,"Array")}r(Wn,"IsArray");function Ii(e){return ce(e,"AsyncIterator")}r(Ii,"IsAsyncIterator");function Fc(e){return ce(e,"BigInt")}r(Fc,"IsBigInt");function Ac(e){return ce(e,"Boolean")}r(Ac,"IsBoolean");function kt(e){return ce(e,"Computed")}r(kt,"IsComputed");function xi(e){return ce(e,"Constructor")}r(xi,"IsConstructor");function gx(e){return ce(e,"Date")}r(gx,"IsDate");function Si(e){return ce(e,"Function")}r(Si,"IsFunction");function Mr(e){return ce(e,"Integer")}r(Mr,"IsInteger");function Je(e){return ce(e,"Intersect")}r(Je,"IsIntersect");function Ti(e){return ce(e,"Iterator")}r(Ti,"IsIterator");function ce(e,t){return Ie(e)&&j in e&&e[j]===t}r(ce,"IsKindOf");function zs(e){return qn(e)||zt(e)||Ee(e)}r(zs,"IsLiteralValue");function $n(e){return ce(e,"Literal")}r($n,"IsLiteral");function jt(e){return ce(e,"MappedKey")}r(jt,"IsMappedKey");function Oe(e){return ce(e,"MappedResult")}r(Oe,"IsMappedResult");function tr(e){return ce(e,"Never")}r(tr,"IsNever");function hx(e){return ce(e,"Not")}r(hx,"IsNot");function _x(e){return ce(e,"Null")}r(_x,"IsNull");function Nr(e){return ce(e,"Number")}r(Nr,"IsNumber");function ut(e){return ce(e,"Object")}r(ut,"IsObject");function Ei(e){return ce(e,"Promise")}r(Ei,"IsPromise");function Dc(e){return ce(e,"Record")}r(Dc,"IsRecord");function $e(e){return ce(e,"Ref")}r($e,"IsRef");function jc(e){return ce(e,"RegExp")}r(jc,"IsRegExp");function Ri(e){return ce(e,"String")}r(Ri,"IsString");function yx(e){return ce(e,"Symbol")}r(yx,"IsSymbol");function Ut(e){return ce(e,"TemplateLiteral")}r(Ut,"IsTemplateLiteral");function bx(e){return ce(e,"This")}r(bx,"IsThis");function io(e){return Ie(e)&&mt in e}r(io,"IsTransform");function hn(e){return ce(e,"Tuple")}r(hn,"IsTuple");function wx(e){return ce(e,"Undefined")}r(wx,"IsUndefined");function me(e){return ce(e,"Union")}r(me,"IsUnion");function vx(e){return ce(e,"Uint8Array")}r(vx,"IsUint8Array");function Ix(e){return ce(e,"Unknown")}r(Ix,"IsUnknown");function xx(e){return ce(e,"Unsafe")}r(xx,"IsUnsafe");function Sx(e){return ce(e,"Void")}r(Sx,"IsVoid");function Tx(e){return Ie(e)&&j in e&&Ee(e[j])}r(Tx,"IsKind");function qt(e){return Oc(e)||Wn(e)||Ac(e)||Fc(e)||Ii(e)||kt(e)||xi(e)||gx(e)||Si(e)||Mr(e)||Je(e)||Ti(e)||$n(e)||jt(e)||Oe(e)||tr(e)||hx(e)||_x(e)||Nr(e)||ut(e)||Ei(e)||Dc(e)||$e(e)||jc(e)||Ri(e)||yx(e)||Ut(e)||bx(e)||hn(e)||wx(e)||me(e)||vx(e)||Ix(e)||xx(e)||Sx(e)||Tx(e)}r(qt,"IsSchema");var I={};Su(I,{IsAny:()=>ug,IsArray:()=>cg,IsAsyncIterator:()=>lg,IsBigInt:()=>dg,IsBoolean:()=>fg,IsComputed:()=>mg,IsConstructor:()=>pg,IsDate:()=>gg,IsFunction:()=>hg,IsImport:()=>Cx,IsInteger:()=>_g,IsIntersect:()=>yg,IsIterator:()=>bg,IsKind:()=>zg,IsKindOf:()=>ie,IsLiteral:()=>ki,IsLiteralBoolean:()=>Lx,IsLiteralNumber:()=>vg,IsLiteralString:()=>wg,IsLiteralValue:()=>Ig,IsMappedKey:()=>xg,IsMappedResult:()=>Sg,IsNever:()=>Tg,IsNot:()=>Eg,IsNull:()=>Rg,IsNumber:()=>Pg,IsObject:()=>kg,IsOptional:()=>Nx,IsPromise:()=>Mg,IsProperties:()=>Gs,IsReadonly:()=>Mx,IsRecord:()=>Ng,IsRecursive:()=>Ox,IsRef:()=>Cg,IsRegExp:()=>Lg,IsSchema:()=>lt,IsString:()=>Og,IsSymbol:()=>Fg,IsTemplateLiteral:()=>Ag,IsThis:()=>Dg,IsTransform:()=>jg,IsTuple:()=>Ug,IsUint8Array:()=>Bg,IsUndefined:()=>qg,IsUnion:()=>Wc,IsUnionLiteral:()=>Fx,IsUnknown:()=>Wg,IsUnsafe:()=>$g,IsVoid:()=>Vg,TypeGuardUnknownTypeError:()=>Uc});var $c=class $c extends ct{};r($c,"TypeGuardUnknownTypeError");var Uc=$c,Rx=["Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function ig(e){try{return new RegExp(e),!0}catch{return!1}}r(ig,"IsPattern");function qc(e){if(!Ee(e))return!1;for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}r(qc,"IsControlCharacterFree");function sg(e){return Bc(e)||lt(e)}r(sg,"IsAdditionalProperties");function Pi(e){return at(e)||bi(e)}r(Pi,"IsOptionalBigInt");function Re(e){return at(e)||zt(e)}r(Re,"IsOptionalNumber");function Bc(e){return at(e)||qn(e)}r(Bc,"IsOptionalBoolean");function xe(e){return at(e)||Ee(e)}r(xe,"IsOptionalString");function Px(e){return at(e)||Ee(e)&&qc(e)&&ig(e)}r(Px,"IsOptionalPattern");function kx(e){return at(e)||Ee(e)&&qc(e)}r(kx,"IsOptionalFormat");function ag(e){return at(e)||lt(e)}r(ag,"IsOptionalSchema");function Mx(e){return Ie(e)&&e[gn]==="Readonly"}r(Mx,"IsReadonly");function Nx(e){return Ie(e)&&e[pt]==="Optional"}r(Nx,"IsOptional");function ug(e){return ie(e,"Any")&&xe(e.$id)}r(ug,"IsAny");function cg(e){return ie(e,"Array")&&e.type==="array"&&xe(e.$id)&&lt(e.items)&&Re(e.minItems)&&Re(e.maxItems)&&Bc(e.uniqueItems)&&ag(e.contains)&&Re(e.minContains)&&Re(e.maxContains)}r(cg,"IsArray");function lg(e){return ie(e,"AsyncIterator")&&e.type==="AsyncIterator"&&xe(e.$id)&&lt(e.items)}r(lg,"IsAsyncIterator");function dg(e){return ie(e,"BigInt")&&e.type==="bigint"&&xe(e.$id)&&Pi(e.exclusiveMaximum)&&Pi(e.exclusiveMinimum)&&Pi(e.maximum)&&Pi(e.minimum)&&Pi(e.multipleOf)}r(dg,"IsBigInt");function fg(e){return ie(e,"Boolean")&&e.type==="boolean"&&xe(e.$id)}r(fg,"IsBoolean");function mg(e){return ie(e,"Computed")&&Ee(e.target)&&Qe(e.parameters)&&e.parameters.every(t=>lt(t))}r(mg,"IsComputed");function pg(e){return ie(e,"Constructor")&&e.type==="Constructor"&&xe(e.$id)&&Qe(e.parameters)&&e.parameters.every(t=>lt(t))&&lt(e.returns)}r(pg,"IsConstructor");function gg(e){return ie(e,"Date")&&e.type==="Date"&&xe(e.$id)&&Re(e.exclusiveMaximumTimestamp)&&Re(e.exclusiveMinimumTimestamp)&&Re(e.maximumTimestamp)&&Re(e.minimumTimestamp)&&Re(e.multipleOfTimestamp)}r(gg,"IsDate");function hg(e){return ie(e,"Function")&&e.type==="Function"&&xe(e.$id)&&Qe(e.parameters)&&e.parameters.every(t=>lt(t))&&lt(e.returns)}r(hg,"IsFunction");function Cx(e){return ie(e,"Import")&&Bs(e,"$defs")&&Ie(e.$defs)&&Gs(e.$defs)&&Bs(e,"$ref")&&Ee(e.$ref)&&e.$ref in e.$defs}r(Cx,"IsImport");function _g(e){return ie(e,"Integer")&&e.type==="integer"&&xe(e.$id)&&Re(e.exclusiveMaximum)&&Re(e.exclusiveMinimum)&&Re(e.maximum)&&Re(e.minimum)&&Re(e.multipleOf)}r(_g,"IsInteger");function Gs(e){return Ie(e)&&Object.entries(e).every(([t,n])=>qc(t)&&lt(n))}r(Gs,"IsProperties");function yg(e){return ie(e,"Intersect")&&!(Ee(e.type)&&e.type!=="object")&&Qe(e.allOf)&&e.allOf.every(t=>lt(t)&&!jg(t))&&xe(e.type)&&(Bc(e.unevaluatedProperties)||ag(e.unevaluatedProperties))&&xe(e.$id)}r(yg,"IsIntersect");function bg(e){return ie(e,"Iterator")&&e.type==="Iterator"&&xe(e.$id)&&lt(e.items)}r(bg,"IsIterator");function ie(e,t){return Ie(e)&&j in e&&e[j]===t}r(ie,"IsKindOf");function wg(e){return ki(e)&&Ee(e.const)}r(wg,"IsLiteralString");function vg(e){return ki(e)&&zt(e.const)}r(vg,"IsLiteralNumber");function Lx(e){return ki(e)&&qn(e.const)}r(Lx,"IsLiteralBoolean");function ki(e){return ie(e,"Literal")&&xe(e.$id)&&Ig(e.const)}r(ki,"IsLiteral");function Ig(e){return qn(e)||zt(e)||Ee(e)}r(Ig,"IsLiteralValue");function xg(e){return ie(e,"MappedKey")&&Qe(e.keys)&&e.keys.every(t=>zt(t)||Ee(t))}r(xg,"IsMappedKey");function Sg(e){return ie(e,"MappedResult")&&Gs(e.properties)}r(Sg,"IsMappedResult");function Tg(e){return ie(e,"Never")&&Ie(e.not)&&Object.getOwnPropertyNames(e.not).length===0}r(Tg,"IsNever");function Eg(e){return ie(e,"Not")&&lt(e.not)}r(Eg,"IsNot");function Rg(e){return ie(e,"Null")&&e.type==="null"&&xe(e.$id)}r(Rg,"IsNull");function Pg(e){return ie(e,"Number")&&e.type==="number"&&xe(e.$id)&&Re(e.exclusiveMaximum)&&Re(e.exclusiveMinimum)&&Re(e.maximum)&&Re(e.minimum)&&Re(e.multipleOf)}r(Pg,"IsNumber");function kg(e){return ie(e,"Object")&&e.type==="object"&&xe(e.$id)&&Gs(e.properties)&&sg(e.additionalProperties)&&Re(e.minProperties)&&Re(e.maxProperties)}r(kg,"IsObject");function Mg(e){return ie(e,"Promise")&&e.type==="Promise"&&xe(e.$id)&&lt(e.item)}r(Mg,"IsPromise");function Ng(e){return ie(e,"Record")&&e.type==="object"&&xe(e.$id)&&sg(e.additionalProperties)&&Ie(e.patternProperties)&&(t=>{let n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&ig(n[0])&&Ie(t.patternProperties)&&lt(t.patternProperties[n[0]])})(e)}r(Ng,"IsRecord");function Ox(e){return Ie(e)&&Gt in e&&e[Gt]==="Recursive"}r(Ox,"IsRecursive");function Cg(e){return ie(e,"Ref")&&xe(e.$id)&&Ee(e.$ref)}r(Cg,"IsRef");function Lg(e){return ie(e,"RegExp")&&xe(e.$id)&&Ee(e.source)&&Ee(e.flags)&&Re(e.maxLength)&&Re(e.minLength)}r(Lg,"IsRegExp");function Og(e){return ie(e,"String")&&e.type==="string"&&xe(e.$id)&&Re(e.minLength)&&Re(e.maxLength)&&Px(e.pattern)&&kx(e.format)}r(Og,"IsString");function Fg(e){return ie(e,"Symbol")&&e.type==="symbol"&&xe(e.$id)}r(Fg,"IsSymbol");function Ag(e){return ie(e,"TemplateLiteral")&&e.type==="string"&&Ee(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}r(Ag,"IsTemplateLiteral");function Dg(e){return ie(e,"This")&&xe(e.$id)&&Ee(e.$ref)}r(Dg,"IsThis");function jg(e){return Ie(e)&&mt in e}r(jg,"IsTransform");function Ug(e){return ie(e,"Tuple")&&e.type==="array"&&xe(e.$id)&&zt(e.minItems)&&zt(e.maxItems)&&e.minItems===e.maxItems&&(at(e.items)&&at(e.additionalItems)&&e.minItems===0||Qe(e.items)&&e.items.every(t=>lt(t)))}r(Ug,"IsTuple");function qg(e){return ie(e,"Undefined")&&e.type==="undefined"&&xe(e.$id)}r(qg,"IsUndefined");function Fx(e){return Wc(e)&&e.anyOf.every(t=>wg(t)||vg(t))}r(Fx,"IsUnionLiteral");function Wc(e){return ie(e,"Union")&&xe(e.$id)&&Ie(e)&&Qe(e.anyOf)&&e.anyOf.every(t=>lt(t))}r(Wc,"IsUnion");function Bg(e){return ie(e,"Uint8Array")&&e.type==="Uint8Array"&&xe(e.$id)&&Re(e.minByteLength)&&Re(e.maxByteLength)}r(Bg,"IsUint8Array");function Wg(e){return ie(e,"Unknown")&&xe(e.$id)}r(Wg,"IsUnknown");function $g(e){return ie(e,"Unsafe")}r($g,"IsUnsafe");function Vg(e){return ie(e,"Void")&&e.type==="void"&&xe(e.$id)}r(Vg,"IsVoid");function zg(e){return Ie(e)&&j in e&&Ee(e[j])&&!Rx.includes(e[j])}r(zg,"IsKind");function lt(e){return Ie(e)&&(ug(e)||cg(e)||fg(e)||dg(e)||lg(e)||mg(e)||pg(e)||gg(e)||hg(e)||_g(e)||yg(e)||bg(e)||ki(e)||xg(e)||Sg(e)||Tg(e)||Eg(e)||Rg(e)||Pg(e)||kg(e)||Mg(e)||Ng(e)||Cg(e)||Lg(e)||Og(e)||Fg(e)||Ag(e)||Dg(e)||Ug(e)||qg(e)||Wc(e)||Bg(e)||Wg(e)||$g(e)||Vg(e)||zg(e))}r(lt,"IsSchema");var Vc="(true|false)",Mi="(0|[1-9][0-9]*)",zc="(.*)",Ax="(?!.*)",hC=`^${Vc}$`,Cr=`^${Mi}$`,Lr=`^${zc}$`,Gg=`^${Ax}$`;function Kg(e,t){return e.includes(t)}r(Kg,"SetIncludes");function Hg(e){return[...new Set(e)]}r(Hg,"SetDistinct");function Dx(e,t){return e.filter(n=>t.includes(n))}r(Dx,"SetIntersect");function jx(e,t){return e.reduce((n,o)=>Dx(n,o),t)}r(jx,"SetIntersectManyResolve");function Zg(e){return e.length===1?e[0]:e.length>1?jx(e.slice(1),e[0]):[]}r(Zg,"SetIntersectMany");function Qg(e){let t=[];for(let n of e)t.push(...n);return t}r(Qg,"SetUnionMany");function nr(e){return k({[j]:"Any"},e)}r(nr,"Any");function so(e,t){return k({[j]:"Array",type:"array",items:e},t)}r(so,"Array");function ao(e,t){return k({[j]:"AsyncIterator",type:"AsyncIterator",items:e},t)}r(ao,"AsyncIterator");function pe(e,t,n){return k({[j]:"Computed",target:e,parameters:t},n)}r(pe,"Computed");function Ux(e,t){let{[t]:n,...o}=e;return o}r(Ux,"DiscardKey");function Ve(e,t){return t.reduce((n,o)=>Ux(n,o),e)}r(Ve,"Discard");function Pe(e){return k({[j]:"Never",not:{}},e)}r(Pe,"Never");function de(e){return k({[j]:"MappedResult",properties:e})}r(de,"MappedResult");function uo(e,t,n){return k({[j]:"Constructor",type:"Constructor",parameters:e,returns:t},n)}r(uo,"Constructor");function Tn(e,t,n){return k({[j]:"Function",type:"Function",parameters:e,returns:t},n)}r(Tn,"Function");function Ni(e,t){return k({[j]:"Union",anyOf:e},t)}r(Ni,"UnionCreate");function qx(e){return e.some(t=>Kt(t))}r(qx,"IsUnionOptional");function Jg(e){return e.map(t=>Kt(t)?Bx(t):t)}r(Jg,"RemoveOptionalFromRest");function Bx(e){return Ve(e,[pt])}r(Bx,"RemoveOptionalFromType");function Wx(e,t){return qx(e)?Mt(Ni(Jg(e),t)):Ni(Jg(e),t)}r(Wx,"ResolveUnion");function En(e,t){return e.length===1?k(e[0],t):e.length===0?Pe(t):Wx(e,t)}r(En,"UnionEvaluated");function _e(e,t){return e.length===0?Pe(t):e.length===1?k(e[0],t):Ni(e,t)}r(_e,"Union");var Kc=class Kc extends ct{};r(Kc,"TemplateLiteralParserError");var Ks=Kc;function $x(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}r($x,"Unescape");function Gc(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}r(Gc,"IsNonEscaped");function Vn(e,t){return Gc(e,t,"(")}r(Vn,"IsOpenParen");function Ci(e,t){return Gc(e,t,")")}r(Ci,"IsCloseParen");function Xg(e,t){return Gc(e,t,"|")}r(Xg,"IsSeparator");function Vx(e){if(!(Vn(e,0)&&Ci(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(Vn(e,n)&&(t+=1),Ci(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}r(Vx,"IsGroup");function zx(e){return e.slice(1,e.length-1)}r(zx,"InGroup");function Gx(e){let t=0;for(let n=0;n<e.length;n++)if(Vn(e,n)&&(t+=1),Ci(e,n)&&(t-=1),Xg(e,n)&&t===0)return!0;return!1}r(Gx,"IsPrecedenceOr");function Kx(e){for(let t=0;t<e.length;t++)if(Vn(e,t))return!0;return!1}r(Kx,"IsPrecedenceAnd");function Hx(e){let[t,n]=[0,0],o=[];for(let u=0;u<e.length;u++)if(Vn(e,u)&&(t+=1),Ci(e,u)&&(t-=1),Xg(e,u)&&t===0){let s=e.slice(n,u);s.length>0&&o.push(co(s)),n=u+1}let i=e.slice(n);return i.length>0&&o.push(co(i)),o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"or",expr:o}}r(Hx,"Or");function Zx(e){function t(i,u){if(!Vn(i,u))throw new Ks("TemplateLiteralParser: Index must point to open parens");let s=0;for(let a=u;a<i.length;a++)if(Vn(i,a)&&(s+=1),Ci(i,a)&&(s-=1),s===0)return[u,a];throw new Ks("TemplateLiteralParser: Unclosed group parens in expression")}r(t,"Group");function n(i,u){for(let s=u;s<i.length;s++)if(Vn(i,s))return[u,s];return[u,i.length]}r(n,"Range");let o=[];for(let i=0;i<e.length;i++)if(Vn(e,i)){let[u,s]=t(e,i),a=e.slice(u,s+1);o.push(co(a)),i=s}else{let[u,s]=n(e,i),a=e.slice(u,s);a.length>0&&o.push(co(a)),i=s-1}return o.length===0?{type:"const",const:""}:o.length===1?o[0]:{type:"and",expr:o}}r(Zx,"And");function co(e){return Vx(e)?co(zx(e)):Gx(e)?Hx(e):Kx(e)?Zx(e):{type:"const",const:$x(e)}}r(co,"TemplateLiteralParse");function lo(e){return co(e.slice(1,e.length-1))}r(lo,"TemplateLiteralParseExact");var Zc=class Zc extends ct{};r(Zc,"TemplateLiteralFiniteError");var Hc=Zc;function Qx(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}r(Qx,"IsNumberExpression");function Jx(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}r(Jx,"IsBooleanExpression");function Xx(e){return e.type==="const"&&e.const===".*"}r(Xx,"IsStringExpression");function Or(e){return Qx(e)||Xx(e)?!1:Jx(e)?!0:e.type==="and"?e.expr.every(t=>Or(t)):e.type==="or"?e.expr.every(t=>Or(t)):e.type==="const"?!0:(()=>{throw new Hc("Unknown expression type")})()}r(Or,"IsTemplateLiteralExpressionFinite");function Yg(e){let t=lo(e.pattern);return Or(t)}r(Yg,"IsTemplateLiteralFinite");var Jc=class Jc extends ct{};r(Jc,"TemplateLiteralGenerateError");var Qc=Jc;function*eh(e){if(e.length===1)return yield*e[0];for(let t of e[0])for(let n of eh(e.slice(1)))yield`${t}${n}`}r(eh,"GenerateReduce");function*Yx(e){return yield*eh(e.expr.map(t=>[...Li(t)]))}r(Yx,"GenerateAnd");function*eS(e){for(let t of e.expr)yield*Li(t)}r(eS,"GenerateOr");function*tS(e){return yield e.const}r(tS,"GenerateConst");function*Li(e){return e.type==="and"?yield*Yx(e):e.type==="or"?yield*eS(e):e.type==="const"?yield*tS(e):(()=>{throw new Qc("Unknown expression")})()}r(Li,"TemplateLiteralExpressionGenerate");function Hs(e){let t=lo(e.pattern);return Or(t)?[...Li(t)]:[]}r(Hs,"TemplateLiteralGenerate");function ge(e,t){return k({[j]:"Literal",const:e,type:typeof e},t)}r(ge,"Literal");function Zs(e){return k({[j]:"Boolean",type:"boolean"},e)}r(Zs,"Boolean");function fo(e){return k({[j]:"BigInt",type:"bigint"},e)}r(fo,"BigInt");function Rn(e){return k({[j]:"Number",type:"number"},e)}r(Rn,"Number");function rr(e){return k({[j]:"String",type:"string"},e)}r(rr,"String");function*nS(e){let t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield Zs():t==="number"?yield Rn():t==="bigint"?yield fo():t==="string"?yield rr():yield(()=>{let n=t.split("|").map(o=>ge(o.trim()));return n.length===0?Pe():n.length===1?n[0]:En(n)})()}r(nS,"FromUnion");function*rS(e){if(e[1]!=="{"){let t=ge("$"),n=Xc(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){let n=nS(e.slice(2,t)),o=Xc(e.slice(t+1));return yield*[...n,...o]}yield ge(e)}r(rS,"FromTerminal");function*Xc(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){let n=ge(e.slice(0,t)),o=rS(e.slice(t));return yield*[n,...o]}yield ge(e)}r(Xc,"FromSyntax");function th(e){return[...Xc(e)]}r(th,"TemplateLiteralSyntax");var tl=class tl extends ct{};r(tl,"TemplateLiteralPatternError");var Yc=tl;function oS(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(oS,"Escape");function nh(e,t){return Ut(e)?e.pattern.slice(1,e.pattern.length-1):me(e)?`(${e.anyOf.map(n=>nh(n,t)).join("|")})`:Nr(e)?`${t}${Mi}`:Mr(e)?`${t}${Mi}`:Fc(e)?`${t}${Mi}`:Ri(e)?`${t}${zc}`:$n(e)?`${t}${oS(e.const.toString())}`:Ac(e)?`${t}${Vc}`:(()=>{throw new Yc(`Unexpected Kind '${e[j]}'`)})()}r(nh,"Visit");function el(e){return`^${e.map(t=>nh(t,"")).join("")}$`}r(el,"TemplateLiteralPattern");function Fr(e){let n=Hs(e).map(o=>ge(o));return En(n)}r(Fr,"TemplateLiteralToUnion");function Qs(e,t){let n=Ee(e)?el(th(e)):el(e);return k({[j]:"TemplateLiteral",type:"string",pattern:n},t)}r(Qs,"TemplateLiteral");function iS(e){return Hs(e).map(n=>n.toString())}r(iS,"FromTemplateLiteral");function sS(e){let t=[];for(let n of e)t.push(...Nt(n));return t}r(sS,"FromUnion");function aS(e){return[e.toString()]}r(aS,"FromLiteral");function Nt(e){return[...new Set(Ut(e)?iS(e):me(e)?sS(e.anyOf):$n(e)?aS(e.const):Nr(e)?["[number]"]:Mr(e)?["[number]"]:[])]}r(Nt,"IndexPropertyKeys");function uS(e,t,n){let o={};for(let i of Object.getOwnPropertyNames(t))o[i]=or(e,Nt(t[i]),n);return o}r(uS,"FromProperties");function cS(e,t,n){return uS(e,t.properties,n)}r(cS,"FromMappedResult");function rh(e,t,n){let o=cS(e,t,n);return de(o)}r(rh,"IndexFromMappedResult");function ih(e,t){return e.map(n=>sh(n,t))}r(ih,"FromRest");function lS(e){return e.filter(t=>!tr(t))}r(lS,"FromIntersectRest");function dS(e,t){return Js(lS(ih(e,t)))}r(dS,"FromIntersect");function fS(e){return e.some(t=>tr(t))?[]:e}r(fS,"FromUnionRest");function mS(e,t){return En(fS(ih(e,t)))}r(mS,"FromUnion");function pS(e,t){return t in e?e[t]:t==="[number]"?En(e):Pe()}r(pS,"FromTuple");function gS(e,t){return t==="[number]"?e:Pe()}r(gS,"FromArray");function hS(e,t){return t in e?e[t]:Pe()}r(hS,"FromProperty");function sh(e,t){var n;return Je(e)?dS(e.allOf,t):me(e)?mS(e.anyOf,t):hn(e)?pS((n=e.items)!=null?n:[],t):Wn(e)?gS(e.items,t):ut(e)?hS(e.properties,t):Pe()}r(sh,"IndexFromPropertyKey");function nl(e,t){return t.map(n=>sh(e,n))}r(nl,"IndexFromPropertyKeys");function oh(e,t){return En(nl(e,t))}r(oh,"FromSchema");function or(e,t,n){if($e(e)||$e(t)){let o="Index types using Ref parameters require both Type and Key to be of TSchema";if(!qt(e)||!qt(t))throw new ct(o);return pe("Index",[e,t])}return Oe(t)?rh(e,t,n):jt(t)?ah(e,t,n):k(qt(t)?oh(e,Nt(t)):oh(e,t),n)}r(or,"Index");function _S(e,t,n){return{[t]:or(e,[t],Le(n))}}r(_S,"MappedIndexPropertyKey");function yS(e,t,n){return t.reduce((o,i)=>({...o,..._S(e,i,n)}),{})}r(yS,"MappedIndexPropertyKeys");function bS(e,t,n){return yS(e,t.keys,n)}r(bS,"MappedIndexProperties");function ah(e,t,n){let o=bS(e,t,n);return de(o)}r(ah,"IndexFromMappedKey");function mo(e,t){return k({[j]:"Iterator",type:"Iterator",items:e},t)}r(mo,"Iterator");function wS(e){let t=[];for(let n in e)Kt(e[n])||t.push(n);return t}r(wS,"RequiredKeys");function vS(e,t){let n=wS(e),o=n.length>0?{[j]:"Object",type:"object",properties:e,required:n}:{[j]:"Object",type:"object",properties:e};return k(o,t)}r(vS,"_Object");var Ne=vS;function Xs(e,t){return k({[j]:"Promise",type:"Promise",item:e},t)}r(Xs,"Promise");function IS(e){return k(Ve(e,[gn]))}r(IS,"RemoveReadonly");function xS(e){return k({...e,[gn]:"Readonly"})}r(xS,"AddReadonly");function SS(e,t){return t===!1?IS(e):xS(e)}r(SS,"ReadonlyWithFlag");function Ht(e,t){let n=t!=null?t:!0;return Oe(e)?uh(e,n):SS(e,n)}r(Ht,"Readonly");function TS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Ht(e[o],t);return n}r(TS,"FromProperties");function ES(e,t){return TS(e.properties,t)}r(ES,"FromMappedResult");function uh(e,t){let n=ES(e,t);return de(n)}r(uh,"ReadonlyFromMappedResult");function Zt(e,t){return k(e.length>0?{[j]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[j]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}r(Zt,"Tuple");function ch(e,t){return e in t?Qt(e,t[e]):de(t)}r(ch,"FromMappedResult");function RS(e){return{[e]:ge(e)}}r(RS,"MappedKeyToKnownMappedResultProperties");function PS(e){let t={};for(let n of e)t[n]=ge(n);return t}r(PS,"MappedKeyToUnknownMappedResultProperties");function kS(e,t){return Kg(t,e)?RS(e):PS(t)}r(kS,"MappedKeyToMappedResultProperties");function MS(e,t){let n=kS(e,t);return ch(e,n)}r(MS,"FromMappedKey");function Oi(e,t){return t.map(n=>Qt(e,n))}r(Oi,"FromRest");function NS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(t))n[o]=Qt(e,t[o]);return n}r(NS,"FromProperties");function Qt(e,t){var o;let n={...t};return Kt(t)?Mt(Qt(e,Ve(t,[pt]))):Vs(t)?Ht(Qt(e,Ve(t,[gn]))):Oe(t)?ch(e,t.properties):jt(t)?MS(e,t.keys):xi(t)?uo(Oi(e,t.parameters),Qt(e,t.returns),n):Si(t)?Tn(Oi(e,t.parameters),Qt(e,t.returns),n):Ii(t)?ao(Qt(e,t.items),n):Ti(t)?mo(Qt(e,t.items),n):Je(t)?wt(Oi(e,t.allOf),n):me(t)?_e(Oi(e,t.anyOf),n):hn(t)?Zt(Oi(e,(o=t.items)!=null?o:[]),n):ut(t)?Ne(NS(e,t.properties),n):Wn(t)?so(Qt(e,t.items),n):Ei(t)?Xs(Qt(e,t.item),n):t}r(Qt,"FromSchemaType");function CS(e,t){let n={};for(let o of e)n[o]=Qt(o,t);return n}r(CS,"MappedFunctionReturnType");function lh(e,t,n){let o=qt(e)?Nt(e):e,i=t({[j]:"MappedKey",keys:o}),u=CS(o,i);return Ne(u,n)}r(lh,"Mapped");function LS(e){return k(Ve(e,[pt]))}r(LS,"RemoveOptional");function OS(e){return k({...e,[pt]:"Optional"})}r(OS,"AddOptional");function AS(e,t){return t===!1?LS(e):OS(e)}r(AS,"OptionalWithFlag");function Mt(e,t){let n=t!=null?t:!0;return Oe(e)?dh(e,n):AS(e,n)}r(Mt,"Optional");function DS(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Mt(e[o],t);return n}r(DS,"FromProperties");function jS(e,t){return DS(e.properties,t)}r(jS,"FromMappedResult");function dh(e,t){let n=jS(e,t);return de(n)}r(dh,"OptionalFromMappedResult");function Fi(e,t={}){let n=e.every(i=>ut(i)),o=qt(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return k(t.unevaluatedProperties===!1||qt(t.unevaluatedProperties)||n?{...o,[j]:"Intersect",type:"object",allOf:e}:{...o,[j]:"Intersect",allOf:e},t)}r(Fi,"IntersectCreate");function US(e){return e.every(t=>Kt(t))}r(US,"IsIntersectOptional");function qS(e){return Ve(e,[pt])}r(qS,"RemoveOptionalFromType");function fh(e){return e.map(t=>Kt(t)?qS(t):t)}r(fh,"RemoveOptionalFromRest");function BS(e,t){return US(e)?Mt(Fi(fh(e),t)):Fi(fh(e),t)}r(BS,"ResolveIntersect");function Js(e,t={}){if(e.length===1)return k(e[0],t);if(e.length===0)return Pe(t);if(e.some(n=>io(n)))throw new Error("Cannot intersect transform types");return BS(e,t)}r(Js,"IntersectEvaluated");function wt(e,t){if(e.length===1)return k(e[0],t);if(e.length===0)return Pe(t);if(e.some(n=>io(n)))throw new Error("Cannot intersect transform types");return Fi(e,t)}r(wt,"Intersect");function Jt(...e){let[t,n]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new ct("Ref: $ref must be a string");return k({[j]:"Ref",$ref:t},n)}r(Jt,"Ref");function WS(e,t){return pe("Awaited",[pe(e,t)])}r(WS,"FromComputed");function $S(e){return pe("Awaited",[Jt(e)])}r($S,"FromRef");function VS(e){return wt(mh(e))}r(VS,"FromIntersect");function zS(e){return _e(mh(e))}r(zS,"FromUnion");function GS(e){return po(e)}r(GS,"FromPromise");function mh(e){return e.map(t=>po(t))}r(mh,"FromRest");function po(e,t){return k(kt(e)?WS(e.target,e.parameters):Je(e)?VS(e.allOf):me(e)?zS(e.anyOf):Ei(e)?GS(e.item):$e(e)?$S(e.$ref):e,t)}r(po,"Awaited");function ph(e){let t=[];for(let n of e)t.push(Ai(n));return t}r(ph,"FromRest");function KS(e){let t=ph(e);return Qg(t)}r(KS,"FromIntersect");function HS(e){let t=ph(e);return Zg(t)}r(HS,"FromUnion");function ZS(e){return e.map((t,n)=>n.toString())}r(ZS,"FromTuple");function QS(e){return["[number]"]}r(QS,"FromArray");function JS(e){return globalThis.Object.getOwnPropertyNames(e)}r(JS,"FromProperties");function XS(e){return YS?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}r(XS,"FromPatternProperties");function Ai(e){var t;return Je(e)?KS(e.allOf):me(e)?HS(e.anyOf):hn(e)?ZS((t=e.items)!=null?t:[]):Wn(e)?QS(e.items):ut(e)?JS(e.properties):Dc(e)?XS(e.patternProperties):[]}r(Ai,"KeyOfPropertyKeys");var YS=!1;function eT(e,t){return pe("KeyOf",[pe(e,t)])}r(eT,"FromComputed");function tT(e){return pe("KeyOf",[Jt(e)])}r(tT,"FromRef");function nT(e,t){let n=Ai(e),o=rT(n),i=En(o);return k(i,t)}r(nT,"KeyOfFromType");function rT(e){return e.map(t=>t==="[number]"?Rn():ge(t))}r(rT,"KeyOfPropertyKeysToRest");function go(e,t){return kt(e)?eT(e.target,e.parameters):$e(e)?tT(e.$ref):Oe(e)?gh(e,t):nT(e,t)}r(go,"KeyOf");function oT(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=go(e[o],Le(t));return n}r(oT,"FromProperties");function iT(e,t){return oT(e.properties,t)}r(iT,"FromMappedResult");function gh(e,t){let n=iT(e,t);return de(n)}r(gh,"KeyOfFromMappedResult");function sT(e){let t=[];for(let n of e)t.push(...Ai(n));return Hg(t)}r(sT,"CompositeKeys");function aT(e){return e.filter(t=>!tr(t))}r(aT,"FilterNever");function uT(e,t){let n=[];for(let o of e)n.push(...nl(o,[t]));return aT(n)}r(uT,"CompositeProperty");function cT(e,t){let n={};for(let o of t)n[o]=Js(uT(e,o));return n}r(cT,"CompositeProperties");function hh(e,t){let n=sT(e),o=cT(e,n);return Ne(o,t)}r(hh,"Composite");function Ys(e){return k({[j]:"Date",type:"Date"},e)}r(Ys,"Date");function ea(e){return k({[j]:"Null",type:"null"},e)}r(ea,"Null");function ta(e){return k({[j]:"Symbol",type:"symbol"},e)}r(ta,"Symbol");function na(e){return k({[j]:"Undefined",type:"undefined"},e)}r(na,"Undefined");function ra(e){return k({[j]:"Uint8Array",type:"Uint8Array"},e)}r(ra,"Uint8Array");function ho(e){return k({[j]:"Unknown"},e)}r(ho,"Unknown");function lT(e){return e.map(t=>rl(t,!1))}r(lT,"FromArray");function dT(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ht(rl(e[n],!1));return t}r(dT,"FromProperties");function oa(e,t){return t===!0?e:Ht(e)}r(oa,"ConditionalReadonly");function rl(e,t){return Pc(e)?oa(nr(),t):Mc(e)?oa(nr(),t):Qe(e)?Ht(Zt(lT(e))):Bn(e)?ra():kr(e)?Ys():Ie(e)?oa(Ne(dT(e)),t):kc(e)?oa(Tn([],ho()),t):at(e)?na():Nc(e)?ea():Cc(e)?ta():bi(e)?fo():zt(e)?ge(e):qn(e)?ge(e):Ee(e)?ge(e):Ne({})}r(rl,"FromValue");function _h(e,t){return k(rl(e,!0),t)}r(_h,"Const");function yh(e,t){return Zt(e.parameters,t)}r(yh,"ConstructorParameters");function bh(e,t){if(at(e))throw new Error("Enum undefined or empty");let n=globalThis.Object.getOwnPropertyNames(e).filter(u=>isNaN(u)).map(u=>e[u]),i=[...new Set(n)].map(u=>ge(u));return _e(i,{...t,[Gt]:"Enum"})}r(bh,"Enum");var ll=class ll extends ct{};r(ll,"ExtendsResolverError");var il=ll,P;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(P||(P={}));function Xt(e){return e===P.False?e:P.True}r(Xt,"IntoBooleanResult");function _o(e){throw new il(e)}r(_o,"Throw");function tt(e){return I.IsNever(e)||I.IsIntersect(e)||I.IsUnion(e)||I.IsUnknown(e)||I.IsAny(e)}r(tt,"IsStructuralRight");function nt(e,t){return I.IsNever(t)?Eh(e,t):I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsUnknown(t)?Mh(e,t):I.IsAny(t)?ul(e,t):_o("StructuralRight")}r(nt,"StructuralRight");function ul(e,t){return P.True}r(ul,"FromAnyRight");function fT(e,t){return I.IsIntersect(t)?ia(e,t):I.IsUnion(t)&&t.anyOf.some(n=>I.IsAny(n)||I.IsUnknown(n))?P.True:I.IsUnion(t)?P.Union:I.IsUnknown(t)||I.IsAny(t)?P.True:P.Union}r(fT,"FromAny");function mT(e,t){return I.IsUnknown(e)?P.False:I.IsAny(e)?P.Union:I.IsNever(e)?P.True:P.False}r(mT,"FromArrayRight");function pT(e,t){return I.IsObject(t)&&sa(t)?P.True:tt(t)?nt(e,t):I.IsArray(t)?Xt(Se(e.items,t.items)):P.False}r(pT,"FromArray");function gT(e,t){return tt(t)?nt(e,t):I.IsAsyncIterator(t)?Xt(Se(e.items,t.items)):P.False}r(gT,"FromAsyncIterator");function hT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsBigInt(t)?P.True:P.False}r(hT,"FromBigInt");function Sh(e,t){return I.IsLiteralBoolean(e)||I.IsBoolean(e)?P.True:P.False}r(Sh,"FromBooleanRight");function _T(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsBoolean(t)?P.True:P.False}r(_T,"FromBoolean");function yT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsConstructor(t)?e.parameters.length>t.parameters.length?P.False:e.parameters.every((n,o)=>Xt(Se(t.parameters[o],n))===P.True)?Xt(Se(e.returns,t.returns)):P.False:P.False}r(yT,"FromConstructor");function bT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsDate(t)?P.True:P.False}r(bT,"FromDate");function wT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsFunction(t)?e.parameters.length>t.parameters.length?P.False:e.parameters.every((n,o)=>Xt(Se(t.parameters[o],n))===P.True)?Xt(Se(e.returns,t.returns)):P.False:P.False}r(wT,"FromFunction");function Th(e,t){return I.IsLiteral(e)&&bt.IsNumber(e.const)||I.IsNumber(e)||I.IsInteger(e)?P.True:P.False}r(Th,"FromIntegerRight");function vT(e,t){return I.IsInteger(t)||I.IsNumber(t)?P.True:tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):P.False}r(vT,"FromInteger");function ia(e,t){return t.allOf.every(n=>Se(e,n)===P.True)?P.True:P.False}r(ia,"FromIntersectRight");function IT(e,t){return e.allOf.some(n=>Se(n,t)===P.True)?P.True:P.False}r(IT,"FromIntersect");function xT(e,t){return tt(t)?nt(e,t):I.IsIterator(t)?Xt(Se(e.items,t.items)):P.False}r(xT,"FromIterator");function ST(e,t){return I.IsLiteral(t)&&t.const===e.const?P.True:tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsString(t)?kh(e,t):I.IsNumber(t)?Rh(e,t):I.IsInteger(t)?Th(e,t):I.IsBoolean(t)?Sh(e,t):P.False}r(ST,"FromLiteral");function Eh(e,t){return P.False}r(Eh,"FromNeverRight");function TT(e,t){return P.True}r(TT,"FromNever");function wh(e){let[t,n]=[e,0];for(;I.IsNot(t);)t=t.not,n+=1;return n%2===0?t:ho()}r(wh,"UnwrapTNot");function ET(e,t){return I.IsNot(e)?Se(wh(e),t):I.IsNot(t)?Se(e,wh(t)):_o("Invalid fallthrough for Not")}r(ET,"FromNot");function RT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsNull(t)?P.True:P.False}r(RT,"FromNull");function Rh(e,t){return I.IsLiteralNumber(e)||I.IsNumber(e)||I.IsInteger(e)?P.True:P.False}r(Rh,"FromNumberRight");function PT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsInteger(t)||I.IsNumber(t)?P.True:P.False}r(PT,"FromNumber");function Ct(e,t){return Object.getOwnPropertyNames(e.properties).length===t}r(Ct,"IsObjectPropertyCount");function vh(e){return sa(e)}r(vh,"IsObjectStringLike");function Ih(e){return Ct(e,0)||Ct(e,1)&&"description"in e.properties&&I.IsUnion(e.properties.description)&&e.properties.description.anyOf.length===2&&(I.IsString(e.properties.description.anyOf[0])&&I.IsUndefined(e.properties.description.anyOf[1])||I.IsString(e.properties.description.anyOf[1])&&I.IsUndefined(e.properties.description.anyOf[0]))}r(Ih,"IsObjectSymbolLike");function ol(e){return Ct(e,0)}r(ol,"IsObjectNumberLike");function xh(e){return Ct(e,0)}r(xh,"IsObjectBooleanLike");function kT(e){return Ct(e,0)}r(kT,"IsObjectBigIntLike");function MT(e){return Ct(e,0)}r(MT,"IsObjectDateLike");function NT(e){return sa(e)}r(NT,"IsObjectUint8ArrayLike");function CT(e){let t=Rn();return Ct(e,0)||Ct(e,1)&&"length"in e.properties&&Xt(Se(e.properties.length,t))===P.True}r(CT,"IsObjectFunctionLike");function LT(e){return Ct(e,0)}r(LT,"IsObjectConstructorLike");function sa(e){let t=Rn();return Ct(e,0)||Ct(e,1)&&"length"in e.properties&&Xt(Se(e.properties.length,t))===P.True}r(sa,"IsObjectArrayLike");function OT(e){let t=Tn([nr()],nr());return Ct(e,0)||Ct(e,1)&&"then"in e.properties&&Xt(Se(e.properties.then,t))===P.True}r(OT,"IsObjectPromiseLike");function Ph(e,t){return Se(e,t)===P.False||I.IsOptional(e)&&!I.IsOptional(t)?P.False:P.True}r(Ph,"Property");function vt(e,t){return I.IsUnknown(e)?P.False:I.IsAny(e)?P.Union:I.IsNever(e)||I.IsLiteralString(e)&&vh(t)||I.IsLiteralNumber(e)&&ol(t)||I.IsLiteralBoolean(e)&&xh(t)||I.IsSymbol(e)&&Ih(t)||I.IsBigInt(e)&&kT(t)||I.IsString(e)&&vh(t)||I.IsSymbol(e)&&Ih(t)||I.IsNumber(e)&&ol(t)||I.IsInteger(e)&&ol(t)||I.IsBoolean(e)&&xh(t)||I.IsUint8Array(e)&&NT(t)||I.IsDate(e)&&MT(t)||I.IsConstructor(e)&&LT(t)||I.IsFunction(e)&&CT(t)?P.True:I.IsRecord(e)&&I.IsString(sl(e))?t[Gt]==="Record"?P.True:P.False:I.IsRecord(e)&&I.IsNumber(sl(e))?Ct(t,0)?P.True:P.False:P.False}r(vt,"FromObjectRight");function FT(e,t){return tt(t)?nt(e,t):I.IsRecord(t)?Yt(e,t):I.IsObject(t)?(()=>{for(let n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!I.IsOptional(t.properties[n]))return P.False;if(I.IsOptional(t.properties[n]))return P.True;if(Ph(e.properties[n],t.properties[n])===P.False)return P.False}return P.True})():P.False}r(FT,"FromObject");function AT(e,t){return tt(t)?nt(e,t):I.IsObject(t)&&OT(t)?P.True:I.IsPromise(t)?Xt(Se(e.item,t.item)):P.False}r(AT,"FromPromise");function sl(e){return Cr in e.patternProperties?Rn():Lr in e.patternProperties?rr():_o("Unknown record key pattern")}r(sl,"RecordKey");function al(e){return Cr in e.patternProperties?e.patternProperties[Cr]:Lr in e.patternProperties?e.patternProperties[Lr]:_o("Unable to get record value schema")}r(al,"RecordValue");function Yt(e,t){let[n,o]=[sl(t),al(t)];return I.IsLiteralString(e)&&I.IsNumber(n)&&Xt(Se(e,o))===P.True?P.True:I.IsUint8Array(e)&&I.IsNumber(n)||I.IsString(e)&&I.IsNumber(n)||I.IsArray(e)&&I.IsNumber(n)?Se(e,o):I.IsObject(e)?(()=>{for(let i of Object.getOwnPropertyNames(e.properties))if(Ph(o,e.properties[i])===P.False)return P.False;return P.True})():P.False}r(Yt,"FromRecordRight");function DT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Se(al(e),al(t)):P.False}r(DT,"FromRecord");function jT(e,t){let n=I.IsRegExp(e)?rr():e,o=I.IsRegExp(t)?rr():t;return Se(n,o)}r(jT,"FromRegExp");function kh(e,t){return I.IsLiteral(e)&&bt.IsString(e.const)||I.IsString(e)?P.True:P.False}r(kh,"FromStringRight");function UT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsString(t)?P.True:P.False}r(UT,"FromString");function qT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsSymbol(t)?P.True:P.False}r(qT,"FromSymbol");function BT(e,t){return I.IsTemplateLiteral(e)?Se(Fr(e),t):I.IsTemplateLiteral(t)?Se(e,Fr(t)):_o("Invalid fallthrough for TemplateLiteral")}r(BT,"FromTemplateLiteral");function WT(e,t){return I.IsArray(t)&&e.items!==void 0&&e.items.every(n=>Se(n,t.items)===P.True)}r(WT,"IsArrayOfTuple");function $T(e,t){return I.IsNever(e)?P.True:I.IsUnknown(e)?P.False:I.IsAny(e)?P.Union:P.False}r($T,"FromTupleRight");function VT(e,t){return tt(t)?nt(e,t):I.IsObject(t)&&sa(t)||I.IsArray(t)&&WT(e,t)?P.True:I.IsTuple(t)?bt.IsUndefined(e.items)&&!bt.IsUndefined(t.items)||!bt.IsUndefined(e.items)&&bt.IsUndefined(t.items)?P.False:bt.IsUndefined(e.items)&&!bt.IsUndefined(t.items)||e.items.every((n,o)=>Se(n,t.items[o])===P.True)?P.True:P.False:P.False}r(VT,"FromTuple");function zT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsUint8Array(t)?P.True:P.False}r(zT,"FromUint8Array");function GT(e,t){return tt(t)?nt(e,t):I.IsObject(t)?vt(e,t):I.IsRecord(t)?Yt(e,t):I.IsVoid(t)?ZT(e,t):I.IsUndefined(t)?P.True:P.False}r(GT,"FromUndefined");function cl(e,t){return t.anyOf.some(n=>Se(e,n)===P.True)?P.True:P.False}r(cl,"FromUnionRight");function KT(e,t){return e.anyOf.every(n=>Se(n,t)===P.True)?P.True:P.False}r(KT,"FromUnion");function Mh(e,t){return P.True}r(Mh,"FromUnknownRight");function HT(e,t){return I.IsNever(t)?Eh(e,t):I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsAny(t)?ul(e,t):I.IsString(t)?kh(e,t):I.IsNumber(t)?Rh(e,t):I.IsInteger(t)?Th(e,t):I.IsBoolean(t)?Sh(e,t):I.IsArray(t)?mT(e,t):I.IsTuple(t)?$T(e,t):I.IsObject(t)?vt(e,t):I.IsUnknown(t)?P.True:P.False}r(HT,"FromUnknown");function ZT(e,t){return I.IsUndefined(e)||I.IsUndefined(e)?P.True:P.False}r(ZT,"FromVoidRight");function QT(e,t){return I.IsIntersect(t)?ia(e,t):I.IsUnion(t)?cl(e,t):I.IsUnknown(t)?Mh(e,t):I.IsAny(t)?ul(e,t):I.IsObject(t)?vt(e,t):I.IsVoid(t)?P.True:P.False}r(QT,"FromVoid");function Se(e,t){return I.IsTemplateLiteral(e)||I.IsTemplateLiteral(t)?BT(e,t):I.IsRegExp(e)||I.IsRegExp(t)?jT(e,t):I.IsNot(e)||I.IsNot(t)?ET(e,t):I.IsAny(e)?fT(e,t):I.IsArray(e)?pT(e,t):I.IsBigInt(e)?hT(e,t):I.IsBoolean(e)?_T(e,t):I.IsAsyncIterator(e)?gT(e,t):I.IsConstructor(e)?yT(e,t):I.IsDate(e)?bT(e,t):I.IsFunction(e)?wT(e,t):I.IsInteger(e)?vT(e,t):I.IsIntersect(e)?IT(e,t):I.IsIterator(e)?xT(e,t):I.IsLiteral(e)?ST(e,t):I.IsNever(e)?TT(e,t):I.IsNull(e)?RT(e,t):I.IsNumber(e)?PT(e,t):I.IsObject(e)?FT(e,t):I.IsRecord(e)?DT(e,t):I.IsString(e)?UT(e,t):I.IsSymbol(e)?qT(e,t):I.IsTuple(e)?VT(e,t):I.IsPromise(e)?AT(e,t):I.IsUint8Array(e)?zT(e,t):I.IsUndefined(e)?GT(e,t):I.IsUnion(e)?KT(e,t):I.IsUnknown(e)?HT(e,t):I.IsVoid(e)?QT(e,t):_o(`Unknown left type operand '${e[j]}'`)}r(Se,"Visit");function ir(e,t){return Se(e,t)}r(ir,"ExtendsCheck");function JT(e,t,n,o,i){let u={};for(let s of globalThis.Object.getOwnPropertyNames(e))u[s]=yo(e[s],t,n,o,Le(i));return u}r(JT,"FromProperties");function XT(e,t,n,o,i){return JT(e.properties,t,n,o,i)}r(XT,"FromMappedResult");function Nh(e,t,n,o,i){let u=XT(e,t,n,o,i);return de(u)}r(Nh,"ExtendsFromMappedResult");function YT(e,t,n,o){let i=ir(e,t);return i===P.Union?_e([n,o]):i===P.True?n:o}r(YT,"ExtendsResolve");function yo(e,t,n,o,i){return Oe(e)?Nh(e,t,n,o,i):jt(e)?k(Ch(e,t,n,o,i)):k(YT(e,t,n,o),i)}r(yo,"Extends");function eE(e,t,n,o,i){return{[e]:yo(ge(e),t,n,o,Le(i))}}r(eE,"FromPropertyKey");function tE(e,t,n,o,i){return e.reduce((u,s)=>({...u,...eE(s,t,n,o,i)}),{})}r(tE,"FromPropertyKeys");function nE(e,t,n,o,i){return tE(e.keys,t,n,o,i)}r(nE,"FromMappedKey");function Ch(e,t,n,o,i){let u=nE(e,t,n,o,i);return de(u)}r(Ch,"ExtendsFromMappedKey");function Lh(e,t){return bo(Fr(e),t)}r(Lh,"ExcludeFromTemplateLiteral");function rE(e,t){let n=e.filter(o=>ir(o,t)===P.False);return n.length===1?n[0]:_e(n)}r(rE,"ExcludeRest");function bo(e,t,n={}){return Ut(e)?k(Lh(e,t),n):Oe(e)?k(Oh(e,t),n):k(me(e)?rE(e.anyOf,t):ir(e,t)!==P.False?Pe():e,n)}r(bo,"Exclude");function oE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=bo(e[o],t);return n}r(oE,"FromProperties");function iE(e,t){return oE(e.properties,t)}r(iE,"FromMappedResult");function Oh(e,t){let n=iE(e,t);return de(n)}r(Oh,"ExcludeFromMappedResult");function Fh(e,t){return wo(Fr(e),t)}r(Fh,"ExtractFromTemplateLiteral");function sE(e,t){let n=e.filter(o=>ir(o,t)!==P.False);return n.length===1?n[0]:_e(n)}r(sE,"ExtractRest");function wo(e,t,n){return Ut(e)?k(Fh(e,t),n):Oe(e)?k(Ah(e,t),n):k(me(e)?sE(e.anyOf,t):ir(e,t)!==P.False?e:Pe(),n)}r(wo,"Extract");function aE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=wo(e[o],t);return n}r(aE,"FromProperties");function uE(e,t){return aE(e.properties,t)}r(uE,"FromMappedResult");function Ah(e,t){let n=uE(e,t);return de(n)}r(Ah,"ExtractFromMappedResult");function Dh(e,t){return k(e.returns,t)}r(Dh,"InstanceType");function jh(e){return k({[j]:"Integer",type:"integer"},e)}r(jh,"Integer");function cE(e,t,n){return{[e]:_n(ge(e),t,Le(n))}}r(cE,"MappedIntrinsicPropertyKey");function lE(e,t,n){return e.reduce((i,u)=>({...i,...cE(u,t,n)}),{})}r(lE,"MappedIntrinsicPropertyKeys");function dE(e,t,n){return lE(e.keys,t,n)}r(dE,"MappedIntrinsicProperties");function Uh(e,t,n){let o=dE(e,t,n);return de(o)}r(Uh,"IntrinsicFromMappedKey");function fE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}r(fE,"ApplyUncapitalize");function mE(e){let[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}r(mE,"ApplyCapitalize");function pE(e){return e.toUpperCase()}r(pE,"ApplyUppercase");function gE(e){return e.toLowerCase()}r(gE,"ApplyLowercase");function hE(e,t,n){let o=lo(e.pattern);if(!Or(o))return{...e,pattern:qh(e.pattern,t)};let s=[...Li(o)].map(l=>ge(l)),a=Bh(s,t),c=_e(a);return Qs([c],n)}r(hE,"FromTemplateLiteral");function qh(e,t){return typeof e=="string"?t==="Uncapitalize"?fE(e):t==="Capitalize"?mE(e):t==="Uppercase"?pE(e):t==="Lowercase"?gE(e):e:e.toString()}r(qh,"FromLiteralValue");function Bh(e,t){return e.map(n=>_n(n,t))}r(Bh,"FromRest");function _n(e,t,n={}){return jt(e)?Uh(e,t,n):Ut(e)?hE(e,t,n):me(e)?_e(Bh(e.anyOf,t),n):$n(e)?ge(qh(e.const,t),n):k(e,n)}r(_n,"Intrinsic");function Wh(e,t={}){return _n(e,"Capitalize",t)}r(Wh,"Capitalize");function $h(e,t={}){return _n(e,"Lowercase",t)}r($h,"Lowercase");function Vh(e,t={}){return _n(e,"Uncapitalize",t)}r(Vh,"Uncapitalize");function zh(e,t={}){return _n(e,"Uppercase",t)}r(zh,"Uppercase");function _E(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=sr(e[i],t,Le(n));return o}r(_E,"FromProperties");function yE(e,t,n){return _E(e.properties,t,n)}r(yE,"FromMappedResult");function Gh(e,t,n){let o=yE(e,t,n);return de(o)}r(Gh,"OmitFromMappedResult");function bE(e,t){return e.map(n=>dl(n,t))}r(bE,"FromIntersect");function wE(e,t){return e.map(n=>dl(n,t))}r(wE,"FromUnion");function vE(e,t){let{[t]:n,...o}=e;return o}r(vE,"FromProperty");function IE(e,t){return t.reduce((n,o)=>vE(n,o),e)}r(IE,"FromProperties");function xE(e,t){let n=Ve(e,[mt,"$id","required","properties"]),o=IE(e.properties,t);return Ne(o,n)}r(xE,"FromObject");function SE(e){let t=e.reduce((n,o)=>zs(o)?[...n,ge(o)]:n,[]);return _e(t)}r(SE,"UnionFromPropertyKeys");function dl(e,t){return Je(e)?wt(bE(e.allOf,t)):me(e)?_e(wE(e.anyOf,t)):ut(e)?xE(e,t):Ne({})}r(dl,"OmitResolve");function sr(e,t,n){let o=Qe(t)?SE(t):t,i=qt(t)?Nt(t):t,u=$e(e),s=$e(t);return Oe(e)?Gh(e,i,n):jt(t)?Kh(e,t,n):u&&s?pe("Omit",[e,o],n):!u&&s?pe("Omit",[e,o],n):u&&!s?pe("Omit",[e,o],n):k({...dl(e,i),...n})}r(sr,"Omit");function TE(e,t,n){return{[t]:sr(e,[t],Le(n))}}r(TE,"FromPropertyKey");function EE(e,t,n){return t.reduce((o,i)=>({...o,...TE(e,i,n)}),{})}r(EE,"FromPropertyKeys");function RE(e,t,n){return EE(e,t.keys,n)}r(RE,"FromMappedKey");function Kh(e,t,n){let o=RE(e,t,n);return de(o)}r(Kh,"OmitFromMappedKey");function PE(e,t,n){let o={};for(let i of globalThis.Object.getOwnPropertyNames(e))o[i]=ar(e[i],t,Le(n));return o}r(PE,"FromProperties");function kE(e,t,n){return PE(e.properties,t,n)}r(kE,"FromMappedResult");function Hh(e,t,n){let o=kE(e,t,n);return de(o)}r(Hh,"PickFromMappedResult");function ME(e,t){return e.map(n=>fl(n,t))}r(ME,"FromIntersect");function NE(e,t){return e.map(n=>fl(n,t))}r(NE,"FromUnion");function CE(e,t){let n={};for(let o of t)o in e&&(n[o]=e[o]);return n}r(CE,"FromProperties");function LE(e,t){let n=Ve(e,[mt,"$id","required","properties"]),o=CE(e.properties,t);return Ne(o,n)}r(LE,"FromObject");function OE(e){let t=e.reduce((n,o)=>zs(o)?[...n,ge(o)]:n,[]);return _e(t)}r(OE,"UnionFromPropertyKeys");function fl(e,t){return Je(e)?wt(ME(e.allOf,t)):me(e)?_e(NE(e.anyOf,t)):ut(e)?LE(e,t):Ne({})}r(fl,"PickResolve");function ar(e,t,n){let o=Qe(t)?OE(t):t,i=qt(t)?Nt(t):t,u=$e(e),s=$e(t);return Oe(e)?Hh(e,i,n):jt(t)?Zh(e,t,n):u&&s?pe("Pick",[e,o],n):!u&&s?pe("Pick",[e,o],n):u&&!s?pe("Pick",[e,o],n):k({...fl(e,i),...n})}r(ar,"Pick");function FE(e,t,n){return{[t]:ar(e,[t],Le(n))}}r(FE,"FromPropertyKey");function AE(e,t,n){return t.reduce((o,i)=>({...o,...FE(e,i,n)}),{})}r(AE,"FromPropertyKeys");function DE(e,t,n){return AE(e,t.keys,n)}r(DE,"FromMappedKey");function Zh(e,t,n){let o=DE(e,t,n);return de(o)}r(Zh,"PickFromMappedKey");function jE(e,t){return pe("Partial",[pe(e,t)])}r(jE,"FromComputed");function UE(e){return pe("Partial",[Jt(e)])}r(UE,"FromRef");function qE(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Mt(e[n]);return t}r(qE,"FromProperties");function BE(e){let t=Ve(e,[mt,"$id","required","properties"]),n=qE(e.properties);return Ne(n,t)}r(BE,"FromObject");function Qh(e){return e.map(t=>Jh(t))}r(Qh,"FromRest");function Jh(e){return kt(e)?jE(e.target,e.parameters):$e(e)?UE(e.$ref):Je(e)?wt(Qh(e.allOf)):me(e)?_e(Qh(e.anyOf)):ut(e)?BE(e):Ne({})}r(Jh,"PartialResolve");function vo(e,t){return Oe(e)?Xh(e,t):k({...Jh(e),...t})}r(vo,"Partial");function WE(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=vo(e[o],Le(t));return n}r(WE,"FromProperties");function $E(e,t){return WE(e.properties,t)}r($E,"FromMappedResult");function Xh(e,t){let n=$E(e,t);return de(n)}r(Xh,"PartialFromMappedResult");function Ar(e,t,n){return k({[j]:"Record",type:"object",patternProperties:{[e]:t}},n)}r(Ar,"RecordCreateFromPattern");function ml(e,t,n){let o={};for(let i of e)o[i]=t;return Ne(o,{...n,[Gt]:"Record"})}r(ml,"RecordCreateFromKeys");function VE(e,t,n){return Yg(e)?ml(Nt(e),t,n):Ar(e.pattern,t,n)}r(VE,"FromTemplateLiteralKey");function zE(e,t,n){return ml(Nt(_e(e)),t,n)}r(zE,"FromUnionKey");function GE(e,t,n){return ml([e.toString()],t,n)}r(GE,"FromLiteralKey");function KE(e,t,n){return Ar(e.source,t,n)}r(KE,"FromRegExpKey");function HE(e,t,n){let o=at(e.pattern)?Lr:e.pattern;return Ar(o,t,n)}r(HE,"FromStringKey");function ZE(e,t,n){return Ar(Lr,t,n)}r(ZE,"FromAnyKey");function QE(e,t,n){return Ar(Gg,t,n)}r(QE,"FromNeverKey");function JE(e,t,n){return Ar(Cr,t,n)}r(JE,"FromIntegerKey");function XE(e,t,n){return Ar(Cr,t,n)}r(XE,"FromNumberKey");function aa(e,t,n={}){return kt(t)?pe("Record",[e,pe(t.target,t.parameters)],n):kt(e)?pe("Record",[pe(t.target,t.parameters),t],n):$e(e)?pe("Record",[Jt(e.$ref),t]):me(e)?zE(e.anyOf,t,n):Ut(e)?VE(e,t,n):$n(e)?GE(e.const,t,n):Mr(e)?JE(e,t,n):Nr(e)?XE(e,t,n):jc(e)?KE(e,t,n):Ri(e)?HE(e,t,n):Oc(e)?ZE(e,t,n):tr(e)?QE(e,t,n):Pe(n)}r(aa,"Record");function YE(e,t){return pe("Required",[pe(e,t)])}r(YE,"FromComputed");function eR(e){return pe("Required",[Jt(e)])}r(eR,"FromRef");function tR(e){let t={};for(let n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ve(e[n],[pt]);return t}r(tR,"FromProperties");function nR(e){let t=Ve(e,[mt,"$id","required","properties"]),n=tR(e.properties);return Ne(n,t)}r(nR,"FromObject");function Yh(e){return e.map(t=>e_(t))}r(Yh,"FromRest");function e_(e){return kt(e)?YE(e.target,e.parameters):$e(e)?eR(e.$ref):Je(e)?wt(Yh(e.allOf)):me(e)?_e(Yh(e.anyOf)):ut(e)?nR(e):Ne({})}r(e_,"RequiredResolve");function Io(e,t){return Oe(e)?t_(e,t):k({...e_(e),...t})}r(Io,"Required");function rR(e,t){let n={};for(let o of globalThis.Object.getOwnPropertyNames(e))n[o]=Io(e[o],t);return n}r(rR,"FromProperties");function oR(e,t){return rR(e.properties,t)}r(oR,"FromMappedResult");function t_(e,t){let n=oR(e,t);return de(n)}r(t_,"RequiredFromMappedResult");function iR(e,t){return t.map(n=>$e(n)?n_(e,n.$ref):en(e,n))}r(iR,"DerefParameters");function n_(e,t){return t in e?$e(e[t])?n_(e,e[t].$ref):en(e,e[t]):Pe()}r(n_,"Deref");function sR(e){return po(e[0])}r(sR,"FromAwaited");function aR(e){return or(e[0],e[1])}r(aR,"FromIndex");function uR(e){return go(e[0])}r(uR,"FromKeyOf");function cR(e){return vo(e[0])}r(cR,"FromPartial");function lR(e){return sr(e[0],e[1])}r(lR,"FromOmit");function dR(e){return ar(e[0],e[1])}r(dR,"FromPick");function fR(e){return aa(e[0],e[1])}r(fR,"FromRecord");function mR(e){return Io(e[0])}r(mR,"FromRequired");function pR(e,t,n){let o=iR(e,n);return t==="Awaited"?sR(o):t==="Index"?aR(o):t==="KeyOf"?uR(o):t==="Partial"?cR(o):t==="Omit"?lR(o):t==="Pick"?dR(o):t==="Record"?fR(o):t==="Required"?mR(o):Pe()}r(pR,"FromComputed");function gR(e,t){return Ne(globalThis.Object.keys(t).reduce((n,o)=>({...n,[o]:en(e,t[o])}),{}))}r(gR,"FromObject");function hR(e,t,n){return uo(Di(e,t),en(e,n))}r(hR,"FromConstructor");function _R(e,t,n){return Tn(Di(e,t),en(e,n))}r(_R,"FromFunction");function yR(e,t){return Zt(Di(e,t))}r(yR,"FromTuple");function bR(e,t){return wt(Di(e,t))}r(bR,"FromIntersect");function wR(e,t){return _e(Di(e,t))}r(wR,"FromUnion");function vR(e,t){return so(en(e,t))}r(vR,"FromArray");function IR(e,t){return ao(en(e,t))}r(IR,"FromAsyncIterator");function xR(e,t){return mo(en(e,t))}r(xR,"FromIterator");function Di(e,t){return t.map(n=>en(e,n))}r(Di,"FromRest");function en(e,t){return Kt(t)?k(en(e,Ve(t,[pt])),t):Vs(t)?k(en(e,Ve(t,[gn])),t):Wn(t)?k(vR(e,t.items),t):Ii(t)?k(IR(e,t.items),t):kt(t)?k(pR(e,t.target,t.parameters)):xi(t)?k(hR(e,t.parameters,t.returns),t):Si(t)?k(_R(e,t.parameters,t.returns),t):Je(t)?k(bR(e,t.allOf),t):Ti(t)?k(xR(e,t.items),t):ut(t)?k(gR(e,t.properties),t):hn(t)?k(yR(e,t.items||[]),t):me(t)?k(wR(e,t.anyOf),t):t}r(en,"FromType");function SR(e,t){return t in e?en(e,e[t]):Pe()}r(SR,"ComputeType");function r_(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>({...t,[n]:SR(e,n)}),{})}r(r_,"ComputeModuleProperties");var gl=class gl{constructor(t){let n=r_(t),o=this.WithIdentifiers(n);this.$defs=o}Import(t,n){let o={...this.$defs,[t]:k(this.$defs[t],n)};return k({[j]:"Import",$defs:o,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,o)=>({...n,[o]:{...t[o],$id:o}}),{})}};r(gl,"TModule");var pl=gl;function o_(e){return new pl(e)}r(o_,"Module");function i_(e,t){return k({[j]:"Not",not:e},t)}r(i_,"Not");function s_(e,t){return Zt(e.parameters,t)}r(s_,"Parameters");function a_(e){return Ht(Mt(e))}r(a_,"ReadonlyOptional");var TR=0;function u_(e,t={}){at(t.$id)&&(t.$id=`T${TR++}`);let n=eg(e({[j]:"This",$ref:`${t.$id}`}));return n.$id=t.$id,k({[Gt]:"Recursive",...n},t)}r(u_,"Recursive");function c_(e,t){let n=Ee(e)?new globalThis.RegExp(e):e;return k({[j]:"RegExp",type:"RegExp",source:n.source,flags:n.flags},t)}r(c_,"RegExp");function ER(e){var t;return Je(e)?e.allOf:me(e)?e.anyOf:hn(e)?(t=e.items)!=null?t:[]:[]}r(ER,"RestResolve");function l_(e){return ER(e)}r(l_,"Rest");function d_(e,t){return k(e.returns,t)}r(d_,"ReturnType");var yl=class yl{constructor(t){this.schema=t}Decode(t){return new _l(this.schema,t)}};r(yl,"TransformDecodeBuilder");var hl=yl,bl=class bl{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){let u={Encode:r(s=>n[mt].Encode(t(s)),"Encode"),Decode:r(s=>this.decode(n[mt].Decode(s)),"Decode")};return{...n,[mt]:u}}EncodeSchema(t,n){let o={Decode:this.decode,Encode:t};return{...n,[mt]:o}}Encode(t){return io(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}};r(bl,"TransformEncodeBuilder");var _l=bl;function f_(e){return new hl(e)}r(f_,"Transform");function m_(e={}){var t;return k({[j]:(t=e[j])!=null?t:"Unsafe"},e)}r(m_,"Unsafe");function p_(e){return k({[j]:"Void",type:"void"},e)}r(p_,"Void");var wl={};Su(wl,{Any:()=>nr,Array:()=>so,AsyncIterator:()=>ao,Awaited:()=>po,BigInt:()=>fo,Boolean:()=>Zs,Capitalize:()=>Wh,Composite:()=>hh,Const:()=>_h,Constructor:()=>uo,ConstructorParameters:()=>yh,Date:()=>Ys,Enum:()=>bh,Exclude:()=>bo,Extends:()=>yo,Extract:()=>wo,Function:()=>Tn,Index:()=>or,InstanceType:()=>Dh,Integer:()=>jh,Intersect:()=>wt,Iterator:()=>mo,KeyOf:()=>go,Literal:()=>ge,Lowercase:()=>$h,Mapped:()=>lh,Module:()=>o_,Never:()=>Pe,Not:()=>i_,Null:()=>ea,Number:()=>Rn,Object:()=>Ne,Omit:()=>sr,Optional:()=>Mt,Parameters:()=>s_,Partial:()=>vo,Pick:()=>ar,Promise:()=>Xs,Readonly:()=>Ht,ReadonlyOptional:()=>a_,Record:()=>aa,Recursive:()=>u_,Ref:()=>Jt,RegExp:()=>c_,Required:()=>Io,Rest:()=>l_,ReturnType:()=>d_,String:()=>rr,Symbol:()=>ta,TemplateLiteral:()=>Qs,Transform:()=>f_,Tuple:()=>Zt,Uint8Array:()=>ra,Uncapitalize:()=>Vh,Undefined:()=>na,Union:()=>_e,Unknown:()=>ho,Unsafe:()=>m_,Uppercase:()=>zh,Void:()=>p_});var Pn=wl;var RR=500,wW=8192-RR;var PR=Pn.Object({relativePath:Pn.Optional(Pn.String()),uri:Pn.String(),source:Pn.String(),languageId:Pn.String()}),vW=Pn.Intersect([PR,Pn.Object({offset:Pn.Number()})]);var ga=Dn(require("path")),Mn=require("worker_threads");function gP(e){return new Promise(t=>{setTimeout(()=>t(`delay: ${e}`),e)})}r(gP,"sleep");var Q_=["getSimilarSnippets","sleep"],zl=class zl{constructor(){this.nextHandlerId=0;this.handlers=new Map;this.fns=new Map;this.getSimilarSnippets=Yp;this.sleep=gP;var t;!Mn.isMainThread&&((t=Mn.workerData)!=null&&t.port)&&(Z_(),process.cwd=()=>Mn.workerData.cwd,this.configureWorkerResponse(Mn.workerData.port))}initWorker(){let{port1:t,port2:n}=new Mn.MessageChannel;this.port=t,this.worker=new Mn.Worker(ga.default.resolve(ga.default.extname(__filename)!==".ts"?__dirname:ga.default.resolve(__dirname,"../../dist"),"workerProxy.js"),{workerData:{port:n,cwd:process.cwd()},transferList:[n]}),this.port.on("message",o=>this.handleMessage(o)),this.port.on("error",o=>this.handleError(o))}startThreading(){if(this.worker)throw new Error("Worker thread already initialized.");this.proxyFunctions(),this.initWorker()}stopThreading(){this.worker&&(this.worker.terminate(),this.worker.removeAllListeners(),this.worker=void 0,this.unproxyFunctions(),this.handlers.clear())}proxyFunctions(){for(let t of Q_)this.fns.set(t,this[t]),this.proxy(t)}unproxyFunctions(){for(let t of Q_){let n=this.fns.get(t);if(n)this[t]=n;else throw new Error(`Unproxy function not found: ${t}`)}}configureWorkerResponse(t){this.port=t,this.port.on("message",n=>void this.onMessage(n))}async onMessage({id:t,fn:n,args:o}){let i=this[n];if(!i)throw new Error(`Function not found: ${n}`);try{let u=await i.apply(this,o);this.port.postMessage({id:t,res:u})}catch(u){if(!(u instanceof Error))throw u;typeof u.code=="string"?this.port.postMessage({id:t,err:u,code:u.code}):this.port.postMessage({id:t,err:u})}}handleMessage({id:t,err:n,code:o,res:i}){let u=this.handlers.get(t);u&&(this.handlers.delete(t),n?(n.code=o,u.reject(n)):u.resolve(i))}handleError(t){var o;console.log(t);let n;if(t instanceof Error){n=t,n.code==="MODULE_NOT_FOUND"&&((o=n.message)!=null&&o.endsWith("workerProxy.js'"))&&(n=new Xn("Failed to load workerProxy.js"));let i=new Error().stack;n.stack&&(i!=null&&i.match(/^Error\n/))&&(n.stack+=i.replace(/^Error/,""))}else t&&typeof t=="object"&&"name"in t&&t.name==="ExitStatus"&&"status"in t&&typeof t.status=="number"?(n=new Error(`workerProxy.js exited with status ${t.status}`),n.code=`CopilotPromptWorkerExit${t.status}`):n=new Error(`Non-error thrown: ${JSON.stringify(t)}`);for(let i of this.handlers.values())i.reject(n);throw n}proxy(t){this[t]=function(...n){let o=this.nextHandlerId++;return new Promise((i,u)=>{var s;this.handlers.set(o,{resolve:i,reject:u}),(s=this.port)==null||s.postMessage({id:o,fn:t,args:n})})}}};r(zl,"WorkerProxy");var Vl=zl,hP=new Vl;var Gl=class Gl{constructor(t,n,o){this.languageId=t;this.nodeMatch=n;this.nodeTypesWithBlockOrStmtChild=o}async getNodeMatchAtPosition(t,n,o){let i=await Pr(this.languageId,t);try{let s=i.rootNode.descendantForIndex(n);for(;s;){let a=this.nodeMatch[s.type];if(a){if(!this.nodeTypesWithBlockOrStmtChild.has(s.type))break;let c=this.nodeTypesWithBlockOrStmtChild.get(s.type),l=c==""?s.namedChildren[0]:s.childForFieldName(c);if((l==null?void 0:l.type)==a)break}s=s.parent}return s?o(s):void 0}finally{i.delete()}}getNextBlockAtPosition(t,n,o){return this.getNodeMatchAtPosition(t,n,i=>{let u=i.children.reverse().find(s=>s.type==this.nodeMatch[i.type]);if(u){if(this.languageId=="python"&&u.parent){let s=u.parent.type==":"?u.parent.parent:u.parent,a=s==null?void 0:s.nextSibling;for(;a&&a.type=="comment";){let c=a.startPosition.row==u.endPosition.row&&a.startPosition.column>=u.endPosition.column,l=a.startPosition.row>s.endPosition.row&&a.startPosition.column>s.startPosition.column;if(c||l)u=a,a=a.nextSibling;else break}}if(!(u.endIndex>=u.tree.rootNode.endIndex-1&&(u.hasError()||u.parent.hasError())))return o(u)}})}async isBlockBodyFinished(t,n,o){let i=(t+n).trimEnd(),u=await this.getNextBlockAtPosition(i,o,s=>s.endIndex);if(u!==void 0&&u<i.length){let s=u-t.length;return s>0?s:void 0}}getNodeStart(t,n){let o=t.trimEnd();return this.getNodeMatchAtPosition(o,n,i=>i.startIndex)}};r(Gl,"BaseBlockParser");var ha=Gl,Kl=class Kl extends ha{constructor(n,o,i,u,s){super(n,u,s);this.blockEmptyMatch=o;this.lineMatch=i}isBlockStart(n){return this.lineMatch.test(n.trimStart())}async isBlockBodyEmpty(n,o){let i=await this.getNextBlockAtPosition(n,o,u=>{u.startIndex<o&&(o=u.startIndex);let s=n.substring(o,u.endIndex).trim();return s==""||s.replace(/\s/g,"")==this.blockEmptyMatch});return i===void 0||i}async isEmptyBlockStart(n,o){return o=X_(n,o),this.isBlockStart(yP(n,o))&&this.isBlockBodyEmpty(n,o)}};r(Kl,"RegexBasedBlockParser");var _a=Kl;function yP(e,t){let n=e.lastIndexOf(`
`,t-1),o=e.indexOf(`
`,t);return o<0&&(o=e.length),e.slice(n+1,o)}r(yP,"getLineAtOffset");function X_(e,t){let n=t;for(;n>0&&/\s/.test(e.charAt(n-1));)n--;return n}r(X_,"rewindToNearestNonWs");function J_(e,t){let n=e.startIndex,o=e.startIndex-e.startPosition.column,i=t.substring(o,n);if(/^\s*$/.test(i))return i}r(J_,"indent");function bP(e,t,n){if(t.startPosition.row<=e.startPosition.row)return!1;let o=J_(e,n),i=J_(t,n);return o!==void 0&&i!==void 0&&o.startsWith(i)}r(bP,"outdented");var Hl=class Hl extends ha{constructor(n,o,i,u,s,a,c){super(n,o,i);this.startKeywords=u;this.blockNodeType=s;this.emptyStatementType=a;this.curlyBraceLanguage=c}isBlockEmpty(n,o){var u,s;let i=n.text.trim();return this.curlyBraceLanguage&&(i.startsWith("{")&&(i=i.slice(1)),i.endsWith("}")&&(i=i.slice(0,-1)),i=i.trim()),!!(i.length==0||this.languageId=="python"&&(((u=n.parent)==null?void 0:u.type)=="class_definition"||((s=n.parent)==null?void 0:s.type)=="function_definition")&&n.children.length==1&&Xp(n.parent))}async isEmptyBlockStart(n,o){var u,s,a,c;if(o>n.length)throw new RangeError("Invalid offset");for(let l=o;l<n.length&&n.charAt(l)!=`
`;l++)if(/\S/.test(n.charAt(l)))return!1;o=X_(n,o);let i=await Pr(this.languageId,n);try{let l=i.rootNode.descendantForIndex(o-1);if(l==null||this.curlyBraceLanguage&&l.type=="}")return!1;if((this.languageId=="javascript"||this.languageId=="typescript")&&l.parent&&l.parent.type=="object"&&l.parent.text.trim()=="{")return!0;if(this.languageId=="typescript"){let x=l;for(;x.parent;){if(x.type=="function_signature"||x.type=="method_signature"){let S=l.nextSibling;return S&&x.hasError()&&bP(x,S,n)?!0:!x.children.find(R=>R.type==";")&&x.endIndex<=o}x=x.parent}}let f=null,p=null,h=null,y=l;for(;y!=null;){if(y.type==this.blockNodeType){p=y;break}if(this.nodeMatch[y.type]){h=y;break}if(y.type=="ERROR"){f=y;break}y=y.parent}if(p!=null){if(!p.parent||!this.nodeMatch[p.parent.type])return!1;if(this.languageId=="python"){let x=p.previousSibling;if(x!=null&&x.hasError()&&(x.text.startsWith('"""')||x.text.startsWith("'''")))return!0}return this.isBlockEmpty(p,o)}if(f!=null){if(((u=f.previousSibling)==null?void 0:u.type)=="module"||((s=f.previousSibling)==null?void 0:s.type)=="internal_module"||((a=f.previousSibling)==null?void 0:a.type)=="def")return!0;let x=[...f.children].reverse(),S=x.find(R=>this.startKeywords.includes(R.type)),N=x.find(R=>R.type==this.blockNodeType);if(S){switch(this.languageId){case"python":{S.type=="try"&&l.type=="identifier"&&l.text.length>4&&(N=(c=x.find(A=>A.hasError()))==null?void 0:c.children.find(A=>A.type=="block"));let R,B=0;for(let A of f.children){if(A.type==":"&&B==0){R=A;break}A.type=="("&&(B+=1),A.type==")"&&(B-=1)}if(R&&S.endIndex<=R.startIndex&&R.nextSibling){if(S.type=="def"){let A=R.nextSibling;if(A.type=='"'||A.type=="'"||A.type=="ERROR"&&(A.text=='"""'||A.text=="'''"))return!0}return!1}break}case"javascript":{let R=x.find(K=>K.type=="formal_parameters");if(S.type=="class"&&R)return!0;let B=x.find(K=>K.type=="{");if(B&&B.startIndex>S.endIndex&&B.nextSibling!=null||x.find(K=>K.type=="do")&&S.type=="while"||S.type=="=>"&&S.nextSibling&&S.nextSibling.type!="{")return!1;break}case"typescript":{let R=x.find(A=>A.type=="{");if(R&&R.startIndex>S.endIndex&&R.nextSibling!=null||x.find(A=>A.type=="do")&&S.type=="while"||S.type=="=>"&&S.nextSibling&&S.nextSibling.type!="{")return!1;break}}return N&&N.startIndex>S.endIndex?this.isBlockEmpty(N,o):!0}}if(h!=null){let x=this.nodeMatch[h.type],S=h.children.slice().reverse().find(N=>N.type==x);if(S)return this.isBlockEmpty(S,o);if(this.nodeTypesWithBlockOrStmtChild.has(h.type)){let N=this.nodeTypesWithBlockOrStmtChild.get(h.type),R=N==""?h.children[0]:h.childForFieldName(N);if(R&&R.type!=this.blockNodeType&&R.type!=this.emptyStatementType)return!1}return!0}return!1}finally{i.delete()}}};r(Hl,"TreeSitterBasedBlockParser");var lr=Hl,U3={python:new lr("python",{class_definition:"block",elif_clause:"block",else_clause:"block",except_clause:"block",finally_clause:"block",for_statement:"block",function_definition:"block",if_statement:"block",try_statement:"block",while_statement:"block",with_statement:"block"},new Map,["def","class","if","elif","else","for","while","try","except","finally","with"],"block",null,!1),javascript:new lr("javascript",{arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",method_definition:"statement_block",try_statement:"statement_block",while_statement:"statement_block",with_statement:"statement_block",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),typescript:new lr("typescript",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),tsx:new lr("typescriptreact",{ambient_declaration:"statement_block",arrow_function:"statement_block",catch_clause:"statement_block",do_statement:"statement_block",else_clause:"statement_block",finally_clause:"statement_block",for_in_statement:"statement_block",for_statement:"statement_block",function:"statement_block",function_declaration:"statement_block",generator_function:"statement_block",generator_function_declaration:"statement_block",if_statement:"statement_block",internal_module:"statement_block",method_definition:"statement_block",module:"statement_block",try_statement:"statement_block",while_statement:"statement_block",abstract_class_declaration:"class_body",class:"class_body",class_declaration:"class_body"},new Map([["arrow_function","body"],["do_statement","body"],["else_clause",""],["for_in_statement","body"],["for_statement","body"],["if_statement","consequence"],["while_statement","body"],["with_statement","body"]]),["declare","=>","try","catch","finally","do","for","if","else","while","with","function","function*","class"],"statement_block","empty_statement",!0),go:new _a("go","{}",/\b(func|if|else|for)\b/,{communication_case:"block",default_case:"block",expression_case:"block",for_statement:"block",func_literal:"block",function_declaration:"block",if_statement:"block",labeled_statement:"block",method_declaration:"block",type_case:"block"},new Map),ruby:new _a("ruby","end",/\b(BEGIN|END|case|class|def|do|else|elsif|for|if|module|unless|until|while)\b|->/,{begin_block:"}",block:"}",end_block:"}",lambda:"block",for:"do",until:"do",while:"do",case:"end",do:"end",if:"end",method:"end",module:"end",unless:"end",do_block:"end"},new Map),c_sharp:new lr("csharp",{},new Map([]),[],"block",null,!0),java:new lr("java",{},new Map([]),[],"block",null,!0)};function Br(e){switch(e){case 0:case 2:case 7:case 8:case 11:case 12:case 13:case 14:return!0;default:return!1}}r(Br,"isTypeDefinition");var Po=class Po{constructor(t,n){this.start=t,this.length=n}static fromBounds(t,n){return new Po(t,n-t)}get end(){return this.start+this.length}contains(t){return this.start<=t&&this.end>=t}containsRange(t){return this.start<=t.start&&this.end>=t.end}equals(t){return this.start===t.start&&this.length===t.length}getText(t){return t.slice(this.start,this.end)}getTextWithIndentation(t,n){let o=[],i=this.start;for(i=ey(t,t.length,i),Y_(o,n);i<this.end;)t[i]!=="\r"&&t[i]!==`
`?o.push(t[i++]):t[i]==="\r"&&i<t.length&&t[i+1]!==`
`||t[i]===`
`?(o.push(`
`),i=ey(t,t.length,++i),Y_(o,n)):i++;return o.join("")}};r(Po,"TextRange"),Po.empty=new Po(0,0);var nn=Po;function Y_(e,t){for(let n=0;n<t;n++)e.push(" ")}r(Y_,"appendIndent");function ey(e,t,n){for(;n<t&&(e[n]===" "||e[n]==="	");)n++;return n}r(ey,"consumeIndent");var Zl=class Zl{constructor(t,n,o,i,u,s,a,c,l){this.fileName=t;this.fullyQualifiedName=n;this.unqualifiedName=o;this.commentRange=i;this.nameRange=u;this.bodyRange=s;this.extentRange=a;this.kind=c;this.refKind=l;if(t.indexOf("\\")!==-1)throw new Error("fileName must be normalized to use forward slashes as path separators")}equals(t){return this.fileName===t.fileName&&this.fullyQualifiedName===t.fullyQualifiedName&&this.unqualifiedName===t.unqualifiedName&&this.commentRange.equals(t.commentRange)&&this.nameRange.equals(t.nameRange)&&this.bodyRange.equals(t.bodyRange)&&this.extentRange.equals(t.extentRange)&&this.kind===t.kind&&this.refKind===t.refKind}};r(Zl,"SymbolRange");var ko=Zl,Vi=class Vi{constructor(){this.queriesCache=new Map}async executeQuery(t,n,o){let i;try{i=await Pr(this.languageId,n);let u=i.getLanguage(),a=this.getOrCreateQuery(u,o).matches(i.rootNode),c=new vs,l=[];for(let f of a){let p=this.createSymbolRange(c,t,n,f.captures);p&&l.push(p)}return l}finally{i==null||i.delete()}}getOrCreateQuery(t,n){let o=this.queriesCache.get(n);return o||(o=t.query(n),this.queriesCache.set(n,o)),o}createSymbolRange(t,n,o,i){let u=0,s=0,a=0,c=0,l=0,f=0,p=0,h=0,y=null,x=null;for(let R=0;R<i.length;R++){let B=i[R].name;B==="name"?(l=i[R].node.startIndex,f=i[R].node.endIndex):B==="reference"?(l=i[R].node.startIndex,f=i[R].node.endIndex,a=i[R].node.startIndex,c=i[R].node.endIndex,y=B):B==="body"?(p=i[R].node.startIndex,h=i[R].node.endIndex):B==="comment"?(u=u===0?i[R].node.startIndex:Math.min(u,i[R].node.startIndex),s=Math.max(s,i[R].node.endIndex)):B==="receiver"?x=nn.fromBounds(i[R].node.startIndex,i[R].node.endIndex).getText(o):(a=i[R].node.startIndex,c=i[R].node.endIndex,y=B)}y==="definition.module.filescoped"&&(h=o.length,c=h);let S=nn.fromBounds(a,c),N=a>0||c>0||l>0||f>0?new ko(n,"","",nn.fromBounds(u,s),nn.fromBounds(l,f),nn.fromBounds(p,h),S,Vi.kindFromString(y),0):null;if(N){Vi.updateScopesForSymbol(t,N);let R=N.nameRange.getText(o),B=this.createNameFromScopes(o,t.toArray());return B=x?`${x}.${B}`:B,new ko(n,B,R.substring(R.lastIndexOf(".")+1),N.commentRange,N.nameRange,N.bodyRange,N.extentRange,N.kind,0)}return null}static updateScopesForSymbol(t,n){var o;for(;t.tryPeek()&&!((o=t.peek())!=null&&o.extentRange.containsRange(n.extentRange));)t.pop();t.push(n)}static kindFromString(t){switch(t){case"definition.class":return 0;case"definition.constant":return 1;case"definition.enum_variant":return 3;case"definition.enum":return 2;case"definition.field":return 4;case"definition.function":return 5;case"definition.implementation":return 6;case"definition.interface":return 7;case"definition.macro":return 8;case"definition.method":return 9;case"definition.module":case"definition.module.filescoped":return 10;case"definition.struct":return 11;case"definition.trait":return 12;case"definition.type":return 13;case"definition.union":return 14;case"reference":return 16;default:throw new Error("NotSupportedException")}}};r(Vi,"SymbolExtractorBase");var bn=Vi;var Ql=class Ql extends bn{get languageId(){return"go"}extractSymbols(t,n){return this.executeQuery(t,n,wP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(Ql,"GoSymbolExtractor");var ya=Ql,Jl=class Jl extends bn{get languageId(){return"go"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,vP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,IP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(Jl,"GoReferenceExtractor");var ba=Jl,wP=`
(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (struct_type (field_declaration_list) @body))) @definition.struct
)

(
    ((comment)* @comment)
    .
    (type_declaration (type_spec name: (_) @name type: (interface_type (_)) @body)) @definition.interface
)

(
    ((comment)* @comment)
    .
    (method_declaration receiver: (parameter_list (parameter_declaration type: [(type_identifier) @receiver (pointer_type (type_identifier) @receiver)] )) name: (_) @name body: (_) @body) @definition.method
)

(
    ((comment)* @comment)
    .
    (method_elem name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (function_declaration name: (_) @name) @definition.method
)

(
    ((comment)* @comment)
    .
    (field_declaration name: (_) @name) @definition.field
)
`,vP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`,IP=`
(call_expression function: (_) @name) @reference

(type_identifier) @reference
`;var Xl=class Xl extends bn{get languageId(){return"java"}extractSymbols(t,n){return this.executeQuery(t,n,xP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(Xl,"JavaSymbolExtractor");var wa=Xl,Yl=class Yl extends bn{get languageId(){return"java"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}extractReferences(t,n){return this.executeQuery(t,n,SP)}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,TP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(Yl,"JavaReferenceExtractor");var va=Yl,xP=`
(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (class_declaration name: (identifier) @name body: (class_body) @body) @definition.class
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (constructor_declaration name: (identifier) @name body: (constructor_body) @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (method_declaration name: (identifier) @name body: (block)? @body) @definition.method
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (interface_declaration name: (identifier) @name body: (interface_body) @body) @definition.interface
)

(
    [
        (block_comment) @comment
        (line_comment)* @comment
    ]
    .
    (field_declaration declarator: (variable_declarator name: (identifier) @name)) @definition.field
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_declaration name: (_) @name body: (_) @body) @definition.enum
)

(
    [
        ((line_comment)* @comment)
        ((block_comment)* @comment)
    ]
    .
    (enum_constant name: (identifier) @name) @definition.enum_variant
)
`,SP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`,TP=`
(method_invocation 
  name: (identifier) @name
) @reference

(type_identifier) @reference
`;var EP=new Set(["int","str","float","bool","list","dict","tuple","set"]),ed=class ed extends bn{get languageId(){return"python"}extractSymbols(t,n){return this.executeQuery(t,n,RP)}createNameFromScopes(t,n){return n.map(o=>o.nameRange.getText(t)).join(".")}};r(ed,"PythonSymbolExtractor");var Ia=ed,td=class td extends bn{get languageId(){return"python"}createNameFromScopes(t,n){return n.length>0?n[n.length-1].nameRange.getText(t):""}async extractReferences(t,n){return(await this.executeQuery(t,n,PP)).filter(i=>!EP.has(i.unqualifiedName))}async extractLocalReferences(t,n,o){let i=await this.executeQuery(t,n,kP),u=i.filter(c=>c.kind!==9),s=i.filter(c=>c.kind===9&&c.extentRange.containsRange(o)),a=[];for(let c of s)a.push(...u.filter(l=>c.extentRange.containsRange(l.extentRange)));return a}};r(td,"PythonReferenceExtractor");var xa=td,RP=`
(
    ((comment)* @comment)
    .
    (class_definition name: (_) @name body: (_) @body) @definition.class
)

(
    ((comment)* @comment)
    .
    (function_definition name: (_) @name body: (_) @body) @definition.method
)
`,PP=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
]) @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`,kP=`
(call function: (_) @name) @reference

(type [  
    (identifier)* @name  
    (_ (identifier) @name)* 
])  @reference

(class_definition superclasses: (argument_list (identifier) @name)) @reference
`;var nd=[{symbolExtractor:new wa,referenceExtractor:new va,languageId:"java"},{symbolExtractor:new ya,referenceExtractor:new ba,languageId:"go"},{symbolExtractor:new Ia,referenceExtractor:new xa,languageId:"python"}];var ny=nd.map(e=>e.referenceExtractor),ry=nd.map(e=>e.symbolExtractor),VV=nd.map(e=>vr[e.languageId].extensions).flat();var oy=require("fs");async function iy(e,t,n,o,i){let u=new Map,s=0;for(let p of e){let h=p.node.fileName.toLowerCase(),y=u.get(h);y?y.symbols.push(p):u.set(h,{symbols:[p],topRank:s}),s++}if(u.delete(n.toLowerCase()),u.size===0)return[];let a=t,c=t/Math.min(4,u.size),l=[],f=Array.from(u.keys());f.sort((p,h)=>{let y=u.get(p).topRank,x=u.get(h).topRank;return y-x});for(let p of f){let h=u.get(p).symbols;if(h.length===0)continue;let y=h[0].node.fileName,x=h.reduce((S,N)=>S+N.node.extentRange.length,0);for(let S of h){if(a<=5)return l;jn(i);let N=S.node.extentRange.length/x,R=Math.min(a,N*c),B=(await MP([S])).makePrompt(R);a-=o.tokenLength(B),l.push({uri:y,value:B})}}return l}r(iy,"symbolRangesToCodeSnippets");async function MP(e){if(e.length===0)return new Rr([]);let t=e[0].node.fileName,n=[],o=Ir(t).fsPath,i=(await oy.promises.readFile(o)).toString();for(let u of e)sy(u,i).forEach(s=>n.push(s));return new Rr(n)}r(MP,"sameFileSymbolRangeToElidableText");function sy(e,t){let o=[],i=e.node,u=t.substring(rd(t,i.commentRange.start),i.commentRange.end);o.push([od(u),1-3e-4]);let s=rd(t,i.bodyRange.start),a=rd(t,i.extentRange.start),c=i.bodyRange.length===0?t.substring(a,i.extentRange.end):t.substring(i.commentRange.length===0?a:i.commentRange.end,s);if(Br(i.kind)&&(c="BEGIN "+c.trimStart()),o.push([od(c),1-1e-4]),e.children.length>0)for(let l of e.children)o.push(...sy(l,t));else{let l=1-(Br(e.node.kind)?3e-4:4e-4),f=t.substring(s,i.bodyRange.end);o.push([od(f),l])}return Br(i.kind)&&o.push(["END "+c.substring(6),1-1e-4]),o.filter(l=>l[0].length>0)}r(sy,"prepareForElidableText");function rd(e,t){for(;t-1>=0&&(e[t-1]==="	"||e[t-1]===" ");)t--;return t}r(rd,"shiftLeftToNearestLineEndingOrAlphanumeric");function od(e){let t=0;for(;t<e.length&&(e[t]==="\r"||e[t]===`
`);)t++;let n=e.length-1;for(;n>=0&&(e[n]==="\r"||e[n]===`
`||e[n]===" "||e[n]==="	");)n--;return e.substring(t,n+1)}r(od,"trimLineEndingsAndTrailingWhitespace");var sd=class sd{constructor(t,n){this.referenceExtractors=new Map;this.index=t;for(let o of n)this.referenceExtractors.set(o.languageId,o)}};r(sd,"ContextRetrievalStrategy");var id=sd,ad=class ad extends id{constructor(t,n,o,i){super(t,n),this.caseSensitive=o,this.typesOnly=i}async getContextAtPositionAsync(t,n,o,i,u){let s=this.referenceExtractors.get(i);if(!s)return[];jn(u);let a=await s.extractReferences(t,n);jn(u);let c=Array.from(a);c.sort((h,y)=>this.compareSymbolRangesByProximityToCaret(h,y,o));let l=[],f=new Set,p=await this.findDefinitionsViaUnqualifiedNames(c,u);this.typesOnly&&(p=p.filter(h=>Br(h.kind)));for(let h of p)f.has(JSON.stringify(h))||(f.add(JSON.stringify(h)),l.push(await this.makeSymbolRangeNodeFromDefinition(h,u)));return l}async findDefinitionsViaUnqualifiedNames(t,n){var f;let o=Array.from(new Set(t.map(p=>p.unqualifiedName))),i=!this.caseSensitive,u=await this.index.findPotentialDefinitionsAsync(o,i,n),s=r(p=>i?p.toLowerCase():p,"lowercaseIfCaseInsensitive"),a=r(p=>s(p.unqualifiedName),"getSymbolKey"),c=new Map;for(let p of u){let h=a(p),y=(f=c.get(h))!=null?f:[];c.set(h,[...y,p])}let l=[];for(let p of o){let h=c.get(s(p));!h||h.length>20||l.push(...h)}return l}async makeSymbolRangeNodeFromDefinition(t,n){if(jn(n),Br(t.kind)){let o=await this.index.findSymbolsByFullyQualifiedNamePrefix(t.fileName,t.fullyQualifiedName+".",n),i=await Promise.all(o.map(u=>this.makeSymbolRangeNodeFromDefinition(u,n)));return{node:t,children:i}}else return{node:t,children:[]}}compareSymbolRangesByProximityToCaret(t,n,o){let i=t.extentRange.end<=o,u=n.extentRange.end<=o;if(i&&!u)return-1;if(!i&&u)return 1;let s=Math.abs(t.extentRange.start-o),a=Math.abs(n.extentRange.start-o);return s-a}};r(ad,"DynamicallyTypedRetrievalStrategy");var zi=ad,ud=class ud{constructor(t,n){this.strategies=new Map;this.strategies.set("java",new zi(t,n,!0,!0)),this.strategies.set("go",new zi(t,n,!0,!0)),this.strategies.set("python",new zi(t,n,!1,!1))}async getStringifiedContextAtPositionAsync(t,n,o,i,u,s){let a=await this.getContextAtPositionAsync(t,n,o,i,s);jn(s);let c=mn();return iy(a,u,t,c,s)}async getContextAtPositionAsync(t,n,o,i,u){return this.strategies.has(i)?this.strategies.get(i).getContextAtPositionAsync(t,n,o,i,u):[]}};r(ud,"SyntaxAwareContextRetrieval");var Sa=ud;var Wr={Id:"id"},Wt={FilePath:"filePath",LastWriteTimeUtc:"lastWriteTimeUtc"},se={DocumentId:"documentId",FullyQualifiedName:"fullyQualifiedName",UnqualifiedName:"unqualifiedName",CommentStart:"commentStart",CommentLength:"commentLength",NameStart:"nameStart",NameLength:"nameLength",BodyStart:"bodyStart",BodyLength:"bodyLength",ExtentStart:"extentStart",ExtentLength:"extentLength",SymbolKind:"symbolKind",RefKind:"refKind"};var ld=class ld{constructor(t,n,o){this.tableName=t;this.createOptimizations=n;this.extraCreateDeclarations=o;this.primaryKey=new cd(Wr.Id)}createTableQueries(){var t;return(t=this.createTableString)!=null||(this.createTableString=this.generateCreateTableString()),[this.createTableString,...this.createOptimizations]}generateCreateTableString(){let t=this.fields.map(n=>n.initColumnString());return this.extraCreateDeclarations&&t.push(this.extraCreateDeclarations),t.push(),[`CREATE TABLE IF NOT EXISTS ${this.tableName} (`,`    ${this.primaryKey.initColumnString()},`,`    ${t.join(`,
`)}`,")"].join(`
`)}insertQuery(t,n){var i;(i=this.cachedInsertQueryStrings)!=null||(this.cachedInsertQueryStrings=this.generateInsertQueryStrings());let o=[this.cachedInsertQueryStrings.prefix,Array(n).fill(this.cachedInsertQueryStrings.valuesTemplate).join(`,
`)];return t&&o.push("ON CONFLICT DO NOTHING"),o.join(`
`)}generateInsertQueryStrings(){return{prefix:`INSERT INTO ${this.tableName} (${this.fields.map(t=>t.name).join(", ")})
VALUES`,valuesTemplate:`(${Array(this.fields.length).fill("?").join(", ")})`}}};r(ld,"SQLTableQueryGenerator");var Ta=ld,Mo=class Mo extends Ta{constructor(){super(Mo.tableName,[`CREATE UNIQUE INDEX IF NOT EXISTS 'IX_Document_FilePath' ON '${Mo.tableName}' ('${Wt.FilePath}');`]);this.fields=[new Zi(Wt.FilePath,{notNull:!0,collate:!0,noCase:!0,unique:!0}),new Lt(Wt.LastWriteTimeUtc,{notNull:!0})]}};r(Mo,"DocumentQueryGenerator"),Mo.tableName="Document";var Gi=Mo,$r=class $r extends Ta{constructor(){super($r.tableName,[`CREATE INDEX IF NOT EXISTS 'IX_Symbol_DocumentId' ON '${$r.tableName}' ('${se.DocumentId}', '${se.ExtentStart}', '${se.ExtentLength}');`,`CREATE INDEX IF NOT EXISTS 'IX_Symbol_UnqualifiedName' ON '${$r.tableName}' ('${se.UnqualifiedName}');`],`FOREIGN KEY(${se.DocumentId}) REFERENCES Document(${Wr.Id}) ON DELETE CASCADE`);this.fields=[new Lt(se.DocumentId),new Zi(se.FullyQualifiedName,{notNull:!0}),new Zi(se.UnqualifiedName,{notNull:!0}),new Lt(se.CommentStart,{notNull:!0}),new Lt(se.CommentLength,{notNull:!0}),new Lt(se.NameStart,{notNull:!0}),new Lt(se.NameLength,{notNull:!0}),new Lt(se.BodyStart,{notNull:!0}),new Lt(se.BodyLength,{notNull:!0}),new Lt(se.ExtentStart,{notNull:!0}),new Lt(se.ExtentLength,{notNull:!0}),new Lt(se.SymbolKind,{notNull:!0}),new Lt(se.RefKind,{notNull:!0})]}};r($r,"SymbolQueryGenerator"),$r.tableName="Symbol";var Ki=$r,dd=class dd{constructor(t,n){this.name=t;var o;this.notNull=(o=n==null?void 0:n.notNull)!=null?o:!1}};r(dd,"SQLField");var Hi=dd,fd=class fd extends Hi{constructor(t,n){var o,i,u;super(t,{notNull:n==null?void 0:n.notNull}),this.collate=(o=n==null?void 0:n.collate)!=null?o:!1,this.noCase=(i=n==null?void 0:n.noCase)!=null?i:!1,this.unique=(u=n==null?void 0:n.unique)!=null?u:!1}initColumnString(){let t=this.collate?"COLLATE":void 0,n=this.noCase?"NOCASE":void 0,o=this.notNull?"NOT NULL":void 0,i=this.unique?"UNIQUE":void 0,u=[t,n,o,i].filter(s=>s).join(" ");return`'${this.name}' VARCHAR(500) ${u}`}};r(fd,"StringColumn");var Zi=fd,md=class md extends Hi{initColumnString(){return`'${this.name}' INTEGER${this.notNull?" NOT NULL":""}`}};r(md,"NumberColumn");var Lt=md,pd=class pd extends Hi{initColumnString(){return`'${this.name}' INTEGER PRIMARY KEY AUTOINCREMENT${this.notNull?" NOT NULL":""}`}};r(pd,"NumberPrimaryKeyColumn");var cd=pd;var gd=class gd{constructor(t){this.queryGenerator=this.createQueryGenerator(),this.init=this.doInit(t)}async doInit(t){let n=await t;return await this.create(n),n}async create(t){let n=r(i=>new Promise((u,s)=>{t.run(i,a=>{a?s(a):u()})}),"runQuery"),o=this.queryGenerator.createTableQueries();for(let i of o)await n(i)}async insert(t,n){let o=await this.init;return new Promise((i,u)=>{let s=this.queryGenerator.insertQuery(n,t.length);o.run(s,t.map(a=>Object.values(a)).flat(),function(a){a?u(a):i(this)})})}async getAllRows(){let t=await this.init;return rn(t,`SELECT * FROM ${this.queryGenerator.tableName}`,[])}async deleteRow(t){let n=await this.init;return rn(n,`DELETE FROM ${this.queryGenerator.tableName} WHERE ${Wr.Id} = ?`,[t])}};r(gd,"SQLTable");var Ea=gd,No=class No extends Ea{createQueryGenerator(){return new Gi}async updateTimestamp(t,n){let o=await this.init;await rn(o,`UPDATE ${No.tableName} SET ${Wt.LastWriteTimeUtc} = ? WHERE ${Wt.FilePath} = ?`,[n,t])}async deleteAllWithPath(t){let n=await this.init;await rn(n,`DELETE FROM ${No.tableName} WHERE ${Wt.FilePath} = ?`,[t])}async getDocumentByFilePath(t){let n=await this.init;return rn(n,`SELECT * FROM ${this.queryGenerator.tableName} WHERE ${Wt.FilePath} = ?`,[t])}};r(No,"DocumentTable"),No.tableName=Gi.tableName;var Gn=No,Qi=class Qi extends Ea{createQueryGenerator(){return new Ki}async clearAllSymbolsFromDocument(t){let n=await this.init;return rn(n,`DELETE FROM ${Qi.tableName} WHERE ${se.DocumentId} = ?`,[t])}};r(Qi,"SymbolTable"),Qi.tableName=Ki.tableName;var ot=Qi;async function rn(e,t,n){return new Promise((o,i)=>e.all(t,n,(u,s)=>{u&&i(u),o(s)}))}r(rn,"runPromisifiedDBQuery");var wy=Dn(by());var wd=class wd{constructor(t){this.databaseFileName=t;this.innerJoinStatement=`INNER JOIN ${Gn.tableName} ON ${ot.tableName}.${se.DocumentId} = ${Gn.tableName}.${Wr.Id}`;this.db=this.initDb(t),this.documentTable=new Gn(this.db),this.symbolTable=new ot(this.db)}async initDb(t){let n=await new Promise((o,i)=>{let u=new wy.Database(t,s=>{s?(console.error("Error opening database",s),i(s)):o(u)})});return await rn(n,"pragma journal_mode=wal",[]),await rn(n,"pragma synchronous=normal",[]),await rn(n,"pragma optimize=0x10002",[]),await rn(n,"pragma foreign_keys = ON",[]),n}async close(){let t=await this.db;return await this.documentTable.init,await this.symbolTable.init,new Promise((n,o)=>{t.close(i=>i?o(i):n())})}async querySymbolsFuzzilyUsingUnqualifiedName(t,n){return await this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${se.UnqualifiedName} BETWEEN ? AND (? || '~')`,`ORDER BY ${se.UnqualifiedName}`,"LIMIT ?"].join(`
`),[t,t,n])}async querySymbolsUsingUnqualifiedNames(t,n){let o=t.map(()=>"?").join(", "),i=n?"COLLATE NOCASE ":"";return await this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${se.UnqualifiedName} ${i}IN (${o})`].join(`
`),t)}async querySymbolsUsingFullyQualifiedName(t){return this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${se.FullyQualifiedName} = ?`].join(`
`),[t])}async querySymbolsContainingPosition(t,n){return this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${Gn.tableName}.${Wt.FilePath} = ? AND ${ot.tableName}.${se.ExtentStart} <= ? AND (${ot.tableName}.${se.ExtentStart} + ${ot.tableName}.${se.ExtentLength}) >= ?`].join(`
`),[t,n,n])}async querySymbolsContainedByRange(t,n,o){return this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${Gn.tableName}.${Wt.FilePath} = ? AND ${ot.tableName}.${se.ExtentStart} >= ? AND (${ot.tableName}.${se.ExtentStart} + ${ot.tableName}.${se.ExtentLength}) <= ?`,`ORDER BY ${ot.tableName}.${se.ExtentStart}`].join(`
`),[t,n,o])}async querySymbolsByQualifiedNamePrefix(t,n){return this.query([`SELECT * FROM ${ot.tableName}`,this.innerJoinStatement,`WHERE ${Gn.tableName}.${Wt.FilePath} = ? AND ${ot.tableName}.${se.FullyQualifiedName} LIKE ?`,`ORDER BY ${ot.tableName}.${se.ExtentStart}`].join(`
`),[t,`${n}%`])}async insertSymbols(t){return await this.symbolTable.insert(t,!1)}async insertDocument(t,n,o=!1){return await this.documentTable.insert([{filePath:t,lastWriteTimeUtc:n}],o)}async clearAllSymbolsFromDocument(t){return this.symbolTable.clearAllSymbolsFromDocument(t)}async updateDocumentTimestamp(t,n){return this.documentTable.updateTimestamp(t,n)}async deleteAllDocumentsWithPath(t){return this.documentTable.deleteAllWithPath(t)}async getAllDocuments(){return this.documentTable.getAllRows()}getDocument(t){return this.documentTable.getDocumentByFilePath(t)}async query(t,n){let o=await this.db;return await this.documentTable.init,await this.symbolTable.init,rn(o,t,n)}};r(wd,"DocumentSymbolDatabase");var ka=wd;var vd=class vd{constructor(t){this.database=new ka(t)}async close(){await this.database.close()}async insertOrReplaceDocumentSymbolsAsync(t,n,o){let i=await this.getOrCreateDocumentAsync(t,n);await this.database.clearAllSymbolsFromDocument(i.id),o.length>0&&await this.database.insertSymbols(o.map(u=>({documentId:i.id,fullyQualifiedName:u.fullyQualifiedName,unqualifiedName:u.unqualifiedName,commentStart:u.commentRange.start,commentLength:u.commentRange.length,nameStart:u.nameRange.start,nameLength:u.nameRange.length,bodyStart:u.bodyRange.start,bodyLength:u.bodyRange.length,extentStart:u.extentRange.start,extentLength:u.extentRange.length,symbolKind:u.kind,refKind:u.refKind}))),await this.database.updateDocumentTimestamp(t,n)}async addDocumentsAsync(t){for(let n of t)n=n.toLowerCase(),await this.database.insertDocument(n,Date.now(),!0)}async deleteDocumentAsync(t){return await this.database.deleteAllDocumentsWithPath(t.toLowerCase())}async updateDocumentTimestampAsync(t,n){return await this.database.updateDocumentTimestamp(t.toLowerCase(),n)}async fuzzyMatchSymbolsAsync(t,n){return Oo(await this.database.querySymbolsFuzzilyUsingUnqualifiedName(t,n))}async findPotentialDefinitionsAsync(t,n,o){let i=[],s=0;for(;s<t.length;){let a=t.slice(s,s+500);s+=500;let c=await this.database.querySymbolsUsingUnqualifiedNames(a,n);i.push(...c),jn(o)}return Oo(i)}async getDefinitionsAsync(t){return Oo(await this.database.querySymbolsUsingFullyQualifiedName(t))}async findSymbolsContainingPositionAsync(t,n){let o=await this.database.querySymbolsContainingPosition(t.toLowerCase(),n);return Oo(o)}async findSymbolsContainedByRangeAsync(t,n,o){return Oo(await this.database.querySymbolsContainedByRange(t.toLowerCase(),n,o))}async findSymbolsByFullyQualifiedNamePrefix(t,n){return Oo(await this.database.querySymbolsByQualifiedNamePrefix(t.toLowerCase(),n))}async getDocumentsAsync(){return this.database.getAllDocuments()}async getDocumentAsync(t){let n=await this.database.getDocument(t);if(n!=null&&n.at(0))return n[0]}async getOrCreateDocumentAsync(t,n){let o=await this.database.getDocument(t);if(o!=null&&o.at(0))return o[0];await this.database.insertDocument(t,n,!0);let i=await this.database.getDocument(t);if(!i)throw Error("Unable to insert document");return i[0]}};r(vd,"SQLStorageReaderWriter");var Ma=vd;function Oo(e){return e.map(t=>new ko(t.filePath,t.fullyQualifiedName,t.unqualifiedName,new nn(t.commentStart,t.commentLength),new nn(t.nameStart,t.nameLength),new nn(t.bodyStart,t.bodyLength),new nn(t.extentStart,t.extentLength),t.symbolKind,t.refKind))}r(Oo,"symbolsToSymbolRanges");var Ca=Dn(require("fs/promises"));var Id=class Id{constructor(t,n){this.storage=new Ma(t),this.symbolExtractors=n}dispose(){return this.storage.close()}get reader(){return this.storage}async indexFile(t,n){let o=mp(Ir(t));if(!o)throw Error(`Cannot resolve a readable file path from ${t}`);let i;try{i=await Ca.stat(o)}catch{await this.storage.deleteDocumentAsync(t);return}let u=i.mtimeMs,s=await this.storage.getDocumentAsync(t);if(s&&s.lastWriteTimeUtc>=u)return;let a=this.symbolExtractors.find(f=>f.languageId==n);if(!a)return;let c=(await Ca.readFile(o)).toString(),l=await a.extractSymbols(t,c);await this.storage.insertOrReplaceDocumentSymbolsAsync(t,u,l)}async getDocumentFilePaths(){return(await this.storage.getDocumentsAsync()).map(n=>n.filePath)}};r(Id,"Index");var Na=Id;function vy(e){let t=e;return typeof(t==null?void 0:t.cwd)=="string"&&Array.isArray(t==null?void 0:t.indexWorkspaceRoots)&&t.indexWorkspaceRoots.every(n=>DP(n))}r(vy,"isIndexWorkerData");var Sd=class Sd{constructor(t){this.operation=t}};r(Sd,"IndexNotification");var xd=Sd;var Kn={CreateIndex:"createIndex",AddOrInvalidated:"addOrInvalidated",GetContext:"getContext",Exit:"exit",Response:"response",RemoveIndex:"removeIndex",Cancel:"cancel",GetAllDocumentsInWorkspace:"getAllDocumentsInWorkspace"};var Td=class Td extends xd{constructor(n,o,i){super(Kn.Response);this.id=n;this.error=o;this.data=i}};r(Td,"ResponseMessage");var sn=Td;function DP(e){return"databaseFilePath"in e&&"rootPath"in e}r(DP,"isIndexableWorkspaceFolder");var Zr=Dn(require("path")),Xv=Dn(Jv()),ti=require("worker_threads");var tp=class tp{constructor(t){this.index=new Na(t,ry),this.contextRetreival=new Sa(this.index.reader,ny)}};r(tp,"IndexInfo");var xu=tp,cn=class cn{constructor(t,n){this.indices=new Map;this.cancellationTokens=new Map;for(let o of n)this.indices.set(Zr.default.normalize(o.rootPath),new xu(o.databaseFilePath));t.on("message",o=>void cn.dispatchMessage(o,this.indices,this.cancellationTokens))}static async dispatchMessage(t,n,o){var i,u;try{let s=new Xv.CancellationTokenSource;o.set(t.id,s);let a;switch(t.operation){case Kn.AddOrInvalidated:a=await cn.dispatchAddOrInvalidate(t,n,s.token);break;case Kn.GetContext:a=await cn.dispatchGetContext(t,n,s.token);break;case Kn.Cancel:(i=o.get(t.id))==null||i.cancel(),a=new sn(t.id,void 0,void 0);break;case Kn.Exit:a=await cn.dispatchExit(t,n,s.token);break;case Kn.CreateIndex:a=await cn.dispatchCreateIndex(t,n,s.token);break;case Kn.RemoveIndex:a=await cn.dispatchRemoveIndex(t,n,s.token);break;case Kn.GetAllDocumentsInWorkspace:a=await cn.GetAllDocumentsInWorkspaceRequest(t,n,s.token);break;default:_t==null||_t.postMessage(new Error(`Unknown operation: ${t.operation}`))}a&&(_t==null||_t.postMessage(a)),(u=o.get(t.id))==null||u.dispose(),o.delete(t.id)}catch(s){if(!(s instanceof Error))throw s;_t==null||_t.postMessage(new sn(t.id,s,void 0))}}static async GetAllDocumentsInWorkspaceRequest(t,n,o){let i=Zr.default.normalize(t.baseWorkspaceFolderPath),u,s;return n.has(i)?s=await n.get(i).index.getDocumentFilePaths():u=new Error(`Index not found for ${t.baseWorkspaceFolderPath}`),new sn(t.id,u,s)}static async dispatchAddOrInvalidate(t,n,o){var s;let i=(s=cn.getIndexInfo(t.filePath,n))==null?void 0:s.index,u;return i?await i.indexFile(t.filePath,t.languageId):u=new Error(`Index not found for ${t.filePath}`),new sn(t.id,u,void 0)}static async dispatchGetContext(t,n,o){var a;if(Ir(t.filePath).scheme!=="file")return new sn(t.id,void 0,[]);let i=(a=cn.getIndexInfo(t.filePath,n))==null?void 0:a.contextRetreival,u,s;return i?s=await i.getStringifiedContextAtPositionAsync(t.filePath,t.code,t.offset,t.languageId,8e3,o):u=new Error(`ContextRetrieval not found for ${t.filePath}`),new sn(t.id,u,s)}static async dispatchExit(t,n,o){for(let i of n.values())await i.index.dispose();n.clear(),_t==null||_t.postMessage(new sn(t.id,void 0,void 0)),_t==null||_t.close()}static async dispatchCreateIndex(t,n,o){return n.has(Zr.default.normalize(t.baseWorkspaceFolderPath))||n.set(Zr.default.normalize(t.baseWorkspaceFolderPath),new xu(t.databaseFilePath)),new sn(t.id,void 0,void 0)}static async dispatchRemoveIndex(t,n,o){let i=Zr.default.normalize(t.baseWorkspaceFolderPath);if(n.has(i)){let u=n.get(i);u&&await u.index.dispose(),n.delete(i)}return new sn(t.id,void 0,void 0)}static getIndexInfo(t,n){for(let[o,i]of n)if(Zr.default.normalize(t).startsWith(o))return i}};r(cn,"IndexWorker");var ep=cn,_t=ti.parentPort;if(!_t)throw new Error("This module should only be used in a worker thread.");if(!vy(ti.workerData))throw new Error("Worker data must provide a valid database path.");var B0=ti.workerData.cwd;process.cwd=()=>B0;new ep(_t,ti.workerData.indexWorkspaceRoots);
//# sourceMappingURL=indexWorker.js.map
