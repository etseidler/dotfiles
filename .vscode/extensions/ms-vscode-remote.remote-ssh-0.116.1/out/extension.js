/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e,t={8583:e=>{var t=function(){var e,t,n,r,o,i,s,a,c=[],l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u="1a",d=!1,h="chongo <Landon Curt Noll> /\\../\\",f=52,p={32:{offset:0},64:{offset:[0,0,0,0]},128:{offset:[0,0,0,0,0,0,0,0]},256:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},512:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1024:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};for(e=0;e<256;e++)c[e]=(e>>4&15).toString(16)+(15&e).toString(16);function m(e,t){var n,r,o,i=[0],s="";for(r=0;r<e.length;r+=2){for(n=parseInt(e.substr(r,2),16),o=0;o<i.length;o++)n+=i[o]<<8,i[o]=n%t,n=n/t|0;for(;n>0;)i.push(n%t),n=n/t|0}for(r=i.length-1;r>=0;--r)s+="0123456789abcdefghijklmnopqrstuvwxyz"[i[r]];return s}function g(e,t){return{bits:t,value:e,dec:function(){return m(e,10)},hex:function(){return e},str:function(){return m(e,36)}}}function v(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return c[e>>>24]+c[e>>>16&255]+c[e>>>8&255]+c[255&e]},str:function(){return e.toString(36)}}}function y(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return("0000000000000000"+e.toString(16)).substr(-13)},str:function(){return e.toString(36)}}}function w(e,c){var l="object"==typeof e?JSON.stringify(e):e;switch(c||f){case 32:return t(l);case 64:return r(l);case 128:return o(l);case 256:return i(l);case 512:return s(l);case 1024:return a(l);default:return n(l)}}function S(e){if("1a"===e)u=e,t=d?E:D,n=d?I:T,r=d?F:R,o=d?$:L,i=d?H:N,s=d?q:W,a=d?J:G;else{if("1"!==e)throw new Error("Supported FNV versions: 1, 1a");u=e,t=d?P:C,n=d?x:k,r=d?O:A,o=d?B:M,i=d?j:U,s=d?V:z,a=d?X:K}}function b(e){e?(d=!0,t="1a"==u?E:P,n="1a"==u?I:x,r="1a"==u?F:O,o="1a"==u?$:B,i="1a"==u?H:j,s="1a"==u?q:V,a="1a"==u?J:X):(d=!1,t="1a"==u?D:C,n="1a"==u?T:k,r="1a"==u?R:A,o="1a"==u?L:M,i="1a"==u?N:U,s="1a"==u?W:z,a="1a"==u?G:K)}function _(e){var t,n,r=u;for(var o in(e=e||0===e?e:h)===h&&S("1"),p){for(p[o].offset=[],n=0;n<o/16;n++)p[o].offset[n]=0;for(t=w(e,parseInt(o,10)).hex(),n=0;n<o/16;n++)p[o].offset[n]=parseInt(t.substr(4*n,4),16)}S(r)}function D(e){var t,n=e.length-3,r=p[32].offset,o=0,i=0|r[1],s=0,a=0|r[0];for(t=0;t<n;)s=403*a,s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o;for(;t<n+3;)s=403*a,a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o;return v((a<<16>>>0)+i,32)}function C(e){var t,n=e.length-3,r=p[32].offset,o=0,i=0|r[1],s=0,a=0|r[0];for(t=0;t<n;)s=403*a,s+=i<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=e.charCodeAt(t++))<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=e.charCodeAt(t++);for(;t<n+3;)s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=e.charCodeAt(t++);return v((a<<16>>>0)+i,32)}function E(e){var t,n,r=e.length,o=p[32].offset,i=0,s=0|o[1],a=0,c=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128),a=403*c,c=(a+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i;return v((c<<16>>>0)+s,32)}function P(e){var t,n,r=e.length,o=p[32].offset,i=0,s=0|o[1],a=0,c=0|o[0];for(n=0;n<r;n++)a=403*c,c=(a+=s<<8)+((i=403*s)>>>16)&65535,s=65535&i,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=403*c,c=(a+=(s^=t>>6|192)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=403*c,a+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),a+=(s^=t>>12&63|128)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128):(a=403*c,a+=(s^=t>>12|224)<<8,s=65535&(i=403*s),a=403*(c=a+(i>>>16)&65535),c=(a+=(s^=t>>6&63|128)<<8)+((i=403*s)>>>16)&65535,s=65535&i,s^=63&t|128);return v((c<<16>>>0)+s,32)}function T(e){var t,n=e.length-3,r=p[64].offset,o=0,i=0|r[3],s=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)s=435*a,c=435*l,u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;for(;t<n+3;)s=435*a,c=435*l,u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return y(281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4),52)}function k(e){var t,n=e.length-3,r=p[64].offset,o=0,i=0|r[3],s=0,a=0|r[2],c=0,l=0|r[1],u=0,d=0|r[0];for(t=0;t<n;)s=435*a,c=435*l,u=435*d,c+=i<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=e.charCodeAt(t++))<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=e.charCodeAt(t++);for(;t<n+3;)s=435*a,c=435*l,u=435*d,c+=i<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=e.charCodeAt(t++);return y(281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4),52)}function I(e){var t,n,r=e.length,o=p[64].offset,i=0,s=0|o[3],a=0,c=0|o[2],l=0,u=0|o[1],d=0,h=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(s^=t>>12|224)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128),a=435*c,l=435*u,d=435*h,l+=s<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l;return y(281474976710656*(15&h)+4294967296*u+65536*c+(s^h>>4),52)}function x(e){var t,n,r=e.length,o=p[64].offset,i=0,s=0|o[3],a=0,c=0|o[2],l=0,u=0|o[1],d=0,h=0|o[0];for(n=0;n<r;n++)a=435*c,l=435*u,d=435*h,l+=s<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*c,l=435*u,d=435*h,l+=(s^=t>>6|192)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*c,l=435*u,d=435*h,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128):(a=435*c,l=435*u,d=435*h,l+=(s^=t>>12|224)<<8,s=65535&(i=435*s),h=(d+=c<<8)+((l+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(u=65535&l),d=435*h,l+=(s^=t>>6&63|128)<<8,d+=c<<8,s=65535&(i=435*s),c=65535&(a+=i>>>16),h=d+((l+=a>>>16)>>>16)&65535,u=65535&l,s^=63&t|128);return y(281474976710656*(15&h)+4294967296*u+65536*c+(s^h>>4),52)}function R(e){var t,n=e.length-3,r=p[64].offset,o=0,i=0|r[3],s=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)s=435*a,l=435*u,d=435*h,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;for(;t<n+3;)s=435*a,l=435*u,d=435*h,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return g(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],64)}function A(e){var t,n=e.length-3,r=p[64].offset,o=0,i=0|r[3],s=0,a=0|r[2],l=0,u=0|r[1],d=0,h=0|r[0];for(t=0;t<n;)s=435*a,l=435*u,d=435*h,l+=i<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=e.charCodeAt(t++))<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=e.charCodeAt(t++);for(;t<n+3;)s=435*a,l=435*u,d=435*h,l+=i<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=e.charCodeAt(t++);return g(c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],64)}function F(e){var t,n,r=e.length,o=p[64].offset,i=0,s=0|o[3],a=0,l=0|o[2],u=0,d=0|o[1],h=0,f=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*l,u=435*d,h=435*f,u+=(s^=t>>6|192)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*f,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,h=435*f,u+=(s^=t>>12|224)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128),a=435*l,u=435*d,h=435*f,u+=s<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u;return g(c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function O(e){var t,n,r=e.length,o=p[64].offset,i=0,s=0|o[3],a=0,l=0|o[2],u=0,d=0|o[1],h=0,f=0|o[0];for(n=0;n<r;n++)a=435*l,u=435*d,h=435*f,u+=s<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=435*l,u=435*d,h=435*f,u+=(s^=t>>6|192)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=435*l,u=435*d,h=435*f,u+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>12&63|128)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128):(a=435*l,u=435*d,h=435*f,u+=(s^=t>>12|224)<<8,s=65535&(i=435*s),f=(h+=l<<8)+((u+=(a+=i>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),u=435*(d=65535&u),h=435*f,u+=(s^=t>>6&63|128)<<8,h+=l<<8,s=65535&(i=435*s),l=65535&(a+=i>>>16),f=h+((u+=a>>>16)>>>16)&65535,d=65535&u,s^=63&t|128);return g(c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],64)}function L(e){var t,n=e.length-3,r=p[128].offset,o=0,i=0|r[7],s=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],f=0,m=0|r[3],v=0,y=0|r[2],w=0,S=0|r[1],b=0,_=0|r[0];for(t=0;t<n;)s=315*a,l=315*u,d=315*h,f=315*m,v=315*y,w=315*S,b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,b+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=b+((w+=v>>>16)>>>16)&65535,S=65535&w;for(;t<n+3;)s=315*a,l=315*u,d=315*h,f=315*m,v=315*y,w=315*S,b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,b+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=b+((w+=v>>>16)>>>16)&65535,S=65535&w;return g(c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],128)}function M(e){var t,n=e.length-3,r=p[128].offset,o=0,i=0|r[7],s=0,a=0|r[6],l=0,u=0|r[5],d=0,h=0|r[4],f=0,m=0|r[3],v=0,y=0|r[2],w=0,S=0|r[1],b=0,_=0|r[0];for(t=0;t<n;)s=315*a,l=315*u,d=315*h,f=315*m,v=315*y,w=315*S,b=315*_,v+=i<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,i=65535&(o=315*i),_=(b+=u<<8)+((w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=315*(a=65535&s),l=315*(u=65535&l),d=315*(h=65535&d),f=315*(m=65535&f),v=315*(y=65535&v),w=315*(S=65535&w),b=315*_,v+=(i^=e.charCodeAt(t++))<<8,w+=a<<8,b+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=b+((w+=v>>>16)>>>16)&65535,S=65535&w,i^=e.charCodeAt(t++);for(;t<n+3;)s=315*a,l=315*u,d=315*h,f=315*m,v=315*y,w=315*S,b=315*_,v+=i<<8,w+=a<<8,b+=u<<8,i=65535&(o=315*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),_=b+((w+=v>>>16)>>>16)&65535,S=65535&w,i^=e.charCodeAt(t++);return g(c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],128)}function $(e){var t,n,r=e.length,o=p[128].offset,i=0,s=0|o[7],a=0,l=0|o[6],u=0,d=0|o[5],h=0,f=0|o[4],m=0,v=0|o[3],y=0,w=0|o[2],S=0,b=0|o[1],_=0,D=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=t>>6|192)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>12&63|128)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>6&63|128)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128):(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=t>>12|224)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>6&63|128)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128),a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=s<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S;return g(c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function B(e){var t,n,r=e.length,o=p[128].offset,i=0,s=0|o[7],a=0,l=0|o[6],u=0,d=0|o[5],h=0,f=0|o[4],m=0,v=0|o[3],y=0,w=0|o[2],S=0,b=0|o[1],_=0,D=0|o[0];for(n=0;n<r;n++)a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=s<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=t>>6|192)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>12&63|128)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>6&63|128)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128):(a=315*l,u=315*d,h=315*f,m=315*v,y=315*w,S=315*b,_=315*D,y+=(s^=t>>12|224)<<8,S+=l<<8,s=65535&(i=315*s),D=(_+=d<<8)+((S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),u=315*(d=65535&u),h=315*(f=65535&h),m=315*(v=65535&m),y=315*(w=65535&y),S=315*(b=65535&S),_=315*D,y+=(s^=t>>6&63|128)<<8,S+=l<<8,_+=d<<8,s=65535&(i=315*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),D=_+((S+=y>>>16)>>>16)&65535,b=65535&S,s^=63&t|128);return g(c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],128)}function N(e){var t,n=e.length-3,r=p[256].offset,o=0,i=0|r[15],s=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],f=0,m=0|r[11],v=0,y=0|r[10],w=0,S=0|r[9],b=0,_=0|r[8],D=0,C=0|r[7],E=0,P=0|r[6],T=0,k=0|r[5],I=0,x=0|r[4],R=0,A=0|r[3],F=0,O=0|r[2],L=0,M=0|r[1],$=0,B=0|r[0];for(t=0;t<n;)s=355*a,l=355*u,d=355*h,f=355*m,v=355*y,w=355*S,b=355*_,D=355*C,E=355*P,T=355*k,I=355*x,R=355*A,F=355*O,L=355*M,$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,$+=y<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),B=$+((L+=F>>>16)>>>16)&65535,M=65535&L;for(;t<n+3;)s=355*a,l=355*u,d=355*h,f=355*m,v=355*y,w=355*S,b=355*_,D=355*C,E=355*P,T=355*k,I=355*x,R=355*A,F=355*O,L=355*M,$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,$+=y<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),B=$+((L+=F>>>16)>>>16)&65535,M=65535&L;return g(c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],256)}function U(e){var t,n=e.length-3,r=p[256].offset,o=0,i=0|r[15],s=0,a=0|r[14],l=0,u=0|r[13],d=0,h=0|r[12],f=0,m=0|r[11],v=0,y=0|r[10],w=0,S=0|r[9],b=0,_=0|r[8],D=0,C=0|r[7],E=0,P=0|r[6],T=0,k=0|r[5],I=0,x=0|r[4],R=0,A=0|r[3],F=0,O=0|r[2],L=0,M=0|r[1],$=0,B=0|r[0];for(t=0;t<n;)s=355*a,l=355*u,d=355*h,f=355*m,v=355*y,w=355*S,b=355*_,D=355*C,E=355*P,T=355*k,I=355*x,R=355*A,F=355*O,L=355*M,$=355*B,T+=i<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,i=65535&(o=355*i),B=($+=y<<8)+((L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=355*(a=65535&s),l=355*(u=65535&l),d=355*(h=65535&d),f=355*(m=65535&f),v=355*(y=65535&v),w=355*(S=65535&w),b=355*(_=65535&b),D=355*(C=65535&D),E=355*(P=65535&E),T=355*(k=65535&T),I=355*(x=65535&I),R=355*(A=65535&R),F=355*(O=65535&F),L=355*(M=65535&L),$=355*B,T+=(i^=e.charCodeAt(t++))<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,$+=y<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),B=$+((L+=F>>>16)>>>16)&65535,M=65535&L,i^=e.charCodeAt(t++);for(;t<n+3;)s=355*a,l=355*u,d=355*h,f=355*m,v=355*y,w=355*S,b=355*_,D=355*C,E=355*P,T=355*k,I=355*x,R=355*A,F=355*O,L=355*M,$=355*B,T+=i<<8,I+=a<<8,R+=u<<8,F+=h<<8,L+=m<<8,$+=y<<8,i=65535&(o=355*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),B=$+((L+=F>>>16)>>>16)&65535,M=65535&L,i^=e.charCodeAt(t++);return g(c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],256)}function H(e){var t,n,r=e.length,o=p[256].offset,i=0,s=0|o[15],a=0,l=0|o[14],u=0,d=0|o[13],h=0,f=0|o[12],m=0,v=0|o[11],y=0,w=0|o[10],S=0,b=0|o[9],_=0,D=0|o[8],C=0,E=0|o[7],P=0,T=0|o[6],k=0,I=0|o[5],x=0,R=0|o[4],A=0,F=0|o[3],O=0,L=0|o[2],M=0,$=0|o[1],B=0,N=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=t>>6|192)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>12&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>6&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128):(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=t>>12|224)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>6&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128),a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=s<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M;return g(c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function j(e){var t,n,r=e.length,o=p[256].offset,i=0,s=0|o[15],a=0,l=0|o[14],u=0,d=0|o[13],h=0,f=0|o[12],m=0,v=0|o[11],y=0,w=0|o[10],S=0,b=0|o[9],_=0,D=0|o[8],C=0,E=0|o[7],P=0,T=0|o[6],k=0,I=0|o[5],x=0,R=0|o[4],A=0,F=0|o[3],O=0,L=0|o[2],M=0,$=0|o[1],B=0,N=0|o[0];for(n=0;n<r;n++)a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=s<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=t>>6|192)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>12&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>6&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128):(a=355*l,u=355*d,h=355*f,m=355*v,y=355*w,S=355*b,_=355*D,C=355*E,P=355*T,k=355*I,x=355*R,A=355*F,O=355*L,M=355*$,B=355*N,k+=(s^=t>>12|224)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,s=65535&(i=355*s),N=(B+=w<<8)+((M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),u=355*(d=65535&u),h=355*(f=65535&h),m=355*(v=65535&m),y=355*(w=65535&y),S=355*(b=65535&S),_=355*(D=65535&_),C=355*(E=65535&C),P=355*(T=65535&P),k=355*(I=65535&k),x=355*(R=65535&x),A=355*(F=65535&A),O=355*(L=65535&O),M=355*($=65535&M),B=355*N,k+=(s^=t>>6&63|128)<<8,x+=l<<8,A+=d<<8,O+=f<<8,M+=v<<8,B+=w<<8,s=65535&(i=355*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),N=B+((M+=O>>>16)>>>16)&65535,$=65535&M,s^=63&t|128);return g(c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],256)}function W(e){var t,n=e.length-3,r=p[512].offset,o=0,i=0|r[31],s=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],f=0,m=0|r[27],v=0,y=0|r[26],w=0,S=0|r[25],b=0,_=0|r[24],D=0,C=0|r[23],E=0,P=0|r[22],T=0,k=0|r[21],I=0,x=0|r[20],R=0,A=0|r[19],F=0,O=0|r[18],L=0,M=0|r[17],$=0,B=0|r[16],N=0,U=0|r[15],H=0,j=0|r[14],W=0,z=0|r[13],q=0,V=0|r[12],G=0,K=0|r[11],J=0,X=0|r[10],Z=0,Y=0|r[9],Q=0,ee=0|r[8],te=0,ne=0|r[7],re=0,oe=0|r[6],ie=0,se=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],fe=0,pe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)s=343*a,l=343*u,d=343*h,f=343*m,v=343*y,w=343*S,b=343*_,D=343*C,E=343*P,T=343*k,I=343*x,R=343*A,F=343*O,L=343*M,$=343*B,N=343*U,H=343*j,W=343*z,q=343*V,G=343*K,J=343*X,Z=343*Y,Q=343*ee,te=343*ne,re=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*he,fe=343*pe,me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,me+=k<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((fe+=de>>>16)>>>16)&65535,pe=65535&fe;for(;t<n+3;)s=343*a,l=343*u,d=343*h,f=343*m,v=343*y,w=343*S,b=343*_,D=343*C,E=343*P,T=343*k,I=343*x,R=343*A,F=343*O,L=343*M,$=343*B,N=343*U,H=343*j,W=343*z,q=343*V,G=343*K,J=343*X,Z=343*Y,Q=343*ee,te=343*ne,re=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*he,fe=343*pe,me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,me+=k<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((fe+=de>>>16)>>>16)&65535,pe=65535&fe;return g(c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Y>>8]+c[255&Y]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[z>>8]+c[255&z]+c[j>>8]+c[255&j]+c[U>>8]+c[255&U]+c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],512)}function z(e){var t,n=e.length-3,r=p[512].offset,o=0,i=0|r[31],s=0,a=0|r[30],l=0,u=0|r[29],d=0,h=0|r[28],f=0,m=0|r[27],v=0,y=0|r[26],w=0,S=0|r[25],b=0,_=0|r[24],D=0,C=0|r[23],E=0,P=0|r[22],T=0,k=0|r[21],I=0,x=0|r[20],R=0,A=0|r[19],F=0,O=0|r[18],L=0,M=0|r[17],$=0,B=0|r[16],N=0,U=0|r[15],H=0,j=0|r[14],W=0,z=0|r[13],q=0,V=0|r[12],G=0,K=0|r[11],J=0,X=0|r[10],Z=0,Y=0|r[9],Q=0,ee=0|r[8],te=0,ne=0|r[7],re=0,oe=0|r[6],ie=0,se=0|r[5],ae=0,ce=0|r[4],le=0,ue=0|r[3],de=0,he=0|r[2],fe=0,pe=0|r[1],me=0,ge=0|r[0];for(t=0;t<n;)s=343*a,l=343*u,d=343*h,f=343*m,v=343*y,w=343*S,b=343*_,D=343*C,E=343*P,T=343*k,I=343*x,R=343*A,F=343*O,L=343*M,$=343*B,N=343*U,H=343*j,W=343*z,q=343*V,G=343*K,J=343*X,Z=343*Y,Q=343*ee,te=343*ne,re=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*he,fe=343*pe,me=343*ge,J+=i<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,i=65535&(o=343*i),ge=(me+=k<<8)+((fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=343*(a=65535&s),l=343*(u=65535&l),d=343*(h=65535&d),f=343*(m=65535&f),v=343*(y=65535&v),w=343*(S=65535&w),b=343*(_=65535&b),D=343*(C=65535&D),E=343*(P=65535&E),T=343*(k=65535&T),I=343*(x=65535&I),R=343*(A=65535&R),F=343*(O=65535&F),L=343*(M=65535&L),$=343*(B=65535&$),N=343*(U=65535&N),H=343*(j=65535&H),W=343*(z=65535&W),q=343*(V=65535&q),G=343*(K=65535&G),J=343*(X=65535&J),Z=343*(Y=65535&Z),Q=343*(ee=65535&Q),te=343*(ne=65535&te),re=343*(oe=65535&re),ie=343*(se=65535&ie),ae=343*(ce=65535&ae),le=343*(ue=65535&le),de=343*(he=65535&de),fe=343*(pe=65535&fe),me=343*ge,J+=(i^=e.charCodeAt(t++))<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,me+=k<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((fe+=de>>>16)>>>16)&65535,pe=65535&fe,i^=e.charCodeAt(t++);for(;t<n+3;)s=343*a,l=343*u,d=343*h,f=343*m,v=343*y,w=343*S,b=343*_,D=343*C,E=343*P,T=343*k,I=343*x,R=343*A,F=343*O,L=343*M,$=343*B,N=343*U,H=343*j,W=343*z,q=343*V,G=343*K,J=343*X,Z=343*Y,Q=343*ee,te=343*ne,re=343*oe,ie=343*se,ae=343*ce,le=343*ue,de=343*he,fe=343*pe,me=343*ge,J+=i<<8,Z+=a<<8,Q+=u<<8,te+=h<<8,re+=m<<8,ie+=y<<8,ae+=S<<8,le+=_<<8,de+=C<<8,fe+=P<<8,me+=k<<8,i=65535&(o=343*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),ge=me+((fe+=de>>>16)>>>16)&65535,pe=65535&fe,i^=e.charCodeAt(t++);return g(c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Y>>8]+c[255&Y]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[z>>8]+c[255&z]+c[j>>8]+c[255&j]+c[U>>8]+c[255&U]+c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],512)}function q(e){var t,n,r=e.length,o=p[512].offset,i=0,s=0|o[31],a=0,l=0|o[30],u=0,d=0|o[29],h=0,f=0|o[28],m=0,v=0|o[27],y=0,w=0|o[26],S=0,b=0|o[25],_=0,D=0|o[24],C=0,E=0|o[23],P=0,T=0|o[22],k=0,I=0|o[21],x=0,R=0|o[20],A=0,F=0|o[19],O=0,L=0|o[18],M=0,$=0|o[17],B=0,N=0|o[16],U=0,H=0|o[15],j=0,W=0|o[14],z=0,q=0|o[13],V=0,G=0|o[12],K=0,J=0|o[11],X=0,Z=0|o[10],Y=0,Q=0|o[9],ee=0,te=0|o[8],ne=0,re=0|o[7],oe=0,ie=0|o[6],se=0,ae=0|o[5],ce=0,le=0|o[4],ue=0,de=0|o[3],he=0,fe=0|o[2],pe=0,me=0|o[1],ge=0,ve=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=t>>6|192)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>12&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>6&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128):(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=t>>12|224)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>6&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128),a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=s<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe;return g(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[Z>>8]+c[255&Z]+c[J>>8]+c[255&J]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[W>>8]+c[255&W]+c[H>>8]+c[255&H]+c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function V(e){var t,n,r=e.length,o=p[512].offset,i=0,s=0|o[31],a=0,l=0|o[30],u=0,d=0|o[29],h=0,f=0|o[28],m=0,v=0|o[27],y=0,w=0|o[26],S=0,b=0|o[25],_=0,D=0|o[24],C=0,E=0|o[23],P=0,T=0|o[22],k=0,I=0|o[21],x=0,R=0|o[20],A=0,F=0|o[19],O=0,L=0|o[18],M=0,$=0|o[17],B=0,N=0|o[16],U=0,H=0|o[15],j=0,W=0|o[14],z=0,q=0|o[13],V=0,G=0|o[12],K=0,J=0|o[11],X=0,Z=0|o[10],Y=0,Q=0|o[9],ee=0,te=0|o[8],ne=0,re=0|o[7],oe=0,ie=0|o[6],se=0,ae=0|o[5],ce=0,le=0|o[4],ue=0,de=0|o[3],he=0,fe=0|o[2],pe=0,me=0|o[1],ge=0,ve=0|o[0];for(n=0;n<r;n++)a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=s<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=t>>6|192)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>12&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>6&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128):(a=343*l,u=343*d,h=343*f,m=343*v,y=343*w,S=343*b,_=343*D,C=343*E,P=343*T,k=343*I,x=343*R,A=343*F,O=343*L,M=343*$,B=343*N,U=343*H,j=343*W,z=343*q,V=343*G,K=343*J,X=343*Z,Y=343*Q,ee=343*te,ne=343*re,oe=343*ie,se=343*ae,ce=343*le,ue=343*de,he=343*fe,pe=343*me,ge=343*ve,X+=(s^=t>>12|224)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,s=65535&(i=343*s),ve=(ge+=I<<8)+((pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),u=343*(d=65535&u),h=343*(f=65535&h),m=343*(v=65535&m),y=343*(w=65535&y),S=343*(b=65535&S),_=343*(D=65535&_),C=343*(E=65535&C),P=343*(T=65535&P),k=343*(I=65535&k),x=343*(R=65535&x),A=343*(F=65535&A),O=343*(L=65535&O),M=343*($=65535&M),B=343*(N=65535&B),U=343*(H=65535&U),j=343*(W=65535&j),z=343*(q=65535&z),V=343*(G=65535&V),K=343*(J=65535&K),X=343*(Z=65535&X),Y=343*(Q=65535&Y),ee=343*(te=65535&ee),ne=343*(re=65535&ne),oe=343*(ie=65535&oe),se=343*(ae=65535&se),ce=343*(le=65535&ce),ue=343*(de=65535&ue),he=343*(fe=65535&he),pe=343*(me=65535&pe),ge=343*ve,X+=(s^=t>>6&63|128)<<8,Y+=l<<8,ee+=d<<8,ne+=f<<8,oe+=v<<8,se+=w<<8,ce+=b<<8,ue+=D<<8,he+=E<<8,pe+=T<<8,ge+=I<<8,s=65535&(i=343*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),ve=ge+((pe+=he>>>16)>>>16)&65535,me=65535&pe,s^=63&t|128);return g(c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[Z>>8]+c[255&Z]+c[J>>8]+c[255&J]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[W>>8]+c[255&W]+c[H>>8]+c[255&H]+c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],512)}function G(e){var t,n=e.length-3,r=p[1024].offset,o=0,i=0|r[63],s=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],f=0,m=0|r[59],v=0,y=0|r[58],w=0,S=0|r[57],b=0,_=0|r[56],D=0,C=0|r[55],E=0,P=0|r[54],T=0,k=0|r[53],I=0,x=0|r[52],R=0,A=0|r[51],F=0,O=0|r[50],L=0,M=0|r[49],$=0,B=0|r[48],N=0,U=0|r[47],H=0,j=0|r[46],W=0,z=0|r[45],q=0,V=0|r[44],G=0,K=0|r[43],J=0,X=0|r[42],Z=0,Y=0|r[41],Q=0,ee=0|r[40],te=0,ne=0|r[39],re=0,oe=0|r[38],ie=0,se=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],fe=0,pe=0|r[33],me=0,ge=0|r[32],ve=0,ye=0|r[31],we=0,Se=0|r[30],be=0,_e=0|r[29],De=0,Ce=0|r[28],Ee=0,Pe=0|r[27],Te=0,ke=0|r[26],Ie=0,xe=0|r[25],Re=0,Ae=0|r[24],Fe=0,Oe=0|r[23],Le=0,Me=0|r[22],$e=0,Be=0|r[21],Ne=0,Ue=0|r[20],He=0,je=0|r[19],We=0,ze=0|r[18],qe=0,Ve=0|r[17],Ge=0,Ke=0|r[16],Je=0,Xe=0|r[15],Ze=0,Ye=0|r[14],Qe=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,ot=0|r[11],it=0,st=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],ft=0,pt=0|r[6],mt=0,gt=0|r[5],vt=0,yt=0|r[4],wt=0,St=0|r[3],bt=0,_t=0|r[2],Dt=0,Ct=0|r[1],Et=0,Pt=0|r[0];for(t=0;t<n;)s=397*a,l=397*u,d=397*h,f=397*m,v=397*y,w=397*S,b=397*_,D=397*C,E=397*P,T=397*k,I=397*x,R=397*A,F=397*O,L=397*M,$=397*B,N=397*U,H=397*j,W=397*z,q=397*V,G=397*K,J=397*X,Z=397*Y,Q=397*ee,te=397*ne,re=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*he,fe=397*pe,me=397*ge,ve=397*ye,we=397*Se,be=397*_e,De=397*Ce,Ee=397*Pe,Te=397*ke,Ie=397*xe,Re=397*Ae,Fe=397*Oe,Le=397*Me,$e=397*Be,Ne=397*Ue,He=397*je,We=397*ze,qe=397*Ve,Ge=397*Ke,Je=397*Xe,Ze=397*Ye,Qe=397*et,tt=397*nt,rt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*ht,ft=397*pt,mt=397*gt,vt=397*yt,wt=397*St,bt=397*_t,Dt=397*Ct,Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,Et+=X<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),pe=65535&(fe+=de>>>16),ge=65535&(me+=fe>>>16),ye=65535&(ve+=me>>>16),Se=65535&(we+=ve>>>16),_e=65535&(be+=we>>>16),Ce=65535&(De+=be>>>16),Pe=65535&(Ee+=De>>>16),ke=65535&(Te+=Ee>>>16),xe=65535&(Ie+=Te>>>16),Ae=65535&(Re+=Ie>>>16),Oe=65535&(Fe+=Re>>>16),Me=65535&(Le+=Fe>>>16),Be=65535&($e+=Le>>>16),Ue=65535&(Ne+=$e>>>16),je=65535&(He+=Ne>>>16),ze=65535&(We+=He>>>16),Ve=65535&(qe+=We>>>16),Ke=65535&(Ge+=qe>>>16),Xe=65535&(Je+=Ge>>>16),Ye=65535&(Ze+=Je>>>16),et=65535&(Qe+=Ze>>>16),nt=65535&(tt+=Qe>>>16),ot=65535&(rt+=tt>>>16),st=65535&(it+=rt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),pt=65535&(ft+=dt>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(vt+=mt>>>16),St=65535&(wt+=vt>>>16),_t=65535&(bt+=wt>>>16),Pt=Et+((Dt+=bt>>>16)>>>16)&65535,Ct=65535&Dt;for(;t<n+3;)s=397*a,l=397*u,d=397*h,f=397*m,v=397*y,w=397*S,b=397*_,D=397*C,E=397*P,T=397*k,I=397*x,R=397*A,F=397*O,L=397*M,$=397*B,N=397*U,H=397*j,W=397*z,q=397*V,G=397*K,J=397*X,Z=397*Y,Q=397*ee,te=397*ne,re=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*he,fe=397*pe,me=397*ge,ve=397*ye,we=397*Se,be=397*_e,De=397*Ce,Ee=397*Pe,Te=397*ke,Ie=397*xe,Re=397*Ae,Fe=397*Oe,Le=397*Me,$e=397*Be,Ne=397*Ue,He=397*je,We=397*ze,qe=397*Ve,Ge=397*Ke,Je=397*Xe,Ze=397*Ye,Qe=397*et,tt=397*nt,rt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*ht,ft=397*pt,mt=397*gt,vt=397*yt,wt=397*St,bt=397*_t,Dt=397*Ct,Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,Et+=X<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),pe=65535&(fe+=de>>>16),ge=65535&(me+=fe>>>16),ye=65535&(ve+=me>>>16),Se=65535&(we+=ve>>>16),_e=65535&(be+=we>>>16),Ce=65535&(De+=be>>>16),Pe=65535&(Ee+=De>>>16),ke=65535&(Te+=Ee>>>16),xe=65535&(Ie+=Te>>>16),Ae=65535&(Re+=Ie>>>16),Oe=65535&(Fe+=Re>>>16),Me=65535&(Le+=Fe>>>16),Be=65535&($e+=Le>>>16),Ue=65535&(Ne+=$e>>>16),je=65535&(He+=Ne>>>16),ze=65535&(We+=He>>>16),Ve=65535&(qe+=We>>>16),Ke=65535&(Ge+=qe>>>16),Xe=65535&(Je+=Ge>>>16),Ye=65535&(Ze+=Je>>>16),et=65535&(Qe+=Ze>>>16),nt=65535&(tt+=Qe>>>16),ot=65535&(rt+=tt>>>16),st=65535&(it+=rt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),pt=65535&(ft+=dt>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(vt+=mt>>>16),St=65535&(wt+=vt>>>16),_t=65535&(bt+=wt>>>16),Pt=Et+((Dt+=bt>>>16)>>>16)&65535,Ct=65535&Dt;return g(c[Pt>>8]+c[255&Pt]+c[Ct>>8]+c[255&Ct]+c[_t>>8]+c[255&_t]+c[St>>8]+c[255&St]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[pt>>8]+c[255&pt]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[ot>>8]+c[255&ot]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Ye>>8]+c[255&Ye]+c[Xe>>8]+c[255&Xe]+c[Ke>>8]+c[255&Ke]+c[Ve>>8]+c[255&Ve]+c[ze>>8]+c[255&ze]+c[je>>8]+c[255&je]+c[Ue>>8]+c[255&Ue]+c[Be>>8]+c[255&Be]+c[Me>>8]+c[255&Me]+c[Oe>>8]+c[255&Oe]+c[Ae>>8]+c[255&Ae]+c[xe>>8]+c[255&xe]+c[ke>>8]+c[255&ke]+c[Pe>>8]+c[255&Pe]+c[Ce>>8]+c[255&Ce]+c[_e>>8]+c[255&_e]+c[Se>>8]+c[255&Se]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Y>>8]+c[255&Y]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[z>>8]+c[255&z]+c[j>>8]+c[255&j]+c[U>>8]+c[255&U]+c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],1024)}function K(e){var t,n=e.length-3,r=p[1024].offset,o=0,i=0|r[63],s=0,a=0|r[62],l=0,u=0|r[61],d=0,h=0|r[60],f=0,m=0|r[59],v=0,y=0|r[58],w=0,S=0|r[57],b=0,_=0|r[56],D=0,C=0|r[55],E=0,P=0|r[54],T=0,k=0|r[53],I=0,x=0|r[52],R=0,A=0|r[51],F=0,O=0|r[50],L=0,M=0|r[49],$=0,B=0|r[48],N=0,U=0|r[47],H=0,j=0|r[46],W=0,z=0|r[45],q=0,V=0|r[44],G=0,K=0|r[43],J=0,X=0|r[42],Z=0,Y=0|r[41],Q=0,ee=0|r[40],te=0,ne=0|r[39],re=0,oe=0|r[38],ie=0,se=0|r[37],ae=0,ce=0|r[36],le=0,ue=0|r[35],de=0,he=0|r[34],fe=0,pe=0|r[33],me=0,ge=0|r[32],ve=0,ye=0|r[31],we=0,Se=0|r[30],be=0,_e=0|r[29],De=0,Ce=0|r[28],Ee=0,Pe=0|r[27],Te=0,ke=0|r[26],Ie=0,xe=0|r[25],Re=0,Ae=0|r[24],Fe=0,Oe=0|r[23],Le=0,Me=0|r[22],$e=0,Be=0|r[21],Ne=0,Ue=0|r[20],He=0,je=0|r[19],We=0,ze=0|r[18],qe=0,Ve=0|r[17],Ge=0,Ke=0|r[16],Je=0,Xe=0|r[15],Ze=0,Ye=0|r[14],Qe=0,et=0|r[13],tt=0,nt=0|r[12],rt=0,ot=0|r[11],it=0,st=0|r[10],at=0,ct=0|r[9],lt=0,ut=0|r[8],dt=0,ht=0|r[7],ft=0,pt=0|r[6],mt=0,gt=0|r[5],vt=0,yt=0|r[4],wt=0,St=0|r[3],bt=0,_t=0|r[2],Dt=0,Ct=0|r[1],Et=0,Pt=0|r[0];for(t=0;t<n;)s=397*a,l=397*u,d=397*h,f=397*m,v=397*y,w=397*S,b=397*_,D=397*C,E=397*P,T=397*k,I=397*x,R=397*A,F=397*O,L=397*M,$=397*B,N=397*U,H=397*j,W=397*z,q=397*V,G=397*K,J=397*X,Z=397*Y,Q=397*ee,te=397*ne,re=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*he,fe=397*pe,me=397*ge,ve=397*ye,we=397*Se,be=397*_e,De=397*Ce,Ee=397*Pe,Te=397*ke,Ie=397*xe,Re=397*Ae,Fe=397*Oe,Le=397*Me,$e=397*Be,Ne=397*Ue,He=397*je,We=397*ze,qe=397*Ve,Ge=397*Ke,Je=397*Xe,Ze=397*Ye,Qe=397*et,tt=397*nt,rt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*ht,ft=397*pt,mt=397*gt,vt=397*yt,wt=397*St,bt=397*_t,Dt=397*Ct,Et=397*Pt,$e+=i<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,i=65535&(o=397*i),Pt=(Et+=X<<8)+((Dt+=(bt+=(wt+=(vt+=(mt+=(ft+=(dt+=(lt+=(at+=(it+=(rt+=(tt+=(Qe+=(Ze+=(Je+=(Ge+=(qe+=(We+=(He+=(Ne+=($e+=(Le+=(Fe+=(Re+=(Ie+=(Te+=(Ee+=(De+=(be+=(we+=(ve+=(me+=(fe+=(de+=(le+=(ae+=(ie+=(re+=(te+=(Q+=(Z+=(J+=(G+=(q+=(W+=(H+=(N+=($+=(L+=(F+=(R+=(I+=(T+=(E+=(D+=(b+=(w+=(v+=(f+=(d+=(l+=(s+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,s=397*(a=65535&s),l=397*(u=65535&l),d=397*(h=65535&d),f=397*(m=65535&f),v=397*(y=65535&v),w=397*(S=65535&w),b=397*(_=65535&b),D=397*(C=65535&D),E=397*(P=65535&E),T=397*(k=65535&T),I=397*(x=65535&I),R=397*(A=65535&R),F=397*(O=65535&F),L=397*(M=65535&L),$=397*(B=65535&$),N=397*(U=65535&N),H=397*(j=65535&H),W=397*(z=65535&W),q=397*(V=65535&q),G=397*(K=65535&G),J=397*(X=65535&J),Z=397*(Y=65535&Z),Q=397*(ee=65535&Q),te=397*(ne=65535&te),re=397*(oe=65535&re),ie=397*(se=65535&ie),ae=397*(ce=65535&ae),le=397*(ue=65535&le),de=397*(he=65535&de),fe=397*(pe=65535&fe),me=397*(ge=65535&me),ve=397*(ye=65535&ve),we=397*(Se=65535&we),be=397*(_e=65535&be),De=397*(Ce=65535&De),Ee=397*(Pe=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(xe=65535&Ie),Re=397*(Ae=65535&Re),Fe=397*(Oe=65535&Fe),Le=397*(Me=65535&Le),$e=397*(Be=65535&$e),Ne=397*(Ue=65535&Ne),He=397*(je=65535&He),We=397*(ze=65535&We),qe=397*(Ve=65535&qe),Ge=397*(Ke=65535&Ge),Je=397*(Xe=65535&Je),Ze=397*(Ye=65535&Ze),Qe=397*(et=65535&Qe),tt=397*(nt=65535&tt),rt=397*(ot=65535&rt),it=397*(st=65535&it),at=397*(ct=65535&at),lt=397*(ut=65535&lt),dt=397*(ht=65535&dt),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),vt=397*(yt=65535&vt),wt=397*(St=65535&wt),bt=397*(_t=65535&bt),Dt=397*(Ct=65535&Dt),Et=397*Pt,$e+=(i^=e.charCodeAt(t++))<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,Et+=X<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),pe=65535&(fe+=de>>>16),ge=65535&(me+=fe>>>16),ye=65535&(ve+=me>>>16),Se=65535&(we+=ve>>>16),_e=65535&(be+=we>>>16),Ce=65535&(De+=be>>>16),Pe=65535&(Ee+=De>>>16),ke=65535&(Te+=Ee>>>16),xe=65535&(Ie+=Te>>>16),Ae=65535&(Re+=Ie>>>16),Oe=65535&(Fe+=Re>>>16),Me=65535&(Le+=Fe>>>16),Be=65535&($e+=Le>>>16),Ue=65535&(Ne+=$e>>>16),je=65535&(He+=Ne>>>16),ze=65535&(We+=He>>>16),Ve=65535&(qe+=We>>>16),Ke=65535&(Ge+=qe>>>16),Xe=65535&(Je+=Ge>>>16),Ye=65535&(Ze+=Je>>>16),et=65535&(Qe+=Ze>>>16),nt=65535&(tt+=Qe>>>16),ot=65535&(rt+=tt>>>16),st=65535&(it+=rt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),pt=65535&(ft+=dt>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(vt+=mt>>>16),St=65535&(wt+=vt>>>16),_t=65535&(bt+=wt>>>16),Pt=Et+((Dt+=bt>>>16)>>>16)&65535,Ct=65535&Dt,i^=e.charCodeAt(t++);for(;t<n+3;)s=397*a,l=397*u,d=397*h,f=397*m,v=397*y,w=397*S,b=397*_,D=397*C,E=397*P,T=397*k,I=397*x,R=397*A,F=397*O,L=397*M,$=397*B,N=397*U,H=397*j,W=397*z,q=397*V,G=397*K,J=397*X,Z=397*Y,Q=397*ee,te=397*ne,re=397*oe,ie=397*se,ae=397*ce,le=397*ue,de=397*he,fe=397*pe,me=397*ge,ve=397*ye,we=397*Se,be=397*_e,De=397*Ce,Ee=397*Pe,Te=397*ke,Ie=397*xe,Re=397*Ae,Fe=397*Oe,Le=397*Me,$e=397*Be,Ne=397*Ue,He=397*je,We=397*ze,qe=397*Ve,Ge=397*Ke,Je=397*Xe,Ze=397*Ye,Qe=397*et,tt=397*nt,rt=397*ot,it=397*st,at=397*ct,lt=397*ut,dt=397*ht,ft=397*pt,mt=397*gt,vt=397*yt,wt=397*St,bt=397*_t,Dt=397*Ct,Et=397*Pt,$e+=i<<8,Ne+=a<<8,He+=u<<8,We+=h<<8,qe+=m<<8,Ge+=y<<8,Je+=S<<8,Ze+=_<<8,Qe+=C<<8,tt+=P<<8,rt+=k<<8,it+=x<<8,at+=A<<8,lt+=O<<8,dt+=M<<8,ft+=B<<8,mt+=U<<8,vt+=j<<8,wt+=z<<8,bt+=V<<8,Dt+=K<<8,Et+=X<<8,i=65535&(o=397*i),a=65535&(s+=o>>>16),u=65535&(l+=s>>>16),h=65535&(d+=l>>>16),m=65535&(f+=d>>>16),y=65535&(v+=f>>>16),S=65535&(w+=v>>>16),_=65535&(b+=w>>>16),C=65535&(D+=b>>>16),P=65535&(E+=D>>>16),k=65535&(T+=E>>>16),x=65535&(I+=T>>>16),A=65535&(R+=I>>>16),O=65535&(F+=R>>>16),M=65535&(L+=F>>>16),B=65535&($+=L>>>16),U=65535&(N+=$>>>16),j=65535&(H+=N>>>16),z=65535&(W+=H>>>16),V=65535&(q+=W>>>16),K=65535&(G+=q>>>16),X=65535&(J+=G>>>16),Y=65535&(Z+=J>>>16),ee=65535&(Q+=Z>>>16),ne=65535&(te+=Q>>>16),oe=65535&(re+=te>>>16),se=65535&(ie+=re>>>16),ce=65535&(ae+=ie>>>16),ue=65535&(le+=ae>>>16),he=65535&(de+=le>>>16),pe=65535&(fe+=de>>>16),ge=65535&(me+=fe>>>16),ye=65535&(ve+=me>>>16),Se=65535&(we+=ve>>>16),_e=65535&(be+=we>>>16),Ce=65535&(De+=be>>>16),Pe=65535&(Ee+=De>>>16),ke=65535&(Te+=Ee>>>16),xe=65535&(Ie+=Te>>>16),Ae=65535&(Re+=Ie>>>16),Oe=65535&(Fe+=Re>>>16),Me=65535&(Le+=Fe>>>16),Be=65535&($e+=Le>>>16),Ue=65535&(Ne+=$e>>>16),je=65535&(He+=Ne>>>16),ze=65535&(We+=He>>>16),Ve=65535&(qe+=We>>>16),Ke=65535&(Ge+=qe>>>16),Xe=65535&(Je+=Ge>>>16),Ye=65535&(Ze+=Je>>>16),et=65535&(Qe+=Ze>>>16),nt=65535&(tt+=Qe>>>16),ot=65535&(rt+=tt>>>16),st=65535&(it+=rt>>>16),ct=65535&(at+=it>>>16),ut=65535&(lt+=at>>>16),ht=65535&(dt+=lt>>>16),pt=65535&(ft+=dt>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(vt+=mt>>>16),St=65535&(wt+=vt>>>16),_t=65535&(bt+=wt>>>16),Pt=Et+((Dt+=bt>>>16)>>>16)&65535,Ct=65535&Dt,i^=e.charCodeAt(t++);return g(c[Pt>>8]+c[255&Pt]+c[Ct>>8]+c[255&Ct]+c[_t>>8]+c[255&_t]+c[St>>8]+c[255&St]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[pt>>8]+c[255&pt]+c[ht>>8]+c[255&ht]+c[ut>>8]+c[255&ut]+c[ct>>8]+c[255&ct]+c[st>>8]+c[255&st]+c[ot>>8]+c[255&ot]+c[nt>>8]+c[255&nt]+c[et>>8]+c[255&et]+c[Ye>>8]+c[255&Ye]+c[Xe>>8]+c[255&Xe]+c[Ke>>8]+c[255&Ke]+c[Ve>>8]+c[255&Ve]+c[ze>>8]+c[255&ze]+c[je>>8]+c[255&je]+c[Ue>>8]+c[255&Ue]+c[Be>>8]+c[255&Be]+c[Me>>8]+c[255&Me]+c[Oe>>8]+c[255&Oe]+c[Ae>>8]+c[255&Ae]+c[xe>>8]+c[255&xe]+c[ke>>8]+c[255&ke]+c[Pe>>8]+c[255&Pe]+c[Ce>>8]+c[255&Ce]+c[_e>>8]+c[255&_e]+c[Se>>8]+c[255&Se]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[he>>8]+c[255&he]+c[ue>>8]+c[255&ue]+c[ce>>8]+c[255&ce]+c[se>>8]+c[255&se]+c[oe>>8]+c[255&oe]+c[ne>>8]+c[255&ne]+c[ee>>8]+c[255&ee]+c[Y>>8]+c[255&Y]+c[X>>8]+c[255&X]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[z>>8]+c[255&z]+c[j>>8]+c[255&j]+c[U>>8]+c[255&U]+c[B>>8]+c[255&B]+c[M>>8]+c[255&M]+c[O>>8]+c[255&O]+c[A>>8]+c[255&A]+c[x>>8]+c[255&x]+c[k>>8]+c[255&k]+c[P>>8]+c[255&P]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[S>>8]+c[255&S]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i],1024)}function J(e){var t,n,r=e.length,o=p[1024].offset,i=0,s=0|o[63],a=0,l=0|o[62],u=0,d=0|o[61],h=0,f=0|o[60],m=0,v=0|o[59],y=0,w=0|o[58],S=0,b=0|o[57],_=0,D=0|o[56],C=0,E=0|o[55],P=0,T=0|o[54],k=0,I=0|o[53],x=0,R=0|o[52],A=0,F=0|o[51],O=0,L=0|o[50],M=0,$=0|o[49],B=0,N=0|o[48],U=0,H=0|o[47],j=0,W=0|o[46],z=0,q=0|o[45],V=0,G=0|o[44],K=0,J=0|o[43],X=0,Z=0|o[42],Y=0,Q=0|o[41],ee=0,te=0|o[40],ne=0,re=0|o[39],oe=0,ie=0|o[38],se=0,ae=0|o[37],ce=0,le=0|o[36],ue=0,de=0|o[35],he=0,fe=0|o[34],pe=0,me=0|o[33],ge=0,ve=0|o[32],ye=0,we=0|o[31],Se=0,be=0|o[30],_e=0,De=0|o[29],Ce=0,Ee=0|o[28],Pe=0,Te=0|o[27],ke=0,Ie=0|o[26],xe=0,Re=0|o[25],Ae=0,Fe=0|o[24],Oe=0,Le=0|o[23],Me=0,$e=0|o[22],Be=0,Ne=0|o[21],Ue=0,He=0|o[20],je=0,We=0|o[19],ze=0,qe=0|o[18],Ve=0,Ge=0|o[17],Ke=0,Je=0|o[16],Xe=0,Ze=0|o[15],Ye=0,Qe=0|o[14],et=0,tt=0|o[13],nt=0,rt=0|o[12],ot=0,it=0|o[11],st=0,at=0|o[10],ct=0,lt=0|o[9],ut=0,dt=0|o[8],ht=0,ft=0|o[7],pt=0,mt=0|o[6],gt=0,vt=0|o[5],yt=0,wt=0|o[4],St=0,bt=0|o[3],_t=0,Dt=0|o[2],Ct=0,Et=0|o[1],Pt=0,Tt=0|o[0];for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=t>>6|192)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>12&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>6&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128):(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=t>>12|224)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>6&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128),a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=s<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct;return g(c[Tt>>8]+c[255&Tt]+c[Et>>8]+c[255&Et]+c[Dt>>8]+c[255&Dt]+c[bt>>8]+c[255&bt]+c[wt>>8]+c[255&wt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[ft>>8]+c[255&ft]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[it>>8]+c[255&it]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Qe>>8]+c[255&Qe]+c[Ze>>8]+c[255&Ze]+c[Je>>8]+c[255&Je]+c[Ge>>8]+c[255&Ge]+c[qe>>8]+c[255&qe]+c[We>>8]+c[255&We]+c[He>>8]+c[255&He]+c[Ne>>8]+c[255&Ne]+c[$e>>8]+c[255&$e]+c[Le>>8]+c[255&Le]+c[Fe>>8]+c[255&Fe]+c[Re>>8]+c[255&Re]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[Ee>>8]+c[255&Ee]+c[De>>8]+c[255&De]+c[be>>8]+c[255&be]+c[we>>8]+c[255&we]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[Z>>8]+c[255&Z]+c[J>>8]+c[255&J]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[W>>8]+c[255&W]+c[H>>8]+c[255&H]+c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}function X(e){var t,n,r=e.length,o=p[1024].offset,i=0,s=0|o[63],a=0,l=0|o[62],u=0,d=0|o[61],h=0,f=0|o[60],m=0,v=0|o[59],y=0,w=0|o[58],S=0,b=0|o[57],_=0,D=0|o[56],C=0,E=0|o[55],P=0,T=0|o[54],k=0,I=0|o[53],x=0,R=0|o[52],A=0,F=0|o[51],O=0,L=0|o[50],M=0,$=0|o[49],B=0,N=0|o[48],U=0,H=0|o[47],j=0,W=0|o[46],z=0,q=0|o[45],V=0,G=0|o[44],K=0,J=0|o[43],X=0,Z=0|o[42],Y=0,Q=0|o[41],ee=0,te=0|o[40],ne=0,re=0|o[39],oe=0,ie=0|o[38],se=0,ae=0|o[37],ce=0,le=0|o[36],ue=0,de=0|o[35],he=0,fe=0|o[34],pe=0,me=0|o[33],ge=0,ve=0|o[32],ye=0,we=0|o[31],Se=0,be=0|o[30],_e=0,De=0|o[29],Ce=0,Ee=0|o[28],Pe=0,Te=0|o[27],ke=0,Ie=0|o[26],xe=0,Re=0|o[25],Ae=0,Fe=0|o[24],Oe=0,Le=0|o[23],Me=0,$e=0|o[22],Be=0,Ne=0|o[21],Ue=0,He=0|o[20],je=0,We=0|o[19],ze=0,qe=0|o[18],Ve=0,Ge=0|o[17],Ke=0,Je=0|o[16],Xe=0,Ze=0|o[15],Ye=0,Qe=0|o[14],et=0,tt=0|o[13],nt=0,rt=0|o[12],ot=0,it=0|o[11],st=0,at=0|o[10],ct=0,lt=0|o[9],ut=0,dt=0|o[8],ht=0,ft=0|o[7],pt=0,mt=0|o[6],gt=0,vt=0|o[5],yt=0,wt=0|o[4],St=0,bt=0|o[3],_t=0,Dt=0|o[2],Ct=0,Et=0|o[1],Pt=0,Tt=0|o[0];for(n=0;n<r;n++)a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=s<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,(t=e.charCodeAt(n))<128?s^=t:t<2048?(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=t>>6|192)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>12&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>6&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128):(a=397*l,u=397*d,h=397*f,m=397*v,y=397*w,S=397*b,_=397*D,C=397*E,P=397*T,k=397*I,x=397*R,A=397*F,O=397*L,M=397*$,B=397*N,U=397*H,j=397*W,z=397*q,V=397*G,K=397*J,X=397*Z,Y=397*Q,ee=397*te,ne=397*re,oe=397*ie,se=397*ae,ce=397*le,ue=397*de,he=397*fe,pe=397*me,ge=397*ve,ye=397*we,Se=397*be,_e=397*De,Ce=397*Ee,Pe=397*Te,ke=397*Ie,xe=397*Re,Ae=397*Fe,Oe=397*Le,Me=397*$e,Be=397*Ne,Ue=397*He,je=397*We,ze=397*qe,Ve=397*Ge,Ke=397*Je,Xe=397*Ze,Ye=397*Qe,et=397*tt,nt=397*rt,ot=397*it,st=397*at,ct=397*lt,ut=397*dt,ht=397*ft,pt=397*mt,gt=397*vt,yt=397*wt,St=397*bt,_t=397*Dt,Ct=397*Et,Pt=397*Tt,Be+=(s^=t>>12|224)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,s=65535&(i=397*s),Tt=(Pt+=Z<<8)+((Ct+=(_t+=(St+=(yt+=(gt+=(pt+=(ht+=(ut+=(ct+=(st+=(ot+=(nt+=(et+=(Ye+=(Xe+=(Ke+=(Ve+=(ze+=(je+=(Ue+=(Be+=(Me+=(Oe+=(Ae+=(xe+=(ke+=(Pe+=(Ce+=(_e+=(Se+=(ye+=(ge+=(pe+=(he+=(ue+=(ce+=(se+=(oe+=(ne+=(ee+=(Y+=(X+=(K+=(V+=(z+=(j+=(U+=(B+=(M+=(O+=(A+=(x+=(k+=(P+=(C+=(_+=(S+=(y+=(m+=(h+=(u+=(a+=i>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),u=397*(d=65535&u),h=397*(f=65535&h),m=397*(v=65535&m),y=397*(w=65535&y),S=397*(b=65535&S),_=397*(D=65535&_),C=397*(E=65535&C),P=397*(T=65535&P),k=397*(I=65535&k),x=397*(R=65535&x),A=397*(F=65535&A),O=397*(L=65535&O),M=397*($=65535&M),B=397*(N=65535&B),U=397*(H=65535&U),j=397*(W=65535&j),z=397*(q=65535&z),V=397*(G=65535&V),K=397*(J=65535&K),X=397*(Z=65535&X),Y=397*(Q=65535&Y),ee=397*(te=65535&ee),ne=397*(re=65535&ne),oe=397*(ie=65535&oe),se=397*(ae=65535&se),ce=397*(le=65535&ce),ue=397*(de=65535&ue),he=397*(fe=65535&he),pe=397*(me=65535&pe),ge=397*(ve=65535&ge),ye=397*(we=65535&ye),Se=397*(be=65535&Se),_e=397*(De=65535&_e),Ce=397*(Ee=65535&Ce),Pe=397*(Te=65535&Pe),ke=397*(Ie=65535&ke),xe=397*(Re=65535&xe),Ae=397*(Fe=65535&Ae),Oe=397*(Le=65535&Oe),Me=397*($e=65535&Me),Be=397*(Ne=65535&Be),Ue=397*(He=65535&Ue),je=397*(We=65535&je),ze=397*(qe=65535&ze),Ve=397*(Ge=65535&Ve),Ke=397*(Je=65535&Ke),Xe=397*(Ze=65535&Xe),Ye=397*(Qe=65535&Ye),et=397*(tt=65535&et),nt=397*(rt=65535&nt),ot=397*(it=65535&ot),st=397*(at=65535&st),ct=397*(lt=65535&ct),ut=397*(dt=65535&ut),ht=397*(ft=65535&ht),pt=397*(mt=65535&pt),gt=397*(vt=65535&gt),yt=397*(wt=65535&yt),St=397*(bt=65535&St),_t=397*(Dt=65535&_t),Ct=397*(Et=65535&Ct),Pt=397*Tt,Be+=(s^=t>>6&63|128)<<8,Ue+=l<<8,je+=d<<8,ze+=f<<8,Ve+=v<<8,Ke+=w<<8,Xe+=b<<8,Ye+=D<<8,et+=E<<8,nt+=T<<8,ot+=I<<8,st+=R<<8,ct+=F<<8,ut+=L<<8,ht+=$<<8,pt+=N<<8,gt+=H<<8,yt+=W<<8,St+=q<<8,_t+=G<<8,Ct+=J<<8,Pt+=Z<<8,s=65535&(i=397*s),l=65535&(a+=i>>>16),d=65535&(u+=a>>>16),f=65535&(h+=u>>>16),v=65535&(m+=h>>>16),w=65535&(y+=m>>>16),b=65535&(S+=y>>>16),D=65535&(_+=S>>>16),E=65535&(C+=_>>>16),T=65535&(P+=C>>>16),I=65535&(k+=P>>>16),R=65535&(x+=k>>>16),F=65535&(A+=x>>>16),L=65535&(O+=A>>>16),$=65535&(M+=O>>>16),N=65535&(B+=M>>>16),H=65535&(U+=B>>>16),W=65535&(j+=U>>>16),q=65535&(z+=j>>>16),G=65535&(V+=z>>>16),J=65535&(K+=V>>>16),Z=65535&(X+=K>>>16),Q=65535&(Y+=X>>>16),te=65535&(ee+=Y>>>16),re=65535&(ne+=ee>>>16),ie=65535&(oe+=ne>>>16),ae=65535&(se+=oe>>>16),le=65535&(ce+=se>>>16),de=65535&(ue+=ce>>>16),fe=65535&(he+=ue>>>16),me=65535&(pe+=he>>>16),ve=65535&(ge+=pe>>>16),we=65535&(ye+=ge>>>16),be=65535&(Se+=ye>>>16),De=65535&(_e+=Se>>>16),Ee=65535&(Ce+=_e>>>16),Te=65535&(Pe+=Ce>>>16),Ie=65535&(ke+=Pe>>>16),Re=65535&(xe+=ke>>>16),Fe=65535&(Ae+=xe>>>16),Le=65535&(Oe+=Ae>>>16),$e=65535&(Me+=Oe>>>16),Ne=65535&(Be+=Me>>>16),He=65535&(Ue+=Be>>>16),We=65535&(je+=Ue>>>16),qe=65535&(ze+=je>>>16),Ge=65535&(Ve+=ze>>>16),Je=65535&(Ke+=Ve>>>16),Ze=65535&(Xe+=Ke>>>16),Qe=65535&(Ye+=Xe>>>16),tt=65535&(et+=Ye>>>16),rt=65535&(nt+=et>>>16),it=65535&(ot+=nt>>>16),at=65535&(st+=ot>>>16),lt=65535&(ct+=st>>>16),dt=65535&(ut+=ct>>>16),ft=65535&(ht+=ut>>>16),mt=65535&(pt+=ht>>>16),vt=65535&(gt+=pt>>>16),wt=65535&(yt+=gt>>>16),bt=65535&(St+=yt>>>16),Dt=65535&(_t+=St>>>16),Tt=Pt+((Ct+=_t>>>16)>>>16)&65535,Et=65535&Ct,s^=63&t|128);return g(c[Tt>>8]+c[255&Tt]+c[Et>>8]+c[255&Et]+c[Dt>>8]+c[255&Dt]+c[bt>>8]+c[255&bt]+c[wt>>8]+c[255&wt]+c[vt>>8]+c[255&vt]+c[mt>>8]+c[255&mt]+c[ft>>8]+c[255&ft]+c[dt>>8]+c[255&dt]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[it>>8]+c[255&it]+c[rt>>8]+c[255&rt]+c[tt>>8]+c[255&tt]+c[Qe>>8]+c[255&Qe]+c[Ze>>8]+c[255&Ze]+c[Je>>8]+c[255&Je]+c[Ge>>8]+c[255&Ge]+c[qe>>8]+c[255&qe]+c[We>>8]+c[255&We]+c[He>>8]+c[255&He]+c[Ne>>8]+c[255&Ne]+c[$e>>8]+c[255&$e]+c[Le>>8]+c[255&Le]+c[Fe>>8]+c[255&Fe]+c[Re>>8]+c[255&Re]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[Ee>>8]+c[255&Ee]+c[De>>8]+c[255&De]+c[be>>8]+c[255&be]+c[we>>8]+c[255&we]+c[ve>>8]+c[255&ve]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[de>>8]+c[255&de]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[ie>>8]+c[255&ie]+c[re>>8]+c[255&re]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[Z>>8]+c[255&Z]+c[J>>8]+c[255&J]+c[G>>8]+c[255&G]+c[q>>8]+c[255&q]+c[W>>8]+c[255&W]+c[H>>8]+c[255&H]+c[N>>8]+c[255&N]+c[$>>8]+c[255&$]+c[L>>8]+c[255&L]+c[F>>8]+c[255&F]+c[R>>8]+c[255&R]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[D>>8]+c[255&D]+c[b>>8]+c[255&b]+c[w>>8]+c[255&w]+c[v>>8]+c[255&v]+c[f>>8]+c[255&f]+c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s],1024)}return t=D,n=T,r=R,o=L,i=N,s=W,a=G,S("1a"),b(!1),_(),{hash:w,setKeyspace:function(e){if(52!==e&&!p[e])throw new Error("Supported FNV keyspacs: 32, 52, 64, 128, 256, 512, and 1024 bit");f=e},version:S,useUTF8:b,seed:_,fast1a32:function(e){var t,n=e.length-3,r=0,o=40389,i=0,s=33052;for(t=0;t<n;)i=403*s,i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),s=(i+=(o^=e.charCodeAt(t++))<<8)+((r=403*o)>>>16)&65535,o=65535&r;for(;t<n+3;)i=403*s,s=(i+=(o^=e.charCodeAt(t++))<<8)+((r=403*o)>>>16)&65535,o=65535&r;return(s<<16>>>0)+o},fast1a32hex:function(e){var t,n=e.length-3,r=0,o=40389,i=0,s=33052;for(t=0;t<n;)i=403*s,i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),i+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=403*o),i=403*(s=i+(r>>>16)&65535),s=(i+=(o^=e.charCodeAt(t++))<<8)+((r=403*o)>>>16)&65535,o=65535&r;for(;t<n+3;)i=403*s,s=(i+=(o^=e.charCodeAt(t++))<<8)+((r=403*o)>>>16)&65535,o=65535&r;return c[s>>>8&255]+c[255&s]+c[o>>>8&255]+c[255&o]},fast1a52:function(e){var t,n=e.length-3,r=0,o=8997,i=0,s=33826,a=0,c=40164,l=0,u=52210;for(t=0;t<n;)i=435*s,a=435*c,l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),u=(l+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),u=(l+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),u=(l+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(c=65535&a),l=435*u,a+=(o^=e.charCodeAt(t++))<<8,l+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),u=l+((a+=i>>>16)>>>16)&65535,c=65535&a;for(;t<n+3;)i=435*s,a=435*c,l=435*u,a+=(o^=e.charCodeAt(t++))<<8,l+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),u=l+((a+=i>>>16)>>>16)&65535,c=65535&a;return 281474976710656*(15&u)+4294967296*c+65536*s+(o^u>>4)},fast1a52hex:function(e){var t,n=e.length-3,r=0,o=8997,i=0,s=33826,a=0,u=40164,d=0,h=52210;for(t=0;t<n;)i=435*s,a=435*u,d=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),h=(d+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),h=(d+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),h=(d+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(u=65535&a),d=435*h,a+=(o^=e.charCodeAt(t++))<<8,d+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),h=d+((a+=i>>>16)>>>16)&65535,u=65535&a;for(;t<n+3;)i=435*s,a=435*u,d=435*h,a+=(o^=e.charCodeAt(t++))<<8,d+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),h=d+((a+=i>>>16)>>>16)&65535,u=65535&a;return l[15&h]+c[u>>8]+c[255&u]+c[s>>8]+c[255&s]+c[o>>8^h>>12]+c[255&(o^h>>4)]},fast1a64:function(e){var t,n=e.length-3,r=0,o=8997,i=0,s=33826,a=0,l=40164,u=0,d=52210;for(t=0;t<n;)i=435*s,a=435*l,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),d=(u+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),d=(u+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(r=435*o),d=(u+=s<<8)+((a+=(i+=r>>>16)>>>16)>>>16)&65535,i=435*(s=65535&i),a=435*(l=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),d=u+((a+=i>>>16)>>>16)&65535,l=65535&a;for(;t<n+3;)i=435*s,a=435*l,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=s<<8,o=65535&(r=435*o),s=65535&(i+=r>>>16),d=u+((a+=i>>>16)>>>16)&65535,l=65535&a;return c[d>>8]+c[255&d]+c[l>>8]+c[255&l]+c[s>>8]+c[255&s]+c[o>>8]+c[255&o]},fast1a32utf:function(e){var t,n,r=e.length,o=0,i=40389,s=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?i^=t:t<2048?(s=403*a,a=(s+=(i^=t>>6|192)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=403*a,s+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=t>>12&63|128)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):(s=403*a,s+=(i^=t>>12|224)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128),s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o;return(a<<16>>>0)+i},fast1a32hexutf:function(e){var t,n,r=e.length,o=0,i=40389,s=0,a=33052;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?i^=t:t<2048?(s=403*a,a=(s+=(i^=t>>6|192)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=403*a,s+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),s+=(i^=t>>12&63|128)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128):(s=403*a,s+=(i^=t>>12|224)<<8,i=65535&(o=403*i),s=403*(a=s+(o>>>16)&65535),a=(s+=(i^=t>>6&63|128)<<8)+((o=403*i)>>>16)&65535,i=65535&o,i^=63&t|128),s=403*a,a=(s+=i<<8)+((o=403*i)>>>16)&65535,i=65535&o;return c[a>>>8&255]+c[255&a]+c[i>>>8&255]+c[255&i]},fast1a52utf:function(e){var t,n,r=e.length,o=0,i=8997,s=0,a=33826,c=0,l=40164,u=0,d=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?i^=t:t<2048?(s=435*a,c=435*l,u=435*d,c+=(i^=t>>6|192)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,c=435*l,u=435*d,c+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>6&63|128)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128):(s=435*a,c=435*l,u=435*d,c+=(i^=t>>12|224)<<8,i=65535&(o=435*i),d=(u+=a<<8)+((c+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),c=435*(l=65535&c),u=435*d,c+=(i^=t>>6&63|128)<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c,i^=63&t|128),s=435*a,c=435*l,u=435*d,c+=i<<8,u+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),d=u+((c+=s>>>16)>>>16)&65535,l=65535&c;return 281474976710656*(15&d)+4294967296*l+65536*a+(i^d>>4)},fast1a52hexutf:function(e){var t,n,r=e.length,o=0,i=8997,s=0,a=33826,u=0,d=40164,h=0,f=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?i^=t:t<2048?(s=435*a,u=435*d,h=435*f,u+=(i^=t>>6|192)<<8,h+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),f=h+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,u=435*d,h=435*f,u+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,i=65535&(o=435*i),f=(h+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*f,u+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),f=(h+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*f,u+=(i^=t>>6&63|128)<<8,h+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),f=h+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128):(s=435*a,u=435*d,h=435*f,u+=(i^=t>>12|224)<<8,i=65535&(o=435*i),f=(h+=a<<8)+((u+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),u=435*(d=65535&u),h=435*f,u+=(i^=t>>6&63|128)<<8,h+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),f=h+((u+=s>>>16)>>>16)&65535,d=65535&u,i^=63&t|128),s=435*a,u=435*d,h=435*f,u+=i<<8,h+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),f=h+((u+=s>>>16)>>>16)&65535,d=65535&u;return l[15&f]+c[d>>8]+c[255&d]+c[a>>8]+c[255&a]+c[i>>8^f>>12]+c[255&(i^f>>4)]},fast1a64utf:function(e){var t,n,r=e.length,o=0,i=8997,s=0,a=33826,l=0,u=40164,d=0,h=52210;for(n=0;n<r;n++)(t=e.charCodeAt(n))<128?i^=t:t<2048?(s=435*a,l=435*u,d=435*h,l+=(i^=t>>6|192)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128):55296==(64512&t)&&n+1<r&&56320==(64512&e.charCodeAt(n+1))?(s=435*a,l=435*u,d=435*h,l+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++n)))>>18|240)<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=t>>12&63|128)<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=t>>6&63|128)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128):(s=435*a,l=435*u,d=435*h,l+=(i^=t>>12|224)<<8,i=65535&(o=435*i),h=(d+=a<<8)+((l+=(s+=o>>>16)>>>16)>>>16)&65535,s=435*(a=65535&s),l=435*(u=65535&l),d=435*h,l+=(i^=t>>6&63|128)<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l,i^=63&t|128),s=435*a,l=435*u,d=435*h,l+=i<<8,d+=a<<8,i=65535&(o=435*i),a=65535&(s+=o>>>16),h=d+((l+=s>>>16)>>>16)&65535,u=65535&l;return c[h>>8]+c[255&h]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[i>>8]+c[255&i]}}}();void 0!==e.exports&&(e.exports=t)},670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>g,BaseTelemetryPlugin:()=>L.s,DiagnosticLogger:()=>l.wq,EventLatency:()=>w,EventPersistence:()=>b,EventPropertyType:()=>S,EventsDiscardedReason:()=>$.x,FullVersionString:()=>f.xE,InternalAppInsightsCore:()=>u._,LoggingSeverity:()=>F,MinChannelPriorty:()=>A,NotificationManager:()=>O.h,PerfEvent:()=>s.Q6,PerfManager:()=>s.NS,ProcessTelemetryContext:()=>M.W0,TraceLevel:()=>_,Undefined:()=>Q.bA,ValueKind:()=>y,ValueSanitizer:()=>R,Version:()=>f.Rx,_InternalLogMessage:()=>l.WD,__getRegisteredEvents:()=>N.El,_logInternalMessage:()=>l.Oc,_throwInternal:()=>l.ZP,_warnToConsole:()=>l.OG,addEventHandler:()=>N.So,addEventListeners:()=>N.lQ,addPageHideEventListener:()=>N.Fc,addPageShowEventListener:()=>N.oS,addPageUnloadEventListener:()=>N.ee,areCookiesSupported:()=>ee.gi,arrForEach:()=>I.I,arrIndexOf:()=>T.r,arrMap:()=>z.W,arrReduce:()=>q.K,attachEvent:()=>N.Q3,blockDynamicConversion:()=>oe.V9,cookieAvailable:()=>ee.gi,createCookieMgr:()=>ee.xN,createDynamicConfig:()=>a.e,createEnumStyle:()=>v.H,createGuid:()=>f.gj,createProcessTelemetryContext:()=>M.i8,createTraceParent:()=>re.wk,createUniqueNamespace:()=>te.Z,createUnloadHandlerContainer:()=>ne.P,dateNow:()=>G.f,detachEvent:()=>N.Ym,disallowsSameSiteNone:()=>ee.It,doPerf:()=>s.r2,dumpObj:()=>c.m,eventOff:()=>N.ML,eventOn:()=>N.mB,extend:()=>f.X$,findW3cTraceParent:()=>re.ef,forceDynamicConversion:()=>oe.Hf,formatTraceParent:()=>re.L0,generateW3CId:()=>K.cL,getCommonSchemaMetaData:()=>f.Go,getConsole:()=>Y.U5,getCookieValue:()=>f.UM,getCrypto:()=>Y.MY,getDocument:()=>Z.YE,getDynamicConfigHandler:()=>oe.QA,getExceptionName:()=>U.lL,getFieldValueType:()=>f.cq,getGlobal:()=>Z.mS,getGlobalInst:()=>Z.zS,getHistory:()=>Z.JK,getIEVersion:()=>Y.L0,getISOString:()=>U._u,getJSON:()=>Y.hm,getLocation:()=>Y.g$,getMsCrypto:()=>Y.iN,getNavigator:()=>Z.w3,getPerformance:()=>J.FJ,getSetValue:()=>U.c2,getTenantId:()=>f.EO,getTime:()=>f.WB,getWindow:()=>Z.zk,hasDocument:()=>Z.Wt,hasHistory:()=>Z.tw,hasJSON:()=>Y.Z,hasNavigator:()=>Z.w9,hasOwnProperty:()=>B.v,hasWindow:()=>Z.Vd,isArray:()=>D.cy,isArrayValid:()=>f.wJ,isBeaconsSupported:()=>Y.Uf,isBoolean:()=>D.Lm,isChromium:()=>f.F2,isDate:()=>D.$P,isDocumentObjectAvailable:()=>f.g8,isError:()=>D.bJ,isFetchSupported:()=>Y.R7,isFunction:()=>D.Tn,isGreaterThanZero:()=>f.ei,isIE:()=>Y.lT,isLatency:()=>f.Hh,isNotTruthy:()=>D.wo,isNullOrUndefined:()=>D.hX,isNumber:()=>D.Et,isObject:()=>D.Gv,isReactNative:()=>Y.lV,isSampledFlag:()=>re.N7,isString:()=>D.Kg,isTruthy:()=>D.zz,isTypeof:()=>D.Ed,isUint8ArrayAvailable:()=>f.h3,isUndefined:()=>D.b0,isValidSpanId:()=>re.wN,isValidTraceId:()=>re.hX,isValidTraceParent:()=>re.mJ,isValueAssigned:()=>f.yD,isValueKind:()=>f.m0,isWindowObjectAvailable:()=>f.P$,isXhrSupported:()=>Y.xk,mergeEvtNamespace:()=>N.Hm,newGuid:()=>K.aq,newId:()=>X.Si,normalizeJsName:()=>U.cH,objDefineAccessors:()=>V.r,objForEachKey:()=>C.z,objFreeze:()=>d.N6,objKeys:()=>d.cG,objSeal:()=>d.js,onConfigChange:()=>a.a,openXhr:()=>f.H$,optimizeObject:()=>U.hW,parseTraceParent:()=>re.ZI,perfNow:()=>J.UU,proxyAssign:()=>U.qz,proxyFunctionAs:()=>U.RF,proxyFunctions:()=>U.o$,random32:()=>X.VN,randomValue:()=>X.Z1,removeEventHandler:()=>N.zh,removeEventListeners:()=>N.Wg,removePageHideEventListener:()=>N.sq,removePageShowEventListener:()=>N.vF,removePageUnloadEventListener:()=>N.Ds,safeGetCookieMgr:()=>ee.um,safeGetLogger:()=>l.y0,sanitizeProperty:()=>f.TC,setEnableEnvMocks:()=>Y.cU,setProcessTelemetryTimings:()=>f.u9,setValue:()=>U.KY,strContains:()=>U.Ju,strEndsWith:()=>j.C,strFunction:()=>Q.hW,strObject:()=>Q._1,strPrototype:()=>Q.vR,strStartsWith:()=>H.t,strTrim:()=>W.EH,strUndefined:()=>Q.bA,throwError:()=>i.$8,toISOString:()=>U._u,useXDomainRequest:()=>Y.PV});var r=n(659),o=n(8279),i=n(3517),s=n(5775),a=n(9622),c=n(8693),l=n(3775),u=n(9379),d=n(1324),h=n(937),f=n(4822),p=n(1739),m=(0,d.ZH)({endpointUrl:h.S,propertyStorageOverride:{isVal:function(e){return!e||e.getProperty&&e.setProperty||(0,i.$8)("Invalid property storage override passed."),!0}}}),g=function(e){function t(){var n=e.call(this)||this;return(0,o.A)(t,n,(function(e,t){e[p.mE]=function(n,r,o,i){(0,s.r2)(e,(function(){return"AppInsightsCore.initialize"}),(function(){try{t[p.mE]((0,a.e)(n,m,o||e[p.Uw],!1).cfg,r,o,i)}catch(t){var s=e[p.Uw],u=(0,c.m)(t);-1!==u[p.Sj]("channels")&&(u+="\n - Channels must be provided through config.channels only!"),(0,l.ZP)(s,1,514,"SDK Initialization Failed - no telemetry will be sent: "+u)}}),(function(){return{config:n,extensions:r,logger:o,notificationManager:i}}))},e.track=function(n){(0,s.r2)(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r[p.dg]=r[p.dg]||{},r[p.dg].trackStart=(0,f.WB)(),(0,f.Hh)(r.latency)||(r.latency=1);var o=r.ext=r.ext||{};o.sdk=o.sdk||{},o.sdk.ver=f.xE;var i=r.baseData=r.baseData||{};i[h._0]=i[h._0]||{};var s=i[h._0];s[h.hj]=s[h.hj]||e.pluginVersionString||h.m5}t.track(r)}),(function(){return{item:n}}),!n.sync)},e[p.h4]=function(e){return t[p.h4](e||"InternalLog")}})),n}return(0,r.qU)(t,e),t.__ieDyn=1,t}(u._),v=n(4282),y=(0,v.H)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),w=(0,v.H)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),S=(0,v.H)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),b=(0,v.H)({Normal:1,Critical:2}),_=(0,v.H)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),D=n(6668),C=n(9018),E=n(4016),P=n(1742),T=n(6832),k=(0,P.b2)("includes",E.wM,(function(e,t,n){return-1!==(0,T.r)(e,t,n)})),I=n(5439),x=n(4657),R=function(){function e(e){var t=this,n={},r=[],o=[];function i(e,t){var i,s=n[e];if(s&&(i=s[t]),!i&&null!==i){if((0,D.Kg)(e)&&(0,D.Kg)(t))if(o[p.oI]>0){for(var a=0;a<o[p.oI];a++)if(o[a][p.hF](e,t)){i={canHandle:!0,fieldHandler:o[a]};break}}else 0===r[p.oI]&&(i={canHandle:!0});if(!i&&null!==i)for(i=null,a=0;a<r[p.oI];a++)if(r[a][p.hF](e,t)){i={canHandle:!0,handler:r[a],fieldHandler:null};break}s||(s=n[e]={}),s[t]=i}return i}function s(e,t,n,r,o,i){if(e.handler)return e.handler.property(t,n,o,i);if(!(0,D.hX)(o[p.QV])){if(!(4096&~r&&(0,f.m0)(o[p.QV])))return null;o[p.pF]=o[p.pF].toString()}return c(e.fieldHandler,t,n,r,o)}function a(e,t,n){return(0,f.yD)(n)?{value:n}:null}function c(e,n,r,o,i){if(i&&e){var s=e.getSanitizer(n,r,o,i[p.QV],i.propertyType);if(s)if(4===o){var l={},u=i[p.pF];(0,C.z)(u,(function(t,o){var i=n+"."+r;if((0,f.yD)(o)){var s=a(0,0,o);(s=c(e,i,t,(0,f.cq)(o),s))&&(l[t]=s[p.pF])}})),i[p.pF]=l}else{var d={path:n,name:r,type:o,prop:i,sanitizer:t};i=s.call(t,d)}}return i}e&&o.push(e),t.clearCache=function(){n={}},t.addSanitizer=function(e){e&&(k(r,e)||r.push(e),n={})},t.addFieldSanitizer=function(e){e&&(k(o,e)||o.push(e),n={})},t[p.Rl]=function(e){if(e){var t=(0,T.r)(r,e);-1!==t&&(r.splice(t,1),n={}),(0,I.I)(r,(function(t){t&&t[p.Rl]&&t[p.Rl](e)}))}},t[p.Mr]=function(e){if(e){var t=(0,T.r)(o,e);-1!==t&&(o.splice(t,1),n={}),(0,I.I)(r,(function(t){t&&t[p.Mr]&&t[p.Mr](e)}))}},t.isEmpty=function(){return(0,x.R)(r)+(0,x.R)(o)===0},t[p.hF]=function(e,t){var n=i(e,t);return!!n&&n[p.nw]},t[p.pF]=function(e,t,n,r){var o=i(e,t);if(o&&o[p.nw]){if(!o||!o[p.nw])return null;if(o.handler)return o.handler[p.pF](e,t,n,r);if(!(0,D.Kg)(t)||(0,D.hX)(n)||n===h.m5)return null;var c=null,l=(0,f.cq)(n);if(8192&~l)1!==l&&2!==l&&3!==l&&4096&~l?4===l&&(c=a(0,0,r?JSON.stringify(n):n)):c=a(0,0,n);else{var u=-8193&l;if(c=n,!(0,f.yD)(c[p.pF])||1!==u&&2!==u&&3!==u&&4096&~u)return null}if(c)return s(o,e,t,l,c,r)}return null},t.property=function(e,t,n,r){var o=i(e,t);if(!o||!o[p.nw])return null;if(!(0,D.Kg)(t)||(0,D.hX)(n)||!(0,f.yD)(n[p.pF]))return null;var a=(0,f.cq)(n[p.pF]);return 0===a?null:s(o,e,t,a,n,r)}}return e.getFieldType=f.cq,e}(),A=100,F=(0,v.H)({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),O=n(1356),L=n(8257),M=n(2317),$=n(3662),B=n(3266),N=n(6149),U=n(3673),H=n(7931),j=n(2494),W=n(1374),z=n(4335),q=n(1011),V=n(6336),G=n(225),K=n(9882),J=n(558),X=n(6535),Z=n(3076),Y=n(7292),Q=n(5664),ee=n(5034),te=n(4276),ne=n(836),re=n(1864),oe=n(9147)},937:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,_0:()=>s,hj:()=>i,m5:()=>r});var r="",o="https://browser.events.data.microsoft.com/OneCollector/1.0/",i="version",s="properties"},4822:(e,t,n)=>{"use strict";n.d(t,{EO:()=>T,F2:()=>U,Go:()=>R,H$:()=>H,Hh:()=>I,P$:()=>E,Rx:()=>g,TC:()=>x,UM:()=>A,WB:()=>L,X$:()=>O,cq:()=>N,ei:()=>j,g8:()=>C,gj:()=>F,h3:()=>k,m0:()=>M,u9:()=>B,wJ:()=>$,xE:()=>v,yD:()=>P});var r,o=n(3076),i=n(6668),s=n(7292),a=n(9882),c=n(9018),l=n(5439),u=n(558),d=n(5664),h=n(5881),f=n(3178),p=n(937),m=n(1739),g="4.0.4",v="1DS-Web-JS-"+g,y=d.Wy.hasOwnProperty,w="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",S="withCredentials",b="timeout",_=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),D=null,C=(0,o.Wt)(),E=(0,o.Vd)();function P(e){return!(e===p.m5||(0,i.hX)(e))}function T(e){if(e){var t=(0,h.H)(e,"-");if(t>-1)return(0,f.ZW)(e,t)}return p.m5}function k(){return null===D&&(D=!(0,i.b0)(Uint8Array)&&!function(){var e=(0,o.w3)();if(!(0,i.b0)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t[m.Sj]("safari")>=0||t[m.Sj]("firefox")>=0)&&t[m.Sj]("chrome")<0)return!0}return!1}()&&!(0,s.lV)()),D}function I(e){return!!(e&&(0,i.Et)(e)&&e>=1&&e<=4)}function x(e,t,n){if(!t&&!P(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||(0,i.cy)(t))t={value:t};else if("object"!==r||y.call(t,"value")){if((0,i.hX)(t[m.pF])||t[m.pF]===p.m5||!(0,i.Kg)(t[m.pF])&&!(0,i.Et)(t[m.pF])&&!(0,i.Lm)(t[m.pF])&&!(0,i.cy)(t[m.pF]))return null}else t={value:n?JSON.stringify(t):t};if((0,i.cy)(t[m.pF])&&!$(t[m.pF]))return null;if(!(0,i.hX)(t[m.QV])){if((0,i.cy)(t[m.pF])||!M(t[m.QV]))return null;t[m.pF]=t[m.pF].toString()}return t}function R(e,t,n){var r=-1;if(!(0,i.b0)(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var o=_[N(e)]||-1;-1!==r&&-1!==o?r|=o:6===o&&(r=o)}return r}function A(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||p.m5}function F(e){void 0===e&&(e="D");var t=(0,a.aq)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,p.m5)),t}function O(e,t,n,r,o){var s={},a=!1,u=0,d=arguments[m.oI],h=arguments;for((0,i.Lm)(h[0])&&(a=h[0],u++);u<d;u++)e=h[u],(0,c.z)(e,(function(e,t){a&&t&&(0,i.Gv)(t)?(0,i.cy)(t)?(s[e]=s[e]||[],(0,l.I)(t,(function(t,n){t&&(0,i.Gv)(t)?s[e][n]=O(!0,s[e][n],t):s[e][n]=t}))):s[e]=O(!0,s[e],t):s[e]=t}));return s}var L=u.UU;function M(e){return 0===e||e>0&&e<=13||32===e}function $(e){return e[m.oI]>0}function B(e,t){var n=e;n[m.dg]=n[m.dg]||{},n[m.dg][m.Jg]=n[m.dg][m.Jg]||{},n[m.dg][m.Jg][t]=L()}function N(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===d._1&&(t=4,(0,i.cy)(e)?(t=4096,e[m.oI]>0&&(t|=N(e[0]))):y.call(e,"value")&&(t=8192|N(e[m.pF])))}return t}function U(){return!!(0,o.zS)("chrome")}function H(e,t,n,r,o,i){function s(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===o&&(o=!1);var a=new XMLHttpRequest;return r&&s(a,w,r),n&&s(a,S,n),a.open(e,t,!o),n&&s(a,S,n),!o&&i&&s(a,b,i),a}function j(e){return e>0}},1739:(e,t,n)=>{"use strict";n.d(t,{Jg:()=>d,Mr:()=>p,QV:()=>l,Rl:()=>f,Sj:()=>i,Uw:()=>o,dg:()=>s,h4:()=>a,hF:()=>h,mE:()=>r,nw:()=>m,oI:()=>u,pF:()=>c});var r="initialize",o="logger",i="indexOf",s="timings",a="pollInternalLogs",c="value",l="kind",u="length",d="processTelemetryStart",h="handleField",f="rmSanitizer",p="rmFieldSanitizer",m="canHandle"},8916:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BE_PROFILE:()=>i,NRT_PROFILE:()=>o,PostChannel:()=>Lt,RT_PROFILE:()=>r});var r="REAL_TIME",o="NEAR_REAL_TIME",i="BEST_EFFORT",s=n(659),a=n(8279),c=n(4822),l=n(6668),u=n(5775),d=n(6149),h=n(4276),f=n(9622),p=n(2317),m=n(3076),g=n(3673),v=n(3662),y=n(5439),w=n(9018),S=n(3775),b=n(8257),_=n(636),D=n(1324),C="",E="POST",P="drop",T="requeue",k="application/x-json-stream",I="cache-control",x="content-type",R="kill-duration",A="time-delta-millis",F="client-version",O="client-id",L="time-delta-to-apply-millis",M="upload-time",$="apikey",B="AuthMsaDeviceTicket",N="AuthXToken",U="msfpc",H="trace",j="user",W="allowRequestSending",z="firstRequestSent",q="shouldAddClockSkewHeaders",V="getClockSkewHeaderValue",G="setClockSkew",K="length",J="concat",X="iKey",Z="count",Y="events",Q="push",ee="split",te="splice",ne="toLowerCase",re="hdrs",oe="useHdrs",ie="initialize",se="setTimeoutOverride",ae="clearTimeoutOverride",ce="overrideEndpointUrl",le="avoidOptions",ue="enableCompoundKey",de="disableXhrSync",he="disableFetchKeepAlive",fe="useSendBeacon",pe="alwaysUseXhrOverride",me="urlString",ge="timeout",ve="ontimeout",ye="data",we="_sendReason",Se="headers",be="getResponseHeader",_e="getAllResponseHeaders",De="_thePayload",Ce="batches",Ee="sendType",Pe="canSendRequest",Te="sendQueuedRequests",ke="isCompletelyIdle",Ie="setUnloading",xe="sendSynchronousBatch",Re="_transport",Ae="getWParam",Fe="isBeacon",Oe="timings",Le="isTeardown",Me="isSync",$e="sendPOST",Be="setKillSwitchTenants",Ne="_backOffTransmission",Ue="identifier",He="eventsLimitInMem",je="autoFlushEventsLimit",We="sendAttempt",ze="latency",qe="baseData",Ve="sync";function Ge(e){var t=(e.ext||{}).intweb;return t&&(0,c.yD)(t[U])?t[U]:null}function Ke(e){for(var t=null,n=0;null===t&&n<e[K];n++)t=Ge(e[n]);return t}var Je=function(){function e(t,n){var r=n?[][J](n):[],o=this,i=Ke(r);o[X]=function(){return t},o.Msfpc=function(){return i||C},o[Z]=function(){return r[K]},o[Y]=function(){return r},o.addEvent=function(e){return!!e&&(r[Q](e),i||(i=Ge(e)),!0)},o[ee]=function(n,o){var s;if(n<r[K]){var a=r[K]-n;(0,l.hX)(o)||(a=o<a?o:a),s=r[te](n,a),i=Ke(r)}return new e(t,s)}}return e.create=function(t,n){return new e(t,n)},e}(),Xe=n(3266),Ze=n(7292),Ye=n(1374),Qe=n(8693),et=n(225),tt=n(5664),nt=n(1187),rt=function(){function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",i=!1;(0,a.A)(e,this,(function(e){e[W]=function(){return t},e[z]=function(){r&&(r=!1,i||(t=!1))},e[q]=function(){return n},e[V]=function(){return o},e[G]=function(e){i||(e?(o=e,n=!0,i=!0):n=!1,t=!0)}}))}return e.__ieDyn=1,e}(),ot=function(){function e(){var t={};(0,a.A)(e,this,(function(e){e[Be]=function(e,n){if(e&&n)try{var r=(s=e[ee](","),a=[],s&&(0,y.I)(s,(function(e){a[Q]((0,Ye.EH)(e))})),a);if("this-request-only"===n)return r;for(var o=1e3*parseInt(n,10),i=0;i<r[K];++i)t[r[i]]=(0,et.f)()+o}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,r=(0,Ye.EH)(e);return void 0!==n[r]&&n[r]>(0,et.f)()||(delete n[r],!1)}}))}return e.__ieDyn=1,e}();function it(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}var st=n(6832),at=n(7931),ct=n(3178),lt=2e6,ut=Math.min(lt,65e3),dt="metadata",ht="f",ft=/\./,pt=function(){function e(t,n,r,o){var i="data",s="baseData",d=!!o,h=!0,f=n,p={};(0,a.A)(e,this,(function(e){function n(e,t,o,i,s,a,u){(0,w.z)(e,(function(e,h){var m=null;if(h||(0,c.yD)(h)){var g=o,v=e,y=s,w=t;if(d&&!i&&ft.test(e)){var S=e.split("."),b=S.length;if(b>1){y&&(y=y.slice());for(var _=0;_<b-1;_++){var D=S[_];w=w[D]=w[D]||{},g+="."+D,y&&y.push(D)}v=S[b-1]}}var C=i&&function(e){var t=p[e];return void 0===t&&(e.length>=7&&(t=(0,at.t)(e,"ext.metadata")||(0,at.t)(e,"ext.web")),p[e]=t),t}(g);if(m=!C&&f&&f.handleField(g,v)?f.value(g,v,h,r):(0,c.TC)(v,h,r)){var E=m.value;if(w[v]=E,a&&a(y,v,m),u&&"object"==typeof E&&!(0,l.cy)(E)){var P=y;P&&(P=P.slice()).push(v),n(h,E,g+"."+v,i,P,a,u)}}}}))}e.createPayload=function(e,t,n,r,o,i){return{apiKeys:[],payloadBlob:C,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:i,sendReason:o}},e.appendPayload=function(n,r,o){var i=n&&r&&!n.overflow;return i&&(0,u.r2)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),i=n.payloadBlob,s=n.numEvents,a=!1,c=[],l=[],u=n.isBeacon,d=u?65e3:3984588,h=u?ut:lt,f=0,p=0;f<t.length;){var m=t[f];if(m){if(s>=o){n.overflow=r.split(f);break}var g=e.getEventBlob(m);if(g&&g.length<=h){var v=g.length;if(i.length+v>d){n.overflow=r.split(f);break}i&&(i+="\n"),i+=g,++p>20&&((0,ct.hK)(i,0,1),p=0),a=!0,s++}else g?c.push(m):l.push(m),t.splice(f,1),f--}f++}if(c.length>0&&n.sizeExceed.push(Je.create(r.iKey(),c)),l.length>0&&n.failedEvts.push(Je.create(r.iKey(),l)),a){n.batches.push(r),n.payloadBlob=i,n.numEvents=s;var y=r.iKey();-1===(0,st.r)(n.apiKeys,y)&&n.apiKeys.push(y)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:o}})),i},e.getEventBlob=function(e){try{return(0,u.r2)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.EO)(e.iKey);var r={},o=e.ext;o&&(t.ext=r,(0,w.z)(o,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var a=t[i]={};a.baseType=e.baseType;var l=a[s]={};return n(e.baseData,l,s,!1,[s],(function(e,t,n){mt(r,e,t,n)}),h),n(e.data,a,i,!1,[],(function(e,t,n){mt(r,e,t,n)}),h),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))}return e.__ieDyn=1,e}();function mt(e,t,n,r){if(r&&e){var o=(0,c.Go)(r.value,r.kind,r.propertyType);if(o>-1){var i=e[dt];i||(i=e[dt]={f:{}});var s=i[ht];if(s||(s=i[ht]={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var d=s[u][ht];d||(d=s[u][ht]={}),s=d}s=s[n]={},(0,l.cy)(r.value)?s.a={t:o}:s.t=o}}}var gt,vt=n(6874);function yt(e,t){return{set:function(n,r){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];return(0,vt.vK)([e,t],n,r,o)}}}var wt="sendAttempt",St="&NoResponseBody=true",bt="?cors=true&"+x[ne]()+"="+k,_t=((gt={})[1]=T,gt[100]=T,gt[200]="sent",gt[8004]=P,gt[8003]=P,gt),Dt={},Ct={};function Et(e,t,n){Dt[e]=t,!1!==n&&(Ct[t]=e)}function Pt(e){try{return e.responseText}catch(e){}return C}function Tt(e,t){var n=!1;if(e&&t){var r=(0,D.cG)(e);if(r&&r[K]>0)for(var o=t[ne](),i=0;i<r[K];i++){var s=r[i];if(s&&(0,Xe.v)(t,s)&&s[ne]()===o){n=!0;break}}}return n}function kt(e,t,n,r){t&&n&&n[K]>0&&(r&&Dt[t]?(e[re][Dt[t]]=n,e[oe]=!0):e.url+="&"+t+"="+n)}function It(e,t){return t&&((0,l.Et)(t)?e=[t][J](e):(0,l.cy)(t)&&(e=t[J](e))),e}Et(B,B,!1),Et(F,F),Et(O,"Client-Id"),Et($,$),Et(L,L),Et(M,M),Et(N,N);var xt=function(){function e(t,n,r,o){var i,s,d,h,p,g,v,b,_,T,B,N,H,j,Ue,He=new ot,je=!1,We=new rt,ze=!1,qe=0,Ve=!0,Ge=[],Ke={},Je=[],Xe=null,st=!1,at=!1,ct=!1,lt=[],ut=[];(0,a.A)(e,this,(function(e){!function(){var e;i=null,He=new ot,je=!1,We=new rt,ze=!1,qe=0,s=null,d=null,h=null,p=null,Ve=!0,Ge=[],Ke={},Je=[],Xe=null,st=!1,g=null,at=!1,ct=!1,v=e,b=e,_=e,T=e,B=e,lt=[],N=e,H=e,ut=[],j=!1,Ue=yt()}();var a=!0;function dt(e,t){for(var n=0,r=null,o=0;null==r&&o<e[K];)1===(n=e[o])?(0,Ze.PV)()?r=ht:(0,Ze.xk)()&&(r=mt):2===n&&(0,Ze.R7)(t)&&(!t||t&&!_)?r=ft:ze&&3===n&&(0,Ze.Uf)()&&(r=vt),o++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function ht(e,t,n){var r=new XDomainRequest;r.open(E,e[me]),e[ge]&&(r[ge]=e[ge]),r.onload=function(){var e=Pt(r);gt(t,200,{},e),Bt(e)},r.onerror=function(){gt(t,400,{})},r[ve]=function(){gt(t,500,{})},r.onprogress=function(){},n?r.send(e[ye]):Ue.set((function(){r.send(e[ye])}),0)}function ft(e,t,n){var r,o=e[me],i=!1,s=!1,c=((r={body:e[ye],method:E}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(c.keepalive=!0,2===e[we]&&(i=!0,B&&(o+=St))),a&&(c.credentials="include"),e.headers&&(0,D.cG)(e.headers)[K]>0&&(c[Se]=e[Se]);var l=function(e,n,r){s||(s=!0,gt(t,e,n,r),Bt(r))},u=function(){s||(s=!0,gt(t,0,{}))};fetch(o,c).then((function(e){var t={},n=C,r=e[Se];r&&r.forEach((function(e,n){t[n]=e})),e.body?e.text().then((function(r){n=r,l(e.status,t,n)}),u):l(e.status,t,"")})).catch(u),i&&!s&&(s=!0,gt(t,200,{})),!s&&e[ge]>0&&Ue.set((function(){s||(s=!0,gt(t,500,{}))}),e[ge])}function mt(e,t,n){var r=e[me];function o(e,t,n){if(!e[n]&&t&&t[be]){var r=t[be](n);r&&(e[n]=(0,Ye.EH)(r))}return e}function i(e,n){gt(t,e.status,function(e){var t={};return e[_e]?t=function(e){var t={};if((0,l.Kg)(e)){var n=(0,Ye.EH)(e)[ee](/[\r\n]+/);(0,y.I)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=(0,Ye.EH)(e.substring(0,n))[ne](),o=(0,Ye.EH)(e.substring(n+1));t[r]=o}else t[(0,Ye.EH)(e)]=1}}))}return t}(e[_e]()):(t=o(t,e,A),t=o(t,e,R),t=o(t,e,"kill-duration-seconds")),t}(e),n)}n&&e[de]&&(n=!1);var s=(0,c.H$)(E,r,a,!0,n,e[ge]);(0,w.z)(e[Se],(function(e,t){s.setRequestHeader(e,t)})),s.onload=function(){var e=Pt(s);i(s,e),Bt(e)},s.onerror=function(){i(s)},s[ve]=function(){i(s)},s.send(e[ye])}function gt(e,t,n,r){try{e(t,n,r)}catch(e){(0,S.ZP)(d,2,518,(0,Qe.m)(e))}}function vt(e,t,n){var r=200,o=e[De],i=e[me]+(B?St:C);try{var s=(0,m.w3)();if(!s.sendBeacon(i,e[ye]))if(o){var a=!!p.getPlugin("LocalStorage"),c=[],l=[];(0,y.I)(o[Ce],(function(e){if(c&&e&&e[Z]()>0)for(var t=e[Y](),n=0;n<t[K];n++){if(!s.sendBeacon(i,Xe.getEventBlob(t[n]))){c[Q](e[ee](n));break}l[Q](e[n])}else c[Q](e[ee](0))})),l[K]>0&&(o.sentEvts=l),a||Nt(c,8003,o[Ee],!0)}else r=0}catch(e){(0,S.OG)(d,"Failed to send telemetry using sendBeacon API. Ex:"+(0,Qe.m)(e)),r=0}finally{gt(t,r,{},C)}}function Dt(e){return 2===e||3===e}function Et(e){return at&&Dt(e)&&(e=2),e}function xt(){return!je&&qe<n}function Rt(){var e=Je;return Je=[],e}function At(e,t,n){var r=!1;return e&&e[K]>0&&!je&&h[t]&&Xe&&(r=0!==t||xt()&&(n>0||We[W]())),r}function Ft(e){var t={};return e&&(0,y.I)(e,(function(e,n){t[n]={iKey:e[X](),evts:e[Y]()}})),t}function Ot(e,n,r,o,i){if(e&&0!==e[K])if(je)Nt(e,1,o);else{o=Et(o);try{var s=e,a=0!==o;(0,u.r2)(p,(function(){return"HttpManager:_sendBatches"}),(function(s){s&&(e=e.slice(0));for(var l=[],u=null,d=(0,c.WB)(),f=h[o]||(a?h[1]:h[0]),p=f&&f[Re],m=T&&(at||Dt(o)||3===p||f._isSync&&2===p);At(e,o,n);){var g=e.shift();g&&g[Z]()>0&&(He.isTenantKilled(g[X]())?l[Q](g):(u=u||Xe.createPayload(n,r,a,m,i,o),Xe.appendPayload(u,g,t)?null!==u.overflow&&(e=[u.overflow][J](e),u.overflow=null,Mt(u,d,(0,c.WB)(),i),d=(0,c.WB)(),u=null):(Mt(u,d,(0,c.WB)(),i),d=(0,c.WB)(),e=[g][J](e),u=null)))}u&&Mt(u,d,(0,c.WB)(),i),e[K]>0&&(Je=e[J](Je)),Nt(l,8004,o)}),(function(){return{batches:Ft(s),retryCount:n,isTeardown:r,isSynchronous:a,sendReason:i,useSendBeacon:Dt(o),sendType:o}}),!a)}catch(e){(0,S.ZP)(d,2,48,"Unexpected Exception sending batch: "+(0,Qe.m)(e))}}}function Lt(e,t,n){e[t]=e[t]||{},e[t][s.identifier]=n}function Mt(t,n,o,a){if(t&&t.payloadBlob&&t.payloadBlob[K]>0){var l=!!N,f=h[t.sendType];!Dt(t[Ee])&&t[Fe]&&2===t.sendReason&&(f=h[2]||h[3]||f);var m=ct;(t.isBeacon||3===f[Re])&&(m=!1);var g=function(e,t){var n={url:i,hdrs:{},useHdrs:!1};t?(n[re]=(0,c.X$)(n[re],Ke),n.useHdrs=(0,D.cG)(n.hdrs)[K]>0):(0,w.z)(Ke,(function(e,t){Ct[e]?kt(n,Ct[e],t,!1):(n[re][e]=t,n[oe]=!0)})),kt(n,O,"NO_AUTH",t),kt(n,F,c.xE,t);var r=C;(0,y.I)(e.apiKeys,(function(e){r[K]>0&&(r+=","),r+=e})),kt(n,$,r,t),kt(n,M,(0,et.f)().toString(),t);var o=function(e){for(var t=0;t<e.batches[K];t++){var n=e[Ce][t].Msfpc();if(n)return encodeURIComponent(n)}return C}(e);if((0,c.yD)(o)&&(n.url+="&ext.intweb.msfpc="+o),We[q]()&&kt(n,L,We[V](),t),p[Ae]){var s=p[Ae]();s>=0&&(n.url+="&w="+s)}for(var a=0;a<Ge[K];a++)n.url+="&"+Ge[a].name+"="+Ge[a].value;return n}(t,m);m=m||g[oe];var E=(0,c.WB)();(0,u.r2)(p,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var i=0;i<t.batches[K];i++)for(var h=t[Ce][i][Y](),w=0;w<h[K];w++){var D=h[w];if(st){var C=D[Oe]=D[Oe]||{};Lt(C,"sendEventStart",E),Lt(C,"serializationStart",n),Lt(C,"serializationCompleted",o)}D[wt]>0?D[wt]++:D[wt]=1}Nt(t[Ce],1e3+(a||0),t[Ee],!0);var P={data:t.payloadBlob,urlString:g.url,headers:g[re],_thePayload:t,_sendReason:a,timeout:v,disableXhrSync:b,disableFetchKeepAlive:_};m&&(Tt(P[Se],I)||(P[Se][I]="no-cache, no-store"),Tt(P[Se],x)||(P[Se][x]=k));var T=null;f&&(T=function(n){We[z]();var o=function(n,o){!function(t,n,o,i){var a,l=9e3,u=null,d=!1,h=!1;try{var f=!0;if(typeof t!==tt.bA){if(n){We[G](n[A]);var p=n[R]||n["kill-duration-seconds"];(0,y.I)(He[Be](n["kill-tokens"],p),(function(e){(0,y.I)(o[Ce],(function(t){if(t[X]()===e){u=u||[];var n=t[ee](0);o.numEvents-=n[Z](),u[Q](n)}}))}))}if(200==t||204==t)return void(l=200);((a=t)>=300&&a<500&&408!=a&&429!=a||501==a||505==a||o.numEvents<=0)&&(f=!1),l=9e3+t%1e3}if(f){l=100;var m=o.retryCnt;0===o[Ee]&&(m<r?(d=!0,$t((function(){0===o[Ee]&&qe--,Ot(o[Ce],m+1,o[Le],at?2:o[Ee],5)}),at,it(m))):(h=!0,at&&(l=8001)))}}finally{d||(We[G](),function(t,n,r,o){try{o&&s[Ne]();var i=t[Ce];200===n&&(i=t.sentEvts||t[Ce],o||t[Me]||s._clearBackOff(),function(e){if(st){var t=(0,c.WB)();(0,y.I)(e,(function(e){e&&e[Z]()>0&&function(e,t){st&&(0,y.I)(e,(function(e){Lt(e[Oe]=e[Oe]||{},"sendEventCompleted",t)}))}(e[Y](),t)}))}}(i)),Nt(i,n,t[Ee],!0)}finally{0===t[Ee]&&(qe--,5!==r&&e.sendQueuedRequests(t[Ee],r))}}(o,l,i,h)),Nt(u,8004,o[Ee])}}(n,o,t,a)},i=t[Le]||t[Me];try{f[$e](n,o,i),H&&H(P,n,i,t[Fe])}catch(e){(0,S.OG)(d,"Unexpected exception sending payload. Ex:"+(0,Qe.m)(e)),gt(o,0,{})}}),(0,u.r2)(p,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(T)if(0===t[Ee]&&qe++,l&&!t.isBeacon&&3!==f[Re]){var e={data:P[ye],urlString:P[me],headers:(0,c.X$)({},P[Se]),timeout:P[ge],disableXhrSync:P[de],disableFetchKeepAlive:P[he]},n=!1;(0,u.r2)(p,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{N(e,(function(e){n=!0,Ve||e[De]||(e[De]=e[De]||P[De],e[we]=e[we]||P[we]),T(e)}),t.isSync||t[Le])}catch(e){n||T(P)}}))}else T(P)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:o,sendReason:a}}),t[Me])}t.sizeExceed&&t.sizeExceed[K]>0&&Nt(t.sizeExceed,8003,t[Ee]),t.failedEvts&&t.failedEvts[K]>0&&Nt(t.failedEvts,8002,t[Ee])}function $t(e,t,n){t?e():Ue.set(e,n)}function Bt(e){var t=ut;try{for(var n=0;n<t[K];n++)try{t[n](e)}catch(e){(0,S.ZP)(d,1,519,"Response handler failed: "+e)}if(e){var r=JSON.parse(e);(0,c.yD)(r.webResult)&&(0,c.yD)(r.webResult[U])&&g.set("MSFPC",r.webResult[U],31536e3)}}catch(e){}}function Nt(e,t,n,r){if(e&&e[K]>0&&o){var i=o[(a=t,l=_t[a],(0,c.yD)(l)||(l="oth",a>=9e3&&a<=9999?l="rspFail":a>=8e3&&a<=8999?l=P:a>=1e3&&a<=1999&&(l="send")),l)];if(i){var s=0!==n;(0,u.r2)(p,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){$t((function(){try{i.call(o,e,t,s,n)}catch(e){(0,S.ZP)(d,1,74,"send request notification failed: "+e)}}),r||s,0)}),(function(){return{batches:Ft(e),reason:t,isSync:s,sendSync:r,sendType:n}}),!s)}}var a,l}e[ie]=function(e,t,n){j||(p=t,g=t.getCookieMgr(),d=(s=n).diagLog(),(0,nt.Y)(lt,(0,f.a)(e,(function(e){var r,o=e.cfg,s=e.cfg.extensionConfig[n.identifier];Ue=yt(s[se],s[ae]),(0,c.yD)(o.anonCookieName)?function(e,t,n){for(var r=0;r<e[K];r++)if(e[r].name===t)return void(e[r].value=n);e[Q]({name:t,value:n})}(Ge,"anoncknm",o.anonCookieName):function(e){for(var t=0;t<e[K];t++)if("anoncknm"===e[t].name)return void e[te](t,1)}(Ge),N=s.payloadPreprocessor,H=s.payloadListener;var u=s.httpXHROverride,f=s[ce]?s[ce]:o.endpointUrl;i=f+bt,ct=!!(0,l.b0)(s[le])||!s[le],st=!s.disableEventTimings;var m=s.valueSanitizer,g=s.stringifyObjects,y=!!o[ue];(0,l.b0)(s[ue])||(y=!!s[ue]),v=s.xhrTimeout,b=!!s[de],_=!!s[he],B=!1!==s.addNoResponse,t.getPlugin("LocalStorage")&&(_=!0),ze=!(0,Ze.lV)(),Xe=new pt(p,m,g,y),(0,l.hX)(s[fe])||(ze=!!s[fe]);var w=u,D=s[pe]?u:null,C=s[pe]?u:null,E=[3,2];if(!u){Ve=!1;var P=(0,Ze.g$)();P&&P.protocol&&"file:"===P.protocol[ne]()&&(a=!1);var k=[];(0,Ze.lV)()?(k=[2,1],E=[2,1,3]):k=[1,2,3],(u=dt(k=It(k,s.transports),!1))||(0,S.OG)(d,"No available transport to send events"),w=dt(k,!0)}D||(D=dt(E=It(E,s.unloadTransports),!0)),T=!Ve&&(ze&&(0,Ze.Uf)()||!_&&(0,Ze.R7)(!0)),(r={})[0]=u,r[1]=w||dt([1,2,3],!0),r[2]=D||w||dt([1],!0),r[3]=C||dt([2,3],!0)||w||dt([1],!0),h=r}))),j=!0)},e.addResponseHandler=function(e){return ut[Q](e),{rm:function(){var t=ut.indexOf(e);t>=0&&ut[te](t,1)}}},e._getDbgPlgTargets=function(){return[h[0],He,Xe,h]},e.addHeader=function(e,t){Ke[e]=t},e[Pe]=function(){return xt()&&We[W]()},e[Te]=function(e,t){(0,l.b0)(e)&&(e=0),at&&(e=Et(e),t=2),At(Je,e,0)&&Ot(Rt(),0,!1,e,t||0)},e[ke]=function(){return!je&&0===qe&&0===Je[K]},e[Ie]=function(e){at=e},e.addBatch=function(e){if(e&&e[Z]()>0){if(He.isTenantKilled(e[X]()))return!1;Je[Q](e)}return!0},e.teardown=function(){Je[K]>0&&Ot(Rt(),0,!0,2,2),(0,y.I)(lt,(function(e){e&&e.rm&&e.rm()})),lt=[]},e.pause=function(){je=!0},e.resume=function(){je=!1,e[Te](0,4)},e[xe]=function(e,t,n){e&&e[Z]()>0&&((0,l.hX)(t)&&(t=1),at&&(t=Et(t),n=2),Ot([e],0,!1,t,n||0))}}))}return e.__ieDyn=1,e}(),Rt=1e4,At="eventsDiscarded",Ft=void 0,Ot=(0,D.ZH)({eventsLimitInMem:{isVal:c.ei,v:Rt},immediateEventLimit:{isVal:c.ei,v:500},autoFlushEventsLimit:{isVal:c.ei,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:function(e){return e&&e[$e]},v:Ft},overrideInstrumentationKey:Ft,overrideEndpointUrl:Ft,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Ft,clearTimeoutOverride:Ft,payloadPreprocessor:Ft,payloadListener:Ft,disableEventTimings:Ft,valueSanitizer:Ft,stringifyObjects:Ft,enableCompoundKey:Ft,disableOptimizeObj:!1,transports:Ft,unloadTransports:Ft,useSendBeacon:Ft,disableFetchKeepAlive:Ft,avoidOptions:!1,xhrTimeout:Ft,disableXhrSync:Ft,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:l.Et,v:6},maxUnloadEventRetryAttempts:{isVal:l.Et,v:2},addNoResponse:Ft}),Lt=function(e){function t(){var n,s=e.call(this)||this;s.identifier="PostChannel",s.priority=1011,s.version="4.0.4";var l,b,D,C,E,P,T,k,I,x,R,A,F,O,L,M,$,N,U,W,z,q,V,G,ne,re=!1,oe=[],ce=!1,le=0,ue=0,de={},he=r;return(0,a.A)(t,s,(function(e,t){function s(){(0,d.Ds)(null,N),(0,d.sq)(null,N),(0,d.vF)(null,N)}function a(e){"beforeunload"!==(e||(0,m.zk)().event).type&&(L=!0,k[Ie](L)),_e(2,2)}function fe(e){L=!1,k[Ie](L)}function pe(e,t){if(e[We]||(e[We]=0),e[ze]||(e[ze]=1),e.ext&&e.ext[H]&&delete e.ext[H],e.ext&&e.ext[j]&&e.ext[j].id&&delete e.ext[j].id,O&&(e.ext=(0,g.hW)(e.ext),e[qe]&&(e[qe]=(0,g.hW)(e[qe])),e[ye]&&(e[ye]=(0,g.hW)(e[ye]))),e[Ve])if(P||ce)e[ze]=3,e[Ve]=!1;else if(k)return O&&(e=(0,g.hW)(e)),void k[xe](Je.create(e[X],[e]),!0===e[Ve]?1:e[Ve],3);var n=e[ze],r=ue,o=D;4===n&&(r=le,o=b);var i=!1;if(r<o)i=!Re(e,t);else{var s=1,a=20;4===n&&(s=4,a=1),i=!0,function(e,t,n,r){for(;n<=t;){var o=De(e,t,!0);if(o&&o[Z]()>0){var i=o[ee](0,r),s=i[Z]();if(s>0)return 4===n?le-=s:ue-=s,Xe(At,[i],v.x.QueueFull),!0}n++}return Fe(),!1}(e[X],e[ze],s,a)&&(i=!Re(e,t))}i&&Ke(At,[e],v.x.QueueFull)}function me(e,t,n){var r=Oe(e,t,n);return k[Te](t,n),r}function ge(){return ue>0}function ve(){if(A>=0&&Oe(A,0,F)&&k[Te](0,F),le>0&&!E&&!ce){var e=de[he][2];e>=0&&(E=Se((function(){E=null,me(4,0,1),ve()}),e))}var t=de[he][1];!C&&!l&&t>=0&&!ce&&(ge()?C=Se((function(){C=null,me(0===T?3:1,0,1),T++,T%=2,ve()}),t):T=0)}function we(){n=null,re=!1,oe=[],l=null,ce=!1,le=0,b=500,ue=0,D=Rt,de={},he=r,C=null,E=null,P=0,T=0,I={},x=0,V=!1,R=0,A=-1,F=null,O=!0,L=!1,M=6,$=2,N=null,G=null,ne=!1,U=yt(),k=new xt(500,2,1,{requeue:Be,send:Ze,sent:Ye,drop:Qe,rspFail:et,oth:tt}),$e(),I[4]={batches:[],iKeyMap:{}},I[3]={batches:[],iKeyMap:{}},I[2]={batches:[],iKeyMap:{}},I[1]={batches:[],iKeyMap:{}},nt()}function Se(e,t){0===t&&P&&(t=1);var n=1e3;return P&&(n=it(P-1)),U.set(e,t*n)}function be(){return null!==C&&(C.cancel(),C=null,T=0,!0)}function _e(e,t){be(),l&&(l.cancel(),l=null),ce||me(1,e,t)}function De(e,t,n){var r=I[t];r||(r=I[t=1]);var o=r.iKeyMap[e];return!o&&n&&(o=Je.create(e),r.batches[Q](o),r.iKeyMap[e]=o),o}function Ee(t,n){k[Pe]()&&!P&&(x>0&&ue>x&&(n=!0),n&&null==l&&e.flush(t,(function(){}),20))}function Re(e,t){O&&(e=(0,g.hW)(e));var n=e[ze],r=De(e[X],n,!0);return!!r.addEvent(e)&&(4!==n?(ue++,t&&0===e[We]&&Ee(!e.sync,R>0&&r[Z]()>=R)):le++,!0)}function Fe(){for(var e=0,t=0,n=function(n){var r=I[n];r&&r[Ce]&&(0,y.I)(r[Ce],(function(r){4===n?e+=r[Z]():t+=r[Z]()}))},r=1;r<=4;r++)n(r);ue=t,le=e}function Oe(t,n,r){var o=!1,i=0===n;return!i||k[Pe]()?(0,u.r2)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=I[n];r&&r.batches&&r.batches[K]>0&&((0,y.I)(r[Ce],(function(t){k.addBatch(t)?o=o||t&&t[Z]()>0:e=e[J](t[Y]()),4===n?le-=t[Z]():ue-=t[Z]()})),r[Ce]=[],r.iKeyMap={}),n--}e[K]>0&&Ke(At,e,v.x.KillSwitch),o&&A>=t&&(A=-1,F=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!i):(A=A>=0?Math.min(A,t):t,F=Math.max(F,r)),o}function Le(e,t){me(1,0,t),Fe(),Me((function(){e&&e(),oe[K]>0?l=Se((function(){l=null,Le(oe.shift(),t)}),0):(l=null,ve())}))}function Me(e){k[ke]()?e():l=Se((function(){l=null,Me(e)}),.25)}function $e(){(de={})[r]=[2,1,0],de[o]=[6,3,0],de[i]=[18,9,0]}function Be(t,n){var r=[],o=M;L&&(o=$),(0,y.I)(t,(function(t){t&&t[Z]()>0&&(0,y.I)(t[Y](),(function(t){t&&(t[Ve]&&(t[ze]=4,t[Ve]=!1),t[We]<o?((0,c.u9)(t,e[Ue]),pe(t,!1)):r[Q](t))}))})),r[K]>0&&Ke(At,r,v.x.NonRetryableStatus),L&&_e(2,2)}function Ge(t,n){var r=q||{},o=r[t];if(o)try{o.apply(r,n)}catch(n){(0,S.ZP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function Ke(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t[K]>0&&Ge(e,[t][J](n))}function Xe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t[K]>0&&(0,y.I)(t,(function(t){t&&t[Z]()>0&&Ge(e,[t.events()][J](n))}))}function Ze(e,t,n){e&&e[K]>0&&Ge("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function Ye(e,t){Xe("eventsSent",e,t),ve()}function Qe(e,t){Xe(At,e,t>=8e3&&t<=8999?t-8e3:v.x.Unknown)}function et(e){Xe(At,e,v.x.NonRetryableStatus),ve()}function tt(e,t){Xe(At,e,v.x.Unknown),ve()}function nt(){R=z?0:Math.max(1500,D/6)}we(),e._getDbgPlgTargets=function(){return[k,n]},e[ie]=function(r,o,i){(0,u.r2)(o,(function(){return"PostChannel:initialize"}),(function(){t[ie](r,o,i),q=o.getNotifyMgr();try{N=(0,d.Hm)((0,h.Z)(e[Ue]),o.evtNamespace&&o.evtNamespace()),e._addHook((0,f.a)(r,(function(t){var r=t.cfg,i=(0,p.i8)(null,r,o);n=i.getExtCfg(e[Ue],Ot),U=yt(n[se],n[ae]),O=!n.disableOptimizeObj&&(0,c.F2)(),W=n.ignoreMc1Ms0CookieProcessing,function(e){var t=e[Ae];e[Ae]=function(){var n=0;return W&&(n|=2),n|t.call(e)}}(o),D=n[He],b=n.immediateEventLimit,x=n[je],M=n.maxEventRetryAttempts,$=n.maxUnloadEventRetryAttempts,z=n.disableAutoBatchFlushLimit,nt(),G=n.overrideInstrumentationKey,ne=!!n.disableTelemetry,V&&s();var l=r.disablePageUnloadEvents||[];V=(0,d.ee)(a,l,N),V=(0,d.Fc)(a,l,N)||V,V=(0,d.oS)(fe,r.disablePageShowEvents,N)||V}))),k[ie](r,e.core,e)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{theConfig:r,core:o,extensions:i}}))},e.processTelemetry=function(t,n){(0,c.u9)(t,e[Ue]),n=n||e._getTelCtx(n);var r=t;ne||re||(G&&(r[X]=G),pe(r,!0),L?_e(2,2):ve()),e.processNext(r,n)},e._doTeardown=function(e,t){_e(2,2),re=!0,k.teardown(),s(),we()},e.setEventQueueLimits=function(e,t){n[He]=D=(0,c.ei)(e)?e:Rt,n[je]=x=(0,c.ei)(t)?t:0,nt();var r=ue>e;if(!r&&R>0)for(var o=1;!r&&o<=3;o++){var i=I[o];i&&i[Ce]&&(0,y.I)(i[Ce],(function(e){e&&e[Z]()>=R&&(r=!0)}))}Ee(!0,r)},e.pause=function(){be(),ce=!0,k.pause()},e.resume=function(){ce=!1,k.resume(),ve()},e._loadTransmitProfiles=function(e){be(),$e(),he=r,ve(),(0,w.z)(e,(function(e,t){var n=t[K];if(n>=2){var r=n>2?t[2]:0;if(t[te](0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var o=t[0]/t[1];t[0]=Math.ceil(o)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t[Q](r),de[e]=t}}))},e.flush=function(e,t,n){var r;if(void 0===e&&(e=!0),!ce)if(n=n||1,e)t||(r=(0,_.Qo)((function(e){t=e}))),null==l?(be(),Oe(1,0,n),l=Se((function(){l=null,Le(t,n)}),0)):oe[Q](t);else{var o=be();me(1,1,n),t&&t(),o&&ve()}return r},e.setMsaAuthTicket=function(e){k.addHeader(B,e)},e.hasEvents=ge,e._setTransmitProfile=function(e){he!==e&&void 0!==de[e]&&(be(),he=e,ve())},(0,g.o$)(e,(function(){return k}),["addResponseHandler"]),e[Ne]=function(){P<4&&(P++,be(),ve())},e._clearBackOff=function(){P&&(P=0,be(),ve())}})),s}return(0,s.qU)(t,e),t.__ieDyn=1,t}(b.s)},4484:(e,t,n)=>{"use strict";n.d(t,{F:()=>d,H:()=>u});var r=n(1011),o=n(1324),i=n(2494),s=n(5025),a=n(2749),c=";",l="=";function u(e){if(!e)return{};var t=e[a.sY](c),n=(0,r.K)(t,(function(e,t){var n=t[a.sY](l);if(2===n[a.oI]){var r=n[0][a.OL](),o=n[1];e[r]=o}return e}),{});if((0,o.cG)(n)[a.oI]>0){if(n.endpointsuffix){var u=n.location?n.location+".":"";n[a.zV]=n[a.zV]||"https://"+u+"dc."+n.endpointsuffix}n[a.zV]=n[a.zV]||s._G,(0,i.C)(n[a.zV],"/")&&(n[a.zV]=n[a.zV].slice(0,-1))}return n}var d={parse:u}},5025:(e,t,n)=>{"use strict";n.d(t,{R2:()=>l,_G:()=>a,jp:()=>i,ks:()=>u,tU:()=>o,wc:()=>c,xF:()=>r,ym:()=>s});var r="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",o="sampleRate",i="ProcessLegacy",s="http.method",a="https://dc.services.visualstudio.com",c="/v2/track",l="not_specified",u="iKey"},7374:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,u:()=>i});var r=n(4282),o=(0,r.H)({LocalStorage:0,SessionStorage:1}),i=(0,r.H)({AI:0,AI_AND_W3C:1,W3C:2})},87:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>a,Y8:()=>l,bb:()=>c,vv:()=>u});var r=n(5439),o=n(6668),i=n(2749),s="";function a(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString()[i.OL]()}function c(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=s+e%1e3,n=s+Math.floor(e/1e3)%60,r=s+Math.floor(e/6e4)%60,o=s+Math.floor(e/36e5)%24,a=Math.floor(e/864e5);return t=1===t[i.oI]?"00"+t:2===t[i.oI]?"0"+t:t,n=n[i.oI]<2?"0"+n:n,r=r[i.oI]<2?"0"+r:r,o=o[i.oI]<2?"0"+o:o,(a>0?a+".":s)+o+":"+r+":"+n+"."+t}function l(e,t){var n=null;return(0,r.I)(e,(function(e){if(e.identifier===t)return n=e,-1})),n}function u(e,t,n,r,i){return!i&&(0,o.Kg)(e)&&("Script error."===e||"Script error"===e)}},8596:(e,t,n)=>{"use strict";n.d(t,{o:()=>p});var r=n(659),o=n(3673);function i(e){var t="ai."+e+".";return function(e){return t+e}}var s=i("application"),a=i("device"),c=i("location"),l=i("operation"),u=i("session"),d=i("user"),h=i("cloud"),f=i("internal"),p=function(e){function t(){return e.call(this)||this}return(0,r.qU)(t,e),t}((0,o.SZ)({applicationVersion:s("ver"),applicationBuild:s("build"),applicationTypeId:s("typeId"),applicationId:s("applicationId"),applicationLayer:s("layer"),deviceId:a("id"),deviceIp:a("ip"),deviceLanguage:a("language"),deviceLocale:a("locale"),deviceModel:a("model"),deviceFriendlyName:a("friendlyName"),deviceNetwork:a("network"),deviceNetworkName:a("networkName"),deviceOEMName:a("oemName"),deviceOS:a("os"),deviceOSVersion:a("osVersion"),deviceRoleInstance:a("roleInstance"),deviceRoleName:a("roleName"),deviceScreenResolution:a("screenResolution"),deviceType:a("type"),deviceMachineName:a("machineName"),deviceVMName:a("vmName"),deviceBrowser:a("browser"),deviceBrowserVersion:a("browserVersion"),locationIp:c("ip"),locationCountry:c("country"),locationProvince:c("province"),locationCity:c("city"),operationId:l("id"),operationName:l("name"),operationParentId:l("parentId"),operationRootId:l("rootId"),operationSyntheticSource:l("syntheticSource"),operationCorrelationVector:l("correlationVector"),sessionId:u("id"),sessionIsFirst:u("isFirst"),sessionIsNew:u("isNew"),userAccountAcquisitionDate:d("accountAcquisitionDate"),userAccountId:d("accountId"),userAgent:d("userAgent"),userId:d("id"),userStoreRegion:d("storeRegion"),userAuthUserId:d("authUserId"),userAnonymousUserAcquisitionDate:d("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:d("authUserAcquisitionDate"),cloudName:h("name"),cloudRole:h("role"),cloudRoleVer:h("roleVer"),cloudRoleInstance:h("roleInstance"),cloudEnvironment:h("environment"),cloudLocation:h("location"),cloudDeploymentUnit:h("deploymentUnit"),internalNodeName:f("nodeName"),internalSdkVersion:f("sdkVersion"),internalAgentVersion:f("agentVersion"),internalSnippet:f("snippet"),internalSdkSrc:f("sdkSrc")}))},9762:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r=(0,n(4282).H)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4})},1575:(e,t,n)=>{"use strict";n.d(t,{F:()=>o,O:()=>i});var r=n(8596),o={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},i=new r.o},2910:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r=(0,n(4282).o)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]})},4658:(e,t,n)=>{"use strict";n.d(t,{AN:()=>C,BW:()=>S,Dt:()=>T,Nu:()=>v,Se:()=>b,T9:()=>E,_M:()=>_,iw:()=>w,tm:()=>D,v7:()=>k,vH:()=>P,vh:()=>y});var r=n(6668),o=n(3076),i=n(3775),s=n(3673),a=n(8693),c=n(9018),l=n(7374),u=n(2749),d=void 0,h=void 0,f="";function p(){return S()?m(l.e.LocalStorage):null}function m(e){try{if((0,r.hX)((0,o.mS)()))return null;var t=(new Date)[u.xE](),n=(0,o.zS)(e===l.e.LocalStorage?"localStorage":"sessionStorage"),i=f+t;n.setItem(i,t);var s=n.getItem(i)!==t;if(n[u.AZ](i),!s)return n}catch(e){}return null}function g(){return C()?m(l.e.SessionStorage):null}function v(){d=!1,h=!1}function y(e){f=e||""}function w(){d=S(!0),h=C(!0)}function S(e){return(e||void 0===d)&&(d=!!m(l.e.LocalStorage)),d}function b(e,t){var n=p();if(null!==n)try{return n.getItem(t)}catch(t){d=!1,(0,i.ZP)(e,2,1,"Browser failed read of local storage. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return null}function _(e,t,n){var r=p();if(null!==r)try{return r.setItem(t,n),!0}catch(t){d=!1,(0,i.ZP)(e,2,3,"Browser failed write to local storage. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return!1}function D(e,t){var n=p();if(null!==n)try{return n[u.AZ](t),!0}catch(t){d=!1,(0,i.ZP)(e,2,5,"Browser failed removal of local storage item. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return!1}function C(e){return(e||void 0===h)&&(h=!!m(l.e.SessionStorage)),h}function E(){var e=[];return C()&&(0,c.z)((0,o.zS)("sessionStorage"),(function(t){e.push(t)})),e}function P(e,t){var n=g();if(null!==n)try{return n.getItem(t)}catch(t){h=!1,(0,i.ZP)(e,2,2,"Browser failed read of session storage. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return null}function T(e,t,n){var r=g();if(null!==r)try{return r.setItem(t,n),!0}catch(t){h=!1,(0,i.ZP)(e,2,4,"Browser failed write to session storage. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return!1}function k(e,t){var n=g();if(null!==n)try{return n[u.AZ](t),!0}catch(t){h=!1,(0,i.ZP)(e,2,6,"Browser failed removal of session storage item. "+(0,s.lL)(t),{exception:(0,a.m)(t)})}return!1}},7358:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r=function(e,t){this.aiDataContract={baseType:1,baseData:1},this.baseType=e,this.baseData=t}},7975:(e,t,n)=>{"use strict";n.d(t,{HQ:()=>w,Rr:()=>f,Vj:()=>y,Vk:()=>m,Vt:()=>g,_T:()=>S,lq:()=>h,pJ:()=>p,qW:()=>b,xP:()=>v,zx:()=>d});var r=n(1374),o=n(3775),i=n(9018),s=n(6668),a=n(7292),c=n(3178),l=n(5977),u=n(2749);function d(e,t,n){var r=t[u.oI],o=h(e,t);if(o[u.oI]!==r){for(var i=0,s=o;void 0!==n[s];)i++,s=(0,c.P0)(o,0,147)+b(i);o=s}return o}function h(e,t){var n;return t&&(t=(0,r.EH)((0,l.o)(t)))[u.oI]>150&&(n=(0,c.P0)(t,0,150),(0,o.ZP)(e,2,57,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function f(e,t,n){var i;return void 0===n&&(n=1024),t&&(n=n||1024,(t=(0,r.EH)((0,l.o)(t)))[u.oI]>n&&(i=(0,c.P0)(t,0,n),(0,o.ZP)(e,2,61,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),i||t}function p(e,t){return S(e,t,2048,66)}function m(e,t){var n;return t&&t[u.oI]>32768&&(n=(0,c.P0)(t,0,32768),(0,o.ZP)(e,2,56,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function g(e,t){var n;if(t){var r=""+t;r[u.oI]>32768&&(n=(0,c.P0)(r,0,32768),(0,o.ZP)(e,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function v(e,t){if(t){var n={};(0,i.z)(t,(function(t,r){if((0,s.Gv)(r)&&(0,a.Z)())try{r=(0,a.hm)()[u.Jj](r)}catch(t){(0,o.ZP)(e,2,49,"custom property is not valid",{exception:t},!0)}r=f(e,r,8192),t=d(e,t,n),n[t]=r})),t=n}return t}function y(e,t){if(t){var n={};(0,i.z)(t,(function(t,r){t=d(e,t,n),n[t]=r})),t=n}return t}function w(e,t){return t?S(e,t,128,69)[u.xE]():t}function S(e,t,n,i){var s;return t&&(t=(0,r.EH)((0,l.o)(t)))[u.oI]>n&&(s=(0,c.P0)(t,0,n),(0,o.ZP)(e,2,i,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),s||t}function b(e){var t="00"+e;return(0,c.hK)(t,t[u.oI]-3)}},1062:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(3673),o=n(5025),i=n(2749),s=n(7975),a=function(e,t,n){var a=this,c=this;c.ver=1,c.sampleRate=100,c.tags={},c[i.RS]=(0,s.Rr)(e,n)||o.R2,c.data=t,c.time=(0,r._u)(new Date),c.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===a.sampleRate?4:1},tags:1,data:1}}},3072:(e,t,n)=>{"use strict";n.d(t,{J:()=>s});var r=n(5025),o=n(2749),i=n(7975),s=function(){function e(e,t,n,s){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var a=this;a.ver=2,a[o.RS]=(0,i.Rr)(e,t)||r.R2,a[o.$y]=(0,i.xP)(e,n),a[o.XA]=(0,i.Vj)(e,s)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Event",e.dataType="EventData",e}()},5397:(e,t,n)=>{"use strict";n.d(t,{WJ:()=>P});var r=n(659),o=n(6668),i=n(5439),s=n(4335),a=n(1374),c=n(5881),l=n(3076),u=n(5025),d=n(2749),h=n(7975),f="error",p="stack",m="stackDetails",g="errorSrc",v="message",y="description";function w(e,t){var n=e;return n&&!(0,o.Kg)(n)&&(JSON&&JSON[d.Jj]?(n=JSON[d.Jj](e),!t||n&&"{}"!==n||(n=(0,o.Tn)(e[d.xE])?e[d.xE]():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function S(e,t){var n=e;return e&&(n&&!(0,o.Kg)(n)&&(n=e[v]||e[y]||n),n&&!(0,o.Kg)(n)&&(n=w(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(0,c.H)(n||"",t)&&(n=t+": "+n),n||""}function b(e){return e&&e.src&&(0,o.Kg)(e.src)&&e.obj&&(0,o.cy)(e.obj)}function _(e){var t=e||"";(0,o.Kg)(t)||(t=(0,o.Kg)(t[p])?t[p]:""+t);var n=t[d.sY]("\n");return{src:t,obj:n}}function D(e){var t=null;if(e)try{if(e[p])t=_(e[p]);else if(e[f]&&e[f][p])t=_(e[f][p]);else if(e.exception&&e.exception[p])t=_(e.exception[p]);else if(b(e))t=e;else if(b(e[m]))t=e[m];else if((0,l.zk)()&&(0,l.zk)().opera&&e[v])t=function(e){for(var t=[],n=e[d.sY]("\n"),r=0;r<n[d.oI];r++){var o=n[r];n[r+1]&&(o+="@"+n[r+1],r++),t.push(o)}return{src:e,obj:t}}(e[d.pM]);else if(e.reason&&e.reason[p])t=_(e.reason[p]);else if((0,o.Kg)(e))t=_(e);else{var n=e[v]||e[y]||"";(0,o.Kg)(e[g])&&(n&&(n+="\n"),n+=" from "+e[g]),n&&(t=_(n))}}catch(e){t=_(e)}return t||{src:"",obj:null}}function C(e){var t="";if(e&&!(t=e.typeName||e[d.RS]||""))try{var n=/function (.{1,200})\(/.exec(e.constructor[d.xE]());t=n&&n[d.oI]>1?n[1]:""}catch(e){}return t}function E(e){if(e)try{if(!(0,o.Kg)(e)){var t=C(e),n=w(e,!1);return n&&"{}"!==n||(e[f]&&(t=C(e=e[f])),n=w(e,!0)),0!==(0,c.H)(n,t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var P=function(){function e(e,t,n,r,i,s){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var a=this;a.ver=2,function(e){try{if((0,o.Gv)(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(t)?(a[d.OK]=t[d.OK]||[],a[d.$y]=t[d.$y],a[d.XA]=t[d.XA],t[d.Ur]&&(a[d.Ur]=t[d.Ur]),t.id&&(a.id=t.id),t[d.Fq]&&(a[d.Fq]=t[d.Fq]),(0,o.hX)(t[d.r1])||(a[d.r1]=t[d.r1])):(n||(n={}),a[d.OK]=[new T(e,t,n)],a[d.$y]=(0,h.xP)(e,n),a[d.XA]=(0,h.Vj)(e,r),i&&(a[d.Ur]=i),s&&(a.id=s))}return e.CreateAutoException=function(e,t,n,r,o,i,s,a){var c,l=C(o||i||e);return(c={})[d.pM]=S(e,l),c.url=t,c.lineNumber=n,c.columnNumber=r,c.error=E(o||i||e),c.evt=E(i||e),c[d.qg]=l,c.stackDetails=D(s||o||i),c.errorSrc=a,c},e.CreateFromInterface=function(t,n,o,i){var a=n[d.OK]&&(0,s.W)(n[d.OK],(function(e){return T[d.vu](t,e)}));return new e(t,(0,r.Im)((0,r.Im)({},n),{exceptions:a}),o,i)},e.prototype.toInterface=function(){var e,t=this,n=t.exceptions,r=t.properties,o=t.measurements,i=t.severityLevel,a=t.problemGroup,c=t.id,l=t.isManual,u=n instanceof Array&&(0,s.W)(n,(function(e){return e.toInterface()}))||void 0;return(e={ver:"4.0"})[d.OK]=u,e.severityLevel=i,e.properties=r,e.measurements=o,e.problemGroup=a,e.id=c,e.isManual=l,e},e.CreateSimpleException=function(e,t,n,r,o,i){var s;return{exceptions:[(s={},s[d.lW]=!0,s.message=e,s.stack=o,s.typeName=t,s)]}},e.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",e.dataType="ExceptionData",e.formatError=E,e}(),T=function(){function e(e,t,n){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var r=this;if(function(e){try{if((0,o.Gv)(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(t))r[d.qg]=t[d.qg],r[d.pM]=t[d.pM],r[p]=t[p],r[d.on]=t[d.on]||[],r[d.lW]=t[d.lW];else{var a=t,c=a&&a.evt;(0,o.bJ)(a)||(a=a[f]||c||a),r[d.qg]=(0,h.Rr)(e,C(a))||u.R2,r[d.pM]=(0,h.Vk)(e,S(t||a,r[d.qg]))||u.R2;var l=t[m]||D(t);r[d.on]=function(e){var t,n=e.obj;if(n&&n[d.oI]>0){t=[];var r=0,o=0;if((0,i.I)(n,(function(e){var n=e[d.xE]();if(k.regex.test(n)){var i=new k(n,r++);o+=i[d.J$],t.push(i)}})),o>32768)for(var s=0,a=t[d.oI]-1,c=0,l=s,u=a;s<a;){if((c+=t[s][d.J$]+t[a][d.J$])>32768){var h=u-l+1;t.splice(l,h);break}l=s,u=a,s++,a--}}return t}(l),(0,o.cy)(r[d.on])&&(0,s.W)(r[d.on],(function(t){t[d.QE]=(0,h.Rr)(e,t[d.QE]),t[d.IE]=(0,h.Rr)(e,t[d.IE])})),r[p]=(0,h.Vt)(e,function(e){var t="";return e&&(e.obj?(0,i.I)(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(l)),r.hasFullStack=(0,o.cy)(r.parsedStack)&&r.parsedStack[d.oI]>0,n&&(n[d.qg]=n[d.qg]||r[d.qg])}}return e.prototype.toInterface=function(){var e,t=this,n=t[d.on]instanceof Array&&(0,s.W)(t[d.on],(function(e){return e.toInterface()}));return(e={id:t.id,outerId:t.outerId,typeName:t[d.qg],message:t[d.pM],hasFullStack:t[d.lW],stack:t[p]})[d.on]=n||void 0,e},e.CreateFromInterface=function(t,n){var o=n[d.on]instanceof Array&&(0,s.W)(n[d.on],(function(e){return k[d.vu](e)}))||n[d.on];return new e(t,(0,r.Im)((0,r.Im)({},n),{parsedStack:o}))},e}(),k=function(){function e(t,n){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var r=this;if(r[d.J$]=0,"string"==typeof t){var o=t;r[d.Av]=n,r[d.lx]="<no_method>",r[d.QE]=(0,a.EH)(o),r[d.IE]="",r[d.h_]=0;var i=o.match(e.regex);i&&i[d.oI]>=5&&(r[d.lx]=(0,a.EH)(i[2])||r[d.lx],r[d.IE]=(0,a.EH)(i[4]),r[d.h_]=parseInt(i[5])||0)}else r[d.Av]=t[d.Av],r[d.lx]=t[d.lx],r[d.QE]=t[d.QE],r[d.IE]=t[d.IE],r[d.h_]=t[d.h_],r[d.J$]=0;r.sizeInBytes+=r.method[d.oI],r.sizeInBytes+=r.fileName[d.oI],r.sizeInBytes+=r.assembly[d.oI],r[d.J$]+=e.baseSize,r.sizeInBytes+=r.level.toString()[d.oI],r.sizeInBytes+=r.line.toString()[d.oI]}return e.CreateFromInterface=function(t){return new e(t,null)},e.prototype.toInterface=function(){var e=this;return{level:e[d.Av],method:e[d.lx],assembly:e[d.QE],fileName:e[d.IE],line:e[d.h_]}},e.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}()},5014:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(5025),o=n(2749),i=function(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0},s=n(7975),a=function(){function e(e,t,n,a,c,l,u,d,h){this.aiDataContract={ver:1,metrics:1,properties:0};var f=this;f.ver=2;var p=new i;p[o.F2]=a>0?a:void 0,p.max=isNaN(l)||null===l?void 0:l,p.min=isNaN(c)||null===c?void 0:c,p[o.RS]=(0,s.Rr)(e,t)||r.R2,p.value=n,p.stdDev=isNaN(u)||null===u?void 0:u,f.metrics=[p],f[o.$y]=(0,s.xP)(e,d),f[o.XA]=(0,s.Vj)(e,h)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",e.dataType="MetricData",e}()},1448:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(5025),o=n(87),i=n(2749),s=n(7975),a=function(){function e(e,t,n,a,c,l,u){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var d=this;d.ver=2,d.id=(0,s.HQ)(e,u),d.url=(0,s.pJ)(e,n),d[i.RS]=(0,s.Rr)(e,t)||r.R2,isNaN(a)||(d[i.qd]=(0,o.bb)(a)),d[i.$y]=(0,s.xP)(e,c),d[i.XA]=(0,s.Vj)(e,l)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",e.dataType="PageviewData",e}()},4164:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(5025),o=n(2749),i=n(7975),s=function(){function e(e,t,n,s,a,c,l){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var u=this;u.ver=2,u.url=(0,i.pJ)(e,n),u[o.RS]=(0,i.Rr)(e,t)||r.R2,u[o.$y]=(0,i.xP)(e,a),u[o.XA]=(0,i.Vj)(e,c),l&&(u.domProcessing=l.domProcessing,u[o.qd]=l[o.qd],u.networkConnect=l.networkConnect,u.perfTotal=l.perfTotal,u[o.fd]=l[o.fd],u.sentRequest=l.sentRequest)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",e.dataType="PageviewPerformanceData",e}()},1365:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(87),o=n(2318),i=n(2749),s=n(7975),a=function(){function e(e,t,n,a,c,l,u,d,h,f,p,m){void 0===h&&(h="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var g=this;g.ver=2,g.id=t,g[i.qd]=(0,r.bb)(c),g.success=l,g.resultCode=u+"",g.type=(0,s.Rr)(e,h);var v=(0,o._U)(e,n,d,a);g.data=(0,s.pJ)(e,a)||v.data,g.target=(0,s.Rr)(e,v.target),f&&(g.target="".concat(g.target," | ").concat(f)),g[i.RS]=(0,s.Rr)(e,v[i.RS]),g[i.$y]=(0,s.xP)(e,p),g[i.XA]=(0,s.Vj)(e,m)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",e.dataType="RemoteDependencyData",e}()},2445:(e,t,n)=>{"use strict";n.d(t,{C:()=>s});var r=n(5025),o=n(2749),i=n(7975),s=function(){function e(e,t,n,s,a){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var c=this;c.ver=2,t=t||r.R2,c[o.pM]=(0,i.Vk)(e,t),c[o.$y]=(0,i.xP)(e,s),c[o.XA]=(0,i.Vj)(e,a),n&&(c[o.Ur]=n)}return e.envelopeType="Microsoft.ApplicationInsights.{0}.Message",e.dataType="MessageData",e}()},9354:(e,t,n)=>{"use strict";n.d(t,{Gz:()=>d,M0:()=>p,PS:()=>f,cM:()=>l,k6:()=>h,wX:()=>u});var r=n(3076),o=n(6668),i=n(2749),s=(0,r.YE)()||{},a=0,c=[null,null,null,null,null];function l(e){var t=a,n=c,r=n[t];return s.createElement?n[t]||(r=n[t]=s.createElement("a")):r={host:f(e,!0)},r.href=e,++t>=n[i.oI]&&(t=0),a=t,r}function u(e){var t,n=l(e);return n&&(t=n.href),t}function d(e){var t,n=l(e);return n&&(t=n[i.Ue]),t}function h(e,t){return e?e.toUpperCase()+" "+t:t}function f(e,t){var n=p(e,t)||"";if(n){var r=n.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[i.oI]>3&&(0,o.Kg)(r[2])&&r[2][i.oI]>0)return r[2]+(r[3]||"")}return n}function p(e,t){var n=null;if(e){var r=e.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(null!=r&&r[i.oI]>2&&(0,o.Kg)(r[2])&&r[2][i.oI]>0&&(n=r[2]||"",t&&r[i.oI]>2)){var s=(r[1]||"")[i.OL](),a=r[3]||"";("http"===s&&":80"===a||"https"===s&&":443"===a)&&(a=""),n+=a}}return n}},2318:(e,t,n)=>{"use strict";n.d(t,{Ft:()=>P,Qu:()=>v,Rs:()=>S,Wt:()=>y,_U:()=>D,jj:()=>E,lt:()=>C,mD:()=>_,mp:()=>w,pg:()=>b});var r=n(6832),o=n(5439),i=n(558),s=n(225),a=n(6668),c=n(1864),l=n(5881),u=n(5025),d=n(2910),h=n(7975),f=n(9354),p=n(2749),m=[u._G+u.wc,"https://breeze.aimon.applicationinsights.io"+u.wc,"https://dc-int.services.visualstudio.com"+u.wc],g="cid-v1:";function v(e){return-1!==(0,r.r)(m,e[p.OL]())}function y(e){g=e}function w(){return g}function S(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e[p.Ol])for(var r=0;r<e.correlationHeaderExcludePatterns[p.oI];r++)if(e[p.Ol][r].test(t))return!1;var i=(0,f.cM)(t).host[p.OL]();if(!i||-1===(0,l.H)(i,":443")&&-1===(0,l.H)(i,":80")||(i=((0,f.M0)(t,!0)||"")[p.OL]()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var s,a=e&&e.correlationHeaderDomains;if(a&&((0,o.I)(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||t.test(i)})),!s))return!1;var c=e&&e.correlationHeaderExcludedDomains;if(!c||0===c[p.oI])return!0;for(r=0;r<c[p.oI];r++)if(new RegExp(c[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i[p.oI]>0}function b(e){if(e){var t=_(e,d.a[1]);if(t&&t!==g)return t}}function _(e,t){if(e)for(var n=e[p.sY](","),r=0;r<n[p.oI];++r){var o=n[r][p.sY]("=");if(2===o[p.oI]&&o[0]===t)return o[1]}}function D(e,t,n,r){var o,i=r,s=r;if(t&&t[p.oI]>0){var a=(0,f.cM)(t);if(o=a.host,!i)if(null!=a[p.Ue]){var c=0===a.pathname[p.oI]?"/":a[p.Ue];"/"!==c.charAt(0)&&(c="/"+c),s=a[p.Ue],i=(0,h.Rr)(e,n?n+" "+c:c)}else i=(0,h.Rr)(e,t)}else o=r,i=r;return{target:o,name:i,data:s}}function C(){var e=(0,i.FJ)();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return(0,s.f)()}function E(e,t){var n=null;return 0===e||0===t||(0,a.hX)(e)||(0,a.hX)(t)||(n=t-e),n}function P(e,t){var n=e||{};return{getName:function(){return n[p.RS]},setName:function(e){t&&t.setName(e),n[p.RS]=e},getTraceId:function(){return n.traceID},setTraceId:function(e){t&&t.setTraceId(e),(0,c.hX)(e)&&(n.traceID=e)},getSpanId:function(){return n.parentID},setSpanId:function(e){t&&t.setSpanId(e),(0,c.wN)(e)&&(n.parentID=e)},getTraceFlags:function(){return n.traceFlags},setTraceFlags:function(e){t&&t.setTraceFlags(e),n.traceFlags=e}}}},2749:(e,t,n)=>{"use strict";n.d(t,{$e:()=>v,$y:()=>C,AZ:()=>c,Av:()=>L,C9:()=>g,Cx:()=>f,F2:()=>d,Fq:()=>I,IE:()=>F,J$:()=>P,Jj:()=>y,Jm:()=>h,OK:()=>_,OL:()=>i,Ol:()=>S,QE:()=>A,RS:()=>l,Ue:()=>w,Ur:()=>k,XA:()=>E,fd:()=>N,h_:()=>$,i9:()=>m,lW:()=>O,lx:()=>M,oI:()=>o,on:()=>D,pM:()=>u,qd:()=>B,qg:()=>T,r1:()=>x,sY:()=>r,up:()=>b,vu:()=>R,xE:()=>a,zV:()=>s,zw:()=>p});var r="split",o="length",i="toLowerCase",s="ingestionendpoint",a="toString",c="removeItem",l="name",u="message",d="count",h="preTriggerDate",f="disabled",p="interval",m="daysOfMonth",g="date",v="getUTCDate",y="stringify",w="pathname",S="correlationHeaderExcludePatterns",b="extensionConfig",_="exceptions",D="parsedStack",C="properties",E="measurements",P="sizeInBytes",T="typeName",k="severityLevel",I="problemGroup",x="isManual",R="CreateFromInterface",A="assembly",F="fileName",O="hasFullStack",L="level",M="method",$="line",B="duration",N="receivedResponse"},740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AnalyticsPluginIdentifier:()=>q,BreezeChannelIdentifier:()=>z,ConfigurationManager:()=>I,ConnectionStringParser:()=>g.F,ContextTagKeys:()=>x.o,CtxTagKeys:()=>L.O,DEFAULT_BREEZE_ENDPOINT:()=>y._G,DEFAULT_BREEZE_PATH:()=>y.wc,Data:()=>T.B,DisabledPropertyName:()=>y.xF,DistributedTracingModes:()=>M.u,Envelope:()=>w.L,Event:()=>S.J,Exception:()=>b.WJ,Extensions:()=>L.F,HttpMethod:()=>y.ym,Metric:()=>_.J,PageView:()=>D.h,PageViewPerformance:()=>P.H,ProcessLegacy:()=>y.jp,PropertiesPluginIdentifier:()=>W,RemoteDependencyData:()=>C.A,RequestHeaders:()=>v.a,SampleRate:()=>y.tU,SeverityLevel:()=>k.O,TelemetryItemCreator:()=>O,ThrottleMgr:()=>m,Trace:()=>E.C,correlationIdCanIncludeCorrelationHeader:()=>r.Rs,correlationIdGetCorrelationContext:()=>r.pg,correlationIdGetCorrelationContextValue:()=>r.mD,correlationIdGetPrefix:()=>r.mp,correlationIdSetPrefix:()=>r.Wt,createDistributedTraceContextFromTrace:()=>r.Ft,createDomEvent:()=>H,createTelemetryItem:()=>F,createTraceParent:()=>N.wk,dataSanitizeException:()=>R.Vt,dataSanitizeId:()=>R.HQ,dataSanitizeInput:()=>R._T,dataSanitizeKey:()=>R.lq,dataSanitizeKeyAndAddUniqueness:()=>R.zx,dataSanitizeMeasurements:()=>R.Vj,dataSanitizeMessage:()=>R.Vk,dataSanitizeProperties:()=>R.xP,dataSanitizeString:()=>R.Rr,dataSanitizeUrl:()=>R.pJ,dateTimeUtilsDuration:()=>r.jj,dateTimeUtilsNow:()=>r.lt,dsPadNumber:()=>R.qW,findW3cTraceParent:()=>N.ef,formatTraceParent:()=>N.L0,getExtensionByName:()=>$.Y8,isBeaconApiSupported:()=>B.Uf,isCrossOriginError:()=>$.vv,isInternalApplicationInsightsEndpoint:()=>r.Qu,isSampledFlag:()=>N.N7,isValidSpanId:()=>N.wN,isValidTraceId:()=>N.hX,isValidTraceParent:()=>N.mJ,msToTimeSpan:()=>$.bb,parseConnectionString:()=>g.H,parseTraceParent:()=>N.ZI,strNotSpecified:()=>y.R2,stringToBoolOrDefault:()=>$.Dt,urlGetAbsoluteUrl:()=>j.wX,urlGetCompleteUrl:()=>j.k6,urlGetPathName:()=>j.Gz,urlParseFullHost:()=>j.M0,urlParseHost:()=>j.PS,urlParseUrl:()=>j.cM,utlCanUseLocalStorage:()=>f.BW,utlCanUseSessionStorage:()=>f.AN,utlDisableStorage:()=>f.Nu,utlEnableStorage:()=>f.iw,utlGetLocalStorage:()=>f.Se,utlGetSessionStorage:()=>f.vH,utlGetSessionStorageKeys:()=>f.T9,utlRemoveSessionStorage:()=>f.v7,utlRemoveStorage:()=>f.tm,utlSetLocalStorage:()=>f._M,utlSetSessionStorage:()=>f.Dt,utlSetStoragePrefix:()=>f.vh});var r=n(2318),o=n(6668),i=n(3775),s=n(3673),a=n(9622),c=n(6832),l=n(1374),u=n(6535),d=n(5439),h=n(9018),f=n(4658),p=n(2749),m=function(e,t){var n,r,m,g,v,y,w,S=this,b=!1,_=!1;function D(e,t,o,i){if(b){var s=function(e){try{var t=C(e);return(0,u.Z1)(1e6)<=t.limit.samplingRate}catch(e){}return!1}(e);if(!s)return;var a=C(e),c=A(e),l=P(a,n,c),d=!1,h=0,f=F(e);try{l&&!f?(h=Math.min(a.limit.maxSendNumber,c[p.F2]+1),c[p.F2]=0,d=!0,v[e]=!0,c[p.Jm]=new Date):(v[e]=l,c[p.F2]+=1);var m=T(e);I(r,m,c);for(var g=0;g<h;g++)R(e,r,t,o)}catch(e){}return{isThrottled:d,throttleNum:h}}return i&&O(e).push({msgID:e,message:t,severity:o}),null}function C(e){return m[e]||m[109]}function E(e,t){var n,r,i,s,a;try{var c=t||{},l={};l[p.Cx]=!!c[p.Cx];var u=c[p.zw]||{};_=(null==u?void 0:u.daysOfMonth)&&(null==u?void 0:u.daysOfMonth[p.oI])>0,l[p.zw]=(s=null===(i=(i=u)||{})||void 0===i?void 0:i.monthInterval,a=null==i?void 0:i.dayInterval,(0,o.hX)(s)&&(0,o.hX)(a)&&(i.monthInterval=3,_||(i[p.i9]=[28],_=!0)),i={monthInterval:null==i?void 0:i.monthInterval,dayInterval:null==i?void 0:i.dayInterval,daysOfMonth:null==i?void 0:i.daysOfMonth});var d={samplingRate:(null===(n=c.limit)||void 0===n?void 0:n.samplingRate)||100,maxSendNumber:(null===(r=c.limit)||void 0===r?void 0:r.maxSendNumber)||1};l.limit=d,m[e]=l}catch(e){}}function P(e,t,n){if(e&&!e[p.Cx]&&t&&(0,s.Gh)(n)){var r=k(),o=n[p.C9],i=e[p.zw],a=1;if(null==i?void 0:i.monthInterval){var l=12*(r.getUTCFullYear()-o.getUTCFullYear())+r.getUTCMonth()-o.getUTCMonth();a=x(i.monthInterval,0,l)}var u=1;if(_)u=(0,c.r)(i[p.i9],r[p.$e]());else if(null==i?void 0:i.dayInterval){var d=Math.floor((r.getTime()-o.getTime())/864e5);u=x(i.dayInterval,0,d)}return a>=0&&u>=0}return!1}function T(e,t){var n=(0,s.Gh)(t)?t:"";return e?"appInsightsThrottle"+n+"-"+e:null}function k(e){try{if(!e)return new Date;var t=new Date(e);if(!isNaN(t.getDate()))return t}catch(e){}return null}function I(e,t,n){try{return(0,f._M)(e,t,(0,l.EH)(JSON[p.Jj](n)))}catch(e){}return!1}function x(e,t,n){return e<=0?1:n>=t&&(n-t)%e==0?Math.floor((n-t)/e)+1:-1}function R(e,t,n,r){(0,i.ZP)(t,r||1,e,n)}function A(e){try{var t=g[e];if(!t){var n=T(e,y);t=function(e,t,n){try{var r={date:k(),count:0};if(e){var o=JSON.parse(e);return{date:k(o[p.C9])||r[p.C9],count:o[p.F2]||r[p.F2],preTriggerDate:o.preTriggerDate?k(o[p.Jm]):void 0}}return I(t,n,r),r}catch(e){}return null}((0,f.Se)(r,n),r,n),g[e]=t}return g[e]}catch(e){}return null}function F(e){var t=v[e];if((0,o.hX)(t)){t=!1;var n=A(e);n&&(t=function(e){try{if(e){var t=new Date;return e.getUTCFullYear()===t.getUTCFullYear()&&e.getUTCMonth()===t.getUTCMonth()&&e[p.$e]()===t[p.$e]()}}catch(e){}return!1}(n[p.Jm])),v[e]=t}return v[e]}function O(e){return w=w||{},(0,o.hX)(w[e])&&(w[e]=[]),w[e]}r=(0,i.y0)(e),v={},g={},w={},m={},E(109),y=(0,s.Gh)(t)?t:"",e.addUnloadHook((0,a.a)(e.config,(function(e){var t=e.cfg;n=(0,f.BW)();var r=t.throttleMgrCfg||{};(0,h.z)(r,(function(e,t){E(parseInt(e),t)}))}))),S._getDbgPlgTargets=function(){return[w]},S.getConfig=function(){return m},S.canThrottle=function(e){var t=A(e);return P(C(e),n,t)},S.isTriggered=function(e){return F(e)},S.isReady=function(){return b},S.flush=function(e){try{var t=O(e);if(t&&t[p.oI]>0){var n=t.slice(0);return w[e]=[],(0,d.I)(n,(function(e){D(e.msgID,e[p.pM],e.severity,!1)})),!0}}catch(e){}return!1},S.flushAll=function(){try{if(w){var e=!0;return(0,h.z)(w,(function(t){var n=S.flush(parseInt(t));e=e&&n})),e}}catch(e){}return!1},S.onReadyState=function(e,t){return void 0===t&&(t=!0),(b=!!(0,o.hX)(e)||e)&&t?S.flushAll():null},S.sendMessage=function(e,t,n){return D(e,t,n,!0)}},g=n(4484),v=n(2910),y=n(5025),w=n(1062),S=n(3072),b=n(5397),_=n(5014),D=n(1448),C=n(1365),E=n(2445),P=n(4164),T=n(7358),k=n(9762),I=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e[p.up]&&e[p.up][n]&&!(0,o.hX)(e[p.up][n][t])?e[p.up][n][t]:e[t],(0,o.hX)(i)?r:i},e}(),x=n(8596),R=n(7975),A=n(3517);function F(e,t,n,r,i,a){var c;n=(0,R.Rr)(r,n)||y.R2,((0,o.hX)(e)||(0,o.hX)(t)||(0,o.hX)(n))&&(0,A.$8)("Input doesn't contain all required fields");var l="";e[y.ks]&&(l=e[y.ks],delete e[y.ks]);var u=((c={})[p.RS]=n,c.time=(0,s._u)(new Date),c.iKey=l,c.ext=a||{},c.tags=[],c.data={},c.baseType=t,c.baseData=e,c);return(0,o.hX)(i)||(0,h.z)(i,(function(e,t){u.data[e]=t})),u}var O=function(){function e(){}return e.create=F,e}(),L=n(1575),M=n(7374),$=n(87),B=n(7292),N=n(1864),U=n(3076);function H(e){var t=null;if((0,o.Tn)(Event))t=new Event(e);else{var n=(0,U.YE)();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var j=n(9354),W="AppInsightsPropertiesPlugin",z="AppInsightsChannelPlugin",q="ApplicationInsightsAnalytics"},2475:(e,t,n)=>{"use strict";n.d(t,{DD:()=>l,Lx:()=>c,NU:()=>a});var r=n(6668),o=n(5977),i=n(6182);function s(e,t,n){return!e&&(0,r.hX)(e)?t:(0,r.Lm)(e)?e:"true"===(0,o.o)(e)[i.OL]()}function a(e){return{mrg:!0,v:e}}function c(e,t,n){return{fb:n,isVal:e,v:t}}function l(e,t){return{fb:t,set:s,v:!!e}}},991:(e,t,n)=>{"use strict";n.d(t,{q:()=>h});var r=n(6668),o=n(9452),i=n(5977),s=n(7460),a=n(9018),c=n(6182);function l(e){return e&&(0,r.Gv)(e)&&(e.isVal||e.fb||(0,o.K)(e,"v")||(0,o.K)(e,"mrg")||(0,o.K)(e,"ref")||e.set)}function u(e,t,n){var o,s=n.dfVal||r.O9;if(t&&n.fb){var a=n.fb;(0,r.cy)(a)||(a=[a]);for(var l=0;l<a[c.oI];l++){var u=a[l],d=t[u];if(s(d)?o=d:e&&(s(d=e.cfg[u])&&(o=d),e.set(e.cfg,(0,i.o)(u),d)),s(o))break}}return!s(o)&&s(n.v)&&(o=n.v),o}function d(e,t,n){var o,i=n;return n&&l(n)&&(i=u(e,t,n)),i&&(l(i)&&(i=d(e,t,i)),(0,r.cy)(i)?(o=[])[c.oI]=i[c.oI]:(0,s.Q)(i)&&(o={}),o&&((0,a.z)(i,(function(n,r){r&&l(r)&&(r=d(e,t,r)),o[n]=r})),i=o)),i}function h(e,t,n,o){var i,f,p,m,g,v,y,w,S=o;l(S)?(i=S.isVal,f=S.set,v=S[c.XW],y=S[c.JQ],m=S.mrg,!(g=S.ref)&&(0,r.b0)(g)&&(g=!!m),p=u(e,t,S)):p=o,y&&e[c.JQ](t,n);var b=!0,_=t[n];!_&&(0,r.hX)(_)||(w=_,b=!1,i&&w!==p&&!i(w)&&(w=p,b=!0),f&&(b=(w=f(w,p,t))===p)),b?w=p?d(e,t,p):p:((0,s.Q)(w)||(0,r.cy)(p))&&m&&p&&((0,s.Q)(p)||(0,r.cy)(p))&&(0,a.z)(p,(function(t,n){h(e,w,t,n)})),e.set(t,n,w),g&&e.ref(t,n),v&&e[c.XW](t,n)}},9622:(e,t,n)=>{"use strict";n.d(t,{e:()=>B,a:()=>N});var r=n(6668),o=n(9018),i=n(6336),s=n(8693),a=n(4276),c=n(6492),l=n(6182),u=n(991),d=n(5439),h=n(695),f=n(6832),p=n(9147),m=["push","pop","shift","unshift","splice"],g=function(e,t,n,r){e&&e[l.ih](3,108,"".concat(n," [").concat(t,"] failed - ")+(0,s.m)(r))};function v(e,t){var n=(0,h.k)(e,t);return n&&n.get}function y(e,t,n,r){if(t){var a=v(t,n);a&&a[e.prop]?t[n]=r:function(e,t,n,r){var a={n,h:[],trk:function(t){t&&t.fn&&(-1===(0,f.r)(a.h,t)&&a.h[l.y5](t),e.trk(t,a))},clr:function(e){var t=(0,f.r)(a.h,e);-1!==t&&a.h[l.Ic](t,1)}},u=!0,d=!1;function h(){u&&(d=d||(0,p.hF)(h,e,r),r&&!r[p.nM]&&d&&(r=S(e,r,n,"Converting")),u=!1);var t=e.act;return t&&a.trk(t),r}h[e.prop]={chng:function(){e.add(a)}},(0,i.vF)(t,a.n,{g:h,s:function(i){if(r!==i){h[e.ro]&&!e.upd&&(0,p.If)("["+n+"] is read-only:"+(0,s.m)(t)),u&&(d=d||(0,p.hF)(h,e,r),u=!1);var f=d&&h[e.rf];if(d)if(f){(0,o.z)(r,(function(e){r[e]=i?i[e]:c.HP}));try{(0,o.z)(i,(function(t,n){y(e,r,t,n)})),i=r}catch(t){g((e.hdlr||{})[l.Uw],n,"Assigning",t),d=!1}}else r&&r[p.nM]&&(0,o.z)(r,(function(t){var n=v(r,t);if(n){var o=n[e.prop];o&&o.chng()}}));if(i!==r){var m=i&&(0,p.hF)(h,e,i);!f&&m&&(i=S(e,i,n,"Converting")),r=i,d=m}e.add(a)}}})}(e,t,n,r)}return t}function w(e,t,n,r){if(t){var o=v(t,n),i=o&&!!o[e.prop],s=r&&r[0],a=r&&r[1],c=r&&r[2];if(!i){if(c)try{(0,p.V9)(t)}catch(t){g((e.hdlr||{})[l.Uw],n,"Blocking",t)}try{y(e,t,n,t[n]),o=v(t,n)}catch(t){g((e.hdlr||{})[l.Uw],n,"State",t)}}s&&(o[e.rf]=s),a&&(o[e.ro]=a),c&&(o[e.blkVal]=!0)}return t}function S(e,t,n,s){try{(0,o.z)(t,(function(n,r){y(e,t,n,r)})),t[p.nM]||((0,i.Ux)(t,p.nM,{get:function(){return e[l.K0]}}),function(e,t,n){(0,r.cy)(t)&&(0,d.I)(m,(function(r){var o=t[r];t[r]=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var s=o[l.y9](this,r);return S(e,t,n,"Patching"),s}}))}(e,t,n))}catch(t){g((e.hdlr||{})[l.Uw],n,s,t)}return t}var b,_=n(7403),D=n(6874),C=n(755),E=n(655),P=n(4016),T=n(411),k=n(1324),I=n(2871);function x(e,t){return(P.s6.setPrototypeOf||function(e,t){!b&&(b=(0,I.nR)((function(){var e;return(e={})[P.r5]=[],e instanceof Array}))),b.v?e[P.r5]=t:(0,o.z)(t,(function(t,n){return e[t]=n}))})(e,t)}var R,A=function(e,t,n){function r(){this.constructor=t,O(this,e)}return O(t,e),(t=x(t,n))[P.Fs]=n===P.M_?(0,T.s)(n):(r[P.Fs]=n[P.Fs],new r),t},F=function(e,t){try{t&&(e[P.o_]=t)}catch(e){}},O=function(e,t){try{(0,i.vF)(e,P.o_,{v:t,c:!0,e:!1})}catch(e){}};var L="[[ai_",M="]]";function $(e){var t,n,r=(0,_.jj)(L+"get"+e.uid+M),o=(0,_.jj)(L+"ro"+e.uid+M),i=(0,_.jj)(L+"rf"+e.uid+M),a=(0,_.jj)(L+"blkVal"+e.uid+M),c=(0,_.jj)(L+"dtl"+e.uid+M),u=null,h=null;function p(t,r){var o=n.act;try{n.act=t,t&&t[c]&&((0,d.I)(t[c],(function(e){e.clr(t)})),t[c]=[]),r({cfg:e.cfg,set:e.set.bind(e),setDf:e[l.h0].bind(e),ref:e.ref.bind(e),rdOnly:e[l.XW].bind(e)})}catch(t){var i=e[l.Uw];throw i&&i[l.ih](1,107,(0,s.m)(t)),t}finally{n.act=o||null}}function m(){if(u){var e=u;u=null,h&&h[l._w](),h=null;var t=[];if((0,d.I)(e,(function(e){if(e&&(e[c]&&((0,d.I)(e[c],(function(t){t.clr(e)})),e[c]=null),e.fn))try{p(e,e.fn)}catch(e){t[l.y5](e)}})),u)try{m()}catch(e){t[l.y5](e)}t[l.oI]>0&&function(e,t){var n,r,o,i,a,c;R||(n="AggregationError",r=function(e,t){t[l.oI]>1&&(e.errors=t[1])},i=o||Error,a=i[P.Fs][P.o_],c=Error.captureStackTrace,R=A(n,(function(){var e=this;try{F(i,n);var t=(0,E.p)(i,e,(0,C.K)(arguments))||e;if(t!==e){var o=(0,k.rL)(e);o!==(0,k.rL)(t)&&x(t,o)}return c&&c(t,e[P.BB]),r&&r(t,arguments),t}finally{F(i,a)}}),i));var u="Watcher error(s): ";throw(0,d.I)(t,(function(e,t){u+="\n".concat(t," > ").concat((0,s.m)(e))})),new R(u,t||[])}(0,t)}}return(t={prop:r,ro:o,rf:i})[l.JQ]=a,t[l.K0]=e,t.add=function(e){if(e&&e.h[l.oI]>0){u||(u=[]),h||(h=(0,D.dR)((function(){h=null,m()}),0));for(var t=0;t<e.h[l.oI];t++){var n=e.h[t];n&&-1===(0,f.r)(u,n)&&u[l.y5](n)}}},t[l.zs]=m,t.use=p,t.trk=function(e,t){if(e){var n=e[c]=e[c]||[];-1===(0,f.r)(n,t)&&n[l.y5](t)}},n=t}function B(e,t,n,s){var c=function(e,t,n){var s,c=(0,p.QA)(t);if(c)return c;var d,h=(0,a.Z)("dyncfg",!0),f=t&&!1!==n?t:(0,p.Dy)(t),m=((s={uid:null,cfg:f})[l.Uw]=e,s[l.zs]=function(){d[l.zs]()},s.set=function(t,n,r){try{t=y(d,t,n,r)}catch(t){g(e,n,"Setting value",t)}return t[n]},s[l.h0]=function(e,t){return t&&(0,o.z)(t,(function(t,n){(0,u.q)(m,e,t,n)})),e},s[l.x6]=function(e){return function(e,t){var n={fn:t,rm:function(){n.fn=null,e=null,t=null}};return e.use(n,t),n}(d,e)},s.ref=function(e,t){var n;return w(d,e,t,(n={},n[0]=!0,n))[t]},s[l.XW]=function(e,t){var n;return w(d,e,t,(n={},n[1]=!0,n))[t]},s[l.JQ]=function(e,t){var n;return w(d,e,t,(n={},n[2]=!0,n))[t]},s._block=function(e,t){d.use(null,(function(n){var o=d.upd;try{(0,r.b0)(t)||(d.upd=t),e(n)}finally{d.upd=o}}))},s);return(0,i.vF)(m,"uid",{c:!1,e:!1,w:!1,v:h}),S(d=$(m),f,"config","Creating"),m}(n,e||{},s);return t&&c[l.h0](c.cfg,t),c}function N(e,t,n){var r=e[p.nM]||e;return!r.cfg||r.cfg!==e&&r.cfg[p.nM]!==r?(function(e,t){e?(e[l.on](t),e[l.ih](2,108,t)):(0,p.If)(t)}(n,c.xW+(0,s.m)(e)),B(e,null,n)[l.x6](t)):r[l.x6](t)}},9147:(e,t,n)=>{"use strict";n.d(t,{Dy:()=>h,Hf:()=>m,If:()=>v,QA:()=>f,V9:()=>p,hF:()=>g,nM:()=>l});var r=n(7403),o=n(6668),i=n(7460),s=n(9018),a=n(3517),c=n(6182),l=(0,r.eC)("[[ai_dynCfg_1]]"),u=(0,r.eC)("[[ai_blkDynCfg_1]]"),d=(0,r.eC)("[[ai_frcDynCfg_1]]");function h(e){var t;return e&&((0,o.cy)(e)?(t=[])[c.oI]=e[c.oI]:(0,i.Q)(e)&&(t={}),t)?((0,s.z)(e,(function(e,n){t[e]=h(n)})),t):e}function f(e){if(e){var t=e[l]||e;if(t.cfg&&(t.cfg===e||t.cfg[l]===t))return t}return null}function p(e){if(e&&((0,i.Q)(e)||(0,o.cy)(e)))try{e[u]=!0}catch(e){}return e}function m(e){if(e)try{e[d]=!0}catch(e){}return e}function g(e,t,n){var r=!1;return n&&!e[t.blkVal]&&((r=n[d])||n[u]||(r=(0,i.Q)(n)||(0,o.cy)(n))),r}function v(e){(0,a.zk)("InvalidAccess:"+e)}},4282:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,o:()=>i});var r=n(8040),o=r.WS,i=r.fn},3662:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=(0,n(4282).H)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},9379:(e,t,n)=>{"use strict";n.d(t,{_:()=>Y});var r=n(659),o=n(8279),i=n(636),s=n(1324),a=n(5439),c=n(6668),l=n(3517),u=n(9018),d=n(7460),h=n(6874),f=n(755),p=n(5683),m=n(4016),g=n(6336),v=function(e){return e.value&&b(e),!0},y=[function(e){var t=e.value;if((0,c.cy)(t)){var n=e.result=[];return n.length=t.length,e.copyTo(n,t),!0}return!1},b,function(e){return e.type===m.H3},function(e){var t=e.value;return!!(0,c.$P)(t)&&(e.result=new Date(t.getTime()),!0)}];function w(e,t,n,r){var o=n.handler,i=n.path?r?n.path.concat(r):n.path:[],s={handler:n.handler,src:n.src,path:i},l=typeof t,u=!1,h=!1;t&&l===m.qv?u=(0,d.Q)(t):h=t===m.M_||(0,c.Cb)(l);var f={type:l,isPrim:h,isPlain:u,value:t,result:t,path:i,origin:n.src,copy:function(t,r){return w(e,t,r?s:n,r)},copyTo:function(t,n){return S(e,t,n,s)}};return f.isPrim?o&&(0,p.n)(o,n,f)?f.result:t:function(e,t){var r;return(0,a.I)(e,(function(e){if(e.k===t)return r=e,-1})),r||(r={k:t,v:t},e.push(r),function(e){(0,g.vF)(f,"result",{g:function(){return e.v},s:function(t){e.v=t}});for(var t=0,r=o;!(0,p.n)(r||(t<y.length?y[t++]:v),n,f);)r=m.M_}(r)),r.v}(e,t)}function S(e,t,n,r){if(!(0,c.hX)(n))for(var o in n)t[o]=w(e,n[o],r,o);return t}function b(e){var t=e.value;if(t&&e.isPlain){var n=e.result={};return e.copyTo(n,t),!0}return!1}function _(e,t,n,r,o,i,s){return function(e,t){return(0,a.I)(t,(function(t){!function(e,t){S([],e,t,{handler:void 0,src:t,path:[]})}(e,t)})),e}(w([],c=e,{handler:undefined,src:c})||{},(0,f.K)(arguments));var c}var D,C=n(9452),E=n(3076),P=n(1187),T=n(6832),k=n(9622),I=n(6182),x=n(4013),R=n(5034),A=n(4276),F=n(7867),O=n(3775),L=n(3673),M=n(6492),$=n(1356),B=n(5775),N=n(2317),U=n(380),H=n(8693),j=function(e){function t(){var n,r,i=e.call(this)||this;function s(){n=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,s(),(0,o.A)(t,i,(function(e,t){e.addTelemetryInitializer=function(e){return function(e,t,n){var r={id:t,fn:n};return(0,P.Y)(e,r),{remove:function(){(0,a.I)(e,(function(t,n){if(t.id===r.id)return e[I.Ic](n,1),-1}))}}}(r,n++,e)},e[M.qT]=function(t,n){(function(e,t,n){for(var r=!1,o=e[I.oI],i=0;i<o;++i){var s=e[i];if(s)try{if(!1===s.fn[I.y9](null,[t])){r=!0;break}}catch(e){(0,O.ZP)(n,2,64,"Telemetry initializer failed: "+(0,L.lL)(e),{exception:(0,H.m)(e)},!0)}}return!r})(r,t,n?n[I.e4]():e[I.e4]())&&e[I.$5](t,n)},e[I.tn]=function(){s()}})),i}return(0,r.qU)(t,e),t.__ieDyn=1,t}(n(8257).s),W=n(836),z=n(8969),q="Plugins must provide initialize method",V="SDK is still unloading...",G=(0,s.ZH)(((D={cookieCfg:{}})[M.jy]={rdOnly:!0,ref:!0,v:[]},D[M.LZ]={rdOnly:!0,ref:!0,v:[]},D[M.Bw]={ref:!0,v:{}},D[M.Yd]=M.HP,D.loggingLevelConsole=0,D.diagnosticLogInterval=M.HP,D));function K(e,t){return new B.NS(t)}function J(e,t){var n=!1;return(0,a.I)(t,(function(t){if(t===e)return n=!0,-1})),n}function X(e,t,n,r){n&&(0,u.z)(n,(function(n,o){r&&(0,d.Q)(o)&&(0,d.Q)(t[n])&&X(e,t[n],o,r),r&&(0,d.Q)(o)&&(0,d.Q)(t[n])?X(e,t[n],o,r):e.set(t,n,o)}))}function Z(e,t){var n=null,r=-1;return(0,a.I)(e,(function(e,o){if(e.w===t)return n=e,r=o,-1})),{i:r,l:n}}var Y=function(){function e(){var t,n,d,f,p,m,v,y,w,S,b,D,H,Y,Q,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,he;(0,o.A)(e,this,(function(e){function o(e){return ue&&ue[I.XM]||he||(e||d&&d.queue[I.oI]>0)&&(de||(de=!0,Ee(t[I.x6]((function(e){var t=e.cfg.diagnosticLogInterval;t&&t>0||(t=1e4);var n=!1;ue&&(n=ue[I.XM],ue[I._w]()),(ue=(0,h.AH)(Se,t)).unref(),ue[I.XM]=n})))),ue[I.XM]=!0),ue}function fe(){var e={};ce=[];var t=function(t){t&&(0,a.I)(t,(function(t){if(t[I.Ju]&&t[I.s]&&!e[t.identifier]){var n=t[I.Ju]+"="+t[I.s];ce[I.y5](n),e[t.identifier]=t}}))};t(D),b&&(0,a.I)(b,(function(e){t(e)})),t(S)}function pe(){n=!1,(t=(0,k.e)({},G,e[I.Uw])).cfg[I.Bl]=1,(0,g.vF)(e,"config",{g:function(){return t.cfg},s:function(t){e.updateCfg(t,!1)}}),(0,g.vF)(e,"pluginVersionStringArr",{g:function(){return ce||fe(),ce}}),(0,g.vF)(e,"pluginVersionString",{g:function(){return le||(ce||fe(),le=ce.join(";")),le||M.m5}}),(0,g.vF)(e,"logger",{g:function(){return d||(d=new O.wq(t.cfg),t[I.Uw]=d),d},s:function(e){t[I.Uw]=e,d!==e&&((0,x.K)(d,!1),d=e)}}),e[I.Uw]=new O.wq(t.cfg),ae=[];var r=e.config[M.jy]||[];r.splice(0,r[I.oI]),(0,P.Y)(r,ae),Y=new j,f=[],(0,x.K)(p,!1),p=null,m=null,v=null,(0,x.K)(y,!1),y=null,w=null,S=[],b=null,D=null,H=!1,Q=null,ee=(0,A.Z)("AIBaseCore",!0),te=(0,W.P)(),oe=null,ie=null,ne=(0,z.w)(),se=[],le=null,ce=null,he=!1}function me(){var n=(0,N.i8)(ye(),t.cfg,e);return n[I.by](o),n}function ge(t){var n=function(e,t,n){var r,o=[],i=[],s={};return(0,a.I)(n,(function(t){((0,c.hX)(t)||(0,c.hX)(t[I.mE]))&&(0,l.$8)(q);var n=t[M.Vo],r=t[I.Ju];t&&n&&((0,c.hX)(s[n])?s[n]=r:(0,O.OG)(e,"Two extensions have same priority #"+n+" - "+s[n]+", "+r)),!n||n<500?o[I.y5](t):i[I.y5](t)})),(r={})[M.eT]=o,r[M.LZ]=i,r}(e[I.Uw],0,S);w=null,le=null,ce=null,D=(b||[])[0]||[],D=(0,U.Xc)((0,P.Y)(D,n[M.LZ]));var r=(0,P.Y)((0,U.Xc)(n[M.eT]),D);ae=(0,s.N6)(r);var o=e.config[M.jy]||[];o.splice(0,o[I.oI]),(0,P.Y)(o,ae);var i=me();D&&D[I.oI]>0&&(0,U.pI)(i[I.$o](D),r),(0,U.pI)(i,r),t&&_e(t)}function ve(e){var t=null,n=null,r=[];return(0,a.I)(ae,(function(t){if(t[I.Ju]===e&&t!==Y)return n=t,-1;t.getChannel&&r[I.y5](t)})),!n&&r[I.oI]>0&&(0,a.I)(r,(function(t){if(!(n=t.getChannel(e)))return-1})),n&&(t={plugin:n,setEnabled:function(e){(0,U.Cr)(n)[M.Hr]=!e},isEnabled:function(){var e=(0,U.Cr)(n);return!e[I.Ik]&&!e[M.Hr]},remove:function(e,t){var r;void 0===e&&(e=!0);var o=[n],i=((r={reason:1})[I.tI]=e,r);we(o,i,(function(e){e&&ge({reason:32,removed:o}),t&&t(e)}))}}),t}function ye(){if(!w){var n=(ae||[]).slice();-1===(0,T.r)(n,Y)&&n[I.y5](Y),w=(0,N.PV)((0,U.Xc)(n),t.cfg,e)}return w}function we(n,r,i){if(n&&n[I.oI]>0){var s=(0,N.PV)(n,t.cfg,e),c=(0,N.tS)(s,e);c[I.by]((function(){var e=!1,t=[];(0,a.I)(S,(function(r,o){J(r,n)?e=!0:t[I.y5](r)})),S=t,le=null,ce=null;var r=[];b&&((0,a.I)(b,(function(t,o){var i=[];(0,a.I)(t,(function(t){J(t,n)?e=!0:i[I.y5](t)})),r[I.y5](i)})),b=r),i&&i(e),o()})),c[I.$5](r)}else i(!1)}function Se(){if(d&&d.queue){var t=d.queue.slice(0);d.queue[I.oI]=0,(0,a.I)(t,(function(t){var n,r=((n={})[I.RS]=Q||"InternalMessageId: "+t[I.JR],n.iKey=ie,n[I.fA]=(0,L._u)(new Date),n.baseType=O.WD.dataType,n.baseData={message:t[I.pM]},n);e.track(r)}))}}function be(e,t,n,r){var o=1,i=!1,s=null;function a(){o--,i&&0===o&&(s&&s[I._w](),s=null,t&&t(i),t=null)}return r=r||5e3,D&&D[I.oI]>0&&me()[I.$o](D).iterate((function(t){if(t.flush){o++;var i=!1;t.flush(e,(function(){i=!0,a()}),n)||i||(e&&null==s?s=(0,h.dR)((function(){s=null,a()}),r):a())}})),i=!0,a(),!0}function _e(t){var n=(0,N.nU)(ye(),e);n[I.by](o),e._updateHook&&!0===e._updateHook(n,t)||n[I.$5](t)}function De(t){var n=e[I.Uw];n?((0,O.ZP)(n,2,73,t),o()):(0,l.$8)(t)}function Ce(t){var n=e[I.RF]();n&&n[M.Yp]([t],2)}function Ee(e){ne.add(e)}pe(),e._getDbgPlgTargets=function(){return[ae]},e[I.tZ]=function(){return n},e[I.mE]=function(o,i,s,h){H&&(0,l.$8)(V),e[I.tZ]()&&(0,l.$8)("Core cannot be initialized more than once"),o=(t=(0,k.e)(o,G,s||e[I.Uw],!1)).cfg,Ee(t[I.x6]((function(e){ie=e.cfg.instrumentationKey;var t=e.ref(e.cfg,M.Bw);(0,u.z)(t,(function(n){e.ref(t,n)})),(0,c.hX)(ie)&&(0,l.$8)("Please provide instrumentation key")}))),!(p=h)&&e[I.RF](),Ee(t[I.x6]((function(e){var t=e.cfg.disableDbgExt;!0===t&&re&&(p[I.TP](re),re=null),p&&!re&&!0!==t&&(re=(0,F.M)(e.cfg),p[I.vR](re))}))),Ee(t[I.x6]((function(e){var t=e.cfg.enablePerfMgr;!t&&v&&(v=null),t&&(0,L.c2)(e.cfg,M.Yd,K)}))),e[I.Uw]=s;var f=o[M.jy];if((S=[])[I.y5].apply(S,(0,r.vz)((0,r.vz)([],i,!1),f,!1)),b=o[M.LZ],ge(null),D&&0!==D[I.oI]||(0,l.$8)("No "+M.LZ+" available"),b&&b[I.oI]>1){var m=e[I.AP]("TeeChannelController");m&&m.plugin||(0,O.ZP)(d,1,28,"TeeChannel required")}!function(e,t,n){(0,a.I)(t,(function(t){var r=(0,k.a)(e,t.w,n);delete t.w,t.rm=function(){r.rm()}}))}(o,se,d),se=null,n=!0,e.releaseQueue(),e[I.h4]()},e.getChannels=function(){var e=[];return D&&(0,a.I)(D,(function(t){e[I.y5](t)})),(0,s.N6)(e)},e.track=function(t){(0,B.r2)(e[M.kI](),(function(){return"AppInsightsCore:track"}),(function(){null===t&&(Ce(t),(0,l.$8)("Invalid telemetry item")),!t[I.RS]&&(0,c.hX)(t[I.RS])&&(Ce(t),(0,l.$8)("telemetry name required")),t.iKey=t.iKey||ie,t[I.fA]=t[I.fA]||(0,L._u)(new Date),t.ver=t.ver||"4.0",!H&&e[I.tZ]()?me()[I.$5](t):f[I.y5](t)}),(function(){return{item:t}}),!t.sync)},e[I.ps]=me,e[I.RF]=function(){return p||(p=new $.h(t.cfg),e._notificationManager=p),p},e[I.vR]=function(t){e[I.RF]()[I.vR](t)},e[I.TP]=function(e){p&&p[I.TP](e)},e.getCookieMgr=function(){return y||(y=(0,R.xN)(t.cfg,e[I.Uw])),y},e.setCookieMgr=function(e){y!==e&&((0,x.K)(y,!1),y=e)},e[M.kI]=function(){return m||v||Ee(t[I.x6]((function(t){if(t.cfg.enablePerfMgr){var n=t.cfg[M.Yd];(0,c.Tn)(n)&&(v=n(e,e[I.RF]()))}}))),m||v||(0,B.Z4)()},e.setPerfMgr=function(e){m=e},e.eventCnt=function(){return f[I.oI]},e.releaseQueue=function(){if(n&&f[I.oI]>0){var e=f;f=[],(0,a.I)(e,(function(e){me()[I.$5](e)}))}},e[I.h4]=function(e){return Q=e||null,he=!1,ue&&ue[I._w](),o(!0)},e[I.Di]=function(){he=!0,ue&&ue[I._w](),Se()},(0,L.o$)(e,(function(){return Y}),["addTelemetryInitializer"]),e[I.M5]=function(t,r,o){var s;void 0===t&&(t=!0),n||(0,l.$8)("SDK is not initialized"),H&&(0,l.$8)(V);var a,c=((s={reason:50})[I.tI]=t,s.flushComplete=!1,s);t&&!r&&(a=(0,i.Qo)((function(e){r=e})));var u=(0,N.tS)(ye(),e);function h(t){c.flushComplete=t,H=!0,te.run(u,c),e[I.Di](),u[I.$5](c)}return u[I.by]((function(){ne.run(e[I.Uw]),(0,x.k)([y,p,d],t,(function(){pe(),r&&r(c)}))}),e),Se(),be(t,h,6,o)||h(!1),a},e[I.AP]=ve,e.addPlugin=function(e,t,n,r){if(!e)return r&&r(!1),void De(q);var o=ve(e[I.Ju]);if(o&&!t)return r&&r(!1),void De("Plugin ["+e[I.Ju]+"] is already loaded!");var i={reason:16};function s(t){S[I.y5](e),i.added=[e],ge(i),r&&r(!0)}if(o){var a=[o.plugin];we(a,{reason:2,isAsync:!!n},(function(e){e?(i.removed=a,i.reason|=32,s()):r&&r(!1)}))}else s()},e.updateCfg=function(n,r){var o;if(void 0===r&&(r=!0),e[I.tZ]()){o={reason:1,cfg:t.cfg,oldCfg:_({},t.cfg),newConfig:_({},n),merge:r},n=o.newConfig;var i=t.cfg;n[M.jy]=i[M.jy],n[M.LZ]=i[M.LZ]}t._block((function(e){var t=e.cfg;X(e,t,n,r),r||(0,u.z)(t,(function(r){(0,C.K)(n,r)||e.set(t,r,M.HP)})),e[I.h0](t,G)}),!0),t[I.zs](),o&&_e(o)},e.evtNamespace=function(){return ee},e.flush=be,e.getTraceCtx=function(e){return oe||(oe=(0,U.u7)()),oe},e.setTraceCtx=function(e){oe=e||null},e.addUnloadHook=Ee,(0,L.RF)(e,"addUnloadCb",(function(){return te}),"add"),e.onCfgChange=function(r){var o,i,s,a;return n?o=(0,k.a)(t.cfg,r,e[I.Uw]):((a=Z(i=se,s=r).l)||(a={w:s,rm:function(){var e=Z(i,s);-1!==e.i&&i[I.Ic](e.i,1)}},i[I.y5](a)),o=a),{rm:function(){o.rm()}}},e.getWParam=function(){return(0,E.Wt)()||t.cfg.enableWParam?0:-1}}))}return e.__ieDyn=1,e}()},4013:(e,t,n)=>{"use strict";n.d(t,{K:()=>c,k:()=>l});var r=n(636),o=n(4292),i=n(4657),s=n(755),a=n(6182);function c(e,t){if(e&&e[a.M5])return e[a.M5](t)}function l(e,t,n){var a;return n||(a=(0,r.Qo)((function(e){n=e}))),e&&(0,i.R)(e)>0?(0,o.Dv)(c(e[0],t),(function(){l((0,s.K)(e,1),t,n)})):n(),a}},8257:(e,t,n)=>{"use strict";n.d(t,{s:()=>v});var r,o=n(8279),i=n(6336),s=n(6668),a=n(9622),c=n(6182),l=n(3775),u=n(3673),d=n(6492),h=n(2317),f=n(836),p=n(8969),m="getPlugin",g=((r={})[d.Bw]={isVal:u.Gh,v:{}},r),v=function(){function e(){var t,n,r,v,y,w=this;function S(e){void 0===e&&(e=null);var t=e;if(!t){var o=n||(0,h.i8)(null,{},w[d.eT]);t=r&&r[m]?o[c.$o](null,r[m]):o[c.$o](null,r)}return t}function b(e,t,o){(0,a.e)(e,g,(0,l.y0)(t)),!o&&t&&(o=t[c.ps]()[c.uR]());var i=r;r&&r[m]&&(i=r[m]()),w[d.eT]=t,n=(0,h.i8)(o,e,t,i)}function _(){t=!1,w[d.eT]=null,n=null,r=null,y=(0,p.w)(),v=(0,f.P)()}_(),(0,o.A)(e,w,(function(e){e[c.mE]=function(e,n,r,o){b(e,n,o),t=!0},e[c.Ik]=function(t,n){var o,i=e[d.eT];if(i&&(!t||i===t[d.eT]())){var s,a=!1,l=t||(0,h.tS)(null,i,r&&r[m]?r[m]():r),u=n||((o={reason:0})[c.tI]=!1,o);return e[c.tn]&&!0===e[c.tn](l,u,f)?s=!0:f(),s}function f(){a||(a=!0,v.run(l,n),y.run(l[c.e4]()),!0===s&&l[c.$5](u),_())}},e[c.HC]=function(t,n){var o=e[d.eT];if(o&&(!t||o===t[d.eT]())){var i,s=!1,a=t||(0,h.nU)(null,o,r&&r[m]?r[m]():r),l=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(a,l,u)?i=!0:u(),i}function u(){s||(s=!0,b(a.getCfg(),a.core(),a[c.uR]()))}},(0,u.RF)(e,"_addUnloadCb",(function(){return v}),"add"),(0,u.RF)(e,"_addHook",(function(){return y}),"add"),(0,i.vF)(e,"_unloadHooks",{g:function(){return y}})})),w[c.e4]=function(e){return S(e)[c.e4]()},w[c.tZ]=function(){return t},w.setInitialized=function(e){t=e},w[c.YH]=function(e){r=e},w[c.$5]=function(e,t){t?t[c.$5](e):r&&(0,s.Tn)(r[d.qT])&&r[d.qT](e,null)},w._getTelCtx=S}return e.__ieDyn=1,e}()},5034:(e,t,n)=>{"use strict";n.d(t,{It:()=>X,gi:()=>z,um:()=>j,xN:()=>W});var r,o,i,s=n(2871),a=n(3076),c=n(6668),l=n(6832),u=n(1374),d=n(5881),h=n(3178),f=n(225),p=n(8693),m=n(5439),g=n(9018),v=n(2494),y=n(2475),w=n(9622),S=n(6182),b=n(3775),_=n(7292),D=n(3673),C=n(6492),E="toGMTString",P="toUTCString",T="cookie",k="expires",I="isCookieUseDisabled",x="disableCookiesUsage",R="_ckMgr",A=null,F=null,O=null,L={},M={},$=((r={cookieCfg:(0,y.NU)((o={},o[C.Fk]={fb:"cookieDomain",dfVal:D.Gh},o.path={fb:"cookiePath",dfVal:D.Gh},o.enabled=C.HP,o.ignoreCookies=C.HP,o.blockedCookies=C.HP,o)),cookieDomain:C.HP,cookiePath:C.HP})[x]=C.HP,r);function B(){!i&&(i=(0,s.nR)((function(){return(0,a.YE)()})))}function N(e){return!e||e.isEnabled()}function U(e,t){return!!(t&&e&&(0,c.cy)(e.ignoreCookies))&&-1!==(0,l.r)(e.ignoreCookies,t)}function H(e,t){var n=t[S.XM];if((0,c.hX)(n)){var r=void 0;(0,c.b0)(e[I])||(r=!e[I]),(0,c.b0)(e[x])||(r=!e[x]),n=r}return n}function j(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r&&r[R]?r[R]:W(t)}return n||(n=function(e,t){var n=W[R]||M[R];return n||(n=W[R]=W(e,t),M[R]=n),n}(t,(e||{})[S.Uw])),n}function W(e,t){var n,r,o,i,s,p,m,g,v;e=(0,w.e)(e||M,null,t).cfg,s=(0,w.a)(e,(function(t){t[S.h0](t.cfg,$),r=t.ref(t.cfg,"cookieCfg"),o=r[C.QW]||"/",i=r[C.Fk],p=!1!==H(e,r),m=r.getCookie||K,g=r.setCookie||J,v=r.delCookie||J}),t);var y=((n={isEnabled:function(){var n=!1!==H(e,r)&&p&&z(t),o=M[R];return n&&o&&y!==o&&(n=N(o)),n},setEnabled:function(e){p=!1!==e,r[S.XM]=e},set:function(e,t,n,s,p){var m=!1;if(N(y)&&!function(e,t){return!!(t&&e&&(0,c.cy)(e.blockedCookies)&&-1!==(0,l.r)(e.blockedCookies,t))||U(e,t)}(r,e)){var v={},w=(0,u.EH)(t||C.m5),b=(0,d.H)(w,";");if(-1!==b&&(w=(0,u.EH)((0,h.ZW)(t,b)),v=q((0,h.P0)(t,b+1))),(0,D.KY)(v,C.Fk,s||i,c.zz,c.b0),!(0,c.hX)(n)){var T=(0,_.lT)();if((0,c.b0)(v[k])){var I=(0,f.f)()+1e3*n;if(I>0){var x=new Date;x.setTime(I),(0,D.KY)(v,k,V(x,T?E:P)||V(x,T?E:P)||C.m5,c.zz)}}T||(0,D.KY)(v,"max-age",C.m5+n,null,c.b0)}var R=(0,_.g$)();R&&"https:"===R.protocol&&((0,D.KY)(v,"secure",null,null,c.b0),null===F&&(F=!X(((0,a.w3)()||{})[S.tX])),F&&(0,D.KY)(v,"SameSite","None",null,c.b0)),(0,D.KY)(v,C.QW,p||o,null,c.b0),g(e,G(w,v)),m=!0}return m},get:function(e){var t=C.m5;return N(y)&&!U(r,e)&&(t=m(e)),t},del:function(e,t){var n=!1;return N(y)&&(n=y.purge(e,t)),n},purge:function(e,n){var r,o=!1;if(z(t)){var i=((r={})[C.QW]=n||"/",r[k]="Thu, 01 Jan 1970 00:00:01 GMT",r);(0,_.lT)()||(i["max-age"]="0"),v(e,G(C.m5,i)),o=!0}return o}})[S.M5]=function(e){s&&s.rm(),s=null},n);return y[R]=y,y}function z(e){if(null===A){A=!1,!i&&B();try{var t=i.v||{};A=void 0!==t[T]}catch(t){(0,b.ZP)(e,2,68,"Cannot access document.cookie - "+(0,D.lL)(t),{exception:(0,p.m)(t)})}}return A}function q(e){var t={};if(e&&e[S.oI]){var n=(0,u.EH)(e)[S.sY](";");(0,m.I)(n,(function(e){if(e=(0,u.EH)(e||C.m5)){var n=(0,d.H)(e,"=");-1===n?t[e]=null:t[(0,u.EH)((0,h.ZW)(e,n))]=(0,u.EH)((0,h.P0)(e,n+1))}}))}return t}function V(e,t){return(0,c.Tn)(e[t])?e[t]():null}function G(e,t){var n=e||C.m5;return(0,g.z)(t,(function(e,t){n+="; "+e+((0,c.hX)(t)?C.m5:"="+t)})),n}function K(e){var t=C.m5;if(!i&&B(),i.v){var n=i.v[T]||C.m5;O!==n&&(L=q(n),O=n),t=(0,u.EH)(L[e]||C.m5)}return t}function J(e,t){!i&&B(),i.v&&(i.v[T]=e+"="+t)}function X(e){return!(!(0,c.Kg)(e)||!(0,D.Ju)(e,"CPU iPhone OS 12")&&!(0,D.Ju)(e,"iPad; CPU OS 12")&&!((0,D.Ju)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,D.Ju)(e,"Version/")&&(0,D.Ju)(e,"Safari"))&&(!(0,D.Ju)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,v.C)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,D.Ju)(e,"Chrome/5")&&!(0,D.Ju)(e,"Chrome/6")&&(!(0,D.Ju)(e,"UnrealEngine")||(0,D.Ju)(e,"Chrome"))&&!(0,D.Ju)(e,"UCBrowser/12")&&!(0,D.Ju)(e,"UCBrowser/11"))}},9882:(e,t,n)=>{"use strict";n.d(t,{aq:()=>s,cL:()=>a});var r=n(3178),o=n(6492),i=n(6535);function s(){var e=a();return(0,r.P0)(e,0,8)+"-"+(0,r.P0)(e,8,12)+"-"+(0,r.P0)(e,12,16)+"-"+(0,r.P0)(e,16,20)+"-"+(0,r.P0)(e,20)}function a(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=o.m5,s=0;s<4;s++)n+=t[15&(e=(0,i.VN)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var a=t[8+(3&(0,i.VN)())|0];return(0,r.hK)(n,0,8)+(0,r.hK)(n,9,4)+"4"+(0,r.hK)(n,13,3)+a+(0,r.hK)(n,16,3)+(0,r.hK)(n,19,12)}},4276:(e,t,n)=>{"use strict";n.d(t,{T:()=>f,Z:()=>h});var r=n(6336),o=n(6182),i=n(3673),s=n(6492),a=n(6535),c="3.0.5",l="."+(0,a.Si)(6),u=0;function d(e){return 1===e[o.re]||9===e[o.re]||!+e[o.re]}function h(e,t){return void 0===t&&(t=!1),(0,i.cH)(e+u+++(t?"."+c:s.m5)+l)}function f(e){var t={id:h("_aiData-"+(e||s.m5)+"."+c),accept:function(e){return d(e)},get:function(e,n,o,s){var a=e[t.id];return a?a[(0,i.cH)(n)]:(s&&(a=function(e,t){var n=t[e.id];if(!n){n={};try{d(t)&&(0,r.vF)(t,e.id,{e:!1,v:n})}catch(e){}}return n}(t,e),a[(0,i.cH)(n)]=o),o)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},7867:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,M:()=>d});var r,o=n(3076),i=n(6182),s=n(6492),a=[s.fc,s.Yp,s.dI,s.l0],c=null;function l(e,t){return function(){var n=arguments,r=u(t);if(r){var o=r.listener;o&&o[e]&&o[e][i.y9](o,n)}}}function u(e){var t,n=c;return n||!0===e.disableDbgExt||(n=c||((t=(0,o.zS)("Microsoft"))&&(c=t.ApplicationInsights),c)),n?n.ChromeDbgExt:null}function d(e){if(!r){r={};for(var t=0;t<a[i.oI];t++)r[a[t]]=l(a[t],e)}return r}},3775:(e,t,n)=>{"use strict";n.d(t,{OG:()=>_,Oc:()=>D,WD:()=>v,ZP:()=>b,wq:()=>w,y0:()=>y});var r,o=n(8279),i=n(6668),s=n(8693),a=n(9622),c=n(6182),l=n(7867),u=n(7292),d=n(6492),h="warnToConsole",f={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},p=((r={})[0]=null,r[1]="errorToConsole",r[2]=h,r[3]="debugToConsole",r);function m(e){return e?'"'+e[c.W7](/\"/g,d.m5)+'"':d.m5}function g(e,t){var n=(0,u.U5)();if(n){var r="log";n[e]&&(r=e),(0,i.Tn)(n[r])&&n[r](t)}}var v=function(){function e(e,t,n,r){void 0===n&&(n=!1);var o=this;o[c.JR]=e,o[c.pM]=(n?"AI: ":"AI (Internal): ")+e;var i=d.m5;(0,u.Z)()&&(i=(0,u.hm)().stringify(r));var s=(t?" message:"+m(t):d.m5)+(r?" props:"+m(i):d.m5);o[c.pM]+=s}return e.dataType="MessageData",e}();function y(e,t){return(e||{})[c.Uw]||new w(t)}var w=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n,r,u,d,m,y=0,w={};(0,o.A)(e,this,(function(e){function o(t,n){if(!(y>=u)){var o=!0,i="AITR_"+n[c.JR];if(w[i]?o=!1:w[i]=!0,o&&(t<=r&&(e.queue[c.y5](n),y++,S(1===t?"error":"warn",n)),y===u)){var s="Internal events throttle limit per PageView reached for this app.",a=new v(23,s,!1);e.queue[c.y5](a),1===t?e.errorToConsole(s):e[c.on](s)}}}function S(e,n){var r=(0,l.$)(t||{});r&&r[c.e4]&&r[c.e4](e,n)}m=function(t){return(0,a.a)((0,a.e)(t,f,e).cfg,(function(e){var t=e.cfg;n=t[c.Bl],r=t.loggingLevelTelemetry,u=t.maxMessageLimit,d=t.enableDebug}))}(t||{}),e.consoleLoggingLevel=function(){return n},e[c.ih]=function(t,r,a,l,u){void 0===u&&(u=!1);var f=new v(r,a,u,l);if(d)throw(0,s.m)(f);var m=p[t]||h;if((0,i.b0)(f[c.pM]))S("throw"+(1===t?"Critical":"Warning"),f);else{if(u){var g=+f[c.JR];!w[g]&&n>=t&&(e[m](f[c.pM]),w[g]=!0)}else n>=t&&e[m](f[c.pM]);o(t,f)}},e.debugToConsole=function(e){g("debug",e),S("warning",e)},e[c.on]=function(e){g("warn",e),S("warning",e)},e.errorToConsole=function(e){g("error",e),S("error",e)},e.resetInternalMessageCount=function(){y=0,w={}},e[c.sx]=o,e[c.M5]=function(e){m&&m.rm(),m=null}}))}return e.__ieDyn=1,e}();function S(e){return e||new w}function b(e,t,n,r,o,i){void 0===i&&(i=!1),S(e)[c.ih](t,n,r,o,i)}function _(e,t){S(e)[c.on](t)}function D(e,t,n){S(e)[c.sx](t,n)}},7292:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>H,Iu:()=>j,L0:()=>L,MY:()=>R,PV:()=>B,R7:()=>$,U5:()=>k,Uf:()=>M,Z:()=>I,cU:()=>P,g$:()=>T,hm:()=>x,iN:()=>A,lT:()=>O,lV:()=>F,xk:()=>N});var r=n(5664),o=n(6668),i=n(3076),s=n(558),a=n(6182),c=n(3673),l=n(6492),u="documentMode",d="location",h="console",f="JSON",p="crypto",m="msCrypto",g="ReactNative",v="msie",y="trident/",w="XMLHttpRequest",S=null,b=null,_=!1,D=null,C=null;function E(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[r.vR];i&&(n=t in i)}}catch(e){}if(!n)try{var s=new e;n=!(0,o.b0)(s[t])}catch(e){}}return n}function P(e){_=e}function T(e){if(e&&_){var t=(0,i.zS)("__mockLocation");if(t)return t}return typeof location===r._1&&location?location:(0,i.zS)(d)}function k(){return typeof console!==r.bA?console:(0,i.zS)(h)}function I(){return Boolean(typeof JSON===r._1&&JSON||null!==(0,i.zS)(f))}function x(){return I()?JSON||(0,i.zS)(f):null}function R(){return(0,i.zS)(p)}function A(){return(0,i.zS)(m)}function F(){var e=(0,i.w3)();return!(!e||!e.product)&&e.product===g}function O(){var e=(0,i.w3)();if(e&&(e[a.tX]!==b||null===S)){var t=((b=e[a.tX])||l.m5)[a.OL]();S=(0,c.Ju)(t,v)||(0,c.Ju)(t,y)}return S}function L(e){if(void 0===e&&(e=null),!e){var t=(0,i.w3)()||{};e=t?(t.userAgent||l.m5)[a.OL]():l.m5}var n=(e||l.m5)[a.OL]();if((0,c.Ju)(n,v)){var r=(0,i.YE)()||{};return Math.max(parseInt(n[a.sY](v)[1]),r[u]||0)}if((0,c.Ju)(n,y)){var o=parseInt(n[a.sY](y)[1]);if(o)return o+4}return null}function M(e){return null!==C&&!1!==e||(C=(0,i.w9)()&&Boolean((0,i.w3)().sendBeacon)),C}function $(e){var t=!1;try{t=!!(0,i.zS)("fetch");var n=(0,i.zS)("Request");t&&e&&n&&(t=E(n,"keepalive"))}catch(e){}return t}function B(){return null===D&&(D=typeof XDomainRequest!==r.bA)&&N()&&(D=D&&!E((0,i.zS)(w),"withCredentials")),D}function N(){var e=!1;try{e=!!(0,i.zS)(w)}catch(e){}return e}function U(e,t){if(e)for(var n=0;n<e[a.oI];n++){var r=e[n];if(r[a.RS]&&r[a.RS]===t)return r}return{}}function H(e){var t=(0,i.YE)();return t&&e?U(t.querySelectorAll("meta"),e).content:null}function j(e){var t,n=(0,s.FJ)();if(n){var r=n.getEntriesByType("navigation")||[];t=U((r[a.oI]>0?r[0]:{}).serverTiming,e).description}return t}},6149:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>G,El:()=>A,Fc:()=>K,Hm:()=>M,ML:()=>B,Q3:()=>N,So:()=>H,Wg:()=>q,Ym:()=>U,ee:()=>V,lQ:()=>z,mB:()=>$,oS:()=>X,sq:()=>J,vF:()=>Z,zh:()=>j});var r=n(6668),o=n(5439),i=n(9018),s=n(1324),a=n(3076),c=n(6832),l=n(6182),u=n(4276),d=n(6492),h="on",f="attachEvent",p="addEventListener",m="detachEvent",g="removeEventListener",v="events",y="visibilitychange",w="pagehide",S="pageshow",b="unload",_="beforeunload",D=(0,u.Z)("aiEvtPageHide"),C=(0,u.Z)("aiEvtPageShow"),E=/\.[\.]+/g,P=/[\.]+$/,T=1,k=(0,u.T)("events"),I=/^([^.]*)(?:\.(.+)|)/;function x(e){return e&&e[l.W7]?e[l.W7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,d.m5):e}function R(e,t){var n;if(t){var i=d.m5;(0,r.cy)(t)?(i=d.m5,(0,o.I)(t,(function(e){(e=x(e))&&("."!==e[0]&&(e="."+e),i+=e)}))):i=x(t),i&&("."!==i[0]&&(i="."+i),e=(e||d.m5)+i)}var s=I.exec(e||d.m5)||[];return(n={})[l.QM]=s[1],n.ns=(s[2]||d.m5).replace(E,".").replace(P,d.m5)[l.sY](".").sort().join("."),n}function A(e,t,n){var r=[],s=k.get(e,v,{},!1),a=R(t,n);return(0,i.z)(s,(function(e,t){(0,o.I)(t,(function(e){var t;a[l.QM]&&a[l.QM]!==e.evtName[l.QM]||a.ns&&a.ns!=a.ns||r[l.y5](((t={})[l.RS]=e.evtName[l.QM]+(e.evtName.ns?"."+e.evtName.ns:d.m5),t.handler=e[l.Yo],t))}))})),r}function F(e,t,n){void 0===n&&(n=!0);var r=k.get(e,v,{},n),o=r[t];return o||(o=r[t]=[]),o}function O(e,t,n,r){e&&t&&t[l.QM]&&(e[g]?e[g](t[l.QM],n,r):e[m]&&e[m](h+t[l.QM],n))}function L(e,t,n,r){for(var o=t[l.oI];o--;){var i=t[o];i&&(n.ns&&n.ns!==i.evtName.ns||r&&!r(i)||(O(e,i.evtName,i[l.Yo],i.capture),t[l.Ic](o,1)))}}function M(e,t){return t?R("xx",(0,r.cy)(t)?[e].concat(t):[e,t]).ns[l.sY]("."):e}function $(e,t,n,r,o){var i;void 0===o&&(o=!1);var s=!1;if(e)try{var a=R(t,r);if(s=function(e,t,n,r){var o=!1;return e&&t&&t[l.QM]&&n&&(e[p]?(e[p](t[l.QM],n,r),o=!0):e[f]&&(e[f](h+t[l.QM],n),o=!0)),o}(e,a,n,o),s&&k.accept(e)){var c=((i={guid:T++,evtName:a})[l.Yo]=n,i.capture=o,i);F(e,a.type)[l.y5](c)}}catch(e){}return s}function B(e,t,n,r,o){if(void 0===o&&(o=!1),e)try{var a=R(t,r),c=!1;!function(e,t,n){if(t[l.QM])L(e,F(e,t[l.QM]),t,n);else{var r=k.get(e,v,{});(0,i.z)(r,(function(r,o){L(e,o,t,n)})),0===(0,s.cG)(r)[l.oI]&&k.kill(e,v)}}(e,a,(function(e){return!((!a.ns||n)&&e[l.Yo]!==n||(c=!0,0))})),c||O(e,a,n,o)}catch(e){}}function N(e,t,n,r){return void 0===r&&(r=!1),$(e,t,n,null,r)}function U(e,t,n,r){void 0===r&&(r=!1),B(e,t,n,null,r)}function H(e,t,n){var r=!1,o=(0,a.zk)();o&&(r=$(o,e,t,n),r=$(o.body,e,t,n)||r);var i=(0,a.YE)();return i&&(r=$(i,e,t,n)||r),r}function j(e,t,n){var r=(0,a.zk)();r&&(B(r,e,t,n),B(r.body,e,t,n));var o=(0,a.YE)();o&&B(o,e,t,n)}function W(e,t,n,r){var i=!1;return t&&e&&e[l.oI]>0&&(0,o.I)(e,(function(e){e&&(n&&-1!==(0,c.r)(n,e)||(i=H(e,t,r)||i))})),i}function z(e,t,n,o){var i=!1;return t&&e&&(0,r.cy)(e)&&!(i=W(e,t,n,o))&&n&&n[l.oI]>0&&(i=W(e,t,null,o)),i}function q(e,t,n){e&&(0,r.cy)(e)&&(0,o.I)(e,(function(e){e&&j(e,t,n)}))}function V(e,t,n){return z([_,b,w],e,t,n)}function G(e,t){q([_,b,w],e,t)}function K(e,t,n){var r=M(D,n),o=W([w],e,t,r);return t&&-1!==(0,c.r)(t,y)||(o=W([y],(function(t){var n=(0,a.YE)();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||o),!o&&t&&(o=K(e,null,n)),o}function J(e,t){var n=M(D,t);q([w],e,n),q([y],null,n)}function X(e,t,n){var r=M(C,n),o=W([S],e,t,r);return!(o=W([y],(function(t){var n=(0,a.YE)();e&&n&&"visible"===n.visibilityState&&e(t)}),t,r)||o)&&t&&(o=X(e,null,n)),o}function Z(e,t){var n=M(C,t);q([S],e,n),q([y],null,n)}},3673:(e,t,n)=>{"use strict";n.d(t,{CP:()=>x,Gh:()=>v,Ju:()=>w,KY:()=>_,RF:()=>P,SZ:()=>k,_u:()=>S,c2:()=>D,cH:()=>y,hW:()=>I,lL:()=>b,o$:()=>T,qz:()=>E});var r=n(1324),o=n(5664),i=n(6668),s=n(5881),a=n(9452),c=n(6336),l=n(5439),u=n(9018),d=n(7460),h=n(6182),f=n(6492),p=/-([a-z])/g,m=/([^\w\d_$])/g,g=/^(\d+[\w\d_$])/;function v(e){return!(0,i.hX)(e)}function y(e){var t=e;return t&&(0,i.Kg)(t)&&(t=(t=(t=t[h.W7](p,(function(e,t){return t.toUpperCase()})))[h.W7](m,"_"))[h.W7](g,(function(e,t){return"_"+t}))),t}function w(e,t){return!(!e||!t)&&-1!==(0,s.H)(e,t)}function S(e){return e&&e.toISOString()||""}function b(e){return(0,i.bJ)(e)?e[h.RS]:f.m5}function _(e,t,n,r,o){var i=n;return e&&((i=e[t])===n||o&&!o(i)||r&&!r(n)||(i=n,e[t]=i)),i}function D(e,t,n){var r;return e?!(r=e[t])&&(0,i.hX)(r)&&(r=(0,i.b0)(n)?{}:n,e[t]=r):r=(0,i.b0)(n)?{}:n,r}function C(e,t){var n=null,r=null;return(0,i.Tn)(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t][h.y9](r,e)}}function E(e,t,n){if(e&&t&&(0,i.Gv)(e)&&(0,i.Gv)(t)){var r=function(r){if((0,i.Kg)(r)){var o=t[r];(0,i.Tn)(o)?n&&!n(r,!0,t,e)||(e[r]=C(t,r)):n&&!n(r,!1,t,e)||((0,a.K)(e,r)&&delete e[r],(0,c.vF)(e,r,{g:function(){return t[r]},s:function(e){t[r]=e}}))}};for(var o in t)r(o)}return e}function P(e,t,n,r,o){e&&t&&n&&(!1!==o||(0,i.b0)(e[t]))&&(e[t]=C(n,r))}function T(e,t,n,r){return e&&t&&(0,i.Gv)(e)&&(0,i.cy)(n)&&(0,l.I)(n,(function(n){(0,i.Kg)(n)&&P(e,n,t,n,r)})),e}function k(e){return function(){var t=this;e&&(0,u.z)(e,(function(e,n){t[e]=n}))}}function I(e){return e&&r.vE&&(e=(0,o.s6)((0,r.vE)({},e))),e}function x(e,t,n,r,o,s){var c=arguments,l=c[0]||{},u=c[h.oI],f=!1,p=1;for(u>0&&(0,i.Lm)(l)&&(f=l,l=c[p]||{},p++),(0,i.Gv)(l)||(l={});p<u;p++){var m=c[p],g=(0,i.cy)(m),v=(0,i.Gv)(m);for(var y in m)if(g&&y in m||v&&(0,a.K)(m,y)){var w=m[y],S=void 0;if(f&&w&&((S=(0,i.cy)(w))||(0,d.Q)(w))){var b=l[y];S?(0,i.cy)(b)||(b=[]):(0,d.Q)(b)||(b={}),w=x(f,b,w)}void 0!==w&&(l[y]=w)}}return l}Object.getPrototypeOf},6492:(e,t,n)=>{"use strict";n.d(t,{Bw:()=>l,Fk:()=>y,HP:()=>r,Hr:()=>c,LZ:()=>i,QW:()=>w,Vo:()=>h,Yd:()=>a,Yp:()=>p,dI:()=>m,eT:()=>s,fc:()=>f,jy:()=>u,kI:()=>v,l0:()=>g,m5:()=>o,qT:()=>d,xW:()=>S});var r=void 0,o="",i="channels",s="core",a="createPerfMgr",c="disabled",l="extensionConfig",u="extensions",d="processTelemetry",h="priority",f="eventsSent",p="eventsDiscarded",m="eventsSendRequest",g="perfEvent",v="getPerfMgr",y="domain",w="path",S="Not dynamic - "},1356:(e,t,n)=>{"use strict";n.d(t,{h:()=>m});var r=n(8279),o=n(636),i=n(4292),s=n(5439),a=n(6874),c=n(6336),l=n(6832),u=n(9622),d=n(6182),h=n(6492),f={perfEvtsSendAll:!1};function p(e,t,n,r){(0,s.I)(e,(function(e){if(e&&e[t])if(n)(0,a.dR)((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var m=function(){function e(t){var n,s;this.listeners=[];var m=[],g=(0,u.e)(t,f);s=g[d.x6]((function(e){n=!!e.cfg.perfEvtsSendAll})),(0,r.A)(e,this,(function(e){(0,c.vF)(e,"listeners",{g:function(){return m}}),e[d.vR]=function(e){m[d.y5](e)},e[d.TP]=function(e){for(var t=(0,l.r)(m,e);t>-1;)m[d.Ic](t,1),t=(0,l.r)(m,e)},e[h.fc]=function(e){p(m,h.fc,!0,(function(t){t[h.fc](e)}))},e[h.Yp]=function(e,t){p(m,h.Yp,!0,(function(n){n[h.Yp](e,t)}))},e[h.dI]=function(e,t){p(m,h.dI,t,(function(n){n[h.dI](e,t)}))},e[h.l0]=function(e){e&&(!n&&e[d.Zu]()||p(m,h.l0,!1,(function(t){e[d.tI]?(0,a.dR)((function(){return t[h.l0](e)}),0):t[h.l0](e)})))},e[d.M5]=function(e){var t,n=function(){s&&s.rm(),s=null,m=[]};if(p(m,"unload",!1,(function(n){var r=n[d.M5](e);r&&(t||(t=[]),t[d.y5](r))})),t)return(0,o.Qo)((function(e){return(0,i.Dv)((0,o.Xf)(t),(function(){n(),e()}))}));n()}}))}return e.__ieDyn=1,e}()},5775:(e,t,n)=>{"use strict";n.d(t,{NS:()=>p,Q6:()=>f,Z4:()=>v,r2:()=>g});var r=n(8279),o=n(225),i=n(6668),s=n(6336),a=n(6182),c=n(6492),l="ctx",u="ParentContextKey",d="ChildrenContextKey",h=null,f=function(){function e(t,n,r){var c,h=this;h.start=(0,o.f)(),h[a.RS]=t,h[a.tI]=r,h[a.Zu]=function(){return!1},(0,i.Tn)(n)&&(0,s.vF)(h,"payload",{g:function(){return!c&&(0,i.Tn)(n)&&(c=n(),n=null),c}}),h[a.O_]=function(t){return t?t===e[u]||t===e[d]?h[t]:(h[l]||{})[t]:null},h[a.e_]=function(t,n){t&&(t===e[u]?(h[t]||(h[a.Zu]=function(){return!0}),h[t]=n):t===e[d]?h[t]=n:(h[l]=h[l]||{})[t]=n)},h[a.Ru]=function(){var t=0,n=h[a.O_](e[d]);if((0,i.cy)(n))for(var r=0;r<n[a.oI];r++){var s=n[r];s&&(t+=s[a.fA])}h[a.fA]=(0,o.f)()-h.start,h.exTime=h[a.fA]-t,h[a.Ru]=function(){}}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),p=function(){function e(t){this.ctx={},(0,r.A)(e,this,(function(e){e.create=function(e,t,n){return new f(e,t,n)},e.fire=function(e){e&&(e[a.Ru](),t&&(0,i.Tn)(t[c.l0])&&t[c.l0](e))},e[a.e_]=function(t,n){t&&((e[l]=e[l]||{})[t]=n)},e[a.O_]=function(t){return(e[l]||{})[t]}}))}return e.__ieDyn=1,e}(),m="CoreUtils.doPerf";function g(e,t,n,r,o){if(e){var i=e;if(i[c.kI]&&(i=i[c.kI]()),i){var s=void 0,l=i[a.O_](m);try{if(s=i.create(t(),r,o)){if(l&&s[a.e_]&&(s[a.e_](f[u],l),l[a.O_]&&l[a.e_])){var h=l[a.O_](f[d]);h||(h=[],l[a.e_](f[d],h)),h[a.y5](s)}return i[a.e_](m,s),n(s)}}catch(e){s&&s[a.e_]&&s[a.e_]("exception",e)}finally{s&&i.fire(s),i[a.e_](m,l)}}}return n()}function v(){return h}},2317:(e,t,n)=>{"use strict";n.d(t,{PV:()=>C,W0:()=>E,i8:()=>b,nU:()=>D,tS:()=>_});var r=n(6668),o=n(5439),i=n(8693),s=n(9018),a=n(1324),c=n(991),l=n(9622),u=n(6182),d=n(3775),h=n(3673),f=n(6492),p=n(5775),m=n(380),g="TelemetryPluginChain",v="_hasRun",y="_getTelCtx",w=0;function S(e,t,n,a){var h=null,p=[];t||(t=(0,l.e)({},null,n[u.Uw])),null!==a&&(h=a?function(e,t,n){for(;e;){if(e[u.AP]()===n)return e;e=e[u.uR]()}return C([n],t.config||{},t)}(e,n,a):e);var m={_next:function(){var e=h;if(h=e?e[u.uR]():null,!e){var t=p;t&&t[u.oI]>0&&((0,o.I)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,d.ZP)(n[u.Uw],2,73,"Unexpected Exception during onComplete - "+(0,i.m)(e))}})),p=[])}return e},ctx:{core:function(){return n},diagLog:function(){return(0,d.y0)(n,t.cfg)},getCfg:function(){return t.cfg},getExtCfg:function(e,n){var o=g(e,!0);return n&&(0,s.z)(n,(function(e,n){if((0,r.hX)(o[e])){var i=t.cfg[e];!i&&(0,r.hX)(i)||(o[e]=i)}(0,c.q)(t,o,e,n)})),t[u.h0](o,n)},getConfig:function(e,n,o){void 0===o&&(o=!1);var i,s=g(e,!1),a=t.cfg;return!s||!s[n]&&(0,r.hX)(s[n])?!a[n]&&(0,r.hX)(a[n])||(i=a[n]):i=s[n],i||!(0,r.hX)(i)?i:o},hasNext:function(){return!!h},getNext:function(){return h},setNext:function(e){h=e},iterate:function(e){for(var t;t=m._next();){var n=t[u.AP]();n&&e(n)}},onComplete:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];e&&p[u.y5]({func:e,self:(0,r.b0)(t)?m.ctx:t,args:n})}}};function g(e,n){var r=null,o=t.cfg;if(o&&e){var i=o[f.Bw];!i&&n&&(i={}),o[f.Bw]=i,(i=t.ref(o,f.Bw))&&(!(r=i[e])&&n&&(r={}),i[e]=r,r=t.ref(i,e))}return r}return m}function b(e,t,n,o){var i=(0,l.e)(t),s=S(e,i,n,o),a=s.ctx;return a[u.$5]=function(e){var t=s._next();return t&&t[f.qT](e,a),!t},a[u.$o]=function(e,t){return void 0===e&&(e=null),(0,r.cy)(e)&&(e=C(e,i.cfg,n,t)),b(e||a[u.uR](),i.cfg,n,t)},a}function _(e,t,n){var o=(0,l.e)(t.config),i=S(e,o,t,n),s=i.ctx;return s[u.$5]=function(e){var t=i._next();return t&&t[u.M5](s,e),!t},s[u.$o]=function(e,n){return void 0===e&&(e=null),(0,r.cy)(e)&&(e=C(e,o.cfg,t,n)),_(e||s[u.uR](),t,n)},s}function D(e,t,n){var o=(0,l.e)(t.config),i=S(e,o,t,n).ctx;return i[u.$5]=function(e){return i.iterate((function(t){(0,r.Tn)(t[u.HC])&&t[u.HC](i,e)}))},i[u.$o]=function(e,n){return void 0===e&&(e=null),(0,r.cy)(e)&&(e=C(e,o.cfg,t,n)),D(e||i[u.uR](),t,n)},i}function C(e,t,n,s){var c=null,l=!s;if((0,r.cy)(e)&&e[u.oI]>0){var h=null;(0,o.I)(e,(function(e){if(l||s!==e||(l=!0),l&&e&&(0,r.Tn)(e[f.qT])){var o=function(e,t,n){var o,s=null,c=(0,r.Tn)(e[f.qT]),l=(0,r.Tn)(e[u.YH]),h={getPlugin:function(){return e},getNext:function(){return s},processTelemetry:function(o,i){S(i=i||function(){var o;return e&&(0,r.Tn)(e[y])&&(o=e[y]()),o||(o=b(h,t,n)),o}(),(function(t){if(!e||!c)return!1;var n=(0,m.Cr)(e);return!n[u.Ik]&&!n[f.Hr]&&(l&&e[u.YH](s),e[f.qT](o,t),!0)}),"processTelemetry",(function(){return{item:o}}),!o.sync)||i[u.$5](o)},unload:function(t,n){S(t,(function(){var r=!1;if(e){var o=(0,m.Cr)(e),i=e[f.eT]||o[f.eT];!e||i&&i!==t.core()||o[u.Ik]||(o[f.eT]=null,o[u.Ik]=!0,o[u.tZ]=!1,e[u.Ik]&&!0===e[u.Ik](t,n)&&(r=!0))}return r}),"unload",(function(){}),n[u.tI])||t[u.$5](n)},update:function(t,n){S(t,(function(){var r=!1;if(e){var o=(0,m.Cr)(e),i=e[f.eT]||o[f.eT];!e||i&&i!==t.core()||o[u.Ik]||e[u.HC]&&!0===e[u.HC](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t[u.$5](n)},_id:o=e?e[u.Ju]+"-"+e[f.Vo]+"-"+w++:"Unknown-0-"+w++,_setNext:function(e){s=e}};function S(t,n,r,a,c){var l=!1,h=e?e[u.Ju]:g,m=t[v];return m||(m=t[v]={}),t.setNext(s),e&&(0,p.r2)(t[f.eT](),(function(){return h+":"+r}),(function(){m[o]=!0;try{var e=s?s._id:f.m5;e&&(m[e]=!1),l=n(t)}catch(e){var a=!s||m[s._id];a&&(l=!0),s&&a||(0,d.ZP)(t[u.e4](),1,73,"Plugin ["+h+"] failed during "+r+" - "+(0,i.m)(e)+", run flags: "+(0,i.m)(m))}}),a,c),l}return(0,a.N6)(h)}(e,t,n);c||(c=o),h&&h._setNext(o),h=o}}))}return s&&!c?C([s],t,n):c}var E=function(e,t,n,r){var o=b(e,t,n,r);(0,h.o$)(this,o,(0,a.cG)(o))}},6535:(e,t,n)=>{"use strict";n.d(t,{Si:()=>v,VN:()=>g,Z1:()=>m});var r=n(225),o=n(6182),i=n(7292),s=n(6492),a=4294967296,c=4294967295,l=123456789,u=987654321,d=!1,h=l,f=u;function p(){try{var e=2147483647&(0,r.f)();(t=(Math.random()*a^e)+e)<0&&(t>>>=0),h=l+t&c,f=u-t&c,d=!0}catch(e){}var t}function m(e){return e>0?Math.floor(g()/c*(e+1))>>>0:0}function g(e){var t=0,n=(0,i.MY)()||(0,i.iN)();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&c),0===t&&(0,i.lT)()&&(d||p(),t=function(){var e=((f=36969*(65535&f)+(f>>16)&c)<<16)+(65535&(h=18e3*(65535&h)+(h>>16)&c))>>>0&c;return e>>>=0}()&c),0===t&&(t=Math.floor(a*Math.random()|0)),e||(t>>>=0),t}function v(e){void 0===e&&(e=22);for(var t=g()>>>0,n=0,r=s.m5;r[o.oI]<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(g()<<2&4294967295|3&t)>>>0,n=0);return r}},380:(e,t,n)=>{"use strict";n.d(t,{Cr:()=>l,Xc:()=>d,pI:()=>u,u7:()=>h});var r=n(5439),o=n(6182),i=n(4276),s=n(6492),a=n(1864),c=(0,i.T)("plugin");function l(e){return c.get(e,"state",{},!0)}function u(e,t){for(var n,i=[],a=null,c=e[o.uR]();c;){var u=c[o.AP]();if(u){a&&a[o.YH]&&u[s.qT]&&a[o.YH](u);var d=!!(n=l(u))[o.tZ];u[o.tZ]&&(d=u[o.tZ]()),d||i[o.y5](u),a=u,c=c[o.uR]()}}(0,r.I)(i,(function(r){var i=e[s.eT]();r[o.mE](e.getCfg(),i,t,e[o.uR]()),n=l(r),r[s.eT]||n[s.eT]||(n[s.eT]=i),n[o.tZ]=!0,delete n[o.Ik]}))}function d(e){return e.sort((function(e,t){var n=0;if(t){var r=t[s.qT];e[s.qT]?n=r?e[s.Vo]-t[s.Vo]:1:r&&(n=-1)}else n=e?1:-1;return n}))}function h(e){var t={};return{getName:function(){return t[o.RS]},setName:function(n){e&&e.setName(n),t[o.RS]=n},getTraceId:function(){return t[o.P5]},setTraceId:function(n){e&&e.setTraceId(n),(0,a.hX)(n)&&(t[o.P5]=n)},getSpanId:function(){return t[o.wi]},setSpanId:function(n){e&&e.setSpanId(n),(0,a.wN)(n)&&(t[o.wi]=n)},getTraceFlags:function(){return t[o.Rr]},setTraceFlags:function(n){e&&e.setTraceFlags(n),t[o.Rr]=n}}}},836:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(5439),o=n(8693),i=n(6182),s=n(3775);function a(){var e=[];return{add:function(t){t&&e[i.y5](t)},run:function(t,n){(0,r.I)(e,(function(e){try{e(t,n)}catch(e){(0,s.ZP)(t[i.e4](),2,73,"Unexpected error calling unload handler - "+(0,o.m)(e))}})),e=[]}}}},8969:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(5439),o=n(8693),i=n(1187),s=n(3775);function a(){var e=[];return{run:function(t){var n=e;e=[],(0,r.I)(n,(function(e){try{(e.rm||e.remove).call(e)}catch(e){(0,s.ZP)(t,2,73,"Unloading:"+(0,o.m)(e))}}))},add:function(t){t&&(0,i.Y)(e,t)}}}},1864:(e,t,n)=>{"use strict";n.d(t,{L0:()=>E,N7:()=>C,ZI:()=>S,ef:()=>P,hX:()=>b,mJ:()=>D,wN:()=>_,wk:()=>w});var r=n(3178),o=n(6668),i=n(1374),s=n(6182),a=n(9882),c=n(7292),l=n(6492),u=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,d="00",h="ff",f="00000000000000000000000000000000",p="0000000000000000",m=1;function g(e,t,n){return!(!e||e[s.oI]!==t||e===n||!e.match(/^[\da-f]*$/i))}function v(e,t,n){return g(e,t)?e:n}function y(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t[s.oI]<2;)t="0"+t;return t}function w(e,t,n,o){var i;return(i={})[s.s]=g(o,2,h)?o:d,i[s.P5]=b(e)?e:(0,a.cL)(),i[s.wi]=_(t)?t:(0,r.ZW)((0,a.cL)(),16),i.traceFlags=n>=0&&n<=255?n:1,i}function S(e,t){var n;if(!e)return null;if((0,o.cy)(e)&&(e=e[0]||""),!e||!(0,o.Kg)(e)||e[s.oI]>8192)return null;if(-1!==e.indexOf(",")){var r=e[s.sY](",");e=r[t>0&&r[s.oI]>t?t:0]}var a=u.exec((0,i.EH)(e));return a&&a[1]!==h&&a[2]!==f&&a[3]!==p?((n={version:(a[1]||l.m5)[s.OL](),traceId:(a[2]||l.m5)[s.OL](),spanId:(a[3]||l.m5)[s.OL]()})[s.Rr]=parseInt(a[4],16),n):null}function b(e){return g(e,32,f)}function _(e){return g(e,16,p)}function D(e){return!!(e&&g(e[s.s],2,h)&&g(e[s.P5],32,f)&&g(e[s.wi],16,p)&&g(y(e[s.Rr]),2))}function C(e){return!!D(e)&&(e[s.Rr]&m)===m}function E(e){if(e){var t=y(e[s.Rr]);g(t,2)||(t="01");var n=e[s.s]||d;return"00"!==n&&"ff"!==n&&(n=d),"".concat(n.toLowerCase(),"-").concat(v(e.traceId,32,f).toLowerCase(),"-").concat(v(e.spanId,16,p).toLowerCase(),"-").concat(t.toLowerCase())}return""}function P(e){var t="traceparent",n=S((0,c.$Z)(t),e);return n||(n=S((0,c.Iu)(t),e)),n}},6182:(e,t,n)=>{"use strict";n.d(t,{$5:()=>E,$o:()=>M,AP:()=>b,Bl:()=>L,Di:()=>R,HC:()=>W,Ic:()=>m,Ik:()=>$,JQ:()=>o,JR:()=>B,Ju:()=>w,K0:()=>g,M5:()=>A,OL:()=>r,O_:()=>ee,P5:()=>re,QM:()=>Z,RF:()=>T,RS:()=>D,Rr:()=>ie,Ru:()=>ne,TP:()=>I,Uw:()=>h,W7:()=>J,XM:()=>x,XW:()=>s,YH:()=>q,Yo:()=>Y,Zu:()=>Q,_w:()=>v,by:()=>F,e4:()=>H,e_:()=>te,fA:()=>C,h0:()=>u,h4:()=>_,ih:()=>l,mE:()=>y,oI:()=>i,on:()=>c,pM:()=>N,ps:()=>P,re:()=>K,s:()=>O,sY:()=>G,sx:()=>X,tI:()=>U,tX:()=>V,tZ:()=>S,tn:()=>j,uR:()=>z,vR:()=>k,wi:()=>oe,x6:()=>d,y5:()=>p,y9:()=>f,zs:()=>a});var r="toLowerCase",o="blkVal",i="length",s="rdOnly",a="notify",c="warnToConsole",l="throwInternal",u="setDf",d="watch",h="logger",f="apply",p="push",m="splice",g="hdlr",v="cancel",y="initialize",w="identifier",S="isInitialized",b="getPlugin",_="pollInternalLogs",D="name",C="time",E="processNext",P="getProcessTelContext",T="getNotifyMgr",k="addNotificationListener",I="removeNotificationListener",x="enabled",R="stopPollingInternalLogs",A="unload",F="onComplete",O="version",L="loggingLevelConsole",M="createNew",$="teardown",B="messageId",N="message",U="isAsync",H="diagLog",j="_doTeardown",W="update",z="getNext",q="setNextPlugin",V="userAgent",G="split",K="nodeType",J="replace",X="logInternalMessage",Z="type",Y="handler",Q="isChildEvt",ee="getCtx",te="setCtx",ne="complete",re="traceId",oe="spanId",ie="traceFlags"},5664:(e,t,n)=>{"use strict";n.d(t,{Wy:()=>c,_1:()=>o,bA:()=>i,hW:()=>r,s6:()=>a,vR:()=>s});var r="function",o="object",i="undefined",s="prototype",a=Object,c=a[s]},659:(e,t,n)=>{"use strict";n.d(t,{Im:()=>l,qU:()=>d,vz:()=>h});var r=n(3076),o=n(1324),i=n(3517),s=n(411),a=n(5664),c=(((0,r.mS)()||{}).Symbol,((0,r.mS)()||{}).Reflect,"hasOwnProperty"),l=o.vE||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])a.Wy[c].call(t,o)&&(e[o]=t[o]);return e},u=function(e,t){return u=a.s6.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])},u(e,t)};function d(e,t){function n(){this.constructor=e}typeof t!==a.hW&&null!==t&&(0,i.zk)("Class extends value "+String(t)+" is not a constructor or null"),u(e,t),e[a.vR]=null===t?(0,s.s)(t):(n[a.vR]=t[a.vR],new n)}function h(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}},1380:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>vt._,ApplicationInsights:()=>Dt,Sender:()=>mt,SeverityLevel:()=>bt.O,arrForEach:()=>E.I,isNullOrUndefined:()=>k.hX,proxyFunctions:()=>w.o$,throwError:()=>yt.$8});var r=n(8279),o=n(659),i=n(5025),s=n(3072),a=n(2445),c=n(1448),l=n(4164),u=n(5397),d=n(5014),h=n(1365),f=n(740),p=n(4658),m=n(2318),g=n(2910),v=n(2475),y=n(3775),w=n(3673),S=n(8693),b=n(6149),_=n(4276),D=n(9622),C=n(2317),E=n(5439),P=n(7292),T=n(4013),k=n(6668),I=n(3076),x=n(1324),R=n(225),A=n(8257),F=n(636),O=n(4292),L=n(6336),M=n(6874),$=n(1575),B=n(7975),N=n(1062),U=n(7358),H=n(9018),j="duration",W="tags",z="deviceType",q="data",V="name",G="traceID",K="length",J="stringify",X="measurements",Z="dataType",Y="envelopeType",Q="toString",ee="onLine",te="isOnline",ne="_get",re="enqueue",oe="count",ie="eventsLimitInMem",se="push",ae="emitLineDelimitedJson",ce="clear",le="batchPayloads",ue="createNew",de="markAsSent",he="clearSent",fe="bufferOverride",pe="BUFFER_KEY",me="SENT_BUFFER_KEY",ge="MAX_BUFFER_SIZE",ve="sendPOST",ye="triggerSend",we="diagLog",Se="_sender",be="customHeaders",_e="maxBatchSizeInBytes",De="onunloadDisableBeacon",Ce="isBeaconApiDisabled",Ee="alwaysUseXhrOverride",Pe="enableSessionStorageBuffer",Te="_buffer",ke="onunloadDisableFetch",Ie="instrumentationKey",xe="convertUndefined",Re="maxBatchInterval",Ae="baseType",Fe="sampleRate",Oe="_onError",Le="_onPartialSuccess",Me="_onSuccess",$e="itemsAccepted",Be="oriPayload",Ne="setRequestHeader",Ue="eventsSendRequest",He="getSamplingScore",je="baseType",We="baseData",ze="properties",qe="true";function Ve(e,t,n){return(0,w.KY)(e,t,n,k.zz)}function Ge(e,t,n){(0,k.hX)(e)||(0,H.z)(e,(function(e,r){(0,k.Et)(r)?n[e]=r:(0,k.Kg)(r)?t[e]=r:(0,P.Z)()&&(t[e]=(0,P.hm)()[J](r))}))}function Ke(e,t){(0,k.hX)(e)||(0,H.z)(e,(function(n,r){e[n]=r||t}))}function Je(e,t,n,r){var s=new N.L(e,r,t);Ve(s,"sampleRate",n[i.tU]),(n[We]||{}).startTime&&(s.time=(0,w._u)(n[We].startTime)),s.iKey=n.iKey;var a=n.iKey.replace(/-/g,"");return s[V]=s[V].replace("{0}",a),function(e,t,n){var r=n[W]=n[W]||{},i=t.ext=t.ext||{},s=t[W]=t[W]||[],a=i.user;a&&(Ve(r,$.O.userAuthUserId,a.authId),Ve(r,$.O.userId,a.id||a.localId));var c=i.app;c&&Ve(r,$.O.sessionId,c.sesId);var l=i.device;l&&(Ve(r,$.O.deviceId,l.id||l.localId),Ve(r,$.O[z],l.deviceClass),Ve(r,$.O.deviceIp,l.ip),Ve(r,$.O.deviceModel,l.model),Ve(r,$.O[z],l[z]));var u=t.ext.web;if(u){Ve(r,$.O.deviceLanguage,u.browserLang),Ve(r,$.O.deviceBrowserVersion,u.browserVer),Ve(r,$.O.deviceBrowser,u.browser);var d=n[q]=n[q]||{},h=d[We]=d[We]||{},f=h[ze]=h[ze]||{};Ve(f,"domain",u.domain),Ve(f,"isManual",u.isManual?qe:null),Ve(f,"screenRes",u.screenRes),Ve(f,"userConsent",u.userConsent?qe:null)}var p=i.os;p&&Ve(r,$.O.deviceOS,p[V]);var m=i.trace;m&&(Ve(r,$.O.operationParentId,m.parentID),Ve(r,$.O.operationName,(0,B.Rr)(e,m[V])),Ve(r,$.O.operationId,m[G]));for(var g={},v=s[K]-1;v>=0;v--){var y=s[v];(0,H.z)(y,(function(e,t){g[e]=t})),s.splice(v,1)}(0,H.z)(s,(function(e,t){g[e]=t}));var S=(0,o.Im)((0,o.Im)({},r),g);S[$.O.internalSdkVersion]||(S[$.O.internalSdkVersion]=(0,B.Rr)(e,"javascript:".concat(Ze.Version),64)),n[W]=(0,w.hW)(S)}(e,n,s),n[W]=n[W]||[],(0,w.hW)(s)}function Xe(e,t){(0,k.hX)(t[We])&&(0,y.ZP)(e,1,46,"telemetryItem.baseData cannot be null.")}var Ze={Version:"3.0.5"};function Ye(e,t,n){Xe(e,t);var r={},o={};t[je]!==s.J[Z]&&(r.baseTypeSource=t[je]),t[je]===s.J[Z]?(r=t[We][ze]||{},o=t[We][X]||{}):t[We]&&Ge(t[We],r,o),Ge(t[q],r,o),(0,k.hX)(n)||Ke(r,n);var i=t[We][V],a=new s.J(e,i,r,o),c=new U.B(s.J[Z],a);return Je(e,s.J[Y],t,c)}function Qe(e,t){(0,b.ML)(e,null,null,t)}var et,tt,nt=n(6832),rt=function(){function e(t,n){var o=[],i=!1;this[ne]=function(){return o},this._set=function(e){return o=e},(0,r.A)(e,this,(function(e){e[re]=function(r){e[oe]()>=n[ie]?i||((0,y.ZP)(t,2,105,"Maximum in-memory buffer size reached: "+e[oe](),!0),i=!0):o[se](r)},e[oe]=function(){return o[K]},e.size=function(){for(var e=o[K],t=0;t<o[K];t++)e+=o[t][K];return n[ae]||(e+=2),e},e[ce]=function(){o=[],i=!1},e.getItems=function(){return o.slice(0)},e[le]=function(e){return e&&e[K]>0?n[ae]?e.join("\n"):"["+e.join(",")+"]":null},e[ue]=function(e,n,r){var i=o.slice(0);e=e||t,n=n||{};var s=r?new it(e,n):new ot(e,n);return(0,E.I)(i,(function(e){s[re](e)})),s}}))}return e.__ieDyn=1,e}(),ot=function(e){function t(n,o){var i=e.call(this,n,o)||this;return(0,r.A)(t,i,(function(e,t){e[de]=function(e){t[ce]()},e[he]=function(e){}})),i}return(0,o.qU)(t,e),t.__ieDyn=1,t}(rt),it=function(e){function t(n,o){var i=e.call(this,n,o)||this,s=!1,a=null==o?void 0:o.namePrefix,c=o[fe]||{getItem:p.vH,setItem:p.Dt},l=c.getItem,u=c.setItem;return(0,r.A)(t,i,(function(e,r){var o=h(t[pe]),i=h(t[me]),c=e._set(o.concat(i));function d(e,t){var n=[];return(0,E.I)(t,(function(t){(0,k.Tn)(t)||-1!==(0,nt.r)(e,t)||n[se](t)})),n}function h(e){var t=e;try{var r=l(n,t=a?a+"_"+t:t);if(r){var o=(0,P.hm)().parse(r);if((0,k.Kg)(o)&&(o=(0,P.hm)().parse(o)),o&&(0,k.cy)(o))return o}}catch(e){(0,y.ZP)(n,1,42," storage key: "+t+", "+(0,w.lL)(e),{exception:(0,S.m)(e)})}return[]}function f(e,t){var r=e;try{r=a?a+"_"+r:r;var o=JSON[J](t);u(n,r,o)}catch(e){u(n,r,JSON[J]([])),(0,y.ZP)(n,2,41," storage key: "+r+", "+(0,w.lL)(e)+". Buffer cleared",{exception:(0,S.m)(e)})}}c[K]>t[ge]&&(c[K]=t[ge]),f(t[me],[]),f(t[pe],c),e[re]=function(o){e[oe]()>=t[ge]?s||((0,y.ZP)(n,2,67,"Maximum buffer size reached: "+e[oe](),!0),s=!0):(r[re](o),f(t.BUFFER_KEY,e[ne]()))},e[ce]=function(){r[ce](),f(t.BUFFER_KEY,e[ne]()),f(t[me],[]),s=!1},e[de]=function(r){f(t[pe],e._set(d(r,e[ne]())));var o=h(t[me]);o instanceof Array&&r instanceof Array&&((o=o.concat(r))[K]>t[ge]&&((0,y.ZP)(n,1,67,"Sent buffer reached its maximum size: "+o[K],!0),o[K]=t[ge]),f(t[me],o))},e[he]=function(e){var n=h(t[me]);n=d(e,n),f(t[me],n)},e[ue]=function(r,o,i){i=!!i;var s=e[ne]().slice(0),a=h(t[me]).slice(0);r=r||n,o=o||{},e[ce]();var c=i?new t(r,o):new ot(r,o);return(0,E.I)(s,(function(e){c[re](e)})),i&&c[de](a),c}})),i}return(0,o.qU)(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(rt),st=function(){function e(t){(0,r.A)(e,this,(function(e){function n(e,i){var s="__aiCircularRefCheck",a={};if(!e)return(0,y.ZP)(t,1,48,"cannot serialize object because it is null or undefined",{name:i},!0),a;if(e[s])return(0,y.ZP)(t,2,50,"Circular reference detected while serializing object",{name:i},!0),a;if(!e.aiDataContract){if("measurements"===i)a=o(e,"number",i);else if("properties"===i)a=o(e,"string",i);else if("tags"===i)a=o(e,"string",i);else if((0,k.cy)(e))a=r(e,i);else{(0,y.ZP)(t,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:i},!0);try{(0,P.hm)()[J](e),a=e}catch(e){(0,y.ZP)(t,1,48,e&&(0,k.Tn)(e[Q])?e[Q]():"Error serializing object",null,!0)}}return a}return e[s]=!0,(0,H.z)(e.aiDataContract,(function(o,s){var c=(0,k.Tn)(s)?1&s():1&s,l=(0,k.Tn)(s)?4&s():4&s,u=2&s,d=void 0!==e[o],h=(0,k.Gv)(e[o])&&null!==e[o];if(!c||d||u){if(!l){var f;void 0!==(f=h?u?r(e[o],o):n(e[o],o):e[o])&&(a[o]=f)}}else(0,y.ZP)(t,1,24,"Missing required field specification. The field is required but not present on source",{field:o,name:i})})),delete e[s],a}function r(e,r){var o;if(e)if((0,k.cy)(e)){o=[];for(var i=0;i<e[K];i++){var s=n(e[i],r+"["+i+"]");o[se](s)}}else(0,y.ZP)(t,1,54,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return o}function o(e,n,r){var o;return e&&(o={},(0,H.z)(e,(function(e,i){if("string"===n)void 0===i?o[e]="undefined":null===i?o[e]="null":i[Q]?o[e]=i[Q]():o[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===i)o[e]="undefined";else if(null===i)o[e]="null";else{var s=parseFloat(i);isNaN(s)?o[e]="NaN":o[e]=s}else o[e]="invalid field: "+r+" is of unknown type.",(0,y.ZP)(t,1,o[e],null,!0)}))),o}e.serialize=function(e){var r=n(e,"root");try{return(0,P.hm)()[J](r)}catch(e){(0,y.ZP)(t,1,48,e&&(0,k.Tn)(e[Q])?e[Q]():"Error serializing object",null,!0)}}}))}return e.__ieDyn=1,e}(),at=n(8596),ct=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e[K]<8;)e=e.concat(e);for(var t=5381,n=0;n<e[K];++n)t=(t<<5)+t+e.charCodeAt(n),t|=0;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),lt=function(){var e=new ct,t=new at.o;this[He]=function(n){return n[W]&&n[W][t.userId]?e.getHashCodeScore(n[W][t.userId]):n.ext&&n.ext.user&&n.ext.user.id?e.getHashCodeScore(n.ext.user.id):n[W]&&n[W][t.operationId]?e.getHashCodeScore(n[W][t.operationId]):n.ext&&n.ext.telemetryTrace&&n.ext.telemetryTrace[G]?e.getHashCodeScore(n.ext.telemetryTrace[G]):100*Math.random()}},ut=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var n=t||(0,y.y0)(null);(e>100||e<0)&&(n.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this[Fe]=e,this.samplingScoreGenerator=new lt}return e.prototype.isSampledIn=function(e){var t=this[Fe];return null==t||t>=100||e.baseType===d.J[Z]||this.samplingScoreGenerator[He](e)<t},e}(),dt=void 0;function ht(e){try{return e.responseText}catch(e){}return null}var ft=(0,x.ZH)(((et={endpointUrl:(0,v.Lx)(k.zz,i._G+i.wc)})[ae]=(0,v.DD)(),et[Re]=15e3,et[_e]=102400,et.disableTelemetry=(0,v.DD)(),et[Pe]=(0,v.DD)(!0),et.isRetryDisabled=(0,v.DD)(),et[Ce]=(0,v.DD)(!0),et.disableXhr=(0,v.DD)(),et[ke]=(0,v.DD)(),et[De]=(0,v.DD)(),et[Ie]=dt,et.namePrefix=dt,et.samplingPercentage=(0,v.Lx)((function(e){return!isNaN(e)&&e>0&&e<=100}),100),et[be]=dt,et[xe]=dt,et[ie]=1e4,et[fe]=!1,et.httpXHROverride={isVal:function(e){return e&&e[ve]},v:dt},et[Ee]=(0,v.DD)(),et)),pt=((tt={})[s.J.dataType]=Ye,tt[a.C.dataType]=function(e,t,n){Xe(e,t);var r=t[We].message,o=t[We].severityLevel,i=t[We][ze]||{},s=t[We][X]||{};Ge(t[q],i,s),(0,k.hX)(n)||Ke(i,n);var c=new a.C(e,r,o,i,s),l=new U.B(a.C[Z],c);return Je(e,a.C[Y],t,l)},tt[c.h.dataType]=function(e,t,n){var r;Xe(e,t);var o=t[We];(0,k.hX)(o)||(0,k.hX)(o[ze])||(0,k.hX)(o[ze][j])?(0,k.hX)(t[q])||(0,k.hX)(t[q][j])||(r=t[q][j],delete t[q][j]):(r=o[ze][j],delete o[ze][j]);var i,s=t[We];((t.ext||{}).trace||{})[G]&&(i=t.ext.trace[G]);var a=s.id||i,l=s[V],u=s.uri,d=s[ze]||{},h=s[X]||{};if((0,k.hX)(s.refUri)||(d.refUri=s.refUri),(0,k.hX)(s.pageType)||(d.pageType=s.pageType),(0,k.hX)(s.isLoggedIn)||(d.isLoggedIn=s.isLoggedIn[Q]()),!(0,k.hX)(s[ze])){var f=s[ze];(0,H.z)(f,(function(e,t){d[e]=t}))}Ge(t[q],d,h),(0,k.hX)(n)||Ke(d,n);var p=new c.h(e,l,u,r,d,h,a),m=new U.B(c.h[Z],p);return Je(e,c.h[Y],t,m)},tt[l.H.dataType]=function(e,t,n){Xe(e,t);var r=t[We],o=r[V],i=r.uri||r.url,s=r[ze]||{},a=r[X]||{};Ge(t[q],s,a),(0,k.hX)(n)||Ke(s,n);var c=new l.H(e,o,i,void 0,s,a,r),u=new U.B(l.H[Z],c);return Je(e,l.H[Y],t,u)},tt[u.WJ.dataType]=function(e,t,n){Xe(e,t);var r=t[We][X]||{},o=t[We][ze]||{};Ge(t[q],o,r),(0,k.hX)(n)||Ke(o,n);var i=t[We],s=u.WJ.CreateFromInterface(e,i,o,r),a=new U.B(u.WJ[Z],s);return Je(e,u.WJ[Y],t,a)},tt[d.J.dataType]=function(e,t,n){Xe(e,t);var r=t[We],o=r[ze]||{},i=r[X]||{};Ge(t[q],o,i),(0,k.hX)(n)||Ke(o,n);var s=new d.J(e,r[V],r.average,r.sampleCount,r.min,r.max,r.stdDev,o,i),a=new U.B(d.J[Z],s);return Je(e,d.J[Y],t,a)},tt[h.A.dataType]=function(e,t,n){Xe(e,t);var r=t[We][X]||{},o=t[We][ze]||{};Ge(t[q],o,r),(0,k.hX)(n)||Ke(o,n);var s=t[We];if((0,k.hX)(s))return(0,y.OG)(e,"Invalid input for dependency data"),null;var a=s[ze]&&s[ze][i.ym]?s[ze][i.ym]:"GET",c=new h.A(e,s.id,s.target,s[V],s[j],s.success,s.responseCode,a,s.type,s.correlationContext,o,r),l=new U.B(h.A[Z],c);return Je(e,h.A[Y],t,l)},tt),mt=function(e){function t(){var n,o,s,a,c,l,u,d=e.call(this)||this;d.priority=1001,d.identifier=f.BreezeChannelIdentifier;var h,v,A,$,B,N,U,H,j,z,V,G,J,X,Z,Y,Q,ne,ie,ae,pe,me=0;return(0,r.A)(t,d,(function(e,r){function f(e,t){for(var n,r=null,o=null,i=0;null==o&&i<e[K];)r=e[i],ie||1!==r?2===r&&(0,P.R7)(t)?o=We:(0,P.Uf)()&&3===r&&(o=Xe):(0,P.PV)()?o=pt:(0,P.xk)()&&(o=Ze),i++;return o?((n={})[ve]=o,n):null}function ge(t,n,r,o){200===n&&t&&e._onSuccess(t,t[K]),o&&e[Oe](t,o)}function He(t,n,r){var o=je(n),i=t&&t[ve];return i&&o?(e._buffer[de](n),i(o,(function(e,t,r){return ge(n,e,0,r)}),!r)):null}function je(t){var n;if((0,k.cy)(t)&&t[K]>0){var r=e._buffer[le](t);return(n={})[q]=r,n.urlString=$,n.headers=u,n.disableXhrSync=ie,n.disableFetchKeepAlive=!ae,n[Be]=t,n}return null}function We(e,t,n){return et(e,t,!1)}function ze(t){var n=t?t[K]:0;return e[Te].size()+n>N&&(v&&!v[te]()||e[ye](!0,null,10),!0)}function qe(t,r,o,i,s,a){var c=null;if(e._appId||(c=tt(a))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!Ve(o))return void e[Oe](r,s);!G&&ct(t)?(nt(r),(0,y.ZP)(e[we](),2,40,". Response code "+t+". Will retry to send "+r[K]+" items.")):e[Oe](r,s)}else v&&!v[te]()?G||(nt(r,10),(0,y.ZP)(e[we](),2,40,". Offline - Response Code: ".concat(t,". Offline status: ").concat(!v.isOnline(),". Will retry to send ").concat(r.length," items."))):(Ve(o),206===t?(c||(c=tt(a)),c&&!G?e[Le](r,c):e[Oe](r,s)):(n=0,e[Me](r,i)))}function Ve(e){return!(l>=10||(0,k.hX)(e)||""===e||e===$||($=e,++l,0))}function Ge(e,t,n,r){try{e(t,n,r)}catch(e){}}function Ke(e,t){h?h(e,!1):Xe(je(e),(function(t,n,r){return ge(e,t,0,r)}))}function Je(e,t){var n=(0,I.w3)(),r=$,o=new Blob([e],{type:"text/plain;charset=UTF-8"}),i=n.sendBeacon(r,o);return i&&t(200,{},e),i}function Xe(t,n,r){var o=t,i=o&&o[q];if((0,k.Kg)(i)&&i[K]>0&&!Je(i,n)){var s=[];if(o[Be][K]>0)for(var a=0;a<i[K];a++){var c=t[a];Je(e._buffer[le](c),n)||s[se](c)}s[K]>0&&(pe&&pe(s,!0),(0,y.ZP)(e[we](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Ze(t,n,r){var o,s,a,c=t,l=new XMLHttpRequest,d=$;try{l[i.xF]=!0}catch(e){}return l.open("POST",d,!r),l[Ne]("Content-type","application/json"),(0,m.Qu)(d)&&l[Ne](g.a[6],g.a[7]),(0,E.I)((0,x.cG)(u),(function(e){l[Ne](e,u[e])})),l.onreadystatechange=function(){var t=c[Be];e._xhrReadyStateChange(l,t,t[K]),4===l.readyState&&s&&s(!0)},l.onerror=function(e){Ge(n,400,{},lt(l)),a&&a(e)},!r&&Q&&(o=(0,F.Qo)((function(e,t){s=e,a=t}))),l.send(t[q]),o}function Ye(t,n){var r=function(e,n,r){return ge(t,e,0,r)};if((0,k.cy)(t)){for(var o=t[K],i=0;i<t[K];i++)o+=t[i][K];var s=je(t);me+o<=65e3?et(s,r,!0):(0,P.Uf)()?Xe(s,r):(pe&&pe(t,!0),(0,y.ZP)(e[we](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function et(e,t,n){var r,o,s,a,c=$,l=e,d=l[q],h=new Blob([d],{type:"application/json"}),f=new Headers,p=d[K],v=!1,y=!1;(0,m.Qu)(c)&&f.append(g.a[6],g.a[7]),(0,E.I)((0,x.cG)(u),(function(e){f.append(e,u[e])}));var w=((r={method:"POST",headers:f,body:h})[i.xF]=!0,r);n&&(w.keepalive=!0,v=!0,me+=p);var b=new Request(c,w);try{b[i.xF]=!0}catch(e){}!n&&Q&&(o=(0,F.Qo)((function(e,t){s=e,a=t})));try{(0,O.Dv)(fetch(b),(function(e){if(n&&(me-=p,p=0),!y)if(y=!0,e.rejected)Ge(t,400,{},e.reason&&e.reason.message),a&&a(e.reason);else{var r=e.value;r.ok?(0,O.Dv)(r.text(),(function(e){var t=l[Be];qe(r.status,t,r.url,t[K],r.statusText,e.value||""),s&&s(!0)})):(Ge(t,400,{},r.statusText),s&&s(!1))}}))}catch(e){y||(Ge(t,400,{},(0,S.m)(e)),a&&a(e))}return v&&!y&&(y=!0,Ge(t,200,{}),s&&s(!0)),o}function tt(t){try{if(t&&""!==t){var n=(0,P.hm)().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n[$e]&&n.itemsReceived-n.itemsAccepted===n.errors[K])return n}}catch(n){(0,y.ZP)(e[we](),1,43,"Cannot parse the response. "+(0,w.lL)(n),{response:t})}return null}function nt(t,r){if(void 0===r&&(r=1),t&&0!==t[K]){var i=e[Te];i[he](t),n++;for(var s=0,a=t;s<a.length;s++){var c=a[s];i[re](c)}!function(e){var t;if(n<=1)t=10;else{var r=(Math.pow(2,n)-1)/2,i=Math.floor(Math.random()*r*10)+1;i*=e,t=Math.max(Math.min(i,3600),10)}var s=(0,R.f)()+1e3*t;o=s}(r),rt()}}function rt(){if(!a&&!s){var t=o?Math.max(0,o-(0,R.f)()):0,n=Math.max(J,t);a=(0,M.dR)((function(){a=null,e[ye](!0,null,1)}),n)}}function at(){a&&a.cancel(),a=null,o=null}function ct(e){return 401===e||403===e||408===e||429===e||500===e||502===e||503===e||504===e}function lt(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+ht(e)||0:t}function pt(t,n,r){var o=t,i=(0,I.zk)(),s=new XDomainRequest,a=o[q];s.onload=function(){var t=o[Be];e._xdrOnLoad(s,t)},s.onerror=function(){Ge(n,400,{},mt(s))};var c=i&&i.location&&i.location.protocol||"";if(0!==$.lastIndexOf(c,0))return(0,y.ZP)(e[we](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer[ce]();var l=$.replace(/^(https?:)/,"");s.open("POST",l),s.send(a)}function mt(e,t){return e?"XDomainRequest,Response:"+ht(e)||0:t}function gt(){e[Se]=null,e[Te]=null,e._appId=null,e._sample=null,u={},v=null,n=0,o=null,s=!1,a=null,c=null,l=0,me=0,h=null,A=null,$=null,B=null,N=0,U=!1,H=null,j=!1,z=null,V=dt,G=!1,X=null,Y=dt,ie=!1,ae=!1,pe=null,(0,L.vF)(e,"_senderConfig",{g:function(){return(0,w.CP)({},ft)}})}gt(),e.pause=function(){at(),s=!0},e.resume=function(){s&&(s=!1,o=null,ze(),rt())},e.flush=function(t,n,r){if(void 0===t&&(t=!0),!s){at();try{return e[ye](t,null,r||1)}catch(t){(0,y.ZP)(e[we](),1,22,"flush failed, telemetry will not be collected: "+(0,w.lL)(t),{exception:(0,S.m)(t)})}}},e.onunloadFlush=function(){if(!s)if(U||ne)try{return e[ye](!0,Ke,2)}catch(t){(0,y.ZP)(e[we](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,w.lL)(t),{exception:(0,S.m)(t)})}else e.flush(!1)},e.addHeader=function(e,t){u[e]=t},e.initialize=function(t,i,s,a){e.isInitialized()&&(0,y.ZP)(e[we](),1,28,"Sender is already initialized"),r.initialize(t,i,s,a);var g=e.identifier;c=new st(i.logger),n=0,o=null,e[Se]=null,l=0;var T=e[we]();A=(0,b.Hm)((0,_.Z)("Sender"),i.evtNamespace&&i.evtNamespace()),v=function(e){var t,n=(0,I.YE)(),r=(0,I.w3)(),o=!1,i=!0,s=(0,b.Hm)((0,_.Z)("OfflineListener"),e);try{if(c((0,I.zk)())&&(o=!0),n){var a=n.body||n;a.ononline&&c(a)&&(o=!0)}o&&r&&!(0,k.hX)(r[ee])&&(i=r[ee])}catch(e){o=!1}function c(e){var t=!1;return e&&(t=(0,b.mB)(e,"online",l,s))&&(0,b.mB)(e,"offline",u,s),t}function l(){i=!0}function u(){i=!1}return(t={})[te]=function(){var e=!0;return o?e=i:r&&!(0,k.hX)(r[ee])&&(e=r[ee]),e},t.isListening=function(){return o},t.unload=function(){var e=(0,I.zk)();if(e&&o){if(Qe(e,s),n){var t=n.body||n;(0,k.b0)(t.ononline)||Qe(t,s)}o=!1}},t}(A),e._addHook((0,D.a)(t,(function(t){var n=t.cfg;n.storagePrefix&&(0,p.vh)(n.storagePrefix);var r=(0,C.i8)(null,n,i).getExtCfg(g,ft);(0,L.vF)(e,"_senderConfig",{g:function(){return r}}),B!==r.endpointUrl&&($=B=r.endpointUrl),H&&H!==r[be]&&(0,E.I)(H,(function(e){delete u[e.header]})),N=r[_e],U=(!1===r[De]||!1===r[Ce])&&(0,P.Uf)(),ne=r[Ee],ie=!!r.disableXhr;var o=r[fe],s=!!r[Pe]&&(!!o||(0,p.AN)()),a=r.namePrefix,c=s!==X||s&&Y!==a||s&&Z!==o;if(e[Te]){if(c)try{e._buffer=e._buffer[ue](T,r,s)}catch(t){(0,y.ZP)(e[we](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+(0,w.lL)(t),{exception:(0,S.m)(t)})}ze()}else e[Te]=s?new it(T,r):new ot(T,r);Y=a,X=s,Z=o,ae=!r[ke]&&(0,P.R7)(!0),e._sample=new ut(r.samplingPercentage,T),function(e,t){var n=t.disableInstrumentationKeyValidation;return!((0,k.hX)(n)||!n)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e)}(z=r[Ie],n)||(0,y.ZP)(T,1,100,"Invalid Instrumentation key "+z),H=r[be],!(0,m.Qu)($)&&H&&H[K]>0?(0,E.I)(H,(function(e){d.addHeader(e.header,e.value)})):H=null,Q=r.enableSendPromise;var l,v=r.httpXHROverride,b=null;b=f([1,2],!1);var _={sendPOST:Ze};pe=function(e,t){return He(_,e,t)},!r[Ce]&&(0,P.Uf)()&&(b=f([3],!1)),b=ne?v:b||v||_,e[Se]=function(e,t){return He(b,e,t)},ae&&(h=Ye),l=ne?v:f([3,1],!0)||v,!ne&&h||!l||(h=function(e,t){return He(l,e,t)}),h||(h=pe),j=r.disableTelemetry,V=r[xe]||dt,G=r.isRetryDisabled,J=r[Re]})))},e.processTelemetry=function(n,r){var o,s=(r=e._getTelCtx(r))[we]();try{if(j)return;if(!n)return void(0,y.ZP)(s,1,7,"Cannot send empty telemetry");if(n.baseData&&!n[Ae])return void(0,y.ZP)(s,1,70,"Cannot send telemetry without baseData and baseType");if(n[Ae]||(n[Ae]="EventData"),!e[Se])return void(0,y.ZP)(s,1,28,"Sender was not initialized");if(o=n,!e._sample.isSampledIn(o))return void(0,y.ZP)(s,2,33,"Telemetry item was sampled out and not sent",{SampleRate:e._sample[Fe]});n[i.tU]=e._sample[Fe];var a=n.iKey||z,l=t.constructEnvelope(n,a,s,V);if(!l)return void(0,y.ZP)(s,1,47,"Unable to create an AppInsights envelope");var u=!1;if(n[W]&&n[W][i.jp]&&((0,E.I)(n[W][i.jp],(function(e){try{e&&!1===e(l)&&(u=!0,(0,y.OG)(s,"Telemetry processor check returns false"))}catch(e){(0,y.ZP)(s,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,w.lL)(e),{exception:(0,S.m)(e)},!0)}})),delete n[W][i.jp]),u)return;var d=c.serialize(l),h=e[Te];ze(d),h[re](d),rt()}catch(e){(0,y.ZP)(s,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,w.lL)(e),{exception:(0,S.m)(e)})}e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&qe(e.status,t,e.responseURL,n,lt(e),ht(e)||e.response)},e[ye]=function(t,n,r){var o;if(void 0===t&&(t=!0),!s)try{var i=e[Te];if(j)i[ce]();else{if(i[oe]()>0){var a=i.getItems();!function(t,n){var r,o=(r="getNotifyMgr",e.core[r]?e.core[r]():e.core._notificationManager);if(o&&o[Ue])try{o[Ue](t,n)}catch(t){(0,y.ZP)(e[we](),1,74,"send request notification failed: "+(0,w.lL)(t),{exception:(0,S.m)(t)})}}(r||0,t),o=n?n.call(e,a,t):e[Se](a,t)}new Date}at()}catch(t){var c=(0,P.L0)();(!c||c>9)&&(0,y.ZP)(e[we](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,w.lL)(t),{exception:(0,S.m)(t)})}return o},e._doTeardown=function(t,n){e.onunloadFlush(),(0,T.K)(v,!1),gt()},e[Oe]=function(t,n,r){(0,y.ZP)(e[we](),2,26,"Failed to send telemetry.",{message:n}),e._buffer&&e._buffer[he](t)},e[Le]=function(t,n){for(var r=[],o=[],i=0,s=n.errors.reverse();i<s.length;i++){var a=s[i],c=t.splice(a.index,1)[0];ct(a.statusCode)?o[se](c):r[se](c)}t[K]>0&&e[Me](t,n[$e]),r[K]>0&&e[Oe](r,lt(null,["partial success",n[$e],"of",n.itemsReceived].join(" "))),o[K]>0&&(nt(o),(0,y.ZP)(e[we](),2,40,"Partial success. Delivered: "+t[K]+", Failed: "+r[K]+". Will retry to send "+o[K]+" our of "+n.itemsReceived+" items"))},e[Me]=function(t,n){e._buffer&&e._buffer[he](t)},e._xdrOnLoad=function(t,r){var o=ht(t);if(!t||o+""!="200"&&""!==o){var i=tt(o);i&&i.itemsReceived&&i.itemsReceived>i[$e]&&!G?e[Le](r,i):e[Oe](r,mt(t))}else n=0,e[Me](r,0)}})),d}return(0,o.qU)(t,e),t.constructEnvelope=function(e,t,n,r){var i;return i=t===e.iKey||(0,k.hX)(t)?e:(0,o.Im)((0,o.Im)({},e),{iKey:t}),(pt[i.baseType]||Ye)(n,i,r)},t}(A.s),gt=n(4484),vt=n(9379),yt=n(3517),wt="instrumentationKey",St="connectionString",bt=n(9762),_t={diagnosticLogInterval:(0,v.Lx)((function(e){return e&&e>0}),1e4)},Dt=function(){function e(t){var n,o=new vt._;function s(e){e&&(e.baseData=e.baseData||{},e.baseType=e.baseType||"EventData"),o.track(e)}((0,k.hX)(t)||(0,k.hX)(t[wt])&&(0,k.hX)(t[St]))&&(0,yt.$8)("Invalid input configuration"),(0,r.A)(e,this,(function(e){function r(){var e=(0,D.e)(t||{},_t);n=e.cfg,o.addUnloadHook((0,D.a)(e,(function(){if(n[St]){var e=(0,gt.H)(n[St]),t=e.ingestionendpoint;n.endpointUrl=t?t+i.wc:n.endpointUrl,n[wt]=e.instrumentationkey||n[wt]}}))),o.initialize(n,[new mt])}(0,L.vF)(e,"config",{g:function(){return n}}),r(),e.initialize=r,e.track=s,(0,w.o$)(e,o,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange"])}))}return e.__ieDyn=1,e}()},8279:(e,t,n)=>{"use strict";n.d(t,{A:()=>B});var r,o=n(3076),i=n(3266),s=n(3517),a="constructor",c="prototype",l="function",u="_dynInstFuncs",d="_isDynProxy",h="_dynClass",f="_dynCls$",p="_dynInstChk",m=p,g="_dfOpts",v="_unknown_",y="__proto__",w="_dyn"+y,S="__dynProto$Gbl",b="_dynInstProto",_="useBaseInst",D="setInstFuncs",C=Object,E=C.getPrototypeOf,P=C.getOwnPropertyNames,T=(0,o.mS)(),k=T[S]||(T[S]={o:(r={},r[D]=!0,r[_]=!0,r),n:1e3});function I(e){return e&&(e===C[c]||e===Array[c])}function x(e){return I(e)||e===Function[c]}function R(e){var t;if(e){if(E)return E(e);var n=e[y]||e[c]||(e[a]?e[a][c]:null);t=e[w]||n,(0,i.v)(e,w)||(delete e[b],t=e[w]=e[b]||e[w],e[b]=n)}return t}function A(e,t){var n=[];if(P)n=P(e);else for(var r in e)"string"==typeof r&&(0,i.v)(e,r)&&n.push(r);if(n&&n.length>0)for(var o=0;o<n.length;o++)t(n[o])}function F(e,t,n){return t!==a&&typeof e[t]===l&&(n||(0,i.v)(e,t))}function O(e){(0,s.zk)("DynamicProto: "+e)}function L(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function M(e,t,n,r,o){if(!I(e)){var s=n[u]=n[u]||{},a=s[t]=s[t]||{};!1!==s[m]&&(s[m]=!!o),A(n,(function(t){F(n,t,!1)&&n[t]!==r[t]&&(a[t]=n[t],delete n[t],(!(0,i.v)(e,t)||e[t]&&!e[t][d])&&(e[t]=function(e,t){var n=function(){var r=function(e,t,n,r){var o=null;if(e&&(0,i.v)(n,h)){var s=e[u]||{};if((o=(s[n[h]]||{})[t])||O("Missing ["+t+"] "+l),!o[p]&&!1!==s[m]){for(var a=!(0,i.v)(e,t),c=R(e),d=[];a&&c&&!x(c)&&!L(d,c);){var f=c[t];if(f){a=f===r;break}d.push(c),c=R(c)}try{a&&(e[t]=o),o[p]=1}catch(e){s[m]=!1}}}return o}(this,t,e,n)||function(e,t,n){var r=t[e];return r===n&&(r=R(t)[e]),typeof r!==l&&O("["+e+"] is not a "+l),r}(t,e,n);return r.apply(this,arguments)};return n[d]=1,n}(e,t)))}))}}function $(e,t){return(0,i.v)(e,c)?e.name||t||v:((e||{})[a]||{}).name||t||v}function B(e,t,n,r){(0,i.v)(e,c)||O("theClass is an invalid class definition.");var o=e[c];(function(e,t){if(E){for(var n=[],r=R(t);r&&!x(r)&&!L(n,r);){if(r===e)return!0;n.push(r),r=R(r)}return!1}return!0})(o,t)||O("["+$(e)+"] not in hierarchy of ["+$(t)+"]");var s=null;(0,i.v)(o,h)?s=o[h]:(s=f+$(e,"_")+"$"+k.n,k.n++,o[h]=s);var a=B[g],l=!!a[_];l&&r&&void 0!==r[_]&&(l=!!r[_]);var p=function(e){var t={};return A(e,(function(n){!t[n]&&F(e,n,!1)&&(t[n]=e[n])})),t}(t),v=function(e,t,n,r){function o(e,t,n){var o=t[n];if(o[d]&&r){var i=e[u]||{};!1!==i[m]&&(o=(i[t[h]]||{})[n]||o)}return function(){return o.apply(e,arguments)}}var i={};A(n,(function(e){i[e]=o(t,n,e)}));for(var s=R(e),a=[];s&&!x(s)&&!L(a,s);)A(s,(function(e){!i[e]&&F(s,e,!E)&&(i[e]=o(t,s,e))})),a.push(s),s=R(s);return i}(o,t,p,l);n(t,v);var y=!!E&&!!a[D];y&&r&&(y=!!r[D]),M(o,s,t,p,!1!==y)}B[g]=k.o},4292:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>o,yN:()=>i});var r=n(6668);function o(e,t){return i(e,(function(e){t&&t({value:e,rejected:!1})}),(function(e){t&&t({rejected:!0,reason:e})}))}function i(e,t,n,o){var i=e;return(0,r.$X)(e)?(t||n)&&(i=e.then(t,n)):t&&t(e),o&&(i=function(e,t){var n=e;return t&&((0,r.$X)(e)?n=e.finally?e.finally(t):e.then((function(e){return t(),e}),(function(e){throw t(),e})):t()),n}(i,o)),i}},636:(e,t,n)=>{"use strict";n.d(t,{Xf:()=>N,Qo:()=>B});var r,o,i,s,a,c=n(2871),l=n(6668),u=n(8693),d=n(755),h=n(3076),f=n(6874),p=n(6336),m=n(7403),g=n(3517),v=n(5439),y=n(4292),w=!1,S=["pending","resolving","resolved","rejected"],b=n(8965),_="dispatchEvent",D="Promise",C="unhandledRejection",E=C.toLowerCase(),P=[],T=0,k=10;function I(e){return(0,l.Tn)(e)?e.toString():(0,u.m)(e)}function x(e){return function(t){var n=(0,d.K)(arguments,1);return e((function(e,n){try{var r=[],o=1;(0,v.I)(t,(function(t,i){t&&(o++,(0,y.yN)(t,(function(t){r[i]=t,0==--o&&e(r)}),n))})),0==--o&&e(r)}catch(e){n(e)}}),n)}}function R(e){return function(t){var n=(0,d.K)(arguments,1);return(0,l.$X)(t)?t:e((function(e){e(t)}),n)}}function A(e){return function(t){var n=(0,d.K)(arguments,1);return e((function(e,n){n(t)}),n)}}var F,O,L=function(e){(0,v.I)(e,(function(e){try{e()}catch(e){}}))};function M(e,t){return function(e,t,n){var c,v,y=(0,d.K)(arguments,3),x=0,R=!1,A=[],F=T++,O=P.length>0?P[P.length-1]:void 0,L=!1,M=null;!a&&(a=(0,h.O7)(D+"RejectionEvent"));var $,B,N,U,H=function(t,n){try{return P.push(F),L=!0,M&&M.cancel(),M=null,e((function(e,r){A.push((function(){try{var o=2===x?t:n,i=(0,l.b0)(o)?c:(0,l.Tn)(o)?o(c):o;(0,l.$X)(i)?i.then(e,r):o?e(i):3===x?r(i):e(i)}catch(e){r(e)}})),R&&W()}),y)}finally{P.pop()}},j=function(){return S[x]},W=function(){if(A.length>0){var e=A.slice();A=[],L=!0,t(e),M&&M.cancel(),M=null}},z=function(e,t){return function(n){if(x===t){if(2===e&&(0,l.$X)(n))return x=1,void n.then(z(2,1),z(3,1));x=e,R=!0,c=n,W(),L||3!==e||M||(M=(0,f.dR)(q,k))}}},q=function(){L||((0,h.Ll)()?process.emit(C,c,v):function(e,t,n,r){var o=(0,h.YE)();!s&&(s=(0,b.I)((function(){var e;return o&&o.createEvent&&(e=o.createEvent("Event")),!!e&&e.initEvent}),null));var i=s.v?o.createEvent("Event"):r?new Event(t):{};if(n&&n(i),s.v&&i.initEvent(t,!1,!0),i&&e[_])e[_](i);else{var a=e["on"+t];if(a)a(i);else{var c=(0,h.zS)("console");c&&(c.error||c.log)(t,(0,u.m)(i))}}}((0,h.zk)()||(0,h.mS)(),E,(function(e){return(0,p.vF)(e,"promise",{g:function(){return v}}),e.reason=c,e}),!!a.v))};return v={then:H,catch:function(e){return H(void 0,e)},finally:function(e){var t=e,n=e;return(0,l.Tn)(e)&&(t=function(t){return e&&e(),t},n=function(t){throw e&&e(),t}),H(t,n)}},(0,p.Ux)(v,"state",{get:j}),w&&($=v,B=j,N=function(){return(0,l.SZ)(c)},U=function(){return L},r=r||{toString:function(){return"[[PromiseState]]"}},o=o||{toString:function(){return"[[PromiseResult]]"}},i=i||{toString:function(){return"[[PromiseIsHandled]]"}},(0,p.Ux)($,r,{get:B}),(0,p.Ux)($,o,{get:N}),(0,p.Ux)($,i,{get:U})),(0,m.Lo)()&&(v[(0,m.Y0)(11)]="IPromise"),v.toString=function(){return"IPromise"+(w?"["+F+((0,l.b0)(O)?"":":"+O)+"]":"")+" "+j()+(R?" - "+I(c):"")},function(){(0,l.Tn)(n)||(0,g.zk)(D+": executor is not a function - "+I(n));var e=z(3,0);try{n.call(v,z(2,0),e)}catch(t){e(t)}}(),v}(M,function(e){var t=(0,l.Et)(e)?e:0;return function(e){(0,f.dR)((function(){L(e)}),t)}}(t),e,t)}function $(e,t){!F&&(F=(0,h.O7)(D));var n=F.v;if(!n)return M(e);(0,l.Tn)(e)||(0,g.zk)(D+": executor is not a function - "+(0,u.m)(e));var r=0,o=new n((function(t,n){e((function(e){r=2,t(e)}),(function(e){r=3,n(e)}))}));return(0,p.Ux)(o,"state",{get:function(){return S[r]}}),o}function B(e,t){return!O&&(O=(0,c.nR)((function(){return $}))),O.v.call(this,e,t)}x(M),R(M),A(M),x($),R($),A($);var N=x(B);R(B),A(B)},1187:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var r=n(6668),o=n(7403);function i(e){return!!e&&(0,r.Tn)(e.next)}var s,a=n(2871),c=n(4016),l=n(655);function u(e,t){var n;return!(0,r.b0)(t)&&e&&((0,r.cy)(t)?(0,l.p)(e.push,e,t):i(t)||(n=t,!(0,r.kF)(n)&&(0,r.Tn)(n[(0,o.Y0)(3)]))?function(e,t){if(e&&(i(e)||(!s&&(s=(0,a.nR)((function(){return(0,o.Y0)(3)}))),e=e[s.v]?e[s.v]():null),i(e))){var n=void 0,r=void 0;try{for(var l=0;!(r=e.next())[c.DH]&&-1!==t.call(e,r[c.Qg],l,e);)l++}catch(t){n={e:t},e.throw&&(r=null,e.throw(n))}finally{try{r&&!r[c.DH]&&e.return&&e.return(r)}finally{if(n)throw n.e}}}}(t,(function(t){e.push(t)})):e.push(t)),e}},5439:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(4016);function o(e,t,n){if(e)for(var o=e[r.pi]>>>0,i=0;i<o&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}},6832:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r=n(4016),o=n(1742),i=(0,o.lK)(r.BA,r.wM);(0,o.lK)(r.uP,r.wM)},4335:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=n(4016),o=(0,n(1742).lK)("map",r.wM)},1011:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(4016),o=(0,n(1742).lK)("reduce",r.wM)},755:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r=n(4016),o=(0,n(1742).lK)(r.$9,r.wM)},655:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=(0,n(1742).xC)("apply")},5683:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r=(0,n(1742).xC)("call")},6668:(e,t,n)=>{"use strict";n.d(t,{$P:()=>w,$X:()=>D,Cb:()=>p,Ed:()=>l,Et:()=>S,Gv:()=>v,Kg:()=>m,Lm:()=>b,O9:()=>f,SZ:()=>c,Tn:()=>g,b0:()=>u,bJ:()=>_,cy:()=>y,ez:()=>s,hX:()=>d,kF:()=>h,wo:()=>C,zz:()=>E});var r=n(4016),o=n(8827),i=[r.An,r.uk,r.Jx,r.ZH,"symbol","bigint"];function s(e){return function(t){return typeof t===e}}function a(e){var t="[object "+e+"]";return function(e){return!(!e||c(e)!==t)}}function c(e){return r.Wy.toString.call(e)}function l(e,t){return typeof e===t}function u(e){return typeof e===r.ZH||e===r.ZH}function d(e){return e===r.M_||u(e)}function h(e){return e===r.M_||!f(e)}function f(e){return!!e||e!==r.DQ}var p=function(e){return e!==r.qv&&-1!==i.indexOf(e)},m=s(r.An),g=s(r.H3);function v(e){return!(!e&&d(e)||!e||typeof e!==r.qv)}var y=r.kV.isArray,w=a("Date"),S=s(r.uk),b=s(r.Jx),_=(a("RegExp"),a("File"),a("FormData"),a("Blob"),a("ArrayBuffer"),a("Error"));function D(e){return!!e&&g(e.then)}function C(e){return!e||!(0,o.y)((function(){return e&&0+e}),e)}function E(e){return!(!e||(0,o.y)((function(){return!(e&&0+e)}),!e))}},225:(e,t,n)=>{"use strict";function r(){return(Date.now||o)()}function o(){return(new Date).getTime()}n.d(t,{f:()=>r})},8693:(e,t,n)=>{"use strict";n.d(t,{m:()=>i});var r=n(4016),o=n(6668);function i(e,t){var n=r.wg;if((0,o.bJ)(e))n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'";else try{n=JSON.stringify(e,r.M_,t?(0,o.Et)(t)?t:4:r.DQ)}catch(e){n=" - "+i(e,t)}return(0,o.SZ)(e)+": "+n}},8040:(e,t,n)=>{"use strict";n.d(t,{WS:()=>s,Tm:()=>a,fn:()=>c});var r=n(9018);function o(e,t,n,o){var i={};return(0,r.z)(e,(function(e,r){i[e]=t?r:e,i[r]=n?r:e})),o(i)}var i=n(1324);function s(e){return o(e,1,0,i.ZH)}function a(e){return o(e,0,0,i.ZH)}function c(e){return function(e){var t={};return(0,r.z)(e,(function(e,n){t[e]=n[1],t[n[0]]=n[1]})),(0,i.ZH)(t)}(e)}},3076:(e,t,n)=>{"use strict";n.d(t,{JK:()=>C,Ll:()=>E,O7:()=>p,Vd:()=>w,Wt:()=>v,YE:()=>y,mS:()=>m,tw:()=>D,w3:()=>_,w9:()=>b,zS:()=>g,zk:()=>S});var r,o,i,s,a,c,l=n(4016),u=n(1382),d=n(8965),h=n(2871),f="window",p=function(e){return(0,d.I)((function(){return g(e)||l.DQ}),l.DQ)},m=function(e){return(!r||!1===e||h.nr&&h.nr.lzy&&!r.b)&&(r=(0,d.I)(u.u,l.M_)),r.v},g=function(e,t){var n=r&&!1!==t?r.v:m(t);return n&&n[e]?n[e]:e===f&&o?o.v:l.M_},v=function(){return!!y()},y=function(){return(!i||h.nr&&h.nr.lzy&&!i.b)&&(i=p("document")),i.v},w=function(){return!!S()},S=function(){return(!o||h.nr&&h.nr.lzy&&!o.b)&&(o=p(f)),o.v},b=function(){return!!_()},_=function(){return(!s||h.nr&&h.nr.lzy&&!s.b)&&(s=p("navigator")),s.v},D=function(){return!!C()},C=function(){return(!a||h.nr&&h.nr.lzy&&!a.b)&&(a=p("history")),a.v},E=function(){return!c&&(c=(0,d.I)((function(){return!(!process||!(process.versions||{}).node)}),!1)),c.v}},2871:(e,t,n)=>{"use strict";n.d(t,{nR:()=>c,nr:()=>r});var r,o=n(4016),i=n(1382),s=n(6336),a=function(){r=(0,i.Z)(),a=o.M_};function c(e){var t={};return a&&a(),t.b=r.lzy,(0,s.Ux)(t,"v",{configurable:!0,get:function(){var n=e();return r.lzy||((0,s.Ux)(t,"v",{value:n}),t.b&&delete t.b),r.lzy&&t.b!==r.lzy&&(t.b=r.lzy),n}}),t}},4657:(e,t,n)=>{"use strict";n.d(t,{R:()=>o});var r=n(4016),o=(0,n(1742).k5)(r.pi)},558:(e,t,n)=>{"use strict";n.d(t,{FJ:()=>a,UU:()=>c});var r,o=n(225),i=n(3076),s=n(2871);function a(){return(!r||!r.b&&s.nr&&s.nr.lzy)&&(r=(0,i.O7)("performance")),r.v}function c(){var e=a();return e&&e.now?e.now():(0,o.f)()}},8827:(e,t,n)=>{"use strict";function r(e,t){var n=t;try{n=e()}catch(e){}return n}n.d(t,{y:()=>r})},8965:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var r=n(2871),o=n(8827);function i(e,t){return(0,r.nR)((function(){return(0,o.y)(e,t)}))}},3517:(e,t,n)=>{"use strict";function r(e){throw new Error(e)}function o(e){throw new TypeError(e)}n.d(t,{$8:()=>r,zk:()=>o})},4016:(e,t,n)=>{"use strict";n.d(t,{$9:()=>D,An:()=>h,BA:()=>v,BB:()=>p,DH:()=>S,DQ:()=>r,Fs:()=>u,H3:()=>a,I3:()=>P,Jx:()=>s,M_:()=>o,PF:()=>m,Qg:()=>b,Wy:()=>E,ZH:()=>f,fL:()=>g,kV:()=>I,o_:()=>_,pi:()=>w,qv:()=>l,r5:()=>d,s6:()=>C,sW:()=>T,tq:()=>k,uP:()=>y,uk:()=>c,wM:()=>x,wg:()=>i});var r=void 0,o=null,i="",s="boolean",a="function",c="number",l="object",u="prototype",d="__proto__",h="string",f="undefined",p="constructor",m="Symbol",g="_polyfill",v="indexOf",y="lastIndexOf",w="length",S="done",b="value",_="name",D="slice",C=Object,E=C[u],P=String,T=P[u],k=Math,I=Array,x=I[u]},1382:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,u:()=>s});var r,o=n(4016),i="__tsUtils$gblCfg";function s(){var e;return typeof globalThis!==o.ZH&&(e=globalThis),e||typeof self===o.ZH||(e=self),e||typeof window===o.ZH||(e=window),e||typeof global===o.ZH||(e=global),e}function a(){if(!r){var e=s()||{};r=e[i]=e[i]||{}}return r}},1742:(e,t,n)=>{"use strict";n.d(t,{b2:()=>d,k5:()=>h,lK:()=>u,xC:()=>l});var r=n(8693),o=n(3517),i=n(5977),s=n(4016),a=s.wM[s.$9],c=function(e,t){(0,o.zk)("'"+(0,i.o)(e)+"' not defined for "+(0,r.m)(t))},l=function(e){return function(t){return t[e].apply(t,a.call(arguments,1))}},u=function(e,t){var n=t&&t[e];return function(t){var r=t&&t[e]||n;if(r)return r.apply(t,a.call(arguments,1));c(e,t)}},d=function(e,t,n){var r=t&&t[e];return function(t){var o=t&&t[e]||r;if(o||n){var i=arguments;return(o||n).apply(t,o?a.call(i,1):i)}c(e,t)}};function h(e){return function(t){return t[e]}}},411:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(4016),o=n(8693),i=r.s6.create||function(e){if(!e)return{};var t=typeof e;if(t!==r.qv&&t!==r.H3)throw new TypeError("Prototype must be an Object or function: "+(0,o.m)(e));function n(){}return n[r.Fs]=e,new n}},6336:(e,t,n)=>{"use strict";n.d(t,{Ux:()=>l,r:()=>u,vF:()=>d});var r=n(4016),o=n(6668),i=n(9018),s=n(695),a={e:"enumerable",c:"configurable",v:r.Qg,w:"writable",g:"get",s:"set"};function c(e){var t={};if(t[a.c]=!0,t[a.e]=!0,e.l){t.get=function(){return e.l.v};var n=(0,s.k)(e.l,"v");n&&n.set&&(t.set=function(t){e.l.v=t})}return(0,i.z)(e,(function(e,n){t[a[e]]=(0,o.b0)(n)?t[a[e]]:n})),t}var l=r.s6.defineProperty;function u(e,t,n,r,o,i){var s={e:i,c:o};return n&&(s.g=n),r&&(s.s=r),l(e,t,c(s))}function d(e,t,n){return l(e,t,c(n))}r.s6.defineProperties},9018:(e,t,n)=>{"use strict";n.d(t,{z:()=>i});var r=n(6668),o=n(9452);function i(e,t,n){if(e&&(0,r.Gv)(e))for(var i in e)if((0,o.K)(e,i)&&-1===t.call(n||e,i,e[i]))break}},695:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});var r=n(4016).s6.getOwnPropertyDescriptor},9452:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var r=n(4016),o=n(695),i=n(3266),s=r.s6.hasOwn||function(e,t){return(0,i.v)(e,t)||!!(0,o.k)(e,t)}},3266:(e,t,n)=>{"use strict";n.d(t,{v:()=>o});var r=n(4016);function o(e,t){return e&&r.Wy.hasOwnProperty.call(e,t)}},7460:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r,o,i,s=n(5683),a=n(3076),c=n(4016),l=n(3266),u=n(1324);function d(e){if(!e||typeof e!==c.qv)return!1;i||(i=!(0,a.Vd)()||(0,a.zk)());var t=!1;if(e!==i){o||(r=Function[c.Fs].toString,o=(0,s.n)(r,c.s6));try{var n=(0,u.rL)(e);(t=!n)||((0,l.v)(n,c.BB)&&(n=n[c.BB]),t=n&&typeof n===c.H3&&r.call(n)===o)}catch(e){}}return t}},1324:(e,t,n)=>{"use strict";n.d(t,{vE:()=>l,ZH:()=>d,N6:()=>h,rL:()=>p,cG:()=>u,js:()=>f});var r=n(4016),o=n(6668),i=n(3517),s=n(9018),a=r.s6.freeze,c=function(e){return e},l=r.s6.assign;function u(e){return(0,o.Gv)(e)&&e!==r.M_||(0,i.zk)("objKeys called on non-object"),r.s6.keys(e)}function d(e){return a&&(0,s.z)(e,(function(e,t){((0,o.cy)(t)||(0,o.Gv)(t))&&a(t)})),h(e)}var h=a||c,f=r.s6.seal||c,p=r.s6.getPrototypeOf||function(e){return e[r.r5]||r.M_};r.s6.entries,r.s6.values},5977:(e,t,n)=>{"use strict";n.d(t,{o:()=>r});var r=n(4016).I3},2494:(e,t,n)=>{"use strict";n.d(t,{C:()=>u});var r=n(6668),o=n(8693),i=n(3517),s=n(4016),a=n(1742),c=n(5977),l=n(3178),u=(0,a.b2)("endsWith",s.sW,(function(e,t,n){(0,r.Kg)(e)||(0,i.zk)("'"+(0,o.m)(e)+"' is not a string");var a=(0,r.Kg)(t)?t:(0,c.o)(t),u=a[s.pi],d=e[s.pi],h=!(0,r.b0)(n)&&n<d?n:d;return(0,l.P0)(e,h-u,h)===a}))},5881:(e,t,n)=>{"use strict";n.d(t,{H:()=>i});var r=n(4016),o=n(1742),i=(0,o.lK)(r.BA,r.sW);(0,o.lK)(r.uP,r.sW)},7931:(e,t,n)=>{"use strict";n.d(t,{t:()=>u});var r=n(6668),o=n(8693),i=n(3517),s=n(4016),a=n(1742),c=n(5977),l=n(3178),u=(0,a.b2)("startsWith",s.sW,(function(e,t,n){(0,r.Kg)(e)||(0,i.zk)("'"+(0,o.m)(e)+"' is not a string");var a=(0,r.Kg)(t)?t:(0,c.o)(t),u=a[s.pi],d=n>0?n:0;return(0,l.P0)(e,d,d+u)===a}))},3178:(e,t,n)=>{"use strict";n.d(t,{ZW:()=>h,hK:()=>d,P0:()=>u});var r=n(6668),o=n(8693),i=n(3517),s=n(4016),a=n(1742),c=(s.tq.min,s.tq.max),l=(0,a.lK)(s.$9,s.sW),u=(0,a.lK)("substring",s.sW),d=(0,a.b2)("substr",s.sW,(function(e,t,n){return(0,r.hX)(e)&&(0,i.zk)("'polyStrSubstr called with invalid "+(0,o.m)(e)),n<0?s.wg:((t=t||0)<0&&(t=c(t+e[s.pi],0)),(0,r.b0)(n)?l(e,t):l(e,t,t+n))}));function h(e,t){return u(e,0,t)}},1374:(e,t,n)=>{"use strict";n.d(t,{EH:()=>h});var r=n(4016),o=n(1742),i=n(6668),s=n(8693),a=n(3517);function c(e){return function(t){return(0,i.hX)(t)&&(0,a.zk)("strTrim called ["+(0,s.m)(t)+"]"),t&&t.replace&&(t=t.replace(e,r.wg)),t}}var l=c(/^\s+|(?=\s)\s+$/g),u=c(/^\s+/g),d=c(/(?=\s)\s+$/g),h=(0,o.b2)("trim",r.sW,l);(0,o.b2)("trimStart",r.sW,u),(0,o.b2)("trimEnd",r.sW,d)},7403:(e,t,n)=>{"use strict";n.d(t,{Y0:()=>C,Lo:()=>_,jj:()=>E,eC:()=>P});var r,o=n(4016),i=(0,n(8040).Tm)({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),s=n(9452),a=n(5977),c=n(1382),l=n(1324),u="_urid";var d={};function h(e){var t={description:(0,a.o)(e),toString:function(){return o.PF+"("+e+")"}};return t[o.fL]=!0,t}function f(e){var t=function(){if(!r){var e=(0,c.Z)();r=e.gblSym=e.gblSym||{k:{},s:{}}}return r}();if(!(0,s.K)(t.k,e)){var n=h(e),o=(0,l.cG)(t.s).length;n[u]=function(){return o+"_"+n.toString()},t.k[e]=n,t.s[n[u]()]=(0,a.o)(e)}return t.k[e]}var p,m,g,v=n(6668),y=n(2871),w=n(8965),S=n(3076);function b(e){return(0,w.I)((function(){return p.v?p.v[e]:o.DQ}),o.DQ)}function _(){return!!D()}function D(){var e=!p||y.nr&&y.nr.lzy&&!p.b;return e&&(p=(0,S.O7)(o.PF)),(!m||e)&&(m=b("for")),(!g||e)&&(g=b("keyFor")),p.v}function C(e,t){var n=i[e];return(!p||y.nr.lzy&&!p.b)&&D(),p.v?p.v[n||e]:t?o.DQ:function(e){var t,n=i[e];return n&&(t=d[n]=d[n]||h(o.PF+"."+n)),t}(e)}function E(e,t){return(!p||y.nr.lzy&&!p.b)&&D(),p.v?p.v(e):t?o.M_:h(e)}function P(e){return(!m||y.nr.lzy&&!p.b)&&D(),(m.v||f)(e)}(0,v.ez)("symbol")},6874:(e,t,n)=>{"use strict";n.d(t,{AH:()=>m,dR:()=>f,vK:()=>p});var r=n(755),o=n(655),i=n(6668),s=n(4016),a=n(6336),c="ref",l="un"+c,u="hasRef",d="enabled";function h(e,t,n,h){var f=(0,i.cy)(n),p=f?n.length:0,m=(p>0?n[0]:f?s.DQ:n)||setTimeout,g=(p>1?n[1]:s.DQ)||clearTimeout,v=h[0];h[0]=function(){y.dn(),(0,o.p)(v,e,(0,r.K)(arguments))};var y=function(t,n){var r,i,h=!0,f=t?n(s.M_):s.M_,p=function(){return h=!1,f&&f[l]&&f[l](),i},m=function(){return f=n(f),h||p(),i},v=function(){f&&function(t){(0,o.p)(g,e,[t])}(f),f=s.M_};return(r={cancel:v,refresh:m})[u]=function(){return f&&f[u]?f[u]():h},r[c]=function(){return h=!0,f&&f[c]&&f[c](),i},r[l]=p,r[d]=!1,i=r,(0,a.Ux)(i,d,{get:function(){return!!f},set:function(e){!e&&f&&v(),e&&!f&&m()}}),{h:i,dn:function(){f=s.M_}}}(t,(function(t){if(t){if(t.refresh)return t.refresh(),t;(0,o.p)(g,e,[t])}return(0,o.p)(m,e,h)}));return y.h}function f(e,t){return h(this,!0,s.DQ,(0,r.K)(arguments))}function p(e,t,n){return h(this,!0,e,(0,r.K)(arguments,1))}function m(e,t){return h(this,!1,s.DQ,(0,r.K)(arguments))}},2690:(e,t,n)=>{(()=>{"use strict";var e=[,(e,t,n)=>{n.r(t),n.d(t,{CallHandlers:()=>r.CallHandlers,Connection:()=>r.Connection,ConnectionBearer:()=>r.ConnectionBearer,ConnectionManager:()=>o.ConnectionManager,DeferredPromise:()=>i.DeferredPromise,ExecServer:()=>a.ExecServer,FileSystemProviderErrorCode:()=>a.FileSystemProviderErrorCode,FileType:()=>a.FileType,NetworkError:()=>s.NetworkError,RPCError:()=>r.RPCError,RemoteVersion:()=>c.RemoteVersion,ServerWebSocket:()=>l.ServerWebSocket,TimeoutError:()=>s.TimeoutError,closedDuplexStream:()=>u.closedDuplexStream,msgPackEncode:()=>r.msgPackEncode});var r=n(2),o=n(6),i=n(5),s=n(10),a=n(11),c=n(7),l=n(14),u=n(12)},(e,t,n)=>{n.r(t),n.d(t,{CallHandlers:()=>u,Connection:()=>c,ConnectionBearer:()=>d,RPCError:()=>a,msgPackEncode:()=>l});var r=n(3),o=n(4),i=n(5);let s=0;class a extends Error{constructor(e,t){super(`json rpc error ${e}: message`),this.code=e,this.message=t}}class c{constructor(e,t=o.encode,n=new u){this.tunnel=e,this.globalHandlers=n,this.callbacks=new Map,this.streams=new Map,this.notifyEmitter=new r.EventEmitter,this.closeEmitter=new r.EventEmitter,this.ownHandlers=new u,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.ownHandlers.register,this.encode=t,(async()=>{try{for await(const t of(0,o.decodeMultiStream)(e)){const e=t;"result"in e||"error"in e?this.callbacks.get(e.id)?.resolve(e):"id"in e&&"number"==typeof e.id?this.handleRequest(e):this.notifyEmitter.fire(e)}}catch(t){e.end(),this.closeEmitter.fire(t)}})(),e.once("close",(()=>{this.rejectAllCalls(new a(0,"Connection closed")),this.closeEmitter.fire(void 0)})),e.once("error",(e=>{const t=new a(0,e.message);this.rejectAllCalls(t),this.closeEmitter.fire(t)})),this.onNotification("stream_data",(e=>{this.streams.get(e.stream)?.pushData(e.segment)})),this.onNotification("stream_ended",(e=>{this.streams.get(e.stream)?.markEnded(),this.streams.delete(e.stream)})),this.onNotification("streams_started",(e=>{const t=e.stream_ids,n=this.callbacks.get(e.for_request_id);if(n?.onStream)for(const e of t){const t=new h(e,this);this.streams.set(e,t),n.onStream(t)}}))}static fromDuplexStreams(e,t){const n={once:(t,n)=>{"close"===t&&e.onEnd.then(n)},write:(e,n)=>t.write(e,n),async*[Symbol.asyncIterator](){let t=new i.DeferredPromise,n=t;for(e.onDidReceiveMessage((e=>{const n=new i.DeferredPromise;t.complete({data:e,next:n}),t=n})),e.onEnd.then((()=>{t.complete(void 0)}));;){const e=await n.p;if(!e)return;yield e.data,n=e.next}},end:()=>t.end()};return new c(n,o.encode)}dispose(){this.tunnel.end()}async call(e,t,n,r){const o=s++;return new Promise(((i,s)=>{this.callbacks.set(o,{onStream:r,resolve:e=>{"error"in e?s(new a(e.error?.code,e.error?.message)):i(e.result)},reject:s}),n?.addEventListener("abort",(()=>s(new a(0,"Operation cancelled")))),this.write(this.encode({id:o,method:e,params:t}))})).finally((()=>this.callbacks.delete(o)))}onNotification(e,t){return this.notifyEmitter.event((n=>{n.method===e&&t(n.params)}))}notify(e,t,n){this.write(this.encode({method:e,params:t}),n)}async handleRequest(e){const t=this.ownHandlers.map.get(e.method)||this.globalHandlers.map.get(e.method);if(!t){const t={id:e.id,error:{message:`Unknown method ${e.method}. Cannot resolve request`,code:36}};return void this.write(this.encode(t))}let n;try{n={id:e.id,result:await t(e.params,e.id)}}catch(t){t instanceof a?n={id:e.id,error:{code:t.code,message:t.message}}:(console.warn("Unexpected error handling request",e,t),n={id:e.id,error:{code:-1,message:String(t)}})}this.write(this.encode(n))}write(e,t){this.tunnel.write(e,t)}rejectAllCalls(e){for(const{reject:t}of this.callbacks.values())t(e);this.callbacks.clear()}}function l(e){const t=(0,o.encode)(e),n=new Uint8Array(4+t.length);return new DataView(n.buffer).setUint32(0,t.length),n.set(t,4),n}class u{constructor(){this.map=new Map,this.register=(e,t)=>{this.map.has(e)&&console.warn("Overriding previous handler for method: ",e),this.map.set(e,t)}}}class d{constructor(e){this.callHandlers=new u,this.startEmitter=new r.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.notifyEmitter=new r.EventEmitter,this.closeEmitter=new r.EventEmitter,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.callHandlers.register,this.BEARER_TYPE=e}async checkedAcquire(){if(this.streamPromise){const e=await this.streamPromise;if(await this.isStreamValid(e))return e;e.dispose()}this.streamPromise=this.acquireNow();try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async acquire(){this.streamPromise??(this.streamPromise=this.acquireNow());try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async isStreamValid(e){return!0}async close(){this.streamPromise?.then((e=>e.dispose())),this.streamPromise=void 0}async acquireNow(){const e=await this.getConnectionTunnel(),t=new c(e,(e=>this.encodeMessage(e)),this.callHandlers);return t.onClose((e=>{this.streamPromise=void 0,this.closeEmitter.fire(e)})),this.startEmitter.fire(t),t}}class h{constructor(e,t){this.id=e,this.connection=t,this.queue=[],this.dataEmitter=new r.EventEmitter,this.endDeferred=new i.DeferredPromise,this.onDidReceiveMessage=(...e)=>(this.queue&&setTimeout((()=>this.dequeue())),this.dataEmitter.event(...e))}get onData(){return this.onDidReceiveMessage}get onEnd(){return this.queue&&setTimeout((()=>this.dequeue())),this.endDeferred.p}write(e){this.connection.notify("stream_data",{stream:this.id,segment:e})}end(){this.connection.notify("stream_ended",{stream:this.id})}pushData(e){this.queue?this.queue.push(e):this.dataEmitter.fire(e)}markEnded(){this.queue?this.queue.push(null):this.endDeferred.complete()}dequeue(){if(!this.queue)return;const e=this.queue;this.queue=void 0;for(const t of e)null===t?this.endDeferred.complete():this.dataEmitter.fire(t)}}},e=>{e.exports=n(621)},e=>{e.exports=n(3986)},(e,t,n)=>{n.r(t),n.d(t,{DeferredPromise:()=>r});class r{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}},(e,t,n)=>{n.r(t),n.d(t,{ConnectionManager:()=>a});var r=n(3),o=n(8),i=n(5),s=n(7);class a{constructor({bearer:e}){this.socketId=0,this.connectingEmitter=new r.EventEmitter,this.onStartConnecting=this.connectingEmitter.event,this.connectedEmitter=new r.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new r.EventEmitter,this.onLog=this.logEmitter.event,this.versionPromise=new i.DeferredPromise,this.bearer=e,this.bearer.onStartConnecting((e=>{e.onNotification("version",(({version:e,protocol_version:t})=>{this.versionPromise.isSettled&&(this.versionPromise=new i.DeferredPromise),this.versionPromise.complete(new s.RemoteVersion(e,t))}))})),this.onClose=this.bearer.onClose;let t=!0;this.bearer.onStartConnecting((e=>{if(this.connectingEmitter.fire(),e.onNotification("serverlog",(e=>{this.logEmitter.fire(e)})),e.onNotification("makehttpreq",(async({url:t,method:n,req_id:r})=>{this.makeHttpCall(e,t,n,r)})),t){const n=e.onNotification("servermsg",(()=>{t&&(this.connectedEmitter.fire(),n.dispose(),t=!1)}))}}))}get version(){return this.versionPromise.p}async makeHttpCall(e,t,n,r){let i;try{i=await(0,o.fetchFn)(t,{method:n})}catch(t){return e.notify("httpheaders",{headers:[],status_code:503,req_id:r}),void e.notify("httpbody",{segment:(new TextEncoder).encode(String(t)),complete:!0,req_id:r})}e.notify("httpheaders",{headers:[...i.headers],status_code:i.status,req_id:r});const s=()=>e.notify("httpbody",{segment:new Uint8Array,complete:!0,req_id:r});if(i.body&&"function"==typeof i.body.on){const t=i.body;return t.on("data",(t=>e.notify("httpbody",{segment:t,complete:!1,req_id:r}))),t.on("end",s),t.on("error",s),void t.resume()}const a=i.body;if(a)try{const t=a.getReader();for(;;){const{done:n,value:o}=await t.read();if(e.notify("httpbody",{segment:o||new Uint8Array,complete:n,req_id:r}),n)break}}catch(e){throw s(),e}else s()}nextSocketId(){return this.socketId++}async checkForUpdates(e){return(await this.bearer.acquire()).call("update",{do_update:e?.doUpdate??!1})}async call(e,t,n,r){const o=await this.bearer.acquire();return await o.call(e,t,n,r)}}},(e,t,n)=>{n.r(t),n.d(t,{RemoteVersion:()=>r});class r{constructor(e,t=0){this.cliVersion=e,this.protocolVerson=t}shouldWarnOutdated(){return this.protocolVerson<=2}canPing(){return this.protocolVerson>=1}canCompressServerMsg(){return this.protocolVerson>=2}usesConnectionToken(){return this.protocolVerson>=3}shouldLengthPrefixMessages(){return this.protocolVerson<4}}},(e,t,n)=>{n.r(t),n.d(t,{fetchFn:()=>o});var r=n(9);const o=n.n(r)()},e=>{e.exports=n(2065)},(e,t,n)=>{n.r(t),n.d(t,{NetworkError:()=>r,TimeoutError:()=>o});class r extends Error{constructor(e,t="ECONNREFUSED"){super(e.message),this.code=t,this.syscall="connect",this.stack=e.stack}}class o extends Error{constructor(){super("Operation timed out")}}},(e,t,n)=>{n.r(t),n.d(t,{ExecServer:()=>c,FileSystemProviderErrorCode:()=>d,FileType:()=>h});var r=n(3),o=n(13),i=n(2),s=n(5),a=n(12);class c{constructor(e){this.connection=e,this.fs={stat:async e=>{const t=await this.connection.call("fs_stat",{path:e});if(!t.exists)throw new u(`File not found: ${e}`,d.FileNotFound);return{ctime:0,mtime:0,size:0,type:l(t.type)}},mkdirp:async e=>{await this.connection.call("fs_mkdirp",{path:e})},rm:async e=>{await this.connection.call("fs_rm",{path:e})},rename:async(e,t)=>{await this.connection.call("fs_rename",{from_path:e,to_path:t})},readdir:async e=>{const{contents:t}=await this.connection.call("fs_readdir",{path:e});return t.map((({name:e,type:t})=>({name:e,type:l(t)})))},read:e=>{const t=new s.DeferredPromise;return this.connection.call("fs_read",{path:e},void 0,(e=>t.complete(e))).catch((e=>t.error(e))),t.p},write:async e=>{const t=new s.DeferredPromise,n=this.connection.call("fs_write",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:n}},connect:async e=>{const t=new s.DeferredPromise,n=this.connection.call("fs_connect",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:n}}}}async kill(e){await this.connection.call("sys_kill",{pid:e})}async spawn(e,t,{env:n={},cwd:r}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),i=Promise.all(o.map((e=>e.p))),c=this.connection.call("spawn",{command:e,args:t,env:n,cwd:r},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[l,u,d]=await i;return{stdin:l,stdout:u,stderr:d,onExit:c}}async spawnRemoteServerConnector(e,t,n={}){const{connection:o,logs:i,onExit:s}=await this.spawnCli(e,t,n),a=new c(o);return{logs:i,onExit:s,connect:async e=>{const t=await a.serve(e),n=new r.EventEmitter,o=new r.EventEmitter;return t.onEnd.then((()=>n.fire())),{send:e=>t.write(e),end:()=>t.end(),onDidEnd:n.event,onDidClose:o.event,onDidReceiveMessage:t.onDidReceiveMessage}}}}async spawnCli(e,t,{env:n={},cwd:r}={}){const o=Array.from({length:3},(()=>new s.DeferredPromise)),c=Promise.all(o.map((e=>e.p))),l=this.connection.call("spawn_cli",{command:e,args:t,env:n,cwd:r},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[u,d,h]=await c;return{connection:i.Connection.fromDuplexStreams(d,u),logs:h,onExit:l}}async downloadCliExecutable(e,t,n,r){return this.connection.call("acquire_cli",{command:t,args:n,platform:e.buildTarget,quality:e.quality,commit_id:e.commit,env:r?.env}).then((e=>({status:e.exit_code,message:e.message})))}async acquireCli(e){return this.connection.call("acquire_cli",{command:e.command,args:e.args,platform:e.buildTarget??e.platform,quality:e.quality,commit_id:e.commit??e.commit_id,env:e.env}).then((e=>({status:e.exit_code,message:e.message})))}async serve(e){const t=e.socketId??e.socket_id;return await this.connection.call("serve",{socket_id:t,commit_id:e.commit??e.commit_id,extensions:e.extensions,quality:e.quality,archive_path:e.archivePath??e.archive_path,compress:e.compress,connection_token:e.connectionToken??e.connection_token}),new f(t,this.connection,!!e.compress)}async env(){const e=await this.connection.call("get_env",{});return{env:e.env,osRelease:e.os_release,osPlatform:e.os_platform}}async fsStat(e){const t=await this.connection.call("fs_stat",{path:e});return t.exists?{exists:!0,size:t.size,type:t.type}:{exists:!1}}async tcpConnect(e,t){const n=new s.DeferredPromise,r=this.connection.call("net_connect",{host:e,port:t},void 0,(e=>n.complete(e))).then((()=>{}),(e=>{if(n.complete)throw e;n.error(e)}));return{stream:await n.p,done:r}}}const l=e=>{switch(e){case"file":return h.File;case"dir":return h.Directory;case"link":return h.SymbolicLink;default:return h.Unknown}};class u extends Error{constructor(e,t){super(e),this.code=t}}var d,h;!function(e){e.FileNotFound="EntryNotFound"}(d||(d={})),function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(h||(h={}));class f{constructor(e,t,n){this.socketId=e,this.connection=t,this.id=0,this.drains=new p,this.disposables=[],this.onDataEmitter=new r.EventEmitter,this.onDidReceiveMessage=this.onDataEmitter.event,this.onData=this.onDidReceiveMessage,this.onCloseEmitter=new r.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onEndDeferred=new s.DeferredPromise,this.onEnd=this.onEndDeferred.p;let i=Promise.resolve();if(n){const n=this.zip={deflate:(0,o.createDeflateRaw)(),inflate:(0,o.createInflateRaw)()};n.inflate.on("data",(e=>this.onDataEmitter.fire(e))),n.deflate.on("data",(n=>{t.notify("servermsg",{i:e,body:n},this.drains.add())})),this.disposables.push({dispose:()=>{n.deflate.close(),n.inflate.close()}})}this.disposables.push(t.onNotification("serverclose",(({i:t})=>{t===e&&(this.zip?i.then((()=>{this.zip.inflate.close((()=>this.onDidClose()))})):this.onDidClose())})),t.onNotification("servermsg",(({i:t,body:n})=>{if(t===e)if(this.zip){const e=new Promise((e=>this.zip.inflate.write(n,e)));i=i.then((()=>e))}else this.onDataEmitter.fire(n)})))}write(e,t){const n=this.socketId,r=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=this.drains.add(),i=()=>{o(),t?.()};this.zip?this.zip.deflate.write(r,void 0,(()=>{this.zip.deflate.flush(2,i)})):this.connection.notify("servermsg",{i:n,body:r},i)}end(){this.disposables.forEach((e=>e.dispose()))}drain(){return this.drains.wait()}onDidClose(){this.onCloseEmitter.fire(),this.onEndDeferred.complete()}}class p{constructor(){this.queue=0,this.drainWaiters=[]}add(){this.queue++;let e=!1;return()=>{e||(e=!0,this.queue--,0===this.queue&&(this.drainWaiters.forEach((e=>e())),this.drainWaiters.length=0))}}wait(){return 0===this.queue?Promise.resolve():new Promise((e=>{this.drainWaiters.push(e)}))}}},(e,t,n)=>{n.r(t),n.d(t,{closedDuplexStream:()=>r});const r={id:0,onData:()=>({dispose:()=>{}}),onDidReceiveMessage:()=>({dispose:()=>{}}),onEnd:Promise.resolve(void 0),write:()=>{},end:()=>{}}},e=>{e.exports=n(3106)},(e,t,n)=>{n.r(t),n.d(t,{ServerWebSocket:()=>s});var r=n(3),o=n(10),i=n(11);class s{constructor(e,t){this.options=e,this.version=t,this.SOCKET_TYPE="Local Proxy Server Socket",this.dispose=[],this.onDataEmitter=new r.EventEmitter,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new r.EventEmitter,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new r.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new r.EventEmitter,this.onError=this.onErrorEmitter.event}send(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.stream?this.stream.write(t):console.warn(new Error("attempted to send data before socket was open").stack)}close(){this.dispose.forEach((e=>e.dispose()))}onMessage(e){this.onDataEmitter.fire(e)}upgradeToWebSocketConnection(){}async initialize(){const e=await this.options.bearer.checkedAcquire(),t=!!(await this.version).canCompressServerMsg()&&(this.options.compress??!0),n=this.stream=await new i.ExecServer(e).serve({socketId:this.options.socketId,extensions:this.options.extensions||[],quality:this.options.product.quality,commit:this.options.product.commit,archivePath:this.options.archivePath,connectionToken:this.options.connectionToken,compress:t});this.dispose.push(n.onDidReceiveMessage(this.onMessage,this)),this.dispose.push(e.onClose((e=>{e&&this.onErrorEmitter.fire(new o.NetworkError(e)),this.onCloseEmitter.fire()}))),this.upgradeToWebSocketConnection()}}},(e,t,n)=>{n.r(t),n.d(t,{ProxyConnection:()=>v,State:()=>g});var r=n(3),o=n(4),i=n(16),s=n(17),a=n(18),c=n(19),l=n(20),u=n(21),d=n(2),h=n(5),f=n(22),p=n(23);const m=!process.env.VSCODE_TUNNELS_DISABLE_PROCESS_REUSE;var g;!function(e){e[e.Idle=0]="Idle",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Closed=3]="Closed"}(g||(g={}));class v{constructor(e,t){this.args=e,this.logger=t,this.extraHandlers=new d.CallHandlers,this.registerRequestHandler=this.extraHandlers.register.bind(this.extraHandlers),this.bearerPromise=new h.DeferredPromise,this.bearer=this.bearerPromise.p,this.localPortPromise=new h.DeferredPromise,this.localPort=this.localPortPromise.p,this.startEmitter=new r.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.closeEmitter=new r.EventEmitter,this.onClose=this.closeEmitter.event,this.connectedEmitter=new r.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new r.EventEmitter,this.onLog=this.logEmitter.event,this._state=g.Idle,this.initialize(),this.bearer.catch((e=>{this.closeEmitter.fire(e)}))}get state(){return this._state}static async create(e){const t=v.getPathForRunningProxyInTmpDir(e.nonce),n={args:e.args,productInfo:e.productInfo,runningProxyInfoFile:t,extensions:e.extensions},r=await v.getValidProxySocket(t);if(r){e.logger.log(3,`Found running server in ${r}`);try{const t=new w({...n,proxySocketPath:r},e.logger);return e.setup?.(t),await(0,f.timeoutPromise)(5e3,t.callOnProxy("greet",{})),t}catch(t){e.logger.log(3,`Error greeting the server, starting a new instance (${t})`)}}e.logger.log(3,"Creating new tunnel proxy server");const o=function(e,t){const n=(0,s.createHash)("sha256").update(e).update("\0").update(t).digest("hex").slice(0,16);return"win32"===process.platform?`\\\\.\\pipe\\vscode-tunneling-${n}-sock`:process.env.XDG_RUNTIME_DIR?u.join(process.env.XDG_RUNTIME_DIR,`vscode-tunneling-${n}.sock`):u.join(l.tmpdir(),`vscode-tunneling-${n}.sock`)}(e.nonce,(0,s.randomBytes)(20).toString("hex")),i=new y({...n,proxySocketPath:o},e.logger,e.serverPath);return e.setup?.(i),i}static async getValidProxySocket(e){try{const t=JSON.parse(await a.promises.readFile(e,"utf-8"));if(t.at>Date.now()-p.proxyFileTimeout)return await a.promises.stat(t.socket),t.socket}catch{}}static getPathForRunningProxyInTmpDir(e){const t=`vscode-server-proxy-${(0,s.createHash)("sha256").update(e).digest("hex").slice(0,16)}-daemon`;return u.join(l.tmpdir(),t)}async callOnProxy(e,t){return(await this.bearer).call(e,t)}async call(e,t,n,r){return(await this.bearer).call("calltunnel",{method:e,params:t,stream:!!r},n,r)}async initialize(){this.connectToProxyServer();const e=await this.bearer;e.onNotification("serverlog",(e=>{this.logger.log(e.level,`[server] ${e.line}`),this.logEmitter.fire(e)})),e.onNotification("proxylog",(e=>this.logger.log(e.level,`[proxy] ${e.message}`,...e.args))),e.onNotification("statechange",(e=>{switch(e.state){case"connecting":this._state=g.Connecting,this.startEmitter.fire();break;case"connected":this._state=g.Connected,this.connectedEmitter.fire();break;case"closed":let t;this._state=g.Closed,e.reason&&(t=new Error(e.reason.message),t.stack=e.reason.stack||t.stack),this.closeEmitter.fire(t)}})),e.onClose((e=>{this.closeEmitter.fire(e)}))}connectToProxyServer(){let e,t=!1;const n=()=>{t=!1,e?.destroy(),e=void 0},r=()=>{t||(n(),e=c.connect(this.args.proxySocketPath),e.on("connect",(async()=>{t=!0,this.bearerPromise.complete(new d.Connection(e,o.encode,this.extraHandlers)),this.getPortOfTunnelProxyServer()})),e.on("error",(e=>{n()})))};let i;const s=()=>{r(),i&&clearTimeout(i),i=setTimeout((async()=>{t||s()}),500)};s()}async getPortOfTunnelProxyServer(){const e=await this.bearer,t=(await e.call("getlocalport",{})).value;this.localPortPromise.complete(t)}async dispose(){(await this.bearer).dispose()}}v.State=g;class y extends v{constructor(e,t,n){const r=i.spawn(process.execPath,[n],{detached:m,stdio:m?"ignore":"pipe",env:{...process.env,VSCODE_TUNNEL_ARGS:JSON.stringify(e)}});r.stdout?.on("data",(e=>console.log("Proxy process stdout:",e.toString().trim()))),r.stderr?.on("data",(e=>console.log("Proxy process stderr:",e.toString().trim()))),m&&r.unref(),super(e,t)}}class w extends v{}},e=>{e.exports=n(5317)},e=>{e.exports=n(6982)},e=>{e.exports=n(9896)},e=>{e.exports=n(9278)},e=>{e.exports=n(857)},e=>{e.exports=n(6928)},(e,t,n)=>{n.r(t),n.d(t,{timeoutPromise:()=>r});const r=(e,t)=>new Promise(((n,r)=>{const o=setTimeout((()=>{r(new Error("Operation timed out"))}),e);t.finally((()=>clearTimeout(o))).then(n,r)}))},(e,t,n)=>{n.r(t),n.d(t,{proxyFileTimeout:()=>r});const r=6e3},(e,t,n)=>{n.r(t),n.d(t,{ProxyServer:()=>u});var r=n(4),o=n(18),i=n(19),s=n(5),a=n(2),c=n(14),l=n(25);class u{constructor(e){this._options=e,this.serverConnections=new Set,this.disposables=[],this.setupPromise=new s.DeferredPromise,this.setup=this.setupPromise.p,this.didSetup=!1,this.connectionCount=0,this.connectionIdCounter=0,this.args=e.args,this.proxyServer=i.createServer((async e=>{await this.onProxyConnection(e)})),this.disposables.push({dispose:()=>this.proxyServer.close()}),this.controlServer=i.createServer((async e=>{await this.onServerConnection(e)})),this.disposables.push({dispose:()=>this.controlServer.close()}),this.initialize().catch((e=>{this.log(5,`Failed to initialize proxy server: ${e}}`),console.error(e),process.exit(1)})),this.startSavingRunningInfo(),this.delayShutdown(9e4)}incrementConnectionCount(){this.connectionCount+=1,this.shutdownTimer&&(clearTimeout(this.shutdownTimer),this.shutdownTimer=void 0)}decrementConnectionCount(){this.connectionCount-=1,0===this.connectionCount&&this.delayShutdown(3e4)}static readArgsFromEnvironment(){return JSON.parse(process.env.VSCODE_TUNNEL_ARGS)}getWebSocket(e,t){return new c.ServerWebSocket(t,e.version)}onDidSetUpServerConnection(e){}async initialize(){await Promise.all([new Promise(((e,t)=>{this.proxyServer.listen(0,"127.0.0.1",(()=>e())),this.proxyServer.on("error",t)})),new Promise(((e,t)=>{this.controlServer.listen(this._options.proxySocketPath,e),this.controlServer.on("error",t)}))])}delayShutdown(e=3e4){this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.shutdownTimer=setTimeout((()=>{this.dispose(),this.log(2,"Timed out, shutting down"),process.exit(0)}),e)}async onServerConnection(e){this.log(2,"Server connection from:  ",e.localAddress," ",e.localPort),this.incrementConnectionCount();const t=new a.Connection(e,r.encode);this.didSetup||this.acquireTunnel(t),this.serverConnections.add(t),t.onClose((e=>{this.log(2,`Server connection closed (err: ${e})`),this.serverConnections.delete(t),this.decrementConnectionCount()})),t.registerRequestHandler("greet",(()=>(this.log(2,"Server greeted"),Promise.resolve({})))),t.registerRequestHandler("getlocalport",(async()=>({value:this.proxyServer.address().port}))),t.onNotification("stream_data",(e=>t.notify("stream_data",e))),t.onNotification("stream_ended",(e=>t.notify("stream_ended",e))),t.registerRequestHandler("calltunnel",(async({method:e,params:n,stream:r},o)=>(await this.setup).call(e,n,void 0,r?e=>{t.notify("streams_started",{for_request_id:o,stream_ids:[e.id]}),e.onDidReceiveMessage((n=>t.notify("stream_data",{segment:n,stream:e.id}))),e.onEnd.then((()=>t.notify("stream_ended",{stream:e.id})))}:void 0))),this.onDidSetUpServerConnection(t),this.lastState&&t.notify("statechange",this.lastState)}async onProxyConnection(e){const t=`[connection.${this.connectionIdCounter++}]`;this.log(2,`${t} connection from:  ${e.localAddress} ${e.localPort}`),this.incrementConnectionCount();const n=(0,l.writeBuffer)();let r;e.on("data",(e=>n.write(e))),e.on("close",(()=>{r?.close(),this.decrementConnectionCount()}));try{const e=await this.setup,t=this.getWebSocket(e,{bearer:e.bearer,product:this._options.productInfo,extensions:this._options.extensions,socketId:e.nextSocketId(),compress:!0});await t.initialize(),r=t}catch(e){return this.log(5,`${t} error setting up websocket: ${e}`),void this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}n.connect((e=>r.send(e))),this.disposables.push(r.onData((t=>e.write(new Uint8Array(t)))),r.onError((e=>{this.log(5,`${t} tunnel connection error: ${e}`)})),r.onClose((()=>{this.log(5,`${t} tunnel connection ended`),e.end()}))),this.log(3,`${t} tunnel connection established`)}async acquireTunnel(e){let t;try{t=await this.createConnectionManager(e)}catch(e){return this.log(5,e.message),this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}this.setupPromise.complete(t),t.onLog((e=>{this.serverConnections.forEach((t=>{t.notify("serverlog",e)}))})),t.onStartConnecting((()=>{this.log(2,"Tunnel started connecting"),this.setState({state:"connecting"})})),t.onConnected((()=>{this.log(3,"Tunnel connection successful"),this.setState({state:"connected"})})),t.onClose((e=>{this.log(5,`Tunnel connection closed with: ${e?.message}`),this.setState({state:"closed",reason:{message:e?.message||"Remote server disconnected"}})}))}setState(e){if(e.state!==this.lastState?.state){this.lastState=e;for(const t of this.serverConnections)t.notify("statechange",e);"closed"===e.state&&process.exit(1)}}startSavingRunningInfo(){this.log(2,`Saving socket path "${this._options.proxySocketPath}" to daemon in: ${this._options.runningProxyInfoFile}`);const e=()=>JSON.stringify({at:Date.now(),socket:this._options.proxySocketPath,pid:process.pid});o.writeFileSync(this._options.runningProxyInfoFile,e());const t=setInterval((()=>o.writeFile(this._options.runningProxyInfoFile,e(),(()=>{}))),3e3);this.disposables.push({dispose:()=>{clearInterval(t);try{o.rmSync(this._options.runningProxyInfoFile)}catch{}}})}log(e,t,...n){for(const r of this.serverConnections)r.notify("proxylog",{level:e,message:t,args:n})}dispose(){this.serverConnections.forEach((e=>{e.notify("statechange",{state:"closed",reason:new Error("Disposing proxy server.")}),e.dispose()})),this.disposables.forEach((e=>e.dispose()))}}},(e,t,n)=>{n.r(t),n.d(t,{writeBuffer:()=>r});const r=()=>{let e=[];return{write:t=>{e.push(t)},connect(t){for(const n of e)t(n);this.write=t,e=void 0}}}}],r={};function o(t){var n=r[t];if(void 0!==n)return n.exports;var i=r[t]={exports:{}};return e[t](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{o.r(i),o.d(i,{CallHandlers:()=>e.CallHandlers,Connection:()=>e.Connection,ConnectionBearer:()=>e.ConnectionBearer,ConnectionManager:()=>e.ConnectionManager,DeferredPromise:()=>e.DeferredPromise,ExecServer:()=>e.ExecServer,FileSystemProviderErrorCode:()=>e.FileSystemProviderErrorCode,FileType:()=>e.FileType,NetworkError:()=>e.NetworkError,ProxyConnection:()=>t.ProxyConnection,ProxyServer:()=>n.ProxyServer,RPCError:()=>e.RPCError,RemoteVersion:()=>e.RemoteVersion,ServerWebSocket:()=>e.ServerWebSocket,State:()=>t.State,TimeoutError:()=>e.TimeoutError,closedDuplexStream:()=>e.closedDuplexStream,msgPackEncode:()=>e.msgPackEncode});var e=o(1),t=o(15),n=o(24)})();var s=t;for(var a in i)s[a]=i[a];i.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})()},3503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendChatParticipantRequest=function(e,t,n,a){let c;const l=new ReadableStream({start:l=>(c=async function(e,t,n,a,c){let l=a.model??t.model;if(a.tools?.length&&"copilot"===l.vendor&&l.family.startsWith("o1")){const e=await o.lm.selectChatModels({vendor:"copilot",family:"gpt-4o"});l=e[0]}const u=a.tools,d={justification:a.requestJustification},h=await s(l,{context:n,request:t,toolCallRounds:[],toolCallResults:{},libUserPrompt:a.prompt,tools:u},a.responseStreamOptions?.stream,a.extensionMode===o.ExtensionMode.Development);let f=(0,r.toVsCodeChatMessages)(h.messages);h.references.forEach((e=>{(e.anchor instanceof o.Uri||e.anchor instanceof o.Location)&&a.responseStreamOptions?.references&&a.responseStreamOptions?.stream.reference(e.anchor)}));const p=[...t.toolReferences],m={},g=[],v=async()=>{const h=p.shift();h?(d.toolMode=o.LanguageModelChatToolMode.Required,d.tools=o.lm.tools.filter((e=>e.name===h.name))):(d.toolMode=void 0,d.tools=u?[...u]:void 0);const y=await l.sendRequest(f,d,c),w=[];let S="";for await(const t of y.stream)t instanceof o.LanguageModelTextPart?(e.enqueue(t),S+=t.value,a.responseStreamOptions?.responseText&&a.responseStreamOptions.stream.markdown(t.value)):t instanceof o.LanguageModelToolCallPart&&w.push(t);if(w.length){g.push({response:S,toolCalls:w});const e=await s(l,{context:n,request:t,toolCallRounds:g,toolCallResults:m,libUserPrompt:a.prompt,tools:u},a.responseStreamOptions?.stream,a.extensionMode===o.ExtensionMode.Development);f=(0,r.toVsCodeChatMessages)(e.messages);const c=e.metadata.getAll(i.ToolResultMetadata);return c?.length&&c.forEach((e=>m[e.toolCallId]=e.result)),v()}};return await v(),{metadata:{toolCallsMetadata:{toolCallResults:m,toolCallRounds:g}}}}(l,e,t,n,a).finally((()=>l.close())),c)});return{result:c,stream:l}};const r=n(3318),o=n(1398),i=n(9384);async function s(e,t,n,s){const a=new r.PromptRenderer({modelMaxPromptTokens:e.maxInputTokens},i.ToolUserPrompt,t,{tokenLength:async(t,n)=>e.countTokens(t),countMessageTokens:async t=>e.countTokens(t.content)}),c=new r.HTMLTracer;a.tracer=c;const l=await a.render();if(s){const e=await c.serveHTML();if(n){const t=new o.MarkdownString("$(info) [View prompt trace]("+e.address+")");t.supportThemeIcons=!0,n.markdown(t)}else console.log("Prompt trace address:",e.address)}return l}},7760:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilesContext=void 0;const r=n(3318),o=n(1398);class i extends r.PromptElement{async render(e,t){const n=await this.getExpandedFiles(t);return vscpp(vscppf,null,n.map((e=>vscpp(r.Chunk,null,vscpp("references",{value:[new r.PromptReference(e.toLocation())]}),e.toString()))))}async getExpandedFiles(e){const t=this.props.files instanceof Array?this.props.files:[this.props.files],n=(await Promise.all(t.map((e=>s.create(e))))).filter((e=>!!e));let r=0;for(const t of n)r+=await t.baseTokenCount(e);for(;;){let t=!1;for(const o of n){const i=o.nextLine();if(void 0===i)continue;t=!0;const s=await e.countTokens(i);if(r+s>e.tokenBudget)return n;o.expand(),r+=s}if(!t)return n}}}t.FilesContext=i;class s{static async create(e){if("string"==typeof e.value)return new s(new a(e.value,o.Uri.from({scheme:"untitled",path:crypto.randomUUID()})),e);if(!(e.value instanceof o.Uri||e.value instanceof o.Location))return e.value&&"uri"in e.value&&"isUntitled"in e.value?new s(e.value,e):void 0;{const t=e.value instanceof o.Location?e.value.uri:e.value;try{const n=await o.workspace.fs.readFile(t),r=(new TextDecoder).decode(n);return new s(new a(r,t),e)}catch{return new s(new a("Failed to read file",t),e)}}}constructor(e,{range:t,label:n,expand:r,value:i}){this.document=e,this.suffix="\n```\n",this.lines=[],this.nextLineIs="above",this.minLine=0,this.prefix=`# ${n||this.document.uri.fsPath}\n\`\`\`\n`;const s=t||(i instanceof o.Location?i.range:void 0);!1===r&&s?(this.minLine=s.start.line,this.maxLine=s.end.line+1):this.maxLine=this.document.lineCount,this.aboveLine=this.belowLine=s?s.start.line+Math.floor((s.end.line-s.start.line)/2):0}async baseTokenCount(e){return await e.countTokens(this.prefix)+await e.countTokens(this.suffix)}nextLine(){switch(this.nextLineIs){case"above":return this.document.lineAt(this.aboveLine).text+"\n";case"below":return this.document.lineAt(this.belowLine).text+"\n";case"none":return}}expand(){"above"===this.nextLineIs?(this.lines.unshift(this.document.lineAt(this.aboveLine).text),this.belowLine<this.maxLine-1?(this.belowLine++,this.nextLineIs="below"):this.aboveLine>this.minLine?this.aboveLine--:this.nextLineIs="none"):"below"===this.nextLineIs&&(this.lines.push(this.document.lineAt(this.belowLine).text),this.aboveLine>this.minLine?(this.aboveLine--,this.nextLineIs="above"):this.belowLine<this.maxLine-1?this.belowLine++:this.nextLineIs="none")}toLocation(){return new o.Location(this.document.uri,new o.Range(this.aboveLine,0,this.belowLine,0))}toString(){return this.prefix+this.lines.join("\n")+this.suffix}}class a{get lineCount(){return this.lines.length}constructor(e,t){this.uri=t,this.lines=e.split("\n")}lineAt(e){return{text:this.lines[e]||""}}}},9063:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileTreeMetadata=t.FileTreeFragment=t.FileTree=void 0;const r=n(3318),o=n(1398);class i extends r.PromptElement{static parseUris(e,t){function n(e,t){const r=o.Uri.joinPath(e,t.name);return t.children?{uri:r,children:t.children.map((e=>n(r,e)))}:{uri:r}}return this.parseText(t).map((t=>n(e,t)))}static parseText(e){const t=e.split("\n"),n=[{name:"",children:[]}],r=n[0].children,o=new Map;for(const e of t){if(!e.trim())continue;const t=e.search(/\S/);if(-1===t)continue;const r=e.slice(0,t);let i=n[n.length-1];for(;n.length>1&&r.length<=o.get(i).length;)n.pop(),i=n[n.length-1];const s={name:e.slice(t).trim()};o.set(s,r),s.name.endsWith("/")&&(s.children=[],s.name=s.name.slice(0,-1)),i.children??=[],i.children.push(s),n.push(s)}return r}render(){return vscpp(vscppf,null,"```",vscpp("br",null),vscpp(a,{...this.props}),"```",vscpp("br",null))}}t.FileTree=i;const s=2147483647;class a extends r.PromptElement{async render(e,t,n,r){const o=await this.fileTree(t,r);return vscpp(vscppf,null,vscpp("meta",{value:new c(o,this.props.id),local:!0}),[...o.toSubtree()])}async fileTree(e,t){const{root:n,focusOn:r=n,ignore:i}=this.props;if(!r.path.toLowerCase().startsWith(n.path.toLowerCase()))throw new Error("focusOn must be within the root URI");let a=s;const c=new l(n,void 0,-1+(this.props.indent||0),o.FileType.Directory,a--);let u=e.tokenBudget,d=c;if(r.path.length>n.path.length)for(const i of r.path.slice(n.path.length+1).split("/")){const n=new l(o.Uri.joinPath(d.uri,i),d,d.indent+1,o.FileType.Directory,a--);d.children.push(n),u-=await e.countTokens(n.text,t),d=n}const h=[{node:d,ascend:!0}];e:for(let n=0;n<h.length&&!t?.isCancellationRequested;n++){const{node:r,ascend:s}=h[n],c=(await o.workspace.fs.readDirectory(r.uri)).map((([e,t])=>({uri:o.Uri.joinPath(r.uri,e),type:t}))),d=new Set;if(i)for(const e of await i(c.map((e=>e.uri))))d.add(e.toString());const f=c.filter((e=>!(e.type!==o.FileType.Directory&&e.type!==o.FileType.File||d.has(e.uri.toString())||r.children.some((t=>t.uri.toString()===e.uri.toString()))))).map((({uri:e,type:t})=>new l(e,r,r.indent+1,t,a--))),p=await Promise.all(f.map((n=>e.countTokens(n.text,t))));for(let e=0;e<f.length&&!t?.isCancellationRequested;e++){if(u-=p[e],u<0)break e;const t=f[e];r.children.push(t),t.children&&h.push({node:t,ascend:!1})}s&&r.parent&&h.push({node:r.parent,ascend:!0})}return c}}t.FileTreeFragment=a;class c extends r.PromptMetadata{constructor(e,t){super(),this.root=e,this.id=t}uris(){return this.root.uris(!1)}files(){return this.root.uris(!0)}}t.FileTreeMetadata=c;class l{constructor(e,t,n,r,i){this.uri=e,this.parent=t,this.indent=n,this.priority=i,this.children=r===o.FileType.Directory?[]:void 0}get text(){return"\t".repeat(this.indent)+u(this.uri)+(this.children?"/":"")+"\n"}*toSubtree(){if(this.priority<s&&(yield vscpp(r.TextChunk,{priority:this.priority},this.text)),this.children)for(const e of this.children.sort(((e,t)=>e.uri.path.localeCompare(t.uri.path))))yield*e.toSubtree()}*uris(e){if(e&&!this.children&&(yield this.uri),this.children)for(const t of this.children)yield*t.uris(e)}}const u=e=>{const t=e.path.lastIndexOf("/");return-1===t?e.path:e.path.slice(t+1)}},438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HistoryMessages=t.History=void 0;const r=n(3318),o=n(1398);class i extends r.PromptElement{render(){const{n:e=2,older:t,newer:n,history:r}=this.props;return vscpp(vscppf,null,vscpp(s,{history:r.slice(0,-e),priority:t}),vscpp(s,{history:r.slice(-e),priority:n}))}}t.History=i;class s extends r.PromptElement{render(){return vscpp(r.PrioritizedList,{priority:0,descending:!1},this.props.history.map(this.props.renderTurn||a))}}t.HistoryMessages=s;const a=e=>e instanceof o.ChatRequestTurn?vscpp(r.UserMessage,null,e.prompt):e instanceof o.ChatResponseTurn?vscpp(r.AssistantMessage,null,c(e)):vscpp(vscppf,null),c=e=>{let t="";for(const n of e.response)if(n instanceof o.ChatResponseMarkdownPart)t+=n.value.value;else if(n instanceof o.ChatResponseAnchorPart){n.title&&(t+=`[${n.title}](`);const e=n.value instanceof o.Uri?n.value:n.value.uri;"file"===e.scheme?t+=e.fsPath:t+=e.toString(),n.title&&(t+=")")}return t}},2546:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=void 0;const r=n(3318);class o extends r.PromptElement{render(){return vscpp(vscppf,null,vscpp(r.TextChunk,null,`<${this.props.name}>\n`),vscpp(i,{priority:1},this.props.children),vscpp(r.TextChunk,null,`</${this.props.name}>`))}}t.Tag=o;class i extends r.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}},8047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolResultMetadata=t.ToolCall=void 0;const r=n(3318),o=n(1398);class i extends r.PromptElement{async render(e,t,n,i){if(!o.lm.tools.find((e=>e.name===this.props.call.name)))return vscpp(r.ToolMessage,{toolCallId:this.props.call.callId},"Tool not found");const a={tokenBudget:t.tokenBudget,countTokens:async e=>t.countTokens(e)},c=this.props.result||await o.lm.invokeTool(this.props.call.name,{input:this.props.call.input,toolInvocationToken:this.props.invocationToken,tokenizationOptions:a},i);return vscpp(r.ToolMessage,{toolCallId:this.props.call.callId},vscpp("meta",{value:new s(this.props.call.callId,c),local:!0}),vscpp(r.ToolResult,{data:c}))}}t.ToolCall=i;class s extends r.PromptMetadata{constructor(e,t){super(),this.toolCallId=e,this.result=t}}t.ToolResultMetadata=s},657:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.sendChatParticipantRequest=void 0;var i=n(3503);Object.defineProperty(t,"sendChatParticipantRequest",{enumerable:!0,get:function(){return i.sendChatParticipantRequest}}),o(n(7760),t),o(n(9063),t),o(n(438),t),o(n(2546),t),o(n(8047),t)},9384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToolResultMetadata=t.ToolUserPrompt=void 0,t.isTsxToolUserMetadata=m,t.isAdHocTool=g;const r=n(3318),o=n(5234),i=n(1398);class s extends r.PromptElement{render(e,t){return vscpp(vscppf,null,vscpp(r.UserMessage,null,vscpp(p,{name:"instructions"},"- The user will ask a question, or ask you to perform a task, and it may require lots of research to answer correctly. There is a selection of tools that let you perform actions or retrieve helpful context to answer the user's question. ",vscpp("br",null),"- If you aren't sure which tool is relevant, you can call multiple tools. You can call tools repeatedly to take actions or gather as much context as needed until you have completed the task fully. Don't give up unless you are sure the request cannot be fulfilled with the tools you have. ",vscpp("br",null),"- Don't make assumptions about the situation- gather context first, then perform the task or answer the question. ",vscpp("br",null),"- Don't ask the user for confirmation to use tools, just use them. ",vscpp("br",null))),vscpp(d,{context:this.props.context,priority:10}),vscpp(h,{references:this.props.request.references,priority:20}),this.renderLibUserPrompt(this.props.libUserPrompt),vscpp(r.UserMessage,null,this.props.request.prompt),vscpp(c,{toolCallRounds:this.props.toolCallRounds,toolInvocationToken:this.props.request.toolInvocationToken,toolCallResults:this.props.toolCallResults,tools:this.props.tools}))}renderLibUserPrompt(e){if("string"==typeof e)return vscpp(r.UserMessage,null,e);if(e){const t=e.promptElement;return vscpp(vscppf,null,vscpp(t,{...e.props}))}}}t.ToolUserPrompt=s;const a=(new i.CancellationTokenSource).token;class c extends r.PromptElement{async render(e,t){if(this.props.toolCallRounds.length)return vscpp(vscppf,null,this.props.toolCallRounds.map((e=>this.renderOneToolCallRound(e))),vscpp(r.UserMessage,null,"Above is the result of calling one or more tools. The user cannot see the results, so you should explain them to the user if referencing them in your answer."))}renderOneToolCallRound(e){const t=e.toolCalls.map((e=>({type:"function",function:{name:e.name,arguments:JSON.stringify(e.input)},id:e.callId})));return vscpp(r.Chunk,null,vscpp(r.AssistantMessage,{toolCalls:t},e.response),e.toolCalls.map((e=>vscpp(l,{toolCall:e,toolInvocationToken:this.props.toolInvocationToken,toolCallResult:this.props.toolCallResults[e.callId],tools:this.props.tools}))))}}class l extends r.PromptElement{async render(e,t){const n={tokenBudget:t.tokenBudget,countTokens:async e=>t.countTokens(e)},s={input:this.props.toolCall.input,toolInvocationToken:this.props.toolInvocationToken,tokenizationOptions:n};let c=this.props.toolCallResult;if(!c){const e=this.props.tools?.find((e=>e.name===this.props.toolCall.name))??i.lm.tools.find((e=>e.name===this.props.toolCall.name));if(!e)return console.error(`Tool not found: ${this.props.toolCall.name}`),vscpp(r.ToolMessage,{toolCallId:this.props.toolCall.callId},"Tool not found");c=g(e)?await e.invoke(s):await i.lm.invokeTool(e.name,s,a)}return vscpp(r.ToolMessage,{toolCallId:this.props.toolCall.callId},vscpp("meta",{value:new u(this.props.toolCall.callId,c)}),vscpp(o.ToolResult,{data:c}))}}class u extends r.PromptMetadata{constructor(e,t){super(),this.toolCallId=e,this.result=t}}t.ToolResultMetadata=u;class d extends r.PromptElement{render(e,t){return vscpp(r.PrioritizedList,{priority:this.props.priority,descending:!1},this.props.context.history.map((e=>{if(e instanceof i.ChatRequestTurn)return vscpp(vscppf,null,vscpp(h,{references:e.references,excludeReferences:!0}),vscpp(r.UserMessage,null,e.prompt));if(e instanceof i.ChatResponseTurn){const t=e.result.metadata;return m(t)&&t.toolCallsMetadata.toolCallRounds.length>0?vscpp(c,{toolCallResults:t.toolCallsMetadata.toolCallResults,toolCallRounds:t.toolCallsMetadata.toolCallRounds,toolInvocationToken:void 0}):vscpp(r.AssistantMessage,null,e.response.map((e=>e instanceof i.ChatResponseMarkdownPart?e.value.value:e instanceof i.ChatResponseAnchorPart?e.value instanceof i.Uri?e.value.fsPath:e.value.uri.fsPath:"")).join(""))}})))}}class h extends r.PromptElement{render(e,t){return vscpp(r.UserMessage,null,this.props.references.map((e=>vscpp(f,{ref:e,excludeReferences:this.props.excludeReferences}))))}}class f extends r.PromptElement{async render(e,t){const n=this.props.ref.value;if(n instanceof i.Uri){const e=(await i.workspace.fs.readFile(n)).toString();return vscpp(p,{name:"context"},!this.props.excludeReferences&&vscpp("references",{value:[new r.PromptReference(n)]}),n.fsPath,":",vscpp("br",null),"``` ",vscpp("br",null),e,vscpp("br",null),"```",vscpp("br",null))}if(n instanceof i.Location){const e=(await i.workspace.openTextDocument(n.uri)).getText(n.range);return vscpp(p,{name:"context"},!this.props.excludeReferences&&vscpp("references",{value:[new r.PromptReference(n)]}),n.uri.fsPath,":",n.range.start.line+1,"-$",vscpp("br",null),n.range.end.line+1,": ",vscpp("br",null),"```",vscpp("br",null),e,vscpp("br",null),"```")}if("string"==typeof n)return vscpp(p,{name:"context"},n)}}class p extends r.PromptElement{static{this._regex=/^[a-zA-Z_][\w.-]*$/}render(){const{name:e}=this.props;if(!p._regex.test(e))throw new Error(`Invalid tag name: ${this.props.name}`);return vscpp(vscppf,null,"<"+e+">",vscpp("br",null),vscpp(vscppf,null,this.props.children,vscpp("br",null)),"</"+e+">",vscpp("br",null))}}function m(e){return!!e&&!!e.toolCallsMetadata&&Array.isArray(e.toolCallsMetadata.toolCallRounds)}function g(e){return void 0!==e.invoke}},5396:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.oneDataSystemClientFactory=void 0,t.oneDataSystemClientFactory=async(e,t,r)=>{let o=await(async(e,t,r)=>{const o=await Promise.resolve().then((()=>i(n(670)))),s=await Promise.resolve().then((()=>i(n(8916)))),a=new o.AppInsightsCore,c=new s.PostChannel,l={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[c]]};if(r){l.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:r};l.extensionConfig[c.identifier]=e}const u=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(l,[]),a.addTelemetryInitializer((e=>{u&&(e.ext=e.ext??{},e.ext.utc=e.ext.utc??{},e.ext.utc.flags=8462029)})),a})(e,t,r);return{logEvent:(e,t)=>{try{o?.track({name:e,baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},flush:async()=>{try{return new Promise(((e,t)=>{o?o.flush(!0,(e=>{e||t("Failed to flush app 1DS!")})):e()}))}catch(e){throw new Error("Failed to flush 1DS!\n"+e.message)}},dispose:async()=>new Promise((e=>{o?o.unload(!1,(()=>{e(),o=void 0}),1e3):e()}))}}},2468:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.appInsightsClientFactory=void 0;const s=n(740),a=n(8393);t.appInsightsClientFactory=async(e,t,r)=>{let o;try{const r=await Promise.resolve().then((()=>i(n(1380))));if(o=new r.ApplicationInsights({instrumentationKey:e,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0}),t){o.config.extensionConfig={};const e={alwaysUseXhrOverride:!0,httpXHROverride:t};o.config.extensionConfig[s.BreezeChannelIdentifier]=e}}catch(e){return Promise.reject(e)}return{logEvent:(e,t)=>{const n={...t?.properties,...t?.measurements};r?.length&&a.TelemetryUtil.applyReplacements(n,r),o?.track({name:e,data:n,baseType:"EventData",baseData:{name:e,properties:t?.properties,measurements:t?.measurements}})},flush:async()=>{o?.flush(!1)},dispose:async()=>new Promise((e=>{o?.unload(!0,(()=>{e(),o=void 0}),1e3)}))}}},6548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetryReporter=void 0,t.BaseTelemetryReporter=class{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates((()=>{this.updateUserOptIn()}))}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendRawTelemetryEvent(e,t,n){const r={...t};for(const e of Object.keys(r??{})){const t=r[e];"string"==typeof e&&void 0!==t&&(r[e]=new this.vscodeAPI.TelemetryTrustedValue("string"==typeof t?t:t.value))}this.sendTelemetryEvent(e,r,n)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,r){r?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map((e=>e.dispose())))}}},2396:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTelemetrySender=void 0,function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"}(n||(n={})),t.BaseTelemetrySender=class{constructor(e,t){this._instantiationStatus=n.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):this._instantiationStatus!==n.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t})}sendErrorData(e,t){if(!this._telemetryClient)return void(this._instantiationStatus!==n.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t}));const r={stack:e.stack,message:e.message,name:e.name};t?t.properties={...t.properties,...r}:t={properties:r},this._telemetryClient.logEvent("unhandlederror",t)}async flush(){return this._telemetryClient?.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.sendEventData(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.sendErrorData(e,t))),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===n.NOT_INSTANTIATED&&(this._instantiationStatus=n.INSTANTIATING,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=n.INSTANTIATED,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=n.INSTANTIATED})))}}},8393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryUtil=void 0;class n{static applyReplacements(e,t){for(const n of Object.keys(e))for(const r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.0"}}static getInstance(){return n._instance||(n._instance=new n),n._instance}}t.TelemetryUtil=n},1170:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(857)),a=i(n(1398)),c=i(n(5692)),l=n(6548),u=n(2396),d=n(8393),h=n(5396),f=n(2468);function p(){return{sendPOST:(e,t)=>{const n={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{const r=c.request(e.urlString,n,(e=>{e.on("data",(function(n){t(e.statusCode??200,e.headers,n.toString())})),e.on("error",(function(){t(0,{})}))}));r.write(e.data,(e=>{e&&t(0,{})})),r.end()}catch{t(0,{})}}}}class m extends l.BaseTelemetryReporter{constructor(e,t){let n=e=>(0,f.appInsightsClientFactory)(e,p(),t);d.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(n=e=>(0,h.oneDataSystemClientFactory)(e,a,p()));const r={release:s.release(),platform:s.platform(),architecture:s.arch()},o=new u.BaseTelemetrySender(e,n);if(e&&0===e.indexOf("AIF-"))throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,a,{additionalCommonProperties:d.TelemetryUtil.getAdditionalCommonProperties(r)})}}t.default=m},6925:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLTracer=void 0;const r=n(2111),o=n(9138);t.HTMLTracer=class{traceData;epochs=[];addRenderEpoch(e){this.epochs.push(e)}includeInEpoch(e){this.epochs[this.epochs.length-1].elements.push(e)}didMaterializeTree(e){this.traceData=e}async serveHTML(){return s.create({epochs:this.epochs,traceData:u(this.traceData)})}serveRouter(e){return new i({baseAddress:e,epochs:this.epochs,traceData:u(this.traceData)})}};class i{opts;serverToken=crypto.randomUUID();constructor(e){this.opts=e}route(e,t){const n=e,r=t,o=new URL(n.url||"/","http://localhost"),i=`/${this.serverToken}`;switch(o.pathname){case i:case`${i}/`:this.onRoot(o,n,r);break;case`${i}/regen`:this.onRegen(o,n,r);break;default:return!1}return!0}get address(){return this.opts.baseAddress+"/"+this.serverToken}async getHTML(){const{traceData:e,epochs:t}=this.opts;return`<body>\n\t\t\t<style>${r.tracerCss}</style>\n\t\t\t<script>\n\t\t\t\tconst DEFAULT_TOKENS = ${JSON.stringify(e.budget)};\n\t\t\t\tconst EPOCHS = ${JSON.stringify(t)};\n\t\t\t\tconst DEFAULT_MODEL = ${JSON.stringify(await a(e.tokenizer,e.renderedTree))};\n\t\t\t\tconst SERVER_ADDRESS = ${JSON.stringify(this.opts.baseAddress+"/"+this.serverToken+"/")};\n\t\t\t\t${r.tracerSrc}\n\t\t\t<\/script>\n\t\t</body>`}async onRegen(e,t,n){const{traceData:r}=this.opts,o=Number(e.searchParams.get("n")||r.budget),i=await r.renderTree(o),s=await a(r.tokenizer,i),c=JSON.stringify(s);n.setHeader("Content-Type","application/json"),n.setHeader("Content-Length",Buffer.byteLength(c)),n.end(c)}onRoot(e,t,n){this.getHTML().then((e=>{n.setHeader("Content-Type","text/html"),n.setHeader("Content-Length",Buffer.byteLength(e)),n.end(e)}))}}class s extends i{server;static async create(e){const{createServer:t}=await Promise.resolve().then((()=>n(8611))),r=t(((e,t)=>{try{i.route(e,t)||(t.statusCode=404,t.end("Not Found"))}catch(e){t.statusCode=500,t.end(String(e))}})),o=await new Promise(((e,t)=>{r.listen(0,"127.0.0.1",(()=>e(r.address().port))).on("error",t)})),i=new s({...e,baseAddress:`http://127.0.0.1:${o}`},r);return i}constructor(e,t){super(e),this.server=t}dispose(){this.server.closeAllConnections(),this.server.close()}}async function a(e,t){return{container:await c(e,t.container,!1),removed:t.removed,budget:t.budget}}async function c(e,t,n){const r={metadata:t.metadata.map(l),priority:t.priority};if(t instanceof o.MaterializedChatMessageTextChunk)return{...r,type:2,value:t.text,tokens:await t.upperBoundTokenCount(e)};{const i={...r,id:t.id,name:t.name,children:await Promise.all(t.children.map((r=>c(e,r,n||t instanceof o.MaterializedChatMessage)))),tokens:n?await t.upperBoundTokenCount(e):await t.tokenCount(e)};if(t instanceof o.MaterializedContainer)return{...i,type:0};if(t instanceof o.MaterializedChatMessage)return{...i,type:1,role:t.role,text:t.text}}!function(){throw new Error("unreachable")}()}function l(e){return{name:e.constructor.name,value:JSON.stringify(e)}}const u=e=>{if(void 0===e)throw new Error("Prompt must be rendered before calling HTMLTRacer.serveHTML");return e}},2111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tracerCss=t.tracerSrc=void 0,t.tracerSrc='"use strict";(()=>{var $,m,se,ze,w,re,le,q,X,G,K,Ae,D={},ce=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,J=Array.isArray;function E(t,e){for(var n in e)t[n]=e[n];return t}function ue(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function l(t,e,n){var o,r,_,c={};for(_ in e)_=="key"?o=e[_]:_=="ref"?r=e[_]:c[_]=e[_];if(arguments.length>2&&(c.children=arguments.length>3?$.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)c[_]===void 0&&(c[_]=t.defaultProps[_]);return R(t,c,o,r,null)}function R(t,e,n,o,r){var _={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:r??++se,__i:-1,__u:0};return r==null&&m.vnode!=null&&m.vnode(_),_}function I(t){return t.children}function B(t,e){this.props=t,this.context=e}function N(t,e){if(e==null)return t.__?N(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?N(t):null}function de(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return de(t)}}function ie(t){(!t.__d&&(t.__d=!0)&&w.push(t)&&!O.__r++||re!==m.debounceRendering)&&((re=m.debounceRendering)||le)(O)}function O(){var t,e,n,o,r,_,c,a;for(w.sort(q);t=w.shift();)t.__d&&(e=w.length,o=void 0,_=(r=(n=t).__v).__e,c=[],a=[],n.__P&&((o=E({},r)).__v=r.__v+1,m.vnode&&m.vnode(o),Q(n.__P,o,r,n.__n,n.__P.namespaceURI,32&r.__u?[_]:null,c,_??N(r),!!(32&r.__u),a),o.__v=r.__v,o.__.__k[o.__i]=o,me(c,o,a),o.__e!=_&&de(o)),w.length>e&&w.sort(q));O.__r=0}function pe(t,e,n,o,r,_,c,a,u,s,p){var i,f,d,b,C,x=o&&o.__k||ce,h=e.length;for(n.__d=u,Be(n,e,x),u=n.__d,i=0;i<h;i++)(d=n.__k[i])!=null&&(f=d.__i===-1?D:x[d.__i]||D,d.__i=i,Q(t,d,f,r,_,c,a,u,s,p),b=d.__e,d.ref&&f.ref!=d.ref&&(f.ref&&Y(f.ref,null,d),p.push(d.ref,d.__c||b,d)),C==null&&b!=null&&(C=b),65536&d.__u||f.__k===d.__k?u=fe(d,u,t):typeof d.type=="function"&&d.__d!==void 0?u=d.__d:b&&(u=b.nextSibling),d.__d=void 0,d.__u&=-196609);n.__d=u,n.__e=C}function Be(t,e,n){var o,r,_,c,a,u=e.length,s=n.length,p=s,i=0;for(t.__k=[],o=0;o<u;o++)(r=e[o])!=null&&typeof r!="boolean"&&typeof r!="function"?(c=o+i,(r=t.__k[o]=typeof r=="string"||typeof r=="number"||typeof r=="bigint"||r.constructor==String?R(null,r,null,null,null):J(r)?R(I,{children:r},null,null,null):r.constructor===void 0&&r.__b>0?R(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r).__=t,r.__b=t.__b+1,_=null,(a=r.__i=Oe(r,n,c,p))!==-1&&(p--,(_=n[a])&&(_.__u|=131072)),_==null||_.__v===null?(a==-1&&i--,typeof r.type!="function"&&(r.__u|=65536)):a!==c&&(a==c-1?i--:a==c+1?i++:(a>c?i--:i++,r.__u|=65536))):r=t.__k[o]=null;if(p)for(o=0;o<s;o++)(_=n[o])!=null&&!(131072&_.__u)&&(_.__e==t.__d&&(t.__d=N(_)),he(_,_))}function fe(t,e,n){var o,r;if(typeof t.type=="function"){for(o=t.__k,r=0;o&&r<o.length;r++)o[r]&&(o[r].__=t,e=fe(o[r],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=N(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Oe(t,e,n,o){var r=t.key,_=t.type,c=n-1,a=n+1,u=e[n];if(u===null||u&&r==u.key&&_===u.type&&!(131072&u.__u))return n;if(o>(u!=null&&!(131072&u.__u)?1:0))for(;c>=0||a<e.length;){if(c>=0){if((u=e[c])&&!(131072&u.__u)&&r==u.key&&_===u.type)return c;c--}if(a<e.length){if((u=e[a])&&!(131072&u.__u)&&r==u.key&&_===u.type)return a;a++}}return-1}function _e(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Re.test(e)?n:n+"px"}function A(t,e,n,o,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||_e(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||_e(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?o?n.u=o.u:(n.u=X,t.addEventListener(e,_?K:G,_)):t.removeEventListener(e,_?K:G,_);else{if(r=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function ae(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=X++;else if(e.t<n.u)return;return n(m.event?m.event(e):e)}}}function Q(t,e,n,o,r,_,c,a,u,s){var p,i,f,d,b,C,x,h,v,H,M,P,F,oe,U,j,k=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(u=!!(32&n.__u),_=[a=e.__e=n.__e]),(p=m.__b)&&p(e);e:if(typeof k=="function")try{if(h=e.props,v="prototype"in k&&k.prototype.render,H=(p=k.contextType)&&o[p.__c],M=p?H?H.props.value:p.__:o,n.__c?x=(i=e.__c=n.__c).__=i.__E:(v?e.__c=i=new k(h,M):(e.__c=i=new B(h,M),i.constructor=k,i.render=We),H&&H.sub(i),i.props=h,i.state||(i.state={}),i.context=M,i.__n=o,f=i.__d=!0,i.__h=[],i._sb=[]),v&&i.__s==null&&(i.__s=i.state),v&&k.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=E({},i.__s)),E(i.__s,k.getDerivedStateFromProps(h,i.__s))),d=i.props,b=i.state,i.__v=e,f)v&&k.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),v&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(v&&k.getDerivedStateFromProps==null&&h!==d&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(h,M),!i.__e&&(i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(h,i.__s,M)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(i.props=h,i.state=i.__s,i.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(z){z&&(z.__=e)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(h,i.__s,M),v&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(d,b,C)})}if(i.context=M,i.props=h,i.__P=t,i.__e=!1,F=m.__r,oe=0,v){for(i.state=i.__s,i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),U=0;U<i._sb.length;U++)i.__h.push(i._sb[U]);i._sb=[]}else do i.__d=!1,F&&F(e),p=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++oe<25);i.state=i.__s,i.getChildContext!=null&&(o=E(E({},o),i.getChildContext())),v&&!f&&i.getSnapshotBeforeUpdate!=null&&(C=i.getSnapshotBeforeUpdate(d,b)),pe(t,J(j=p!=null&&p.type===I&&p.key==null?p.props.children:p)?j:[j],e,n,o,r,_,c,a,u,s),i.base=e.__e,e.__u&=-161,i.__h.length&&c.push(i),x&&(i.__E=i.__=null)}catch(z){if(e.__v=null,u||_!=null){for(e.__u|=u?160:32;a&&a.nodeType===8&&a.nextSibling;)a=a.nextSibling;_[_.indexOf(a)]=null,e.__e=a}else e.__e=n.__e,e.__k=n.__k;m.__e(z,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=$e(n.__e,e,n,o,r,_,c,u,s);(p=m.diffed)&&p(e)}function me(t,e,n){e.__d=void 0;for(var o=0;o<n.length;o++)Y(n[o],n[++o],n[++o]);m.__c&&m.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){m.__e(_,r.__v)}})}function $e(t,e,n,o,r,_,c,a,u){var s,p,i,f,d,b,C,x=n.props,h=e.props,v=e.type;if(v==="svg"?r="http://www.w3.org/2000/svg":v==="math"?r="http://www.w3.org/1998/Math/MathML":r||(r="http://www.w3.org/1999/xhtml"),_!=null){for(s=0;s<_.length;s++)if((d=_[s])&&"setAttribute"in d==!!v&&(v?d.localName===v:d.nodeType===3)){t=d,_[s]=null;break}}if(t==null){if(v===null)return document.createTextNode(h);t=document.createElementNS(r,v,h.is&&h),a&&(m.__m&&m.__m(e,_),a=!1),_=null}if(v===null)x===h||a&&t.data===h||(t.data=h);else{if(_=_&&$.call(t.childNodes),x=n.props||D,!a&&_!=null)for(x={},s=0;s<t.attributes.length;s++)x[(d=t.attributes[s]).name]=d.value;for(s in x)if(d=x[s],s!="children"){if(s=="dangerouslySetInnerHTML")i=d;else if(!(s in h)){if(s=="value"&&"defaultValue"in h||s=="checked"&&"defaultChecked"in h)continue;A(t,s,null,d,r)}}for(s in h)d=h[s],s=="children"?f=d:s=="dangerouslySetInnerHTML"?p=d:s=="value"?b=d:s=="checked"?C=d:a&&typeof d!="function"||x[s]===d||A(t,s,d,x[s],r);if(p)a||i&&(p.__html===i.__html||p.__html===t.innerHTML)||(t.innerHTML=p.__html),e.__k=[];else if(i&&(t.innerHTML=""),pe(t,J(f)?f:[f],e,n,o,v==="foreignObject"?"http://www.w3.org/1999/xhtml":r,_,c,_?_[0]:n.__k&&N(n,0),a,u),_!=null)for(s=_.length;s--;)ue(_[s]);a||(s="value",v==="progress"&&b==null?t.removeAttribute("value"):b!==void 0&&(b!==t[s]||v==="progress"&&!b||v==="option"&&b!==x[s])&&A(t,s,b,x[s],r),s="checked",C!==void 0&&C!==t[s]&&A(t,s,C,x[s],r))}return t}function Y(t,e,n){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(r){m.__e(r,n)}}function he(t,e,n){var o,r;if(m.unmount&&m.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Y(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(_){m.__e(_,e)}o.base=o.__P=null}if(o=t.__k)for(r=0;r<o.length;r++)o[r]&&he(o[r],e,n||typeof t.type!="function");n||ue(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function We(t,e,n){return this.constructor(t,n)}function ve(t,e,n){var o,r,_,c;m.__&&m.__(t,e),r=(o=typeof n=="function")?null:n&&n.__k||e.__k,_=[],c=[],Q(e,t=(!o&&n||e).__k=l(I,null,[t]),r||D,D,e.namespaceURI,!o&&n?[n]:r?null:e.firstChild?$.call(e.childNodes):null,_,!o&&n?n:r?r.__e:e.firstChild,o,c),me(_,t,c)}$=ce.slice,m={__e:function(t,e,n,o){for(var r,_,c;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),c=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,o||{}),c=r.__d),c)return r.__E=r}catch(a){t=a}throw t}},se=0,ze=function(t){return t!=null&&t.constructor==null},B.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=E({},this.state),typeof t=="function"&&(t=t(E({},n),this.props)),t&&E(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ie(this))},B.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ie(this))},B.prototype.render=I,w=[],le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},O.__r=0,X=0,G=ae(!1),K=ae(!0),Ae=0;var L,g,Z,ge,V=0,Ee=[],y=m,be=y.__b,ye=y.__r,xe=y.diffed,Ce=y.__c,ke=y.unmount,Te=y.__;function te(t,e){y.__h&&y.__h(g,t,V||e),V=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function S(t){return V=1,Ve(Ie,t)}function Ve(t,e,n){var o=te(L++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ie(void 0,e),function(a){var u=o.__N?o.__N[0]:o.__[0],s=o.t(u,a);u!==s&&(o.__N=[s,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var r=function(a,u,s){if(!o.__c.__H)return!0;var p=o.__c.__H.__.filter(function(f){return!!f.__c});if(p.every(function(f){return!f.__N}))return!_||_.call(this,a,u,s);var i=!1;return p.forEach(function(f){if(f.__N){var d=f.__[0];f.__=f.__N,f.__N=void 0,d!==f.__[0]&&(i=!0)}}),!(!i&&o.__c.props===a)&&(!_||_.call(this,a,u,s))};g.u=!0;var _=g.shouldComponentUpdate,c=g.componentWillUpdate;g.componentWillUpdate=function(a,u,s){if(this.__e){var p=_;_=void 0,r(a,u,s),_=p}c&&c.call(this,a,u,s)},g.shouldComponentUpdate=r}return o.__N||o.__}function Se(t,e){var n=te(L++,3);!y.__s&&Ne(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function we(t){return V=5,je(function(){return{current:t}},[])}function je(t,e){var n=te(L++,7);return Ne(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function qe(){for(var t;t=Ee.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(W),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}y.__b=function(t){g=null,be&&be(t)},y.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Te&&Te(t,e)},y.__r=function(t){ye&&ye(t),L=0;var e=(g=t.__c).__H;e&&(Z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.i=n.__N=void 0})):(e.__h.forEach(W),e.__h.forEach(ee),e.__h=[],L=0)),Z=g},y.diffed=function(t){xe&&xe(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Ee.push(e)!==1&&ge===y.requestAnimationFrame||((ge=y.requestAnimationFrame)||Ge)(qe)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.i=void 0})),Z=g=null},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(W),n.__h=n.__h.filter(function(o){return!o.__||ee(o)})}catch(o){e.some(function(r){r.__h&&(r.__h=[])}),e=[],y.__e(o,n.__v)}}),Ce&&Ce(t,e)},y.unmount=function(t){ke&&ke(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{W(o)}catch(r){e=r}}),n.__H=void 0,e&&y.__e(e,n.__v))};var Me=typeof requestAnimationFrame=="function";function Ge(t){var e,n=function(){clearTimeout(o),Me&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);Me&&(e=requestAnimationFrame(n))}function W(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function ee(t){var e=g;t.__c=t.__(),g=e}function Ne(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ie(t,e){return typeof e=="function"?e(t):e}function He(t,e){let n=we(void 0),o=(...r)=>{n.current&&clearTimeout(n.current),n.current=window.setTimeout(()=>{t(...r)},e)};return Se(()=>()=>{n.current&&clearTimeout(n.current)},[]),o}var Ke=new Intl.NumberFormat("en-US"),T=({value:t})=>l(I,null,Ke.format(t));var ne=[{bg:"#c1e7ff",fg:"#000"},{bg:"#abd2ec",fg:"#000"},{bg:"#94bed9",fg:"#000"},{bg:"#7faac6",fg:"#000"},{bg:"#6996b3",fg:"#fff"},{bg:"#5383a1",fg:"#fff"},{bg:"#3d708f",fg:"#fff"},{bg:"#255e7e",fg:"#fff"}],Xe=({scoreBy:t,nodes:e,epoch:n})=>{if(e.length===0)return null;let o=t;if(t.field!=="tokens"){let r=e[0][t.field],_=e[0][t.field];for(let c=1;c<e.length;c++)r=Math.max(r,e[c][t.field]),_=Math.max(_,e[c][t.field]);o={field:t.field,max:r,min:_}}return l("div",{className:"node-children"},e.map((r,_)=>r.type===2?l(Je,{scoreBy:o,key:_,node:r}):l(Le,{scoreBy:o,key:_,node:r,epoch:n})))},Fe=({node:t})=>l("div",{className:"node-stats"},"Used Tokens: ",l(T,{value:t.tokens})," / ","Priority:"," ",t.priority===Number.MAX_SAFE_INTEGER?"MAX":l(T,{value:t.priority})),De=({scoreBy:t,node:e,children:n,...o})=>{let r=0;if(t.max!==t.min){let _=(e[t.field]-t.min)/(t.max-t.min);r=Math.round((ne.length-1)*_)}return l("div",{...o,className:`node ${o.className||""}`,style:{backgroundColor:ne[r].bg,color:ne[r].fg}},n)},Je=({scoreBy:t,node:e})=>l(De,{node:e,scoreBy:t,tabIndex:0,className:"node-text"},l(Fe,{node:e}),l("div",{className:"node-content"},e.value)),Le=({scoreBy:t,node:e,epoch:n})=>{let[o,r]=S(!1),_=EPOCHS.findIndex(i=>i.elements.some(f=>f.id===e.id));if(_===void 0)throw new Error(`epoch not found for ${e.id}`);let c=EPOCHS[_],a=EPOCHS.at(n),u=c.elements.find(i=>i.id===e.id).tokenBudget,s=e.type===1?e.name||e.role.slice(0,1).toUpperCase()+e.role.slice(1)+"Message":e.name,p=_===n?"new-in-epoch":n<_?"before-epoch":"";return l(De,{node:e,scoreBy:t,className:p},l(Fe,{node:e}),l("div",{className:"node-content node-toggler",onClick:()=>r(i=>!i)},l("span",null,a?.inNode===e.id?"\\u{1F3C3} ":"",`<${s}>`),l("span",{className:"indicator"},o?"[+]":"[-]")),n===_&&l("div",{className:"node-stats"},"Token Budget: ",l(T,{value:u})),a?.inNode===e.id&&l("div",{className:"node-stats"},"Rendering flexGrow=",a.flexValue,l("br",null),l("br",null),"Splitting"," ",a.reservedTokens?`${a.tokenBudget} - ${a.reservedTokens} (reserved) = `:"",l(T,{value:a.tokenBudget})," tokens among ",a.elements.length," ","elements"),!o&&l(Xe,{nodes:e.children,scoreBy:t,epoch:n}))},Pe=({scoreBy:t,node:e,epoch:n})=>{let o;return t==="tokens"?o={field:"tokens",max:e.tokens,min:0}:o={field:"priority",max:e.priority,min:e.priority},l(Le,{scoreBy:o,node:e,epoch:n})};var Ue=({label:t,value:e,onChange:n,min:o,max:r})=>{let _=a=>{n(a.target.valueAsNumber)},c=`number-slider-${Math.random()}`;return l("div",{className:"controls-slider"},l("label",{htmlFor:c},t),l("input",{id:c,type:"range",min:o,max:r,value:e,onInput:_}),l("input",{type:"number",min:o,value:e,onInput:_,onChange:_}))},Qe=({scoreBy:t,onScoreByChange:e})=>{let n=o=>{let r=o.target.value;e(r)};return l("div",{className:"controls-scoreby"},"Visualize by",l("label",null,l("input",{type:"radio",name:"scoreBy",value:"tokens",checked:t==="tokens",onChange:n}),"Tokens"),l("label",null,l("input",{type:"radio",name:"scoreBy",value:"priority",checked:t==="priority",onChange:n}),"Priority"))},Ye=()=>{let[t,e]=S(DEFAULT_TOKENS),[n,o]=S(EPOCHS.length),[r,_]=S(DEFAULT_MODEL),[c,a]=S("tokens"),[u,s]=S("epoch"),p=He(async f=>{if(f===DEFAULT_TOKENS)return DEFAULT_MODEL;let b=await(await fetch(`${SERVER_ADDRESS}regen?n=${f}`)).json();_(b)},100),i=f=>{e(f),p(f),o(EPOCHS.length)};return l("div",{className:"app"},l("div",{className:"controls"},l("div",{className:"tabs"},l("div",{className:`tab ${u==="epoch"?"active":""}`,onClick:()=>s("epoch")},"View Order"),l("div",{className:`tab ${u==="tokens"?"active":""}`,onClick:()=>s("tokens")},"Change Token Budget")),l("div",{className:`tab-content ${u==="epoch"?"active":""}`},l(Ue,{label:"Render Epoch",value:n,onChange:o,min:0,max:EPOCHS.length})),l("div",{className:`tab-content ${u==="tokens"?"active":""}`},l(Ue,{label:"Token Budget",value:t,onChange:i,min:0,max:DEFAULT_TOKENS*2}))),l("div",{className:"control-description"},u==="tokens"?l("p",null,"Token changes here will prune elements and re-render Expandable ones, but the entire prompt is not being re-rendered"):l("p",null,"Changing the render epoch lets you see the order in which elements are rendered and how the token budget is allocated."),l("div",{className:"controls-stats"},l("span",null,"Used ",l(T,{value:r.container.tokens}),"/",l(T,{value:r.budget})," tokens"),l("span",null,"Removed ",l(T,{value:r.removed})," nodes"),l(Qe,{scoreBy:c,onScoreByChange:a}))),l(Pe,{node:r.container,scoreBy:c,epoch:n}))};ve(l(Ye,null),document.body);})();\n',t.tracerCss="body{font-family:-apple-system,BlinkMacSystemFont,Segoe WPC,Segoe UI,system-ui,Ubuntu,Droid Sans,sans-serif;background:#fff;margin:0}.render-pass{border-left:2px solid #ccc;&:hover{border-left-color:#000}}.literals li{white-space:pre;font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace}.render-flex,.render-element{padding-left:10px}.node{border:1px solid rgba(255,255,255,.5);margin:3px 10px;padding:3px 10px;border-radius:4px;width:fit-content;&.new-in-epoch{box-shadow:0 0 3px 2px red}&.before-epoch{pointer-events:none;filter:grayscale(1);color:#777!important;.node{color:#777!important}}&:last-child{margin-bottom:0}}.node-content{font-weight:700}.node-children{margin-left:20px;border-left:2px dashed rgba(255,255,255,.5);padding-left:10px}.node-toggler{cursor:pointer;display:flex;align-items:center;justify-content:space-between;.indicator{font-size:.7em}}.node-text{width:400px;&:focus,&:focus-within{outline:1px solid orange;.node-content{white-space:normal}}.node-content{font-weight:400;font-size:.8em;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}}.node-stats{font-family:SF Mono,Monaco,Menlo,Consolas,Ubuntu Mono,Liberation Mono,DejaVu Sans Mono,Courier New,monospace;font-size:.8em}.control-description{padding:10px;p{font-size:.9em;max-width:500px;margin-top:0}}.controls{display:flex;flex-direction:column;gap:10px;position:sticky;top:0;padding:10px;background:#fff;border-bottom:1px solid #ccc;z-index:1}.controls-slider{display:flex;align-items:center;gap:10px}.controls-stats{display:flex;gap:20px;list-style:none;padding:0;margin-top:0}.controls-scoreby{display:flex;gap:10px}.tabs{display:flex;border-bottom:1px solid #ccc;margin-bottom:10px}.tab{padding:10px;cursor:pointer;border:1px solid transparent;border-bottom:none}.tab.active{border-color:#ccc;border-bottom:1px solid #fff;background-color:#f9f9f9}.tab-content{display:none}.tab-content.active{display:block}\n"},3318:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.contentType=t.PromptRenderer=t.MetadataMap=t.PromptElement=t.ToolResult=t.UserMessage=t.ToolMessage=t.TextChunk=t.SystemMessage=t.PrioritizedList=t.LegacyPrioritization=t.FunctionMessage=t.Chunk=t.AssistantMessage=t.ChatRole=t.JSONTree=void 0,t.renderPrompt=async function(e,t,n,r,o,i,c="vscode"){let l="countTokens"in r?new a.AnyTokenizer(((e,t)=>r.countTokens(e,t))):r;const u=new s.PromptRenderer(n,e,t,l);let{messages:d,tokenCount:f,references:p,metadata:m}=await u.render(o,i);const g=u.getUsedContext();return"vscode"===c&&(d=h(d)),{messages:d,tokenCount:f,metadatas:m,metadata:m,usedContext:g,references:p}},t.renderElementJSON=function(e,t,n,r){return new s.PromptRenderer({modelMaxPromptTokens:n?.tokenBudget??Number.MAX_SAFE_INTEGER},e,t,{countMessageTokens(e){throw new Error("Tools may only return text, not messages.")},tokenLength:(e,t)=>Promise.resolve(n?.countTokens(e,t)??Promise.resolve(1))}).renderElementJSON(r)},t.toVsCodeChatMessages=h;const i=n(6423),s=n(9420),a=n(2990);o(n(6925),t),t.JSONTree=n(8150);var c=n(6423);Object.defineProperty(t,"ChatRole",{enumerable:!0,get:function(){return c.ChatRole}}),o(n(2727),t),o(n(3804),t),o(n(3479),t),o(n(8504),t);var l=n(5234);Object.defineProperty(t,"AssistantMessage",{enumerable:!0,get:function(){return l.AssistantMessage}}),Object.defineProperty(t,"Chunk",{enumerable:!0,get:function(){return l.Chunk}}),Object.defineProperty(t,"FunctionMessage",{enumerable:!0,get:function(){return l.FunctionMessage}}),Object.defineProperty(t,"LegacyPrioritization",{enumerable:!0,get:function(){return l.LegacyPrioritization}}),Object.defineProperty(t,"PrioritizedList",{enumerable:!0,get:function(){return l.PrioritizedList}}),Object.defineProperty(t,"SystemMessage",{enumerable:!0,get:function(){return l.SystemMessage}}),Object.defineProperty(t,"TextChunk",{enumerable:!0,get:function(){return l.TextChunk}}),Object.defineProperty(t,"ToolMessage",{enumerable:!0,get:function(){return l.ToolMessage}}),Object.defineProperty(t,"UserMessage",{enumerable:!0,get:function(){return l.UserMessage}}),Object.defineProperty(t,"ToolResult",{enumerable:!0,get:function(){return l.ToolResult}});var u=n(3575);Object.defineProperty(t,"PromptElement",{enumerable:!0,get:function(){return u.PromptElement}});var d=n(9420);function h(e){const t=n(1398);return e.map((e=>{switch(e.role){case i.ChatRole.Assistant:const n=t.LanguageModelChatMessage.Assistant(e.content,e.name);return e.tool_calls&&(n.content=[new t.LanguageModelTextPart(e.content),...e.tool_calls.map((e=>new t.LanguageModelToolCallPart(e.id,e.function.name,e.function.arguments)))]),n;case i.ChatRole.User:return t.LanguageModelChatMessage.User(e.content,e.name);case i.ChatRole.Function:{const n=t.LanguageModelChatMessage.User("");return n.content=[new t.LanguageModelToolResultPart(e.name,[new t.LanguageModelTextPart(e.content)])],n}case i.ChatRole.Tool:{const n=t.LanguageModelChatMessage.User("");return n.content=[new t.LanguageModelToolResultPart(e.tool_call_id,[new t.LanguageModelTextPart(e.content)])],n}default:throw new Error(`Converting chat message with role ${e.role} to VS Code chat message is not supported.`)}}))}Object.defineProperty(t,"MetadataMap",{enumerable:!0,get:function(){return d.MetadataMap}}),Object.defineProperty(t,"PromptRenderer",{enumerable:!0,get:function(){return d.PromptRenderer}}),t.contentType="application/vnd.codechat.prompt+json.1"},8150:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEachNode=function e(t,n){if(n(t),1===t.type)for(const r of t.children)e(r,n)}},9138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaterializedChatMessage=t.MaterializedChatMessageTextChunk=t.MaterializedContainer=void 0;const r=n(4548),o=n(6423);class i{id;name;priority;children;metadata;flags;constructor(e,t,n,r,o,i){this.id=e,this.name=t,this.priority=n,this.children=r,this.metadata=o,this.flags=i}has(e){return!!(this.flags&e)}async tokenCount(e){let t=0;return await Promise.all(this.children.map((async n=>{const r=c(n)?await n.tokenCount(e):await n.upperBoundTokenCount(e);t+=r}))),t}async upperBoundTokenCount(e){let t=0;return await Promise.all(this.children.map((async n=>{const r=await n.upperBoundTokenCount(e);t+=r}))),t}replaceNode(e,t){return p(e,this.children,t)}allMetadata(){return f(this)}findById(e){return m(e,this)}*toChatMessages(){for(const e of this.children)l(e),e instanceof i?yield*e.toChatMessages():e.isEmpty||(yield e.toChatMessage())}removeLowestPriorityChild(){this.has(1)?function(e){let t;if(function e(n,r){if(n instanceof s)(!t||n.priority<t.node.priority)&&(t={chain:r.slice(),node:n});else{r.push(n);for(const t of n.children)e(t,r);r.pop()}}(e,[]),!t)throw new Error("No lowest priority node found");let n=t.node,r=t.chain.length-1;for(;r>=0;r--){const e=t.chain[r];if(e.children.splice(e.children.indexOf(n),1),e instanceof a&&e.onChunksChange(),e.children.length>0)break;n=e}for(;r>=0;r--){const e=t.chain[r];e instanceof a&&e.onChunksChange()}}(this):d(this)}}t.MaterializedContainer=i;class s{text;priority;metadata;lineBreakBefore;constructor(e,t,n=[],r){this.text=e,this.priority=t,this.metadata=n,this.lineBreakBefore=r}upperBoundTokenCount(e){return this._upperBound(e)}_upperBound=(0,r.once)((async e=>await e.tokenLength(this.text)+(0!==this.lineBreakBefore?1:0)))}t.MaterializedChatMessageTextChunk=s;class a{id;role;name;toolCalls;toolCallId;priority;metadata;children;constructor(e,t,n,r,o,i,s,a){this.id=e,this.role=t,this.name=n,this.toolCalls=r,this.toolCallId=o,this.priority=i,this.metadata=s,this.children=a}async tokenCount(e){return this._tokenCount(e)}async upperBoundTokenCount(e){return this._upperBound(e)}get text(){return this._text()}get isEmpty(){return!/\S/.test(this.text)&&!this.toolCalls?.length&&!this.toolCallId}replaceNode(e,t){const n=p(e,this.children,t);return n&&this.onChunksChange(),n}removeLowestPriorityChild(){d(this)}onChunksChange(){this._tokenCount.clear(),this._upperBound.clear(),this._text.clear()}findById(e){return m(e,this)}_tokenCount=(0,r.once)((async e=>e.countMessageTokens(this.toChatMessage())));_upperBound=(0,r.once)((async e=>{let t=await this._baseMessageTokenCount(e);return await Promise.all(this.children.map((async n=>{const r=await n.upperBoundTokenCount(e);t+=r}))),t}));_baseMessageTokenCount=(0,r.once)((e=>e.countMessageTokens({...this.toChatMessage(),content:""})));_text=(0,r.once)((()=>{let e="";for(const{text:t,isTextSibling:n}of u(this))(1===t.lineBreakBefore||2===t.lineBreakBefore&&!n)&&e.length&&!e.endsWith("\n")&&(e+="\n"),e+=t.text;return e.trim()}));toChatMessage(){return this.role===o.ChatRole.System?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===o.ChatRole.Assistant?{role:this.role,content:this.text,...this.toolCalls?{tool_calls:this.toolCalls}:{},...this.name?{name:this.name}:{}}:this.role===o.ChatRole.User?{role:this.role,content:this.text,...this.name?{name:this.name}:{}}:this.role===o.ChatRole.Tool?{role:this.role,content:this.text,tool_call_id:this.toolCallId}:{role:this.role,content:this.text,name:this.name}}}function c(e){return!(e instanceof s)}function l(e){if(!(e instanceof i||e instanceof a))throw new Error(`Cannot have a text node outside a ChatMessage. Text: "${e.text}"`)}function*u(e,t=!1){for(const n of e.children)n instanceof s?(yield{text:n,isTextSibling:t},t=!0):(yield*u(n,t),t=!1)}function d(e){let t;const n=e.children.map(((t,n)=>({chain:[e],index:n})));for(let e=0;e<n.length;e++){const{chain:r,index:o}=n[e],s=r[r.length-1].children[o];if(s instanceof i&&s.has(4)){const t=[...r,s];n.splice(e+1,0,...s.children.map(((e,n)=>({chain:t,index:n}))))}else if(!t||s.priority<t.value.priority)t={chain:r,index:o,value:s};else if(s.priority===t.value.priority){t.lowestNested??=h(t.value);const e=h(s);e<t.lowestNested&&(t={chain:r,index:o,value:s,lowestNested:e})}}if(!t)throw new Error("No lowest priority node found");const r=t.chain[t.chain.length-1].children;t.value instanceof s||t.value instanceof i&&t.value.has(2)||c(t.value)&&!t.value.children.length?r.splice(t.index,1):(t.value.removeLowestPriorityChild(),0===t.value.children.length&&r.splice(t.index,1));for(const e of t.chain)e instanceof a&&e.onChunksChange()}function h(e){if(!c(e))return-1;let t=Number.MAX_SAFE_INTEGER;for(const n of e.children)t=Math.min(t,n.priority);return t}function*f(e){yield*e.metadata;for(const t of e.children)c(t)?yield*f(t):yield*t.metadata}function p(e,t,n){for(let r=0;r<t.length;r++){const o=t[r];if(c(o)){if(o.id===e){const e=t[r];return t[r]=n,e}const i=o.replaceNode(e,n);if(i)return i}}}function m(e,t){if(t.id===e)return t;for(const n of t.children)if(c(n)){const t=m(e,n);if(t)return t}}t.MaterializedChatMessage=a},4548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.once=function(e){let t,n=!1;const r=(...r)=>(n||(t=e(...r),n=!0),t);return r.clear=()=>{n=!1},r}},6423:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTokensPerName=t.BaseTokensPerMessage=t.BaseTokensPerCompletion=t.ChatRole=void 0,function(e){e.System="system",e.User="user",e.Assistant="assistant",e.Function="function",e.Tool="tool"}(n||(t.ChatRole=n={})),t.BaseTokensPerCompletion=3,t.BaseTokensPerMessage=3,t.BaseTokensPerName=1},3575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromptElement=void 0,n(818),t.PromptElement=class{props;get priority(){return this.props.priority??Number.MAX_SAFE_INTEGER}get insertLineBreakBefore(){return!0}constructor(e){this.props=e}}},5234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenLimit=t.Expandable=t.Chunk=t.LegacyPrioritization=t.ToolResult=t.PrioritizedList=t.TextChunk=t.ToolMessage=t.FunctionMessage=t.AssistantMessage=t.UserMessage=t.SystemMessage=t.BaseChatMessage=void 0,t.isChatMessagePromptElement=function(e){return e instanceof s||e instanceof a||e instanceof c};const r=n(6423),o=n(3575);class i extends o.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}t.BaseChatMessage=i;class s extends i{constructor(e){e.role=r.ChatRole.System,super(e)}}t.SystemMessage=s;class a extends i{constructor(e){e.role=r.ChatRole.User,super(e)}}t.UserMessage=a;class c extends i{constructor(e){e.role=r.ChatRole.Assistant,super(e)}}t.AssistantMessage=c;const l=/\s+/g;t.FunctionMessage=class extends i{constructor(e){e.role=r.ChatRole.Function,super(e)}},t.ToolMessage=class extends i{constructor(e){e.role=r.ChatRole.Tool,super(e)}};class u extends o.PromptElement{async prepare(e,t,n){const r=this.props.breakOnWhitespace?l:this.props.breakOn;if(!r)return vscpp(vscppf,null,this.props.children);let o="";const i=[];for(const e of this.props.children||[])if(e&&"object"==typeof e){if("string"!=typeof e.ctor)throw new Error("TextChunk children must be text literals or intrinsic attributes.");"br"===e.ctor?o+="\n":i.push(e)}else null!=e&&(o+=e);const s=await async function(e,t,n,r){if(t instanceof RegExp){if(!t.global)throw new Error(`\`breakOn\` expression must have the global flag set (got ${t})`);t.lastIndex=0}let o="",i=-1;for(;i<n.length;){let s;s="string"==typeof t?n.indexOf(t,-1===i?0:i+t.length):t.exec(n)?.index??-1,-1===s&&(s=n.length);const a=o+n.slice(Math.max(0,i),s);if(await e.countTokens(a,r)>e.tokenBudget)return o;o=a,i=s}return o}(e,r,o,n);return vscpp(vscppf,null,i,s)}render(e){return e}}t.TextChunk=u;class d extends o.PromptElement{render(){const{children:e,priority:t=0,descending:n}=this.props;if(e)return vscpp(vscppf,null,e.map(((r,o)=>{if(!r)return;const i=n?t-o:t-e.length+o;return"object"!=typeof r?vscpp(u,{priority:i},r):(r.props??={},r.props.priority=i,r)})))}}t.PrioritizedList=d;class h extends o.PromptElement{render(){const e=n(1398);return vscpp(vscppf,null,this.props.data.content.map((t=>t instanceof e.LanguageModelTextPart?t.value:t instanceof e.LanguageModelPromptTsxPart?vscpp("elementJSON",{data:t.value}):void 0)))}}t.ToolResult=h;class f extends o.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}t.LegacyPrioritization=f;class p extends o.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}t.Chunk=p;class m extends o.PromptElement{async render(e,t){return vscpp(vscppf,null,await this.props.value(t))}}t.Expandable=m;class g extends o.PromptElement{render(){return vscpp(vscppf,null,this.props.children)}}t.TokenLimit=g},9420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromptRenderer=t.MetadataMap=void 0;const r=n(9138),o=n(5234),i=n(2727);var s;function a(e,t=[]){return void 0===e||"boolean"==typeof e?[]:("string"==typeof e||"number"==typeof e?t.push(new d(String(e))):"function"==typeof(r=e).ctor&&r.ctor.isFragment?c(e.children,t):(n=e)&&"function"==typeof n[Symbol.iterator]?c(e,t):"string"==typeof e.ctor?t.push(new l(e.ctor,e.props,e.children)):t.push(new u(e.ctor,e.props,e.children)),t);var n,r}function c(e,t=[]){for(const n of e)a(n,t);return t}!function(e){e.empty={get:()=>{},getAll:()=>[]}}(s||(t.MetadataMap=s={})),t.PromptRenderer=class{_endpoint;_ctor;_props;_tokenizer;_usedContext=[];_ignoredFiles=[];_growables=[];_root=new f(null,0);_tokenLimits=[];tracer=void 0;constructor(e,t,n,r){this._endpoint=e,this._ctor=t,this._props=n,this._tokenizer=r}getIgnoredFiles(){return Array.from(new Set(this._ignoredFiles))}getUsedContext(){return this._usedContext}createElement(e){return new e.ctor(e.props)}async _processPromptPieces(e,t,n,r){const i=new Map;for(const[e,n]of t.entries()){if(Array.isArray(n.children)&&(n.props=n.props??{},n.props.children=n.children),!n.ctor)throw new Error("Invalid ChatMessage child! Child must be a TSX component that extends PromptElement.");const e=this.createElement(n);let t;e instanceof o.TokenLimit&&(t=n.props.max,this._tokenLimits.push({limit:t,id:n.node.id})),n.node.setObj(e);const r=n.props.flexGrow??1/0;let s=i.get(r);s||(s=[],i.set(r,s)),s.push({element:n,promptElementInstance:e,tokenLimit:t})}if(0===i.size)return;const s=[...i.entries()].sort((([e],[t])=>t-e)).map((([e,t])=>t)),a=t=>{let n=0;for(let r=t+1;r<s.length;r++)for(const{element:t}of s[r])t.props.flexReserve&&(n+="string"==typeof t.props.flexReserve?Math.floor(e.remainingTokenBudget/Number(t.props.flexReserve.slice(1))):t.props.flexReserve);return e.consume(n),n};for(const[t,i]of s.entries()){const s=a(t);let c=0;for(const{element:e}of i)c+=e.props.flexBasis??1;let l=0;const u=i.map((t=>{if(void 0===t.tokenLimit)return!1;const n=t.element.props.flexBasis??1,r=n/c;return!(Math.floor(e.remainingTokenBudget*r)<t.tokenLimit||(c-=n,l+=t.tokenLimit,0))})),d=i.map(((t,n)=>{const r=(t.element.props.flexBasis??1)/c;return{tokenBudget:u[n]?t.tokenLimit:Math.floor((e.remainingTokenBudget-l)*r),endpoint:e.endpoint,countTokens:(e,t)=>this._tokenizer.tokenLength(e,t)}}));e.consume(-s),this.tracer?.addRenderEpoch?.({inNode:i[0].element.node.parent?.id,flexValue:i[0].element.props.flexGrow??0,tokenBudget:e.remainingTokenBudget,reservedTokens:s,elements:i.map(((e,t)=>({id:e.element.node.id,tokenBudget:d[t].tokenBudget})))}),await Promise.all(i.map((async({element:e,promptElementInstance:t},o)=>{const i=await(t.prepare?.(d[o],n,r));e.node.setState(i)})));const f=await Promise.all(i.map((async({element:e,promptElementInstance:t},o)=>{const i=d[o];return await t.render(e.node.getState(),i,n,r)})));for(const[t,{element:s,promptElementInstance:a}]of i.entries()){const i=d[t],c=f[t];if(!c)continue;const l=await this._processPromptRenderPiece(new h(i.tokenBudget,this._endpoint),s,a,c,n,r);a instanceof o.Expandable&&this._growables.push({initialConsume:l,elem:s.node}),e.consume(l)}}}async _processPromptRenderPiece(e,t,n,r,i,s){const c=a(r),l=new h(e.tokenBudget,this._endpoint),{tokensConsumed:u}=await async function(e,t,n,r){let i=0;(0,o.isChatMessagePromptElement)(n)&&(i+=await e.countMessageTokens({role:t.props.role,content:"",...t.props.name?{name:t.props.name}:void 0}));for(const t of r)"literal"===t.kind&&(i+=await e.tokenLength(t.value));return{tokensConsumed:i}}(this._tokenizer,t,n,c);return l.consume(u),await this._handlePromptChildren(t,c,l,i,s),l.consumed}async renderElementJSON(e){return await this._processPromptPieces(new h(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],void 0,e),{node:this._root.toJSON()}}async render(e,t){await this._processPromptPieces(new h(this._endpoint.modelMaxPromptTokens,this._endpoint),[{node:this._root,ctor:this._ctor,props:this._props,children:[]}],e,t);const{container:n,allMetadata:r,removed:o}=await this._getFinalElementTree(this._endpoint.modelMaxPromptTokens,t);this.tracer?.didMaterializeTree?.({budget:this._endpoint.modelMaxPromptTokens,renderedTree:{container:n,removed:o,budget:this._endpoint.modelMaxPromptTokens},tokenizer:this._tokenizer,renderTree:e=>this._getFinalElementTree(e,void 0).then((t=>({...t,budget:e})))});const i=[...n.toChatMessages()],s=await n.tokenCount(this._tokenizer),a=[...n.allMetadata()],c=new Set,l=a.map((e=>{if(!(e instanceof v))return;const t=e.reference,n="variableName"in t.anchor;return n&&!c.has(t.anchor.variableName)?(c.add(t.anchor.variableName),t):n?void 0:t})).filter(m),u=r.map((e=>{if(!(e instanceof v)||a.includes(e))return;const t=e.reference,n="variableName"in t.anchor;return n&&!c.has(t.anchor.variableName)?(c.add(t.anchor.variableName),t):n?void 0:t})).filter(m);return{metadata:{get:e=>a.find((t=>t instanceof e)),getAll:e=>a.filter((t=>t instanceof e))},messages:i,hasIgnoredFiles:this._ignoredFiles.length>0,tokenCount:s,references:l,omittedReferences:u}}async _getFinalElementTree(e,t){const n=this._root.materialize(),r=[...n.allMetadata()],o=[{limit:e,id:this._root.id},...this._tokenLimits];let i=0;for(let r=o.length-1;r>=0;r--){const s=o[r];if(s.limit>e)continue;const a=n.findById(s.id);if(!a)continue;const c=await a.tokenCount(this._tokenizer);if(!(c<s.limit)||await this._grow(a,c,s.limit,t))for(;await a.upperBoundTokenCount(this._tokenizer)>s.limit&&await a.tokenCount(this._tokenizer)>s.limit;)a.removeLowestPriorityChild(),i++}return{container:n,allMetadata:r,removed:i}}async _grow(e,t,n,r){if(!this._growables.length)return!1;for(const i of this._growables){if(!e.findById(i.elem.id))continue;const s=i.elem.getObj();if(!(s instanceof o.Expandable))throw new Error("unreachable: expected growable");const a=new f(null,0,i.elem.id),c=new h(n-t+i.initialConsume,this._endpoint),l=await this._processPromptRenderPiece(c,{node:a,ctor:this._ctor,props:{},children:[]},s,await s.render(void 0,{tokenBudget:c.tokenBudget,endpoint:this._endpoint,countTokens:(e,t)=>this._tokenizer.tokenLength(e,t)}),void 0,r),u=a.materialize();if(!e.replaceNode(i.elem.id,u))throw new Error("unreachable: could not find old element to replace");if(t-=i.initialConsume,(t+=l)>=n)break}return!0}_handlePromptChildren(e,t,n,r,i){if(e.ctor===o.TextChunk)return void this._handleExtrinsicTextChunkChildren(e.node,e.node,e.props,t);let s=[];for(const n of t){if("literal"===n.kind){e.node.appendStringChild(n.value,e.props.priority??Number.MAX_SAFE_INTEGER);continue}if("intrinsic"===n.kind){this._handleIntrinsic(e.node,n.name,{priority:e.props.priority??Number.MAX_SAFE_INTEGER,...n.props},c(n.children));continue}const t=e.node.createChild();s.push({node:t,ctor:n.ctor,props:{priority:e.props.priority,...n.props},children:n.children})}return this._processPromptPieces(n,s,r,i)}_handleIntrinsic(e,t,n,r,o){switch(t){case"meta":return this._handleIntrinsicMeta(e,n,r);case"br":return this._handleIntrinsicLineBreak(e,n,r,n.priority,o);case"usedContext":return this._handleIntrinsicUsedContext(e,n,r);case"references":return this._handleIntrinsicReferences(e,n,r);case"ignoredFiles":return this._handleIntrinsicIgnoredFiles(e,n,r);case"elementJSON":return this._handleIntrinsicElementJSON(e,n.data)}throw new Error(`Unknown intrinsic element ${t}!`)}_handleIntrinsicMeta(e,t,n){if(n.length>0)throw new Error("<meta /> must not have children!");t.local?e.addMetadata(t.value):this._root.addMetadata(t.value)}_handleIntrinsicLineBreak(e,t,n,r,o){if(n.length>0)throw new Error("<br /> must not have children!");e.appendLineBreak(r??Number.MAX_SAFE_INTEGER,o)}_handleIntrinsicElementJSON(e,t){const n=e.appendPieceJSON(t.node);if(this.tracer?.includeInEpoch)for(const e of n.elements())this.tracer.includeInEpoch({id:e.id,tokenBudget:0})}_handleIntrinsicUsedContext(e,t,n){if(n.length>0)throw new Error("<usedContext /> must not have children!");this._usedContext.push(...t.value)}_handleIntrinsicReferences(e,t,n){if(n.length>0)throw new Error("<reference /> must not have children!");for(const n of t.value)e.addMetadata(new v(n))}_handleIntrinsicIgnoredFiles(e,t,n){if(n.length>0)throw new Error("<ignoredFiles /> must not have children!");this._ignoredFiles.push(...t.value)}_handleExtrinsicTextChunkChildren(e,t,n,r){const o=[],i=[];for(const n of r){if("extrinsic"===n.kind)throw new Error("TextChunk cannot have extrinsic children!");if("literal"===n.kind&&o.push(n.value),"intrinsic"===n.kind)if("br"===n.name)o.push("\n");else if("references"===n.name)for(const e of n.props.value)i.push(new v(e));else this._handleIntrinsic(e,n.name,n.props,c(n.children),t.childIndex)}e.appendStringChild(o.join(""),n?.priority??Number.MAX_SAFE_INTEGER,i,t.childIndex,!0)}};class l{name;props;children;kind="intrinsic";constructor(e,t,n){this.name=e,this.props=t,this.children=n}}class u{ctor;props;children;kind="extrinsic";constructor(e,t,n){this.ctor=e,this.props=t,this.children=n}}class d{value;priority;kind="literal";constructor(e,t){this.value=e,this.priority=t}}class h{tokenBudget;endpoint;_consumed=0;constructor(e,t){this.tokenBudget=e,this.endpoint=t}get consumed(){return this._consumed>this.tokenBudget?this.tokenBudget:this._consumed}get remainingTokenBudget(){return Math.max(0,this.tokenBudget-this._consumed)}consume(e){this._consumed+=e}}class f{parent;childIndex;id;static _nextId=0;static fromJSON(e,t){const n=new f(null,e);switch(n._metadata=t.references?.map((e=>new v(i.PromptReference.fromJSON(e))))??[],n._children=t.children.map(((e,t)=>{switch(e.type){case 1:return f.fromJSON(t,e);case 2:return p.fromJSON(n,t,e)}})).filter(m),t.ctor){case 1:n._obj=new o.BaseChatMessage(t.props);break;case 2:break;default:t.ctor}return n}kind=1;_obj=null;_state=void 0;_children=[];_metadata=[];constructor(e=null,t,n=f._nextId++){this.parent=e,this.childIndex=t,this.id=n}setObj(e){this._obj=e}getObj(){return this._obj}setState(e){this._state=e}getState(){return this._state}createChild(){const e=new f(this,this._children.length);return this._children.push(e),e}appendPieceJSON(e){const t=f.fromJSON(this._children.length,e);return this._children.push(t),t}appendStringChild(e,t,n,r=this._children.length,o=!1){this._children.push(new p(this,r,e,t,n,o))}appendLineBreak(e,t=this._children.length){this._children.push(new p(this,t,"\n",e))}toJSON(){const e={type:1,ctor:2,children:this._children.slice().sort(((e,t)=>e.childIndex-t.childIndex)).map((e=>e.toJSON())),priority:this._obj?.props.priority,references:this._metadata.filter((e=>e instanceof v)).map((e=>e.reference.toJSON()))};return this._obj instanceof o.BaseChatMessage&&(e.ctor=1,e.props={role:this._obj.props.role,name:this._obj.props.name,priority:this._obj.props.priority,toolCalls:this._obj.props.toolCalls,toolCallId:this._obj.props.toolCallId}),e}materialize(){if(this._children.sort(((e,t)=>e.childIndex-t.childIndex)),this._obj instanceof o.BaseChatMessage){if(!this._obj.props.role)throw new Error("Invalid ChatMessage!");return new r.MaterializedChatMessage(this.id,this._obj.props.role,this._obj.props.name,this._obj instanceof o.AssistantMessage?this._obj.props.toolCalls:void 0,this._obj instanceof o.ToolMessage?this._obj.props.toolCallId:void 0,this._obj.props.priority??Number.MAX_SAFE_INTEGER,this._metadata,this._children.map((e=>e.materialize())))}{let e=0;return this._obj instanceof o.LegacyPrioritization&&(e|=1),this._obj instanceof o.Chunk&&(e|=2),this._obj?.props.passPriority&&(e|=4),new r.MaterializedContainer(this.id,this._obj?.constructor.name,this._obj?.props.priority??(this._obj?.props.passPriority?0:Number.MAX_SAFE_INTEGER),this._children.map((e=>e.materialize())),this._metadata,e)}}addMetadata(e){this._metadata.push(e)}*elements(){yield this;for(const e of this._children)e instanceof f&&(yield*e.elements())}}class p{parent;childIndex;text;priority;metadata;lineBreakBefore;static fromJSON(e,t,n){return new p(e,t,n.text,n.priority,n.references?.map((e=>new v(i.PromptReference.fromJSON(e)))),n.lineBreakBefore)}kind=2;constructor(e,t,n,r,o,i=!1){this.parent=e,this.childIndex=t,this.text=n,this.priority=r,this.metadata=o,this.lineBreakBefore=i}collectLeafs(e){e.push(this)}materialize(){const e=this.lineBreakBefore?1:0===this.childIndex?2:0;return new r.MaterializedChatMessageTextChunk(this.text,this.priority??Number.MAX_SAFE_INTEGER,this.metadata||[],e)}toJSON(){return{type:2,priority:this.priority,text:this.text,references:this.metadata?.filter((e=>e instanceof v)).map((e=>e.reference.toJSON())),lineBreakBefore:this.lineBreakBefore}}}function m(e){return void 0!==e}class g extends i.PromptMetadata{}class v extends g{reference;constructor(e){super(),this.reference=e}}},2727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromptReference=t.ChatResponseReferencePartStatusKind=t.PromptMetadata=void 0;const r=n(4326);var o;t.PromptMetadata=class{_marker;toString(){return Object.getPrototypeOf(this).constructor.name}},function(e){e[e.Complete=1]="Complete",e[e.Partial=2]="Partial",e[e.Omitted=3]="Omitted"}(o||(t.ChatResponseReferencePartStatusKind=o={}));class i{anchor;iconPath;options;static fromJSON(e){const t=e=>"scheme"in e?r.URI.from(e):{uri:r.URI.from(e.uri),range:e.range};return new i("variableName"in e.anchor?{variableName:e.anchor.variableName,value:e.anchor.value&&t(e.anchor.value)}:t(e.anchor),e.iconPath&&("scheme"in e.iconPath?r.URI.from(e.iconPath):"light"in e.iconPath?{light:r.URI.from(e.iconPath.light),dark:r.URI.from(e.iconPath.dark)}:e.iconPath),e.options)}constructor(e,t,n){this.anchor=e,this.iconPath=t,this.options=n}toJSON(){return{anchor:this.anchor,iconPath:this.iconPath,options:this.options}}}t.PromptReference=i},2990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnyTokenizer=void 0;const r=n(6423);t.AnyTokenizer=class{countTokens;constructor(e){this.countTokens=e}async tokenLength(e,t){return this.countTokens(e,t)}async countMessageTokens(e){const t=await Promise.resolve().then((()=>n(1398)));return this.countTokens({role:this.toChatRole(e.role),content:[new t.LanguageModelTextPart(e.content)],name:"name"in e?e.name:void 0})}toChatRole(e){switch(e){case r.ChatRole.User:return 1;case r.ChatRole.Assistant:return 2;case r.ChatRole.System:case r.ChatRole.Function:case r.ChatRole.Tool:return 1}}}},3804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3479:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},818:()=>{"use strict";function e(){throw new Error("This should not be invoked!")}e.isFragment=!0,globalThis.vscpp=function(e,t,...n){return{ctor:e,props:t,children:n.flat()}},globalThis.vscppf=e},8504:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delimiter=t.sep=t.toNamespacedPath=t.parse=t.format=t.extname=t.basename=t.dirname=t.relative=t.resolve=t.join=t.isAbsolute=t.normalize=t.posix=t.win32=void 0;const r=n(13),o=46,i=47,s=92,a=58;class c extends Error{code;constructor(e,t,n){let r;"string"==typeof t&&0===t.indexOf("not ")?(r="must not be",t=t.replace(/^not /,"")):r="must be";const o=-1!==e.indexOf(".")?"property":"argument";let i=`The "${e}" ${o} ${r} of type ${t}`;i+=". Received type "+typeof n,super(i),this.code="ERR_INVALID_ARG_TYPE"}}function l(e,t){if("string"!=typeof e)throw new c(t,"string",e)}const u="win32"===r.platform;function d(e){return e===i||e===s}function h(e){return e===i}function f(e){return e>=65&&e<=90||e>=97&&e<=122}function p(e,t,n,r){let s="",a=0,c=-1,l=0,u=0;for(let d=0;d<=e.length;++d){if(d<e.length)u=e.charCodeAt(d);else{if(r(u))break;u=i}if(r(u)){if(c===d-1||1===l);else if(2===l){if(s.length<2||2!==a||s.charCodeAt(s.length-1)!==o||s.charCodeAt(s.length-2)!==o){if(s.length>2){const e=s.lastIndexOf(n);-1===e?(s="",a=0):(s=s.slice(0,e),a=s.length-1-s.lastIndexOf(n)),c=d,l=0;continue}if(0!==s.length){s="",a=0,c=d,l=0;continue}}t&&(s+=s.length>0?`${n}..`:"..",a=2)}else s.length>0?s+=`${n}${e.slice(c+1,d)}`:s=e.slice(c+1,d),a=d-c-1;c=d,l=0}else u===o&&-1!==l?++l:l=-1}return s}function m(e,t){!function(e){if(null===e||"object"!=typeof e)throw new c("pathObject","Object",e)}(t);const n=t.dir||t.root,r=t.base||`${t.name||""}${t.ext||""}`;return n?n===t.root?`${n}${r}`:`${n}${e}${r}`:r}t.win32={resolve(...e){let t="",n="",o=!1;for(let i=e.length-1;i>=-1;i--){let c;if(i>=0){if(c=e[i],l(c,"path"),0===c.length)continue}else 0===t.length?c=r.cwd():(c=r.env[`=${t}`]||r.cwd(),(void 0===c||c.slice(0,2).toLowerCase()!==t.toLowerCase()&&c.charCodeAt(2)===s)&&(c=`${t}\\`));const u=c.length;let h=0,p="",m=!1;const g=c.charCodeAt(0);if(1===u)d(g)&&(h=1,m=!0);else if(d(g))if(m=!0,d(c.charCodeAt(1))){let e=2,t=e;for(;e<u&&!d(c.charCodeAt(e));)e++;if(e<u&&e!==t){const n=c.slice(t,e);for(t=e;e<u&&d(c.charCodeAt(e));)e++;if(e<u&&e!==t){for(t=e;e<u&&!d(c.charCodeAt(e));)e++;e!==u&&e===t||(p=`\\\\${n}\\${c.slice(t,e)}`,h=e)}}}else h=1;else f(g)&&c.charCodeAt(1)===a&&(p=c.slice(0,2),h=2,u>2&&d(c.charCodeAt(2))&&(m=!0,h=3));if(p.length>0)if(t.length>0){if(p.toLowerCase()!==t.toLowerCase())continue}else t=p;if(o){if(t.length>0)break}else if(n=`${c.slice(h)}\\${n}`,o=m,m&&t.length>0)break}return n=p(n,!o,"\\",d),o?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){l(e,"path");const t=e.length;if(0===t)return".";let n,r=0,o=!1;const i=e.charCodeAt(0);if(1===t)return h(i)?"\\":e;if(d(i))if(o=!0,d(e.charCodeAt(1))){let o=2,i=o;for(;o<t&&!d(e.charCodeAt(o));)o++;if(o<t&&o!==i){const s=e.slice(i,o);for(i=o;o<t&&d(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&!d(e.charCodeAt(o));)o++;if(o===t)return`\\\\${s}\\${e.slice(i)}\\`;o!==i&&(n=`\\\\${s}\\${e.slice(i,o)}`,r=o)}}}else r=1;else f(i)&&e.charCodeAt(1)===a&&(n=e.slice(0,2),r=2,t>2&&d(e.charCodeAt(2))&&(o=!0,r=3));let s=r<t?p(e.slice(r),!o,"\\",d):"";return 0!==s.length||o||(s="."),s.length>0&&d(e.charCodeAt(t-1))&&(s+="\\"),void 0===n?o?`\\${s}`:s:o?`${n}\\${s}`:`${n}${s}`},isAbsolute(e){l(e,"path");const t=e.length;if(0===t)return!1;const n=e.charCodeAt(0);return d(n)||t>2&&f(n)&&e.charCodeAt(1)===a&&d(e.charCodeAt(2))},join(...e){if(0===e.length)return".";let n,r;for(let t=0;t<e.length;++t){const o=e[t];l(o,"path"),o.length>0&&(void 0===n?n=r=o:n+=`\\${o}`)}if(void 0===n)return".";let o=!0,i=0;if("string"==typeof r&&d(r.charCodeAt(0))){++i;const e=r.length;e>1&&d(r.charCodeAt(1))&&(++i,e>2&&(d(r.charCodeAt(2))?++i:o=!1))}if(o){for(;i<n.length&&d(n.charCodeAt(i));)i++;i>=2&&(n=`\\${n.slice(i)}`)}return t.win32.normalize(n)},relative(e,n){if(l(e,"from"),l(n,"to"),e===n)return"";const r=t.win32.resolve(e),o=t.win32.resolve(n);if(r===o)return"";if((e=r.toLowerCase())===(n=o.toLowerCase()))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===s;)i++;let a=e.length;for(;a-1>i&&e.charCodeAt(a-1)===s;)a--;const c=a-i;let u=0;for(;u<n.length&&n.charCodeAt(u)===s;)u++;let d=n.length;for(;d-1>u&&n.charCodeAt(d-1)===s;)d--;const h=d-u,f=c<h?c:h;let p=-1,m=0;for(;m<f;m++){const t=e.charCodeAt(i+m);if(t!==n.charCodeAt(u+m))break;t===s&&(p=m)}if(m!==f){if(-1===p)return o}else{if(h>f){if(n.charCodeAt(u+m)===s)return o.slice(u+m+1);if(2===m)return o.slice(u+m)}c>f&&(e.charCodeAt(i+m)===s?p=m:2===m&&(p=3)),-1===p&&(p=0)}let g="";for(m=i+p+1;m<=a;++m)m!==a&&e.charCodeAt(m)!==s||(g+=0===g.length?"..":"\\..");return u+=p,g.length>0?`${g}${o.slice(u,d)}`:(o.charCodeAt(u)===s&&++u,o.slice(u,d))},toNamespacedPath(e){if("string"!=typeof e||0===e.length)return e;const n=t.win32.resolve(e);if(n.length<=2)return e;if(n.charCodeAt(0)===s){if(n.charCodeAt(1)===s){const e=n.charCodeAt(2);if(63!==e&&e!==o)return`\\\\?\\UNC\\${n.slice(2)}`}}else if(f(n.charCodeAt(0))&&n.charCodeAt(1)===a&&n.charCodeAt(2)===s)return`\\\\?\\${n}`;return e},dirname(e){l(e,"path");const t=e.length;if(0===t)return".";let n=-1,r=0;const o=e.charCodeAt(0);if(1===t)return d(o)?e:".";if(d(o)){if(n=r=1,d(e.charCodeAt(1))){let o=2,i=o;for(;o<t&&!d(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&d(e.charCodeAt(o));)o++;if(o<t&&o!==i){for(i=o;o<t&&!d(e.charCodeAt(o));)o++;if(o===t)return e;o!==i&&(n=r=o+1)}}}}else f(o)&&e.charCodeAt(1)===a&&(n=t>2&&d(e.charCodeAt(2))?3:2,r=n);let i=-1,s=!0;for(let n=t-1;n>=r;--n)if(d(e.charCodeAt(n))){if(!s){i=n;break}}else s=!1;if(-1===i){if(-1===n)return".";i=n}return e.slice(0,i)},basename(e,t){void 0!==t&&l(t,"ext"),l(e,"path");let n,r=0,o=-1,i=!0;if(e.length>=2&&f(e.charCodeAt(0))&&e.charCodeAt(1)===a&&(r=2),void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let s=t.length-1,a=-1;for(n=e.length-1;n>=r;--n){const c=e.charCodeAt(n);if(d(c)){if(!i){r=n+1;break}}else-1===a&&(i=!1,a=n+1),s>=0&&(c===t.charCodeAt(s)?-1==--s&&(o=n):(s=-1,o=a))}return r===o?o=a:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=r;--n)if(d(e.charCodeAt(n))){if(!i){r=n+1;break}}else-1===o&&(i=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname(e){l(e,"path");let t=0,n=-1,r=0,i=-1,s=!0,c=0;e.length>=2&&e.charCodeAt(1)===a&&f(e.charCodeAt(0))&&(t=r=2);for(let a=e.length-1;a>=t;--a){const t=e.charCodeAt(a);if(d(t)){if(!s){r=a+1;break}}else-1===i&&(s=!1,i=a+1),t===o?-1===n?n=a:1!==c&&(c=1):-1!==n&&(c=-1)}return-1===n||-1===i||0===c||1===c&&n===i-1&&n===r+1?"":e.slice(n,i)},format:m.bind(null,"\\"),parse(e){l(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.length;let r=0,i=e.charCodeAt(0);if(1===n)return d(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(d(i)){if(r=1,d(e.charCodeAt(1))){let t=2,o=t;for(;t<n&&!d(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&d(e.charCodeAt(t));)t++;if(t<n&&t!==o){for(o=t;t<n&&!d(e.charCodeAt(t));)t++;t===n?r=t:t!==o&&(r=t+1)}}}}else if(f(i)&&e.charCodeAt(1)===a){if(n<=2)return t.root=t.dir=e,t;if(r=2,d(e.charCodeAt(2))){if(3===n)return t.root=t.dir=e,t;r=3}}r>0&&(t.root=e.slice(0,r));let s=-1,c=r,u=-1,h=!0,p=e.length-1,m=0;for(;p>=r;--p)if(i=e.charCodeAt(p),d(i)){if(!h){c=p+1;break}}else-1===u&&(h=!1,u=p+1),i===o?-1===s?s=p:1!==m&&(m=1):-1!==s&&(m=-1);return-1!==u&&(-1===s||0===m||1===m&&s===u-1&&s===c+1?t.base=t.name=e.slice(c,u):(t.name=e.slice(c,s),t.base=e.slice(c,u),t.ext=e.slice(s,u))),t.dir=c>0&&c!==r?e.slice(0,c-1):t.root,t},sep:"\\",delimiter:";",win32:null,posix:null};const g=(()=>{if(u){const e=/\\/g;return()=>{const t=r.cwd().replace(e,"/");return t.slice(t.indexOf("/"))}}return()=>r.cwd()})();t.posix={resolve(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:g();l(o,"path"),0!==o.length&&(t=`${o}/${t}`,n=o.charCodeAt(0)===i)}return t=p(t,!n,"/",h),n?`/${t}`:t.length>0?t:"."},normalize(e){if(l(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===i,n=e.charCodeAt(e.length-1)===i;return 0===(e=p(e,!t,"/",h)).length?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute:e=>(l(e,"path"),e.length>0&&e.charCodeAt(0)===i),join(...e){if(0===e.length)return".";let n;for(let t=0;t<e.length;++t){const r=e[t];l(r,"path"),r.length>0&&(void 0===n?n=r:n+=`/${r}`)}return void 0===n?".":t.posix.normalize(n)},relative(e,n){if(l(e,"from"),l(n,"to"),e===n)return"";if((e=t.posix.resolve(e))===(n=t.posix.resolve(n)))return"";const r=e.length,o=r-1,s=n.length-1,a=o<s?o:s;let c=-1,u=0;for(;u<a;u++){const t=e.charCodeAt(1+u);if(t!==n.charCodeAt(1+u))break;t===i&&(c=u)}if(u===a)if(s>a){if(n.charCodeAt(1+u)===i)return n.slice(1+u+1);if(0===u)return n.slice(1+u)}else o>a&&(e.charCodeAt(1+u)===i?c=u:0===u&&(c=0));let d="";for(u=1+c+1;u<=r;++u)u!==r&&e.charCodeAt(u)!==i||(d+=0===d.length?"..":"/..");return`${d}${n.slice(1+c)}`},toNamespacedPath:e=>e,dirname(e){if(l(e,"path"),0===e.length)return".";const t=e.charCodeAt(0)===i;let n=-1,r=!0;for(let t=e.length-1;t>=1;--t)if(e.charCodeAt(t)===i){if(!r){n=t;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename(e,t){void 0!==t&&l(t,"ext"),l(e,"path");let n,r=0,o=-1,s=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,c=-1;for(n=e.length-1;n>=0;--n){const l=e.charCodeAt(n);if(l===i){if(!s){r=n+1;break}}else-1===c&&(s=!1,c=n+1),a>=0&&(l===t.charCodeAt(a)?-1==--a&&(o=n):(a=-1,o=c))}return r===o?o=c:-1===o&&(o=e.length),e.slice(r,o)}for(n=e.length-1;n>=0;--n)if(e.charCodeAt(n)===i){if(!s){r=n+1;break}}else-1===o&&(s=!1,o=n+1);return-1===o?"":e.slice(r,o)},extname(e){l(e,"path");let t=-1,n=0,r=-1,s=!0,a=0;for(let c=e.length-1;c>=0;--c){const l=e.charCodeAt(c);if(l!==i)-1===r&&(s=!1,r=c+1),l===o?-1===t?t=c:1!==a&&(a=1):-1!==t&&(a=-1);else if(!s){n=c+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},format:m.bind(null,"/"),parse(e){l(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;const n=e.charCodeAt(0)===i;let r;n?(t.root="/",r=1):r=0;let s=-1,a=0,c=-1,u=!0,d=e.length-1,h=0;for(;d>=r;--d){const t=e.charCodeAt(d);if(t!==i)-1===c&&(u=!1,c=d+1),t===o?-1===s?s=d:1!==h&&(h=1):-1!==s&&(h=-1);else if(!u){a=d+1;break}}if(-1!==c){const r=0===a&&n?1:a;-1===s||0===h||1===h&&s===c-1&&s===a+1?t.base=t.name=e.slice(r,c):(t.name=e.slice(r,s),t.base=e.slice(r,c),t.ext=e.slice(s,c))}return a>0?t.dir=e.slice(0,a-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null},t.posix.win32=t.win32.win32=t.win32,t.posix.posix=t.win32.posix=t.posix,t.normalize=u?t.win32.normalize:t.posix.normalize,t.isAbsolute=u?t.win32.isAbsolute:t.posix.isAbsolute,t.join=u?t.win32.join:t.posix.join,t.resolve=u?t.win32.resolve:t.posix.resolve,t.relative=u?t.win32.relative:t.posix.relative,t.dirname=u?t.win32.dirname:t.posix.dirname,t.basename=u?t.win32.basename:t.posix.basename,t.extname=u?t.win32.extname:t.posix.extname,t.format=u?t.win32.format:t.posix.format,t.parse=u?t.win32.parse:t.posix.parse,t.toNamespacedPath=u?t.win32.toNamespacedPath:t.posix.toNamespacedPath,t.sep=u?t.win32.sep:t.posix.sep,t.delimiter=u?t.win32.delimiter:t.posix.delimiter},821:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAndroid=t.isEdge=t.isSafari=t.isFirefox=t.isChrome=t.OS=t.setTimeout0=t.setTimeout0IsFaster=t.translationsConfigFile=t.platformLocale=t.locale=t.Language=t.language=t.userAgent=t.platform=t.isCI=t.isMobile=t.isIOS=t.webWorkerOrigin=t.isWebWorker=t.isWeb=t.isElectron=t.isNative=t.isLinuxSnap=t.isLinux=t.isMacintosh=t.isWindows=t.LANGUAGE_DEFAULT=void 0,t.PlatformToString=function(e){switch(e){case 0:return"Web";case 1:return"Mac";case 2:return"Linux";case 3:return"Windows"}},t.isLittleEndian=function(){if(!P){P=!0;const e=new Uint8Array(2);e[0]=1,e[1]=2;const t=new Uint16Array(e.buffer);E=513===t[0]}return E},t.isBigSurOrNewer=function(e){return parseFloat(e)>=20};const r=n(9175);t.LANGUAGE_DEFAULT="en";let o,i,s,a=!1,c=!1,l=!1,u=!1,d=!1,h=!1,f=!1,p=!1,m=!1,g=!1,v=t.LANGUAGE_DEFAULT,y=t.LANGUAGE_DEFAULT;const w=globalThis;let S;void 0!==w.vscode&&void 0!==w.vscode.process?S=w.vscode.process:"undefined"!=typeof process&&(S=process);const b="string"==typeof S?.versions?.electron,_=b&&"renderer"===S?.type;if("object"==typeof S){a="win32"===S.platform,c="darwin"===S.platform,l="linux"===S.platform,u=l&&!!S.env.SNAP&&!!S.env.SNAP_REVISION,f=b,m=!!S.env.CI||!!S.env.BUILD_ARTIFACTSTAGINGDIRECTORY,o=t.LANGUAGE_DEFAULT,v=t.LANGUAGE_DEFAULT;const e=S.env.VSCODE_NLS_CONFIG;if(e)try{const n=JSON.parse(e),r=n.availableLanguages["*"];o=n.locale,y=n.osLocale,v=r||t.LANGUAGE_DEFAULT,i=n._translationsConfigFile}catch(e){}d=!0}else"object"!=typeof navigator||_?console.error("Unable to resolve platform."):(s=navigator.userAgent,a=s.indexOf("Windows")>=0,c=s.indexOf("Macintosh")>=0,p=(s.indexOf("Macintosh")>=0||s.indexOf("iPad")>=0||s.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,l=s.indexOf("Linux")>=0,g=s?.indexOf("Mobi")>=0,h=!0,o=r.getConfiguredDefaultLocale(r.localize({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||t.LANGUAGE_DEFAULT,v=o,y=navigator.language);let D=0;var C;c?D=1:a?D=3:l&&(D=2),t.isWindows=a,t.isMacintosh=c,t.isLinux=l,t.isLinuxSnap=u,t.isNative=d,t.isElectron=f,t.isWeb=h,t.isWebWorker=h&&"function"==typeof w.importScripts,t.webWorkerOrigin=t.isWebWorker?w.origin:void 0,t.isIOS=p,t.isMobile=g,t.isCI=m,t.platform=D,t.userAgent=s,t.language=v,function(e){e.value=function(){return t.language},e.isDefaultVariant=function(){return 2===t.language.length?"en"===t.language:t.language.length>=3&&"e"===t.language[0]&&"n"===t.language[1]&&"-"===t.language[2]},e.isDefault=function(){return"en"===t.language}}(C||(t.Language=C={})),t.locale=o,t.platformLocale=y,t.translationsConfigFile=i,t.setTimeout0IsFaster="function"==typeof w.postMessage&&!w.importScripts,t.setTimeout0=(()=>{if(t.setTimeout0IsFaster){const e=[];w.addEventListener("message",(t=>{if(t.data&&t.data.vscodeScheduleAsyncWork)for(let n=0,r=e.length;n<r;n++){const r=e[n];if(r.id===t.data.vscodeScheduleAsyncWork)return e.splice(n,1),void r.callback()}}));let t=0;return n=>{const r=++t;e.push({id:r,callback:n}),w.postMessage({vscodeScheduleAsyncWork:r},"*")}}return e=>setTimeout(e)})(),t.OS=c||p?2:a?1:3;let E=!0,P=!1;t.isChrome=!!(t.userAgent&&t.userAgent.indexOf("Chrome")>=0),t.isFirefox=!!(t.userAgent&&t.userAgent.indexOf("Firefox")>=0),t.isSafari=!!(!t.isChrome&&t.userAgent&&t.userAgent.indexOf("Safari")>=0),t.isEdge=!!(t.userAgent&&t.userAgent.indexOf("Edg/")>=0),t.isAndroid=!!(t.userAgent&&t.userAgent.indexOf("Android")>=0)},13:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arch=t.platform=t.env=t.cwd=void 0;const r=n(821);let o;const i=globalThis.vscode;if(void 0!==i&&void 0!==i.process){const e=i.process;o={get platform(){return e.platform},get arch(){return e.arch},get env(){return e.env},cwd:()=>e.cwd()}}else o="undefined"!=typeof process?{get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd:()=>process.env.VSCODE_CWD||process.cwd()}:{get platform(){return r.isWindows?"win32":r.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd:()=>"/"};t.cwd=o.cwd,t.env=o.env,t.platform=o.platform,t.arch=o.arch},4326:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URI=void 0,t.isUriComponents=function(e){return!(!e||"object"!=typeof e)&&!("string"!=typeof e.scheme||"string"!=typeof e.authority&&void 0!==e.authority||"string"!=typeof e.path&&void 0!==e.path||"string"!=typeof e.query&&void 0!==e.query||"string"!=typeof e.fragment&&void 0!==e.fragment)},t.uriToFsPath=v;const r=n(2177),o=n(821),i=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//,c="",l="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class d{static isUri(e){return e instanceof d||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,n,r,o,u=!1){"object"==typeof e?(this.scheme=e.scheme||c,this.authority=e.authority||c,this.path=e.path||c,this.query=e.query||c,this.fragment=e.fragment||c):(this.scheme=function(e,t){return e||t?e:"file"}(e,u),this.authority=t||c,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==l&&(t=l+t):t=l}return t}(this.scheme,n||c),this.query=r||c,this.fragment=o||c,function(e,t){if(!e.scheme&&t)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!i.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!s.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}(this,u))}get fsPath(){return v(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:n,path:r,query:o,fragment:i}=e;return void 0===t?t=this.scheme:null===t&&(t=c),void 0===n?n=this.authority:null===n&&(n=c),void 0===r?r=this.path:null===r&&(r=c),void 0===o?o=this.query:null===o&&(o=c),void 0===i?i=this.fragment:null===i&&(i=c),t===this.scheme&&n===this.authority&&r===this.path&&o===this.query&&i===this.fragment?this:new f(t,n,r,o,i)}static parse(e,t=!1){const n=u.exec(e);return n?new f(n[2]||c,b(n[4]||c),b(n[5]||c),b(n[7]||c),b(n[9]||c),t):new f(c,c,c,c,c)}static file(e){let t=c;if(o.isWindows&&(e=e.replace(/\\/g,l)),e[0]===l&&e[1]===l){const n=e.indexOf(l,2);-1===n?(t=e.substring(2),e=l):(t=e.substring(2,n),e=e.substring(n)||l)}return new f("file",t,e,c,c)}static from(e,t){return new f(e.scheme,e.authority,e.path,e.query,e.fragment,t)}static joinPath(e,...t){if(!e.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let n;return n=o.isWindows&&"file"===e.scheme?d.file(r.win32.join(v(e,!0),...t)).path:r.posix.join(e.path,...t),e.with({path:n})}toString(e=!1){return y(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof d)return e;{const t=new f(e);return t._formatted=e.external??null,t._fsPath=e._sep===h?e.fsPath??null:null,t}}return e}}t.URI=d;const h=o.isWindows?1:void 0;class f extends d{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=v(this,!1)),this._fsPath}toString(e=!1){return e?y(this,!0):(this._formatted||(this._formatted=y(this,!1)),this._formatted)}toJSON(){const e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=h),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}const p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(e,t,n){let r,o=-1;for(let i=0;i<e.length;i++){const s=e.charCodeAt(i);if(s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||45===s||46===s||95===s||126===s||t&&47===s||n&&91===s||n&&93===s||n&&58===s)-1!==o&&(r+=encodeURIComponent(e.substring(o,i)),o=-1),void 0!==r&&(r+=e.charAt(i));else{void 0===r&&(r=e.substr(0,i));const t=p[s];void 0!==t?(-1!==o&&(r+=encodeURIComponent(e.substring(o,i)),o=-1),r+=t):-1===o&&(o=i)}}return-1!==o&&(r+=encodeURIComponent(e.substring(o))),void 0!==r?r:e}function g(e){let t;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=p[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function v(e,t){let n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?`//${e.authority}${e.path}`:47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,o.isWindows&&(n=n.replace(/\//g,"\\")),n}function y(e,t){const n=t?g:m;let r="",{scheme:o,authority:i,path:s,query:a,fragment:c}=e;if(o&&(r+=o,r+=":"),(i||"file"===o)&&(r+=l,r+=l),i){let e=i.indexOf("@");if(-1!==e){const t=i.substr(0,e);i=i.substr(e+1),e=t.lastIndexOf(":"),-1===e?r+=n(t,!1,!1):(r+=n(t.substr(0,e),!1,!1),r+=":",r+=n(t.substr(e+1),!1,!0)),r+="@"}i=i.toLowerCase(),e=i.lastIndexOf(":"),-1===e?r+=n(i,!1,!0):(r+=n(i.substr(0,e),!1,!0),r+=i.substr(e))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2)){const e=s.charCodeAt(1);e>=65&&e<=90&&(s=`/${String.fromCharCode(e+32)}:${s.substr(3)}`)}else if(s.length>=2&&58===s.charCodeAt(1)){const e=s.charCodeAt(0);e>=65&&e<=90&&(s=`${String.fromCharCode(e+32)}:${s.substr(2)}`)}r+=n(s,!0,!1)}return a&&(r+="?",r+=n(a,!1,!1)),c&&(r+="#",r+=t?c:m(c,!1,!1)),r}function w(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+w(e.substr(3)):e}}const S=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function b(e){return e.match(S)?e.replace(S,(e=>w(e))):e}},9175:(e,t)=>{"use strict";function n(e,t){let n;return n=0===t.length?e:e.replace(/\{(\d+)\}/g,(function(e,n){const r=n[0];return void 0!==t[r]?t[r]:e})),n}Object.defineProperty(t,"__esModule",{value:!0}),t.localize=function(e,t,...r){return n(t,r)},t.localize2=function(e,t,...r){const o=n(t,r);return{original:o,value:o}},t.getConfiguredDefaultLocale=function(e){}},544:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;const s=i(n(8611)),a=i(n(5692));async function c(e){let t=0;const n=[];for await(const r of e)t+=r.length,n.push(r);return Buffer.concat(n,t)}t.toBuffer=c,t.json=async function(e){const t=(await c(e)).toString("utf8");try{return JSON.parse(t)}catch(e){const n=e;throw n.message+=` (input: ${t})`,n}},t.req=function(e,t={}){const n=(("string"==typeof e?e:e.href).startsWith("https:")?a:s).request(e,t),r=new Promise(((e,t)=>{n.once("response",e).once("error",t).end()}));return n.then=r.then.bind(r),n}},917:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const a=i(n(8611));s(n(544),t);const c=Symbol("AgentBaseInternalState");class l extends a.Agent{constructor(e){super(e),this[c]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,n){const r={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,r))).then((o=>{if(o instanceof a.Agent)return o.addRequest(e,r);this[c].currentSocket=o,super.createSocket(e,t,n)}),n)}createConnection(){const e=this[c].currentSocket;if(this[c].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[c].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[c]&&(this[c].defaultPort=e)}get protocol(){return this[c].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[c]&&(this[c].protocol=e)}}t.Agent=l},9880:e=>{"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},4083:(e,t,n)=>{"use strict";e=n.nmd(e);const r=(e,t)=>(...n)=>`[${e(...n)+t}m`,o=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};5;${r}m`},i=(e,t)=>(...n)=>{const r=e(...n);return`[${38+t};2;${r[0]};${r[1]};${r[2]}m`},s=e=>e,a=(e,t,n)=>[e,t,n],c=(e,t,n)=>{Object.defineProperty(e,t,{get:()=>{const r=n();return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let l;const u=(e,t,r,o)=>{void 0===l&&(l=n(734));const i=o?10:0,s={};for(const[n,o]of Object.entries(l)){const a="ansi16"===n?"ansi":n;n===t?s[a]=e(r,i):"object"==typeof o&&(s[a]=e(o[t],i))}return s};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,o]of Object.entries(r))t[n]={open:`[${o[0]}m`,close:`[${o[1]}m`},r[n]=t[n],e.set(o[0],o[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",c(t.color,"ansi",(()=>u(r,"ansi16",s,!1))),c(t.color,"ansi256",(()=>u(o,"ansi256",s,!1))),c(t.color,"ansi16m",(()=>u(i,"rgb",a,!1))),c(t.bgColor,"ansi",(()=>u(r,"ansi16",s,!0))),c(t.bgColor,"ansi256",(()=>u(o,"ansi256",s,!0))),c(t.bgColor,"ansi16m",(()=>u(i,"rgb",a,!0))),t}})},8124:e=>{"use strict";const t="[\ud800-\udbff][\udc00-\udfff]";e.exports=e=>e&&e.exact?new RegExp(`^${t}$`):new RegExp(t,"g")},8505:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=n(e,o)),t instanceof RegExp&&(t=n(t,o));var i=r(e,t,o);return i&&{start:i[0],end:i[1],pre:o.slice(0,i[0]),body:o.slice(i[0]+e.length,i[1]),post:o.slice(i[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,o,i,s,a,c=n.indexOf(e),l=n.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(r=[],i=n.length;u>=0&&!a;)u==c?(r.push(u),c=n.indexOf(e,u+1)):1==r.length?a=[r.pop(),l]:((o=r.pop())<i&&(i=o,s=l),l=n.indexOf(t,u+1)),u=c<l&&c>=0?c:l;r.length&&(a=[i,s])}return a}e.exports=t,t.range=r},8928:(e,t,n)=>{var r=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(o).split("\\{").join(i).split("\\}").join(s).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(u)):[]};var o="\0SLASH"+Math.random()+"\0",i="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function u(e){return e.split(o).join("\\").split(i).join("{").split(s).join("}").split(a).join(",").split(c).join(".")}function d(e){if(!e)return[""];var t=[],n=r("{","}",e);if(!n)return e.split(",");var o=n.pre,i=n.body,s=n.post,a=o.split(",");a[a.length-1]+="{"+i+"}";var c=d(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function h(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var n=[],o=r("{","}",e);if(!o)return[e];var i=o.pre,a=o.post.length?g(o.post,!1):[""];if(/\$$/.test(o.pre))for(var c=0;c<a.length;c++){var u=i+"{"+o.body+"}"+a[c];n.push(u)}else{var v,y,w=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),S=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),b=w||S,_=o.body.indexOf(",")>=0;if(!b&&!_)return o.post.match(/,.*\}/)?g(e=o.pre+"{"+o.body+s+o.post):[e];if(b)v=o.body.split(/\.\./);else if(1===(v=d(o.body)).length&&1===(v=g(v[0],!1).map(h)).length)return a.map((function(e){return o.pre+v[0]+e}));if(b){var D=l(v[0]),C=l(v[1]),E=Math.max(v[0].length,v[1].length),P=3==v.length?Math.abs(l(v[2])):1,T=p;C<D&&(P*=-1,T=m);var k=v.some(f);y=[];for(var I=D;T(I,C);I+=P){var x;if(S)"\\"===(x=String.fromCharCode(I))&&(x="");else if(x=String(I),k){var R=E-x.length;if(R>0){var A=new Array(R+1).join("0");x=I<0?"-"+A+x.slice(1):A+x}}y.push(x)}}else{y=[];for(var F=0;F<v.length;F++)y.push.apply(y,g(v[F],!1))}for(F=0;F<y.length;F++)for(c=0;c<a.length;c++)u=i+y[F]+a[c],(!t||b||u)&&n.push(u)}return n}},5659:(e,t,n)=>{const r=n(8156),o={};for(const e of Object.keys(r))o[r[e]]=e;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=i;for(const e of Object.keys(i)){if(!("channels"in i[e]))throw new Error("missing channels property: "+e);if(!("labels"in i[e]))throw new Error("missing channel labels property: "+e);if(i[e].labels.length!==i[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=i[e];delete i[e].channels,delete i[e].labels,Object.defineProperty(i[e],"channels",{value:t}),Object.defineProperty(i[e],"labels",{value:n})}i.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=i-o;let a,c;i===o?a=0:t===i?a=(n-r)/s:n===i?a=2+(r-t)/s:r===i&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const l=(o+i)/2;return c=i===o?0:l<=.5?s/(i+o):s/(2-i-o),[a,100*c,100*l]},i.rgb.hsv=function(e){let t,n,r,o,i;const s=e[0]/255,a=e[1]/255,c=e[2]/255,l=Math.max(s,a,c),u=l-Math.min(s,a,c),d=function(e){return(l-e)/6/u+.5};return 0===u?(o=0,i=0):(i=u/l,t=d(s),n=d(a),r=d(c),s===l?o=r-n:a===l?o=1/3+t-r:c===l&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*l]},i.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const o=i.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[o,100*s,100*r]},i.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.min(1-t,1-n,1-r);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*o]},i.rgb.keyword=function(e){const t=o[e];if(t)return t;let n,i=1/0;for(const t of Object.keys(r)){const o=(a=r[t],((s=e)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);o<i&&(i=o,n=t)}var s,a;return n},i.keyword.rgb=function(e){return r[e]},i.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},i.rgb.lab=function(e){const t=i.rgb.xyz(e);let n=t[0],r=t[1],o=t[2];return n/=95.047,r/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*r-16,500*(n-r),200*(r-o)]},i.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let o,i,s;if(0===n)return s=255*r,[s,s,s];o=r<.5?r*(1+n):r+n-r*n;const a=2*r-o,c=[0,0,0];for(let e=0;e<3;e++)i=t+1/3*-(e-1),i<0&&i++,i>1&&i--,s=6*i<1?a+6*(o-a)*i:2*i<1?o:3*i<2?a+(o-a)*(2/3-i)*6:a,c[e]=255*s;return c},i.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,o=n;const i=Math.max(r,.01);return r*=2,n*=r<=1?r:2-r,o*=i<=1?i:2-i,[t,100*(0===r?2*o/(i+o):2*n/(r+n)),(r+n)/2*100]},i.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const o=Math.floor(t)%6,i=t-Math.floor(t),s=255*r*(1-n),a=255*r*(1-n*i),c=255*r*(1-n*(1-i));switch(r*=255,o){case 0:return[r,c,s];case 1:return[a,r,s];case 2:return[s,r,c];case 3:return[s,a,r];case 4:return[c,s,r];case 5:return[r,s,a]}},i.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,o=Math.max(r,.01);let i,s;s=(2-n)*r;const a=(2-n)*o;return i=n*o,i/=a<=1?a:2-a,i=i||0,s/=2,[t,100*i,100*s]},i.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const o=n+r;let i;o>1&&(n/=o,r/=o);const s=Math.floor(6*t),a=1-r;i=6*t-s,1&s&&(i=1-i);const c=n+i*(a-n);let l,u,d;switch(s){default:case 6:case 0:l=a,u=c,d=n;break;case 1:l=c,u=a,d=n;break;case 2:l=n,u=a,d=c;break;case 3:l=n,u=c,d=a;break;case 4:l=c,u=n,d=a;break;case 5:l=a,u=n,d=c}return[255*l,255*u,255*d]},i.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]},i.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let o,i,s;return o=3.2406*t+-1.5372*n+-.4986*r,i=-.9689*t+1.8758*n+.0415*r,s=.0557*t+-.204*n+1.057*r,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),[255*o,255*i,255*s]},i.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];return t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*n-16,500*(t-n),200*(n-r)]},i.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const o=n**3,i=t**3,s=r**3;return n=o>.008856?o:(n-16/116)/7.787,t=i>.008856?i:(t-16/116)/7.787,r=s>.008856?s:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},i.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let o;return o=360*Math.atan2(r,n)/2/Math.PI,o<0&&(o+=360),[t,Math.sqrt(n*n+r*r),o]},i.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},i.rgb.ansi16=function(e,t=null){const[n,r,o]=e;let s=null===t?i.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(o/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},i.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},i.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},i.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,o=Math.max(Math.max(t,n),r),i=Math.min(Math.min(t,n),r),s=o-i;let a,c;return a=s<1?i/(1-s):0,c=s<=0?0:o===t?(n-r)/s%6:o===n?2+(r-t)/s:4+(t-n)/s,c/=6,c%=1,[360*c,100*s,100*a]},i.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let o=0;return r<1&&(o=(n-.5*r)/(1-r)),[e[0],100*r,100*o]},i.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},i.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const o=[0,0,0],i=t%1*6,s=i%1,a=1-s;let c=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return c=(1-n)*r,[255*(n*o[0]+c),255*(n*o[1]+c),255*(n*o[2]+c)]},i.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},i.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},i.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let o=0;return r<1&&(o=(n-r)/(1-r)),[e[0],100*r,100*o]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=function(e){return[0,0,e[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},734:(e,t,n)=>{const r=n(5659),o=n(8507),i={};Object.keys(r).forEach((e=>{i[e]={},Object.defineProperty(i[e],"channels",{value:r[e].channels}),Object.defineProperty(i[e],"labels",{value:r[e].labels});const t=o(e);Object.keys(t).forEach((n=>{const r=t[n];i[e][n]=function(e){const t=function(...t){const n=t[0];if(null==n)return n;n.length>1&&(t=n);const r=e(t);if("object"==typeof r)for(let e=r.length,t=0;t<e;t++)r[t]=Math.round(r[t]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),i[e][n].raw=function(e){const t=function(...t){const n=t[0];return null==n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)}))})),e.exports=i},8507:(e,t,n)=>{const r=n(5659);function o(e,t){return function(n){return t(e(n))}}function i(e,t){const n=[t[e].parent,e];let i=r[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),i=o(r[t[s].parent][s],i),s=t[s].parent;return i.conversion=n,i}e.exports=function(e){const t=function(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),o=Object.keys(r[e]);for(let r=o.length,i=0;i<r;i++){const r=o[i],s=t[r];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(r))}}return t}(e),n={},o=Object.keys(t);for(let e=o.length,r=0;r<e;r++){const e=o[r];null!==t[e].parent&&(n[e]=i(e,t))}return n}},8156:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},3371:e=>{"use strict";e.exports=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g}},2017:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var s=i[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},5884:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},2288:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;const a=i(n(9278)),c=i(n(4756)),l=s(n(2613)),u=s(n(2135)),d=n(917),h=n(3868),f=(0,u.default)("https-proxy-agent");class p extends d.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),r=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?g(t,"headers"):null,host:n,port:r}}async connect(e,t){const{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let r;if("https:"===n.protocol){f("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;r=c.connect({...this.connectOpts,servername:e&&a.isIP(e)?void 0:e})}else f("Creating `net.Socket`: %o",this.connectOpts),r=a.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},i=a.isIPv6(t.host)?`[${t.host}]`:t.host;let s=`CONNECT ${i}:${t.port} HTTP/1.1\r\n`;if(n.username||n.password){const e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${i}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))s+=`${e}: ${o[e]}\r\n`;const u=(0,h.parseProxyResponse)(r);r.write(`${s}\r\n`);const{connect:d,buffered:p}=await u;if(e.emit("proxyConnect",d),this.emit("proxyConnect",d,e),200===d.statusCode){if(e.once("socket",m),t.secureEndpoint){f("Upgrading socket connection to TLS");const e=t.servername||t.host;return c.connect({...g(t,"host","path","port"),socket:r,servername:a.isIP(e)?void 0:e})}return r}r.destroy();const v=new a.Socket({writable:!1});return v.readable=!0,e.once("socket",(e=>{f("Replaying proxy buffer for failed request"),(0,l.default)(e.listenerCount("data")>0),e.push(p),e.push(null)})),v}}function m(e){e.resume()}function g(e,...t){const n={};let r;for(r in e)t.includes(r)||(n[r]=e[r]);return n}p.protocols=["http","https"],t.HttpsProxyAgent=p},3868:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;const o=(0,r(n(2135)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise(((t,n)=>{let r=0;const i=[];function s(){const c=e.read();c?function(c){i.push(c),r+=c.length;const l=Buffer.concat(i,r),u=l.indexOf("\r\n\r\n");if(-1===u)return o("have not received end of HTTP headers yet..."),void s();const d=l.slice(0,u).toString("ascii").split("\r\n"),h=d.shift();if(!h)return e.destroy(),n(new Error("No header received from proxy CONNECT response"));const f=h.split(" "),p=+f[1],m=f.slice(2).join(" "),g={};for(const t of d){if(!t)continue;const r=t.indexOf(":");if(-1===r)return e.destroy(),n(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,r).toLowerCase(),i=t.slice(r+1).trimStart(),s=g[o];"string"==typeof s?g[o]=[s,i]:Array.isArray(s)?s.push(i):g[o]=i}o("got proxy server response: %o %o",h,g),a(),t({connect:{statusCode:p,statusText:m,headers:g},buffered:l})}(c):e.once("readable",s)}function a(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("readable",s)}function c(){a(),o("onend"),n(new Error("Proxy connection ended before receiving CONNECT response"))}function l(e){a(),o("onerror %o",e),n(e)}e.on("error",l),e.on("end",c),s()}))}},1419:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(6726)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6726:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];n=i.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},2135:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1419):e.exports=n(3047)},3047:(e,t,n)=>{const r=n(2018),o=n(9023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(7687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(6726)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},2437:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressError=void 0;class n extends Error{constructor(e,t){super(e),this.name="AddressError",null!==t&&(this.parseMessage=t)}}t.AddressError=n},837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCorrect=t.isInSubnet=void 0,t.isInSubnet=function(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()},t.isCorrect=function(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}},9424:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.v6=t.AddressError=t.Address6=t.Address4=void 0;const s=n(2839);Object.defineProperty(t,"Address4",{enumerable:!0,get:function(){return s.Address4}});const a=n(6329);Object.defineProperty(t,"Address6",{enumerable:!0,get:function(){return a.Address6}});const c=n(2437);Object.defineProperty(t,"AddressError",{enumerable:!0,get:function(){return c.AddressError}});const l=i(n(2846));t.v6={helpers:l}},2839:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address4=void 0;const s=i(n(837)),a=i(n(9576)),c=n(2437),l=n(9534),u=n(7604);class d{constructor(e){this.groups=a.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=s.isCorrect(a.BITS),this.isInSubnet=s.isInSubnet,this.address=e;const t=a.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>a.BITS)throw new c.AddressError("Invalid subnet mask.");e=e.replace(a.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}static isValid(e){try{return new d(e),!0}catch(e){return!1}}parse(e){const t=e.split(".");if(!e.match(a.RE_ADDRESS))throw new c.AddressError("Invalid IPv4 address.");return t}correctForm(){return this.parsedAddress.map((e=>parseInt(e,10))).join(".")}static fromHex(e){const t=e.replace(/:/g,"").padStart(8,"0"),n=[];let r;for(r=0;r<8;r+=2){const e=t.slice(r,r+2);n.push(parseInt(e,16))}return new d(n.join("."))}static fromInteger(e){return d.fromHex(e.toString(16))}static fromArpa(e){const t=e.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new d(t)}toHex(){return this.parsedAddress.map((e=>(0,u.sprintf)("%02x",parseInt(e,10)))).join(":")}toArray(){return this.parsedAddress.map((e=>parseInt(e,10)))}toGroup6(){const e=[];let t;for(t=0;t<a.GROUPS;t+=2){const n=(0,u.sprintf)("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push((0,u.sprintf)("%x",parseInt(n,16)))}return e.join(":")}bigInteger(){return new l.BigInteger(this.parsedAddress.map((e=>(0,u.sprintf)("%02x",parseInt(e,10)))).join(""),16)}_startAddress(){return new l.BigInteger(this.mask()+"0".repeat(a.BITS-this.subnetMask),2)}startAddress(){return d.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new l.BigInteger("1");return d.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new l.BigInteger(this.mask()+"1".repeat(a.BITS-this.subnetMask),2)}endAddress(){return d.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new l.BigInteger("1");return d.fromBigInteger(this._endAddress().subtract(e))}static fromBigInteger(e){return d.fromInteger(parseInt(e.toString(),10))}mask(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}reverseForm(e){e||(e={});const t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:(0,u.sprintf)("%s.in-addr.arpa.",t)}isMulticast(){return this.isInSubnet(new d("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(a.BITS,"0")}groupForV6(){const e=this.parsedAddress;return this.address.replace(a.RE_ADDRESS,(0,u.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))}}t.Address4=d},6329:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address6=void 0;const s=i(n(837)),a=i(n(9576)),c=i(n(8914)),l=i(n(2846)),u=n(2839),d=n(321),h=n(2437),f=n(9534),p=n(7604);function m(e){if(!e)throw new Error("Assertion failed.")}function g(e){return(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function v(e){return(0,p.sprintf)("%04x",parseInt(e,16))}function y(e){return 255&e}class w{constructor(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=s.isInSubnet,this.isCorrect=s.isCorrect(c.BITS),this.groups=void 0===t?c.GROUPS:t,this.address=e;const n=c.RE_SUBNET_STRING.exec(e);if(n){if(this.parsedSubnet=n[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>c.BITS)throw new h.AddressError("Invalid subnet mask.");e=e.replace(c.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new h.AddressError("Invalid subnet mask.");const r=c.RE_ZONE_STRING.exec(e);r&&(this.zone=r[0],e=e.replace(c.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(e){try{return new w(e),!0}catch(e){return!1}}static fromBigInteger(e){const t=e.toString(16).padStart(32,"0"),n=[];let r;for(r=0;r<c.GROUPS;r++)n.push(t.slice(4*r,4*(r+1)));return new w(n.join(":"))}static fromURL(e){let t,n,r=null;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]:")){if(n=c.RE_URL_WITH_PORT.exec(e),null===n)return{error:"failed to parse address with port",address:null,port:null};t=n[1],r=n[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),n=c.RE_URL.exec(e),null===n)return{error:"failed to parse address from URL",address:null,port:null};t=n[1]}else t=e;return r?(r=parseInt(r,10),(r<0||r>65536)&&(r=null)):r=null,{address:new w(t),port:r}}static fromAddress4(e){const t=new u.Address4(e),n=c.BITS-(a.BITS-t.subnetMask);return new w(`::ffff:${t.correctForm()}/${n}`)}static fromArpa(e){let t=e.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==t.length)throw new h.AddressError("Invalid 'ip6.arpa' form.");const n=t.split(".").reverse();for(let e=7;e>0;e--){const t=4*e;n.splice(t,0,":")}return t=n.join(""),new w(t)}microsoftTranscription(){return(0,p.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){const t=c.BITS-this.subnetMask-Math.abs(e-c.BITS);return t<0?"0":function(e){const t=/(\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}(new f.BigInteger("2",10).pow(t).toString(10))}_startAddress(){return new f.BigInteger(this.mask()+"0".repeat(c.BITS-this.subnetMask),2)}startAddress(){return w.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new f.BigInteger("1");return w.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new f.BigInteger(this.mask()+"1".repeat(c.BITS-this.subnetMask),2)}endAddress(){return w.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new f.BigInteger("1");return w.fromBigInteger(this._endAddress().subtract(e))}getScope(){let e=c.SCOPES[this.getBits(12,16).intValue()];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e||"Unknown"}getType(){for(const e of Object.keys(c.TYPES))if(this.isInSubnet(new w(e)))return c.TYPES[e];return"Global unicast"}getBits(e,t){return new f.BigInteger(this.getBitsBase2(e,t),2)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}getBitsBase16(e,t){const n=t-e;if(n%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(n/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,c.BITS)}reverseForm(e){e||(e={});const t=Math.floor(this.subnetMask/4),n=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?n:(0,p.sprintf)("%s.ip6.arpa.",n):e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,t=[],n=0;const r=[];for(e=0;e<this.parsedAddress.length;e++){const t=parseInt(this.parsedAddress[e],16);0===t&&n++,0!==t&&n>0&&(n>1&&r.push([e-n,e-1]),n=0)}n>1&&r.push([this.parsedAddress.length-n,this.parsedAddress.length-1]);const o=r.map((e=>e[1]-e[0]+1));if(r.length>0){const e=o.indexOf(Math.max(...o));t=function(e,t){const n=[],r=[];let o;for(o=0;o<e.length;o++)o<t[0]?n.push(e[o]):o>t[1]&&r.push(e[o]);return n.concat(["compact"]).concat(r)}(this.parsedAddress,r[e])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));let i=t.join(":");return i=i.replace(/^compact$/,"::"),i=i.replace(/^compact|compact$/,":"),i=i.replace(/compact/,""),i}binaryZeroPad(){return this.bigInteger().toString(2).padStart(c.BITS,"0")}parse4in6(e){const t=e.split(":"),n=t.slice(-1)[0].match(a.RE_ADDRESS);if(n){this.parsedAddress4=n[0],this.address4=new u.Address4(this.parsedAddress4);for(let t=0;t<this.address4.groups;t++)if(/^0[0-9]+/.test(this.address4.parsedAddress[t]))throw new h.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(a.RE_ADDRESS,this.address4.parsedAddress.map(g).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e}parse(e){const t=(e=this.parse4in6(e)).match(c.RE_BAD_CHARACTERS);if(t)throw new h.AddressError((0,p.sprintf)("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(c.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));const n=e.match(c.RE_BAD_ADDRESS);if(n)throw new h.AddressError((0,p.sprintf)("Address failed regex: %s",n.join("")),e.replace(c.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let r=[];const o=e.split("::");if(2===o.length){let e=o[0].split(":"),t=o[1].split(":");1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]);const n=this.groups-(e.length+t.length);if(!n)throw new h.AddressError("Error parsing groups");this.elidedGroups=n,this.elisionBegin=e.length,this.elisionEnd=e.length+this.elidedGroups,r=r.concat(e);for(let e=0;e<n;e++)r.push("0");r=r.concat(t)}else{if(1!==o.length)throw new h.AddressError("Too many :: groups found");r=e.split(":"),this.elidedGroups=0}if(r=r.map((e=>(0,p.sprintf)("%x",parseInt(e,16)))),r.length!==this.groups)throw new h.AddressError("Incorrect number of groups found");return r}canonicalForm(){return this.parsedAddress.map(v).join(":")}decimal(){return this.parsedAddress.map((e=>(0,p.sprintf)("%05d",parseInt(e,16)))).join(":")}bigInteger(){return new f.BigInteger(this.parsedAddress.map(v).join(""),16)}to4(){const e=this.binaryZeroPad().split("");return u.Address4.fromHex(new f.BigInteger(e.slice(96,128).join(""),2).toString(16))}to4in6(){const e=this.to4(),t=new w(this.parsedAddress.slice(0,6).join(":"),6).correctForm();let n="";return/:$/.test(t)||(n=":"),t+n+e.address}inspectTeredo(){const e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new f.BigInteger("ffff",16)).toString(),n=u.Address4.fromHex(this.getBitsBase16(32,64)),r=u.Address4.fromHex(this.getBits(96,128).xor(new f.BigInteger("ffffffff",16)).toString(16)),o=this.getBits(64,80),i=this.getBitsBase2(64,80),s=o.testBit(15),a=o.testBit(14),c=o.testBit(8),l=o.testBit(9),d=new f.BigInteger(i.slice(2,6)+i.slice(8,16),2).toString(10);return{prefix:(0,p.sprintf)("%s:%s",e.slice(0,4),e.slice(4,8)),server4:n.address,client4:r.address,flags:i,coneNat:s,microsoft:{reserved:a,universalLocal:l,groupIndividual:c,nonce:d},udpPort:t}}inspect6to4(){const e=this.getBitsBase16(0,16),t=u.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,p.sprintf)("%s",e.slice(0,4)),gateway:t.address}}to6to4(){if(!this.is4())return null;const e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new w(e)}toByteArray(){const e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e}toUnsignedByteArray(){return this.toByteArray().map(y)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(y))}static fromUnsignedByteArray(e){const t=new f.BigInteger("256",10);let n=new f.BigInteger("0",10),r=new f.BigInteger("1",10);for(let o=e.length-1;o>=0;o--)n=n.add(r.multiply(new f.BigInteger(e[o].toString(10),10))),r=r.multiply(t);return w.fromBigInteger(n)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new w("2001::/32"))}is6to4(){return this.isInSubnet(new w("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(e){return e=void 0===e?"":(0,p.sprintf)(":%s",e),(0,p.sprintf)("http://[%s]%s/",this.correctForm(),e)}link(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);let t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?(0,p.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):(0,p.sprintf)('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))}group(){if(0===this.elidedGroups)return l.simpleGroup(this.address).join(":");m("number"==typeof this.elidedGroups),m("number"==typeof this.elisionBegin);const e=[],[t,n]=this.address.split("::");t.length?e.push(...l.simpleGroup(t)):e.push("");const r=["hover-group"];for(let e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)r.push((0,p.sprintf)("group-%d",e));return e.push((0,p.sprintf)('<span class="%s"></span>',r.join(" "))),n.length?e.push(...l.simpleGroup(n,this.elisionEnd)):e.push(""),this.is4()&&(m(this.address4 instanceof u.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(e=!1){let t=[];const n=new w(this.correctForm());if(0===n.elidedGroups)t.push((0,d.simpleRegularExpression)(n.parsedAddress));else if(n.elidedGroups===c.GROUPS)t.push((0,d.possibleElisions)(c.GROUPS));else{const e=n.address.split("::");e[0].length&&t.push((0,d.simpleRegularExpression)(e[0].split(":"))),m("number"==typeof n.elidedGroups),t.push((0,d.possibleElisions)(n.elidedGroups,0!==e[0].length,0!==e[1].length)),e[1].length&&t.push((0,d.simpleRegularExpression)(e[1].split(":"))),t=[t.join(":")]}return e||(t=["(?=^|",d.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...t,")(?=[^\\w\\:]|",d.ADDRESS_BOUNDARY,"|$)"]),t.join("")}regularExpression(e=!1){return new RegExp(this.regularExpressionString(e),"i")}}t.Address6=w},9576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_SUBNET_STRING=t.RE_ADDRESS=t.GROUPS=t.BITS=void 0,t.BITS=32,t.GROUPS=4,t.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,t.RE_SUBNET_STRING=/\/\d{1,2}$/},8914:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_URL_WITH_PORT=t.RE_URL=t.RE_ZONE_STRING=t.RE_SUBNET_STRING=t.RE_BAD_ADDRESS=t.RE_BAD_CHARACTERS=t.TYPES=t.SCOPES=t.GROUPS=t.BITS=void 0,t.BITS=128,t.GROUPS=8,t.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},t.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},t.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,t.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,t.RE_ZONE_STRING=/%.*$/,t.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),t.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)},2846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleGroup=t.spanLeadingZeroes=t.spanAll=t.spanAllZeroes=void 0;const r=n(7604);function o(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function i(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}t.spanAllZeroes=o,t.spanAll=function(e,t=0){return e.split("").map(((e,n)=>(0,r.sprintf)('<span class="digit value-%s position-%d">%s</span>',e,n+t,o(e)))).join("")},t.spanLeadingZeroes=function(e){return e.split(":").map((e=>i(e))).join(":")},t.simpleGroup=function(e,t=0){return e.split(":").map(((e,n)=>/group-v4/.test(e)?e:(0,r.sprintf)('<span class="hover-group group-%d">%s</span>',n+t,i(e))))}},321:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.possibleElisions=t.simpleRegularExpression=t.ADDRESS_BOUNDARY=t.padGroup=t.groupPossibilities=void 0;const s=i(n(8914)),a=n(7604);function c(e){return(0,a.sprintf)("(%s)",e.join("|"))}function l(e){return e.length<4?(0,a.sprintf)("0{0,%d}%s",4-e.length,e):e}t.groupPossibilities=c,t.padGroup=l,t.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]",t.simpleRegularExpression=function(e){const t=[];e.forEach(((e,n)=>{0===parseInt(e,16)&&t.push(n)}));const n=t.map((t=>e.map(((e,n)=>{if(n===t){const t=0===n||n===s.GROUPS-1?":":"";return c([l(e),t])}return l(e)})).join(":")));return n.push(e.map(l).join(":")),c(n)},t.possibleElisions=function(e,t,n){const r=t?"":":",o=n?"":":",i=[];t||n||i.push("::"),t&&n&&i.push(""),(n&&!t||!n&&t)&&i.push(":"),i.push((0,a.sprintf)("%s(:0{1,4}){1,%d}",r,e-1)),i.push((0,a.sprintf)("(0{1,4}:){1,%d}%s",e-1,o)),i.push((0,a.sprintf)("(0{1,4}:){%d}0{1,4}",e-1));for(let t=1;t<e-1;t++)for(let n=1;n<e-t;n++)i.push((0,a.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",n,e-n-t-1));return c(i)}},6108:e=>{"use strict";const t=e=>!Number.isNaN(e)&&e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);e.exports=t,e.exports.default=t},9534:function(e,t){(function(){var t;function n(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function r(){return new n(null)}var o="undefined"!=typeof navigator;o&&"Microsoft Internet Explorer"==navigator.appName?(n.prototype.am=function(e,t,n,r,o,i){for(var s=32767&t,a=t>>15;--i>=0;){var c=32767&this[e],l=this[e++]>>15,u=a*c+l*s;o=((c=s*c+((32767&u)<<15)+n[r]+(1073741823&o))>>>30)+(u>>>15)+a*l+(o>>>30),n[r++]=1073741823&c}return o},t=30):o&&"Netscape"!=navigator.appName?(n.prototype.am=function(e,t,n,r,o,i){for(;--i>=0;){var s=t*this[e++]+n[r]+o;o=Math.floor(s/67108864),n[r++]=67108863&s}return o},t=26):(n.prototype.am=function(e,t,n,r,o,i){for(var s=16383&t,a=t>>14;--i>=0;){var c=16383&this[e],l=this[e++]>>14,u=a*c+l*s;o=((c=s*c+((16383&u)<<14)+n[r]+o)>>28)+(u>>14)+a*l,n[r++]=268435455&c}return o},t=28),n.prototype.DB=t,n.prototype.DM=(1<<t)-1,n.prototype.DV=1<<t,n.prototype.FV=Math.pow(2,52),n.prototype.F1=52-t,n.prototype.F2=2*t-52;var i,s,a=new Array;for(i="0".charCodeAt(0),s=0;s<=9;++s)a[i++]=s;for(i="a".charCodeAt(0),s=10;s<36;++s)a[i++]=s;for(i="A".charCodeAt(0),s=10;s<36;++s)a[i++]=s;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function l(e,t){var n=a[e.charCodeAt(t)];return null==n?-1:n}function u(e){var t=r();return t.fromInt(e),t}function d(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function h(e){this.m=e}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function p(e,t){return e&t}function m(e,t){return e|t}function g(e,t){return e^t}function v(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 65535&e||(e>>=16,t+=16),255&e||(e>>=8,t+=8),15&e||(e>>=4,t+=4),3&e||(e>>=2,t+=2),1&e||++t,t}function w(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function S(){}function b(e){return e}function _(e){this.r2=r(),this.q3=r(),n.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}h.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.convert=function(e){var t=r();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(n.ZERO)>0&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=r();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},n.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},n.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},n.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var o=e.length,i=!1,s=0;--o>=0;){var a=8==r?255&e[o]:l(e,o);a<0?"-"==e.charAt(o)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+r>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=r)>=this.DB&&(s-=this.DB))}8==r&&128&e[0]&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&n.ZERO.subTo(this,this)},n.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},n.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},n.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},n.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,o=this.DB-r,i=(1<<o)-1,s=Math.floor(e/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+s+1]=this[n]>>o|a,a=(this[n]&i)<<r;for(n=s-1;n>=0;--n)t[n]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},n.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,o=this.DB-r,i=(1<<r)-1;t[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)t[s-n-1]|=(this[s]&i)<<o,t[s-n]=this[s]>>r;r>0&&(t[this.t-n-1]|=(this.s&i)<<o),t.t=this.t-n,t.clamp()}},n.prototype.subTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},n.prototype.multiplyTo=function(e,t){var r=this.abs(),o=e.abs(),i=r.t;for(t.t=i+o.t;--i>=0;)t[i]=0;for(i=0;i<o.t;++i)t[i+r.t]=r.am(0,o[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&n.ZERO.subTo(t,t)},n.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},n.prototype.divRemTo=function(e,t,o){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=r());var a=r(),c=this.s,l=e.s,u=this.DB-d(i[i.t-1]);u>0?(i.lShiftTo(u,a),s.lShiftTo(u,o)):(i.copyTo(a),s.copyTo(o));var h=a.t,f=a[h-1];if(0!=f){var p=f*(1<<this.F1)+(h>1?a[h-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,v=1<<this.F2,y=o.t,w=y-h,S=null==t?r():t;for(a.dlShiftTo(w,S),o.compareTo(S)>=0&&(o[o.t++]=1,o.subTo(S,o)),n.ONE.dlShiftTo(h,S),S.subTo(a,a);a.t<h;)a[a.t++]=0;for(;--w>=0;){var b=o[--y]==f?this.DM:Math.floor(o[y]*m+(o[y-1]+v)*g);if((o[y]+=a.am(0,b,o,w,0,h))<b)for(a.dlShiftTo(w,S),o.subTo(S,o);o[y]<--b;)o.subTo(S,o)}null!=t&&(o.drShiftTo(h,t),c!=l&&n.ZERO.subTo(t,t)),o.t=h,o.clamp(),u>0&&o.rShiftTo(u,o),c<0&&n.ZERO.subTo(o,o)}}},n.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(!(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},n.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},n.prototype.exp=function(e,t){if(e>4294967295||e<1)return n.ONE;var o=r(),i=r(),s=t.convert(this),a=d(e)-1;for(s.copyTo(o);--a>=0;)if(t.sqrTo(o,i),(e&1<<a)>0)t.mulTo(i,s,o);else{var c=o;o=i,i=c}return t.revert(o)},n.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,o=!1,i="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(n=this[s]>>a)>0&&(o=!0,i=c(n));s>=0;)a<t?(n=(this[s]&(1<<a)-1)<<t-a,n|=this[--s]>>(a+=this.DB-t)):(n=this[s]>>(a-=t)&r,a<=0&&(a+=this.DB,--s)),n>0&&(o=!0),o&&(i+=c(n));return o?i:"0"},n.prototype.negate=function(){var e=r();return n.ZERO.subTo(this,e),e},n.prototype.abs=function(){return this.s<0?this.negate():this},n.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},n.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+d(this[this.t-1]^this.s&this.DM)},n.prototype.mod=function(e){var t=r();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(n.ZERO)>0&&e.subTo(t,t),t},n.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new h(t):new f(t),this.exp(e,n)},n.ZERO=u(0),n.ONE=u(1),S.prototype.convert=b,S.prototype.revert=b,S.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},S.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=r();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var D,C,E,P=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],T=(1<<26)/P[P.length-1];function k(){var e;e=(new Date).getTime(),C[E++]^=255&e,C[E++]^=e>>8&255,C[E++]^=e>>16&255,C[E++]^=e>>24&255,E>=L&&(E-=L)}if(n.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},n.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),o=u(n),i=r(),s=r(),a="";for(this.divRemTo(o,i,s);i.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,i.divRemTo(o,i,s);return s.intValue().toString(e)+a},n.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),o=Math.pow(t,r),i=!1,s=0,a=0,c=0;c<e.length;++c){var u=l(e,c);u<0?"-"==e.charAt(c)&&0==this.signum()&&(i=!0):(a=t*a+u,++s>=r&&(this.dMultiply(o),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),i&&n.ZERO.subTo(this,this)},n.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(n.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(n.ONE.shiftLeft(e-1),this);else{var o=new Array,i=7&e;o.length=1+(e>>3),t.nextBytes(o),i>0?o[0]&=(1<<i)-1:o[0]=0,this.fromString(o,256)}},n.prototype.bitwiseTo=function(e,t,n){var r,o,i=Math.min(e.t,this.t);for(r=0;r<i;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(o=e.s&this.DM,r=i;r<this.t;++r)n[r]=t(this[r],o);n.t=this.t}else{for(o=this.s&this.DM,r=i;r<e.t;++r)n[r]=t(o,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},n.prototype.changeBit=function(e,t){var r=n.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},n.prototype.addTo=function(e,t){for(var n=0,r=0,o=Math.min(e.t,this.t);n<o;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},n.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},n.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},n.prototype.multiplyLowerTo=function(e,t,n){var r,o=Math.min(this.t+e.t,t);for(n.s=0,n.t=o;o>0;)n[--o]=0;for(r=n.t-this.t;o<r;++o)n[o+this.t]=this.am(0,e[o],n,o,0,this.t);for(r=Math.min(e.t,t);o<r;++o)this.am(0,e[o],n,o,0,t-o);n.clamp()},n.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},n.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},n.prototype.millerRabin=function(e){var t=this.subtract(n.ONE),o=t.getLowestSetBit();if(o<=0)return!1;var i=t.shiftRight(o);(e=e+1>>1)>P.length&&(e=P.length);for(var s=r(),a=0;a<e;++a){s.fromInt(P[Math.floor(Math.random()*P.length)]);var c=s.modPow(i,this);if(0!=c.compareTo(n.ONE)&&0!=c.compareTo(t)){for(var l=1;l++<o&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(n.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},n.prototype.clone=function(){var e=r();return this.copyTo(e),e},n.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},n.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},n.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},n.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},n.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,o=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[o++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),128&n&&(n|=-256),0==o&&(128&this.s)!=(128&n)&&++o,(o>0||n!=this.s)&&(t[o++]=n);return t},n.prototype.equals=function(e){return 0==this.compareTo(e)},n.prototype.min=function(e){return this.compareTo(e)<0?this:e},n.prototype.max=function(e){return this.compareTo(e)>0?this:e},n.prototype.and=function(e){var t=r();return this.bitwiseTo(e,p,t),t},n.prototype.or=function(e){var t=r();return this.bitwiseTo(e,m,t),t},n.prototype.xor=function(e){var t=r();return this.bitwiseTo(e,g,t),t},n.prototype.andNot=function(e){var t=r();return this.bitwiseTo(e,v,t),t},n.prototype.not=function(){for(var e=r(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},n.prototype.shiftLeft=function(e){var t=r();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},n.prototype.shiftRight=function(e){var t=r();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},n.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},n.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=w(this[n]^t);return e},n.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:!!(this[t]&1<<e%this.DB)},n.prototype.setBit=function(e){return this.changeBit(e,m)},n.prototype.clearBit=function(e){return this.changeBit(e,v)},n.prototype.flipBit=function(e){return this.changeBit(e,g)},n.prototype.add=function(e){var t=r();return this.addTo(e,t),t},n.prototype.subtract=function(e){var t=r();return this.subTo(e,t),t},n.prototype.multiply=function(e){var t=r();return this.multiplyTo(e,t),t},n.prototype.divide=function(e){var t=r();return this.divRemTo(e,t,null),t},n.prototype.remainder=function(e){var t=r();return this.divRemTo(e,null,t),t},n.prototype.divideAndRemainder=function(e){var t=r(),n=r();return this.divRemTo(e,t,n),new Array(t,n)},n.prototype.modPow=function(e,t){var n,o,i=e.bitLength(),s=u(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,o=i<8?new h(t):t.isEven()?new _(t):new f(t);var a=new Array,c=3,l=n-1,p=(1<<n)-1;if(a[1]=o.convert(this),n>1){var m=r();for(o.sqrTo(a[1],m);c<=p;)a[c]=r(),o.mulTo(m,a[c-2],a[c]),c+=2}var g,v,y=e.t-1,w=!0,S=r();for(i=d(e[y])-1;y>=0;){for(i>=l?g=e[y]>>i-l&p:(g=(e[y]&(1<<i+1)-1)<<l-i,y>0&&(g|=e[y-1]>>this.DB+i-l)),c=n;!(1&g);)g>>=1,--c;if((i-=c)<0&&(i+=this.DB,--y),w)a[g].copyTo(s),w=!1;else{for(;c>1;)o.sqrTo(s,S),o.sqrTo(S,s),c-=2;c>0?o.sqrTo(s,S):(v=s,s=S,S=v),o.mulTo(S,a[g],s)}for(;y>=0&&!(e[y]&1<<i);)o.sqrTo(s,S),v=s,s=S,S=v,--i<0&&(i=this.DB-1,--y)}return o.revert(s)},n.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return n.ZERO;for(var r=e.clone(),o=this.clone(),i=u(1),s=u(0),a=u(0),c=u(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(e,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;o.isEven();)o.rShiftTo(1,o),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);r.compareTo(o)>=0?(r.subTo(o,r),t&&i.subTo(a,i),s.subTo(c,s)):(o.subTo(r,o),t&&a.subTo(i,a),c.subTo(s,c))}return 0!=o.compareTo(n.ONE)?n.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},n.prototype.pow=function(e){return this.exp(e,new S)},n.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var o=t.getLowestSetBit(),i=n.getLowestSetBit();if(i<0)return t;for(o<i&&(i=o),i>0&&(t.rShiftTo(i,t),n.rShiftTo(i,n));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=n.getLowestSetBit())>0&&n.rShiftTo(o,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return i>0&&n.lShiftTo(i,n),n},n.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=P[P.length-1]){for(t=0;t<P.length;++t)if(n[0]==P[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<P.length;){for(var r=P[t],o=t+1;o<P.length&&r<T;)r*=P[o++];for(r=n.modInt(r);t<o;)if(r%P[t++]==0)return!1}return n.millerRabin(e)},n.prototype.square=function(){var e=r();return this.squareTo(e),e},n.prototype.Barrett=_,null==C){var I;if(C=new Array,E=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var x=new Uint8Array(32);for(window.crypto.getRandomValues(x),I=0;I<32;++I)C[E++]=x[I]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var R=window.crypto.random(32);for(I=0;I<R.length;++I)C[E++]=255&R.charCodeAt(I)}for(;E<L;)I=Math.floor(65536*Math.random()),C[E++]=I>>>8,C[E++]=255&I;E=0,k()}function A(){if(null==D){for(k(),(D=new O).init(C),E=0;E<C.length;++E)C[E]=0;E=0}return D.next()}function F(){}function O(){this.i=0,this.j=0,this.S=new Array}F.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=A()},O.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},O.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var L=256;e.exports={default:n,BigInteger:n,SecureRandom:F}}).call(this)},127:(e,t,n)=>{var r=n(9896),o="wx";if(process.version.match(/^v0\.[0-6]/)){var i=n(9140);o=i.O_TRUNC|i.O_CREAT|i.O_WRONLY|i.O_EXCL}var s,a=n(857);t.filetime="ctime","win32"==a.platform()&&(t.filetime="mtime");var c=n(9023);s=c.debuglog?c.debuglog("LOCKFILE"):/\blockfile\b/i.test(process.env.NODE_DEBUG)?function(){var e=c.format.apply(c,arguments);console.error("LOCKFILE %d %s",process.pid,e)}:function(){};var l={};n(9468)((function(){s("exit listener"),Object.keys(l).forEach(t.unlockSync)})),/^v0\.[0-8]\./.test(process.version)&&(s("uncaughtException, version = %s",process.version),process.on("uncaughtException",(function e(n){if(s("uncaughtException"),!process.listeners("uncaughtException").filter((function(t){return t!==e})).length){try{Object.keys(l).forEach(t.unlockSync)}catch(e){}throw process.removeListener("uncaughtException",e),n}}))),t.unlock=function(e,t){s("unlock",e),delete l[e],r.unlink(e,(function(e){t&&t()}))},t.unlockSync=function(e){s("unlockSync",e);try{r.unlinkSync(e)}catch(e){}delete l[e]},t.check=function(e,n,o){"function"==typeof n&&(o=n,n={}),s("check",e,n),r.open(e,"r",(function(e,i){return e?"ENOENT"!==e.code?o(e):o(null,!1):n.stale?void r.fstat(i,(function(e,s){if(e)return r.close(i,(function(t){return o(e)}));r.close(i,(function(e){var r=Date.now()-s[t.filetime].getTime();return o(e,r<=n.stale)}))})):r.close(i,(function(e){return o(e,!0)}))}))},t.checkSync=function(e,n){if(s("checkSync",e,n=n||{}),n.wait)throw new Error("opts.wait not supported sync for obvious reasons");try{var o=r.openSync(e,"r")}catch(e){if("ENOENT"!==e.code)throw e;return!1}if(!n.stale){try{r.closeSync(o)}catch(e){}return!0}if(n.stale){try{var i=r.fstatSync(o)}finally{r.closeSync(o)}return Date.now()-i[t.filetime].getTime()<=n.stale}};var u=1;function d(e,n,o,i,a){r.stat(n,(function(c,l){return c?"ENOENT"===c.code?(o.stale=!1,s("lock stale enoent retry",n,o),void t.lock(n,o,a)):a(c):Date.now()-l[t.filetime].getTime()<=o.stale?h(e,n,o,a):(s("lock stale",n,o),void(i?t.unlock(n,(function(e){if(e)return a(e);s("lock stale retry",n,o),r.link(n+".STALE",n,(function(e){r.unlink(n+".STALE",(function(){a(e)}))}))})):(s("acquire .STALE file lock",o),t.lock(n+".STALE",o,(function(t){if(t)return a(t);d(e,n,o,!0,a)})))))}))}function h(e,n,r,o){if(s("notStale",n,r),"number"!=typeof r.wait||r.wait<=0)return s("notStale, wait is not a number"),o(e);var i=Date.now(),a=r.start||i,c=a+r.wait;if(c<=i)return o(e);s("now=%d, wait until %d (delta=%d)",a,c,c-a);var l=Math.min(c-a,r.pollPeriod||100);setTimeout((function(){s("notStale, polling",n,r),t.lock(n,r,o)}),l)}function f(e,n,r){if("number"==typeof n.retries&&n.retries>0){var o=n.retries-1;return s("retryThrow",e,n,o),n.retries=o,t.lockSync(e,n)}throw r}t.lock=function(e,n,i){if("function"==typeof n&&(i=n,n={}),n.req=n.req||u++,s("lock",e,n),n.start=n.start||Date.now(),"number"==typeof n.retries&&n.retries>0){s("has retries",n.retries);var a=n.retries;n.retries=0,c=i,i=function r(o,i){if(s("retry-mutated callback"),a-=1,!o||a<0)return c(o,i);function l(){n.start=Date.now(),s("retrying",n.start),t.lock(e,n,r)}s("lock retry",e,n),n.retryWait?setTimeout(l,n.retryWait):l()}}var c;r.open(e,o,(function(t,o){return t?(s("failed to acquire lock",t),"EEXIST"!==t.code?(s("not EEXIST error",t),i(t)):n.stale?d(t,e,n,!1,i):h(t,e,n,i)):(s("locked",e,o),l[e]=o,r.close(o,(function(){return i()})))})),s("lock return")},t.lockSync=function(e,n){if((n=n||{}).req=n.req||u++,s("lockSync",e,n),n.wait||n.retryWait)throw new Error("opts.wait not supported sync for obvious reasons");try{var i=r.openSync(e,o);l[e]=i;try{r.closeSync(i)}catch(e){}return void s("locked sync!",e,i)}catch(o){if("EEXIST"!==o.code)return f(e,n,o);if(n.stale){var a=r.statSync(e)[t.filetime].getTime();!(a%1e3)&&n.stale%1e3&&(n.stale=1e3*Math.ceil(n.stale/1e3));var c=Date.now()-a;if(c>n.stale)return s("lockSync stale",e,n,c),t.unlockSync(e),t.lockSync(e,n)}return s("failed to lock",e,n,o),f(e,n,o)}}},7352:(e,t,n)=>{e=n.nmd(e);var r=1/0,o=/^\s+|\s+$/g,i=/\w*$/,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l="\\ud800-\\udfff",u="\\u0300-\\u036f\\ufe20-\\ufe23",d="\\u20d0-\\u20f0",h="\\ufe0e\\ufe0f",f="["+l+"]",p="["+u+d+"]",m="\\ud83c[\\udffb-\\udfff]",g="[^"+l+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="\\u200d",S="(?:"+p+"|"+m+")?",b="["+h+"]?",_=b+S+"(?:"+w+"(?:"+[g,v,y].join("|")+")"+b+S+")*",D="(?:"+[g+p+"?",p,v,y,f].join("|")+")",C=RegExp(m+"(?="+m+")|"+D+_,"g"),E=RegExp("["+w+l+u+d+h+"]"),P=parseInt,T="object"==typeof global&&global&&global.Object===Object&&global,k="object"==typeof self&&self&&self.Object===Object&&self,I=T||k||Function("return this")(),x=t&&!t.nodeType&&t,R=x&&e&&!e.nodeType&&e,A=R&&R.exports===x&&T.process,F=function(){try{return A&&A.binding("util")}catch(e){}}(),O=F&&F.isRegExp,L=function(e){return null==e?void 0:e.length};function M(e){return E.test(e)}var $=Object.prototype.toString,B=I.Symbol,N=B?B.prototype:void 0,U=N?N.toString:void 0;function H(e){if("string"==typeof e)return e;if(q(e))return U?U.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function j(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var W,z=O?(W=O,function(e){return W(e)}):function(e){return j(e)&&"[object RegExp]"==$.call(e)};function q(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==$.call(e)}function V(e){return null==e?"":H(e)}e.exports=function(e,t){var n=30,l="...";if(j(t)){var u="separator"in t?t.separator:u;n="length"in t?function(e){var t=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(q(e))return NaN;if(j(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=j(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||c.test(e)?P(e.slice(2),n?2:8):s.test(e)?NaN:+e}(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}(e),n=t%1;return t==t?n?t-n:t:0}(t.length):n,l="omission"in t?H(t.omission):l}var d=(e=V(e)).length;if(M(e)){var h=function(e){return M(e)?function(e){return e.match(C)||[]}(e):function(e){return e.split("")}(e)}(e);d=h.length}if(n>=d)return e;var f=n-function(e){return M(e)?function(e){for(var t=C.lastIndex=0;C.test(e);)t++;return t}(e):L(e)}(l);if(f<1)return l;var p=h?function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}(e,t,n)}(h,0,f).join(""):e.slice(0,f);if(void 0===u)return p+l;if(h&&(f+=p.length-f),z(u)){if(e.slice(f).search(u)){var m,g=p;for(u.global||(u=RegExp(u.source,V(i.exec(u))+"g")),u.lastIndex=0;m=u.exec(g);)var v=m.index;p=p.slice(0,void 0===v?f:v)}}else if(e.indexOf(H(u),f)!=f){var y=p.lastIndexOf(u);y>-1&&(p=p.slice(0,y))}return p+l}},6585:e=>{var t=1e3,n=60*t,r=60*n,o=24*r,i=7*o;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,a){a=a||{};var c,l,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var a=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*i;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===u&&isFinite(e))return a.long?(c=e,(l=Math.abs(c))>=o?s(c,l,o,"day"):l>=r?s(c,l,r,"hour"):l>=n?s(c,l,n,"minute"):l>=t?s(c,l,t,"second"):c+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},5157:(e,t,n)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=n(8167),t=(new e).port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},8289:(e,t,n)=>{var r=n(2613).ok;function o(e){return new Error("getopt: "+e)}function i(e,t,n){var o;for(r(e||""===e,"optstring is required"),r(e.constructor===String,"optstring must be a string"),r(t,"argv is required"),r(t.constructor===Array,"argv must be an array"),this.gop_argv=new Array(t.length),this.gop_options={},this.gop_aliases={},this.gop_optind=void 0!==n?n:2,this.gop_subind=0,o=0;o<t.length;o++)r(t[o].constructor===String,"argv must be string array"),this.gop_argv[o]=t[o];this.parseOptstr(e)}t.BasicParser=i,i.prototype.parseOptstr=function(e){var t,n,r,i,s;for(s=0,e.length>0&&":"==e[0]?(this.gop_silent=!0,s++):this.gop_silent=!1;s<e.length;){if(t=e[s],i=!1,!/^[\w\d\u1000-\u1100]$/.test(t))throw o("invalid optstring: only alphanumeric characters and unicode characters between \\u1000-\\u1100 may be used as options: "+t);for(s+1<e.length&&":"==e[s+1]&&(i=!0,s++),this.gop_options[t]=i;s+1<e.length&&"("==e[s+1];){if(s++,-1==(n=e.indexOf(")",s+1)))throw o('invalid optstring: missing ")" to match "(" at char '+s);r=e.substring(s+1,n),this.gop_aliases[r]=t,s=n}s++}},i.prototype.optind=function(){return this.gop_optind},i.prototype.getopt=function(){if(!(this.gop_optind>=this.gop_argv.length)){var e=this.gop_argv[this.gop_optind];if(0===this.gop_subind){if("-"==e||""===e||"-"!=e[0])return;if("--"==e)return this.gop_optind++,void(this.gop_subind=0);if("-"==e[1])return this.getoptLong();this.gop_subind++,r(this.gop_subind<e.length)}return this.getoptShort()}},i.prototype.getoptShort=function(){var e,t;return r(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],r(this.gop_subind<e.length),t=e[this.gop_subind],++this.gop_subind>=e.length&&(this.gop_optind++,this.gop_subind=0),t in this.gop_options?this.gop_options[t]?this.getoptArgument(t):{option:t}:this.errInvalidOption(t)},i.prototype.getoptLong=function(){var e,t,n,o;return r(0===this.gop_subind),r(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],r(e.length>2&&"-"==e[0]&&"-"==e[1]),o=e.indexOf("="),(t=e.substring(2,-1==o?e.length:o))in this.gop_aliases?(n=this.gop_aliases[t],r(n in this.gop_options),this.gop_options[n]?(-1==o?this.gop_optind++:this.gop_subind=o+1,this.getoptArgument(n)):-1!=o?this.errExtraArg(t):(this.gop_optind++,{option:n})):this.errInvalidOption(t)},i.prototype.getoptArgument=function(e){var t;return this.gop_optind>=this.gop_argv.length?this.errMissingArg(e):(t=this.gop_argv[this.gop_optind].substring(this.gop_subind),this.gop_optind++,this.gop_subind=0,{option:e,optarg:t})},i.prototype.errMissingArg=function(e){return this.gop_silent?{option:":",optopt:e}:(process.stderr.write("option requires an argument -- "+e+"\n"),{option:"?",optopt:e,error:!0})},i.prototype.errInvalidOption=function(e){return this.gop_silent||process.stderr.write("illegal option -- "+e+"\n"),{option:"?",optopt:e,error:!0}},i.prototype.errExtraArg=function(e){return this.gop_silent||process.stderr.write("option expects no argument -- "+e+"\n"),{option:"?",optopt:e,error:!0}}},5192:(e,t,n)=>{"use strict";t.quote=n(3940),t.parse=n(9563)},9563:e=>{"use strict";for(var t="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",n=new RegExp("^"+t+"$"),r="|&;()<> \\t",o=/^#$/,i="",s=0;s<4;s++)i+=(4294967296*Math.random()).toString(16);var a=new RegExp("^"+i);e.exports=function(e,s,c){var l=function(e,s,a){a||(a={});var c=a.escape||"\\",l=new RegExp(["("+t+")","((\\"+c+"['\""+r+"]|[^\\s'\""+r+"])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')+"].join("|"),"g"),u=function(e,t){for(var n,r=t.lastIndex,o=[];n=t.exec(e);)o.push(n),t.lastIndex===n.index&&(t.lastIndex+=1);return t.lastIndex=r,o}(e,l);if(0===u.length)return[];s||(s={});var d=!1;return u.map((function(t){var r=t[0];if(r&&!d){if(n.test(r))return{op:r};var a,l=!1,u=!1,h="",f=!1;for(a=0;a<r.length;a++){var p=r.charAt(a);if(f=f||!l&&("*"===p||"?"===p),u)h+=p,u=!1;else if(l)p===l?l=!1:"'"==l?h+=p:p===c?(a+=1,h+='"'===(p=r.charAt(a))||p===c||"$"===p?p:c+p):h+="$"===p?g():p;else if('"'===p||"'"===p)l=p;else{if(n.test(p))return{op:r};if(o.test(p)){d=!0;var m={comment:e.slice(t.index+a+1)};return h.length?[h,m]:[m]}p===c?u=!0:h+="$"===p?g():p}}return f?{op:"glob",pattern:h}:h}function g(){var e,t;a+=1;var n=r.charAt(a);if("{"===n){if(a+=1,"}"===r.charAt(a))throw new Error("Bad substitution: "+r.slice(a-2,a+1));if((e=r.indexOf("}",a))<0)throw new Error("Bad substitution: "+r.slice(a));t=r.slice(a,e),a=e}else if(/[*@#?$!_-]/.test(n))t=n,a+=1;else{var o=r.slice(a);(e=o.match(/[^\w\d_]/))?(t=o.slice(0,e.index),a+=e.index-1):(t=o,a=r.length)}return function(e,t,n){var r="function"==typeof e?e(n):e[n];return void 0===r&&""!=n?r="":void 0===r&&(r="$"),"object"==typeof r?""+i+JSON.stringify(r)+i:""+r}(s,0,t)}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])}(e,s,c);return"function"!=typeof s?l:l.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var n=t.split(RegExp("("+i+".*?"+i+")","g"));return 1===n.length?e.concat(n[0]):e.concat(n.filter(Boolean).map((function(e){return a.test(e)?JSON.parse(e.split(i)[1]):e})))}),[])}},3940:e=>{"use strict";e.exports=function(e){return e.map((function(e){return e&&"object"==typeof e?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")})).join(" ")}},9468:(e,t,n)=>{var r,o=n(2613),i=n(7205),s=n(4434);function a(){u&&(u=!1,i.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=p,process.reallyExit=h,r.count-=1)}function c(e,t,n){r.emitted[e]||(r.emitted[e]=!0,r.emit(e,t,n))}"function"!=typeof s&&(s=s.EventEmitter),process.__signal_exit_emitter__?r=process.__signal_exit_emitter__:((r=process.__signal_exit_emitter__=new s).count=0,r.emitted={}),r.infinite||(r.setMaxListeners(1/0),r.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===u&&d();var n="exit";return t&&t.alwaysLast&&(n="afterexit"),r.on(n,e),function(){r.removeListener(n,e),0===r.listeners("exit").length&&0===r.listeners("afterexit").length&&a()}},e.exports.unload=a;var l={};i.forEach((function(e){l[e]=function(){process.listeners(e).length===r.count&&(a(),c("exit",null,e),c("afterexit",null,e),process.kill(process.pid,e))}})),e.exports.signals=function(){return i},e.exports.load=d;var u=!1;function d(){u||(u=!0,r.count+=1,i=i.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=f)}var h=process.reallyExit;function f(e){process.exitCode=e||0,c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),h.call(process,process.exitCode)}var p=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var n=p.apply(this,arguments);return c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),n}return p.apply(this,arguments)}},7205:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},975:(e,t,n)=>{"use strict";const r=n(6108),o=n(8124),i=n(4083),s=["",""],a=e=>`${s[0]}[${e}m`,c=(e,t,n)=>{let r=[];e=[...e];for(let n of e){const o=n;n.includes(";")&&(n=n.split(";")[0][0]+"0");const s=i.codes.get(Number.parseInt(n,10));if(s){const n=e.indexOf(s.toString());-1===n?r.push(a(t?s:o)):e.splice(n,1)}else{if(t){r.push(a(0));break}r.push(a(o))}}if(t&&(r=r.filter(((e,t)=>r.indexOf(e)===t)),void 0!==n)){const e=a(i.codes.get(Number.parseInt(n,10)));r=r.reduce(((t,n)=>n===e?[n,...t]:[...t,n]),[])}return r.join("")};e.exports=(e,t,n)=>{const i=[...e],a=[];let l,u="number"==typeof n?n:i.length,d=!1,h=0,f="";for(const[p,m]of i.entries()){let i=!1;if(s.includes(m)){const t=/\d[^m]*/.exec(e.slice(p,p+18));l=t&&t.length>0?t[0]:void 0,h<u&&(d=!0,void 0!==l&&a.push(l))}else d&&"m"===m&&(d=!1,i=!0);if(d||i||h++,!o({exact:!0}).test(m)&&r(m.codePointAt())&&(h++,"number"!=typeof n&&u++),h>t&&h<=u)f+=m;else if(h!==t||d||void 0===l){if(h>=u){f+=c(a,!0,l);break}}else f=c(a)}return f}},7575:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1725);class o{constructor(e){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,o.isSmartBufferOptions(e))if(e.encoding&&(r.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(r.isFiniteInteger(e.size)&&e.size>0))throw new Error(r.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=Buffer.allocUnsafe(e.size)}else if(e.buff){if(!Buffer.isBuffer(e.buff))throw new Error(r.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=Buffer.allocUnsafe(4096);else{if(void 0!==e)throw new Error(r.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){const t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return r.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return r.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return r.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return r.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return r.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return r.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return r.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return r.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return r.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return r.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return r.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return r.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let n;"number"==typeof e?(r.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(t=e,n=this.length-this._readOffset),void 0!==t&&r.checkEncoding(t);const o=this._buff.slice(this._readOffset,this._readOffset+n).toString(t||this._encoding);return this._readOffset+=n,o}insertString(e,t,n){return r.checkOffsetValue(t),this._handleString(e,!0,t,n)}writeString(e,t,n){return this._handleString(e,!1,t,n)}readStringNT(e){void 0!==e&&r.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const n=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,n.toString(e||this._encoding)}insertStringNT(e,t,n){return r.checkOffsetValue(t),this.insertString(e,t,n),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,n){return this.writeString(e,t,n),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&r.checkLengthValue(e);const t="number"==typeof e?e:this.length,n=Math.min(this.length,this._readOffset+t),o=this._buff.slice(this._readOffset,n);return this._readOffset=n,o}insertBuffer(e,t){return r.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return r.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return void 0!==t&&r.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){r.checkOffsetValue(e),r.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){r.checkOffsetValue(e),r.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){r.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){const t="string"==typeof e?e:this._encoding;return r.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,n,o){let i=this._writeOffset,s=this._encoding;"number"==typeof n?i=n:"string"==typeof n&&(r.checkEncoding(n),s=n),"string"==typeof o&&(r.checkEncoding(o),s=o);const a=Buffer.byteLength(e,s);return t?this.ensureInsertable(a,i):this._ensureWriteable(a,i),this._buff.write(e,i,a,s),t?this._writeOffset+=a:"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,i+a):this._writeOffset+=a,this}_handleBuffer(e,t,n){const r="number"==typeof n?n:this._writeOffset;return t?this.ensureInsertable(e.length,r):this._ensureWriteable(e.length,r),e.copy(this._buff,r),t?this._writeOffset+=e.length:"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,r+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let n=this._readOffset;if(void 0!==t&&(r.checkOffsetValue(t),n=t),n<0||n+e>this.length)throw new Error(r.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){r.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){const n="number"==typeof t?t:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){const t=this._buff.length;if(e>t){let n=this._buff,r=3*t/2+1;r<e&&(r=e),this._buff=Buffer.allocUnsafe(r),n.copy(this._buff,0,0,t)}}_readNumberValue(e,t,n){this.ensureReadable(t,n);const r=e.call(this._buff,"number"==typeof n?n:this._readOffset);return void 0===n&&(this._readOffset+=t),r}_insertNumberValue(e,t,n,o){return r.checkOffsetValue(o),this.ensureInsertable(t,o),e.call(this._buff,n,o),this._writeOffset+=t,this}_writeNumberValue(e,t,n,o){if("number"==typeof o){if(o<0)throw new Error(r.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);r.checkOffsetValue(o)}const i="number"==typeof o?o:this._writeOffset;return this._ensureWriteable(t,i),e.call(this._buff,n,i),"number"==typeof o?this._writeOffset=Math.max(this._writeOffset,i+t):this._writeOffset+=t,this}}t.SmartBuffer=o},1725:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(181),o={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function i(e){return"number"==typeof e&&isFinite(e)&&function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}function s(e,t){if("number"!=typeof e)throw new Error(t?o.INVALID_OFFSET_NON_NUMBER:o.INVALID_LENGTH_NON_NUMBER);if(!i(e)||e<0)throw new Error(t?o.INVALID_OFFSET:o.INVALID_LENGTH)}t.ERRORS=o,t.checkEncoding=function(e){if(!r.Buffer.isEncoding(e))throw new Error(o.INVALID_ENCODING)},t.isFiniteInteger=i,t.checkLengthValue=function(e){s(e,!1)},t.checkOffsetValue=function(e){s(e,!0)},t.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw new Error(o.INVALID_TARGET_OFFSET)},t.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw new Error("Platform does not support JS BigInt type.");if(void 0===r.Buffer.prototype[e])throw new Error(`Platform does not support Buffer.prototype.${e}.`)}},7631:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksClientError=t.SocksClient=void 0;const o=n(4434),i=n(9278),s=n(7575),a=n(5438),c=n(7130),l=n(7736),u=n(3763);Object.defineProperty(t,"SocksClientError",{enumerable:!0,get:function(){return u.SocksClientError}});const d=n(9424);class h extends o.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,c.validateSocksClientOptions)(e),this.setState(a.SocksClientState.Created)}static createConnection(e,t){return new Promise(((n,r)=>{try{(0,c.validateSocksClientOptions)(e,["connect"])}catch(e){return"function"==typeof t?(t(e),n(e)):r(e)}const o=new h(e);o.connect(e.existing_socket),o.once("established",(e=>{o.removeAllListeners(),"function"==typeof t?(t(null,e),n(e)):n(e)})),o.once("error",(e=>{o.removeAllListeners(),"function"==typeof t?(t(e),n(e)):r(e)}))}))}static createConnectionChain(e,t){return new Promise(((n,o)=>r(this,void 0,void 0,(function*(){try{(0,c.validateSocksClientChainOptions)(e)}catch(e){return"function"==typeof t?(t(e),n(e)):o(e)}e.randomizeChain&&(0,u.shuffleArray)(e.proxies);try{let r;for(let t=0;t<e.proxies.length;t++){const n=e.proxies[t],o=t===e.proxies.length-1?e.destination:{host:e.proxies[t+1].host||e.proxies[t+1].ipaddress,port:e.proxies[t+1].port},i=yield h.createConnection({command:"connect",proxy:n,destination:o,existing_socket:r});r=r||i.socket}"function"==typeof t?(t(null,{socket:r}),n({socket:r})):n({socket:r})}catch(e){"function"==typeof t?(t(e),n(e)):o(e)}}))))}static createUDPFrame(e){const t=new s.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),i.isIPv4(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv4),t.writeUInt32BE((0,c.ipv4ToInt32)(e.remoteHost.host))):i.isIPv6(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv6),t.writeBuffer((0,c.ipToBuffer)(e.remoteHost.host))):(t.writeUInt8(a.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n=t.readUInt8(),r=t.readUInt8();let o;return o=r===a.Socks5HostType.IPv4?(0,c.int32ToIpv4)(t.readUInt32BE()):r===a.Socks5HostType.IPv6?d.Address6.fromByteArray(Array.from(t.readBuffer(16))).canonicalForm():t.readString(t.readUInt8()),{frameNumber:n,remoteHost:{host:o,port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==a.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();const t=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||a.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),this.socket=e||new i.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(a.SocksClientState.Connecting),this.receiveBuffer=new l.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(e=>{setImmediate((()=>{if(this.receiveBuffer.length>0){const t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.BoundWaitingForConnection&&this.closeSocket(a.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(a.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(a.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===a.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===a.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===a.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else{if(this.state!==a.SocksClientState.BoundWaitingForConnection){this.closeSocket(a.ERRORS.InternalError);break}4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse()}}onCloseHandler(){this.closeSocket(a.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==a.SocksClientState.Error&&(this.setState(a.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new u.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){const e=this.options.proxy.userId||"",t=new s.SmartBuffer;t.writeUInt8(4),t.writeUInt8(a.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),i.isIPv4(this.options.destination.host)?(t.writeBuffer((0,c.ipToBuffer)(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedConnection} - (${a.Socks4Response[e[1]]})`);else if(a.SocksCommand[this.options.command]===a.SocksCommand.bind){const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n={port:t.readUInt16BE(),host:(0,c.int32ToIpv4)(t.readUInt32BE())};"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress),this.setState(a.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${a.Socks4Response[e[1]]})`);else{const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n={port:t.readUInt16BE(),host:(0,c.int32ToIpv4)(t.readUInt32BE())};this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){const e=new s.SmartBuffer,t=[a.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&t.push(a.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length);for(const n of t)e.writeUInt8(n);this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(a.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===a.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===a.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=a.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===a.Socks5Auth.UserPass?(this.socks5ChosenAuthType=a.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const e=this.options.proxy.userId||"",t=this.options.proxy.password||"",n=new s.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(t)),n.writeString(t),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(a.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return r(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(a.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(e){return r(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(e)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return r(this,void 0,void 0,(function*(){return 0===e[1]}))}handleSocks5AuthenticationUserPassHandshakeResponse(e){return r(this,void 0,void 0,(function*(){return 0===e[1]}))}handleInitialSocks5AuthenticationHandshakeResponse(){return r(this,void 0,void 0,(function*(){this.setState(a.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===a.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===a.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(a.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){const e=new s.SmartBuffer;e.writeUInt8(5),e.writeUInt8(a.SocksCommand[this.options.command]),e.writeUInt8(0),i.isIPv4(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv4),e.writeBuffer((0,c.ipToBuffer)(this.options.destination.host))):i.isIPv6(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv6),e.writeBuffer((0,c.ipToBuffer)(this.options.destination.host))):(e.writeUInt8(a.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let n,r;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:(0,c.int32ToIpv4)(r.readUInt32BE()),port:r.readUInt16BE()},"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],o=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:r.readString(t),port:r.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:d.Address6.fromByteArray(Array.from(r.readBuffer(16))).canonicalForm(),port:r.readUInt16BE()}}this.setState(a.SocksClientState.ReceivedFinalResponse),a.SocksCommand[this.options.command]===a.SocksCommand.connect?(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.bind?(this.setState(a.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:n,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.associate&&(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let n,r;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:(0,c.int32ToIpv4)(r.readUInt32BE()),port:r.readUInt16BE()},"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],o=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),n={host:r.readString(t),port:r.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);r=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:d.Address6.fromByteArray(Array.from(r.readBuffer(16))).canonicalForm(),port:r.readUInt16BE()}}this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}t.SocksClient=h},5438:(e,t)=>{"use strict";var n,r,o,i,s,a;Object.defineProperty(t,"__esModule",{value:!0}),t.SOCKS5_NO_ACCEPTABLE_AUTH=t.SOCKS5_CUSTOM_AUTH_END=t.SOCKS5_CUSTOM_AUTH_START=t.SOCKS_INCOMING_PACKET_SIZES=t.SocksClientState=t.Socks5Response=t.Socks5HostType=t.Socks5Auth=t.Socks4Response=t.SocksCommand=t.ERRORS=t.DEFAULT_TIMEOUT=void 0,t.DEFAULT_TIMEOUT=3e4,t.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},t.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},function(e){e[e.connect=1]="connect",e[e.bind=2]="bind",e[e.associate=3]="associate"}(n||(t.SocksCommand=n={})),function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(r||(t.Socks4Response=r={})),function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(o||(t.Socks5Auth=o={})),t.SOCKS5_CUSTOM_AUTH_START=128,t.SOCKS5_CUSTOM_AUTH_END=254,t.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(i||(t.Socks5Response=i={})),function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(s||(t.Socks5HostType=s={})),function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(a||(t.SocksClientState=a={}))},7130:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipToBuffer=t.int32ToIpv4=t.ipv4ToInt32=t.validateSocksClientChainOptions=t.validateSocksClientOptions=void 0;const r=n(3763),o=n(5438),i=n(2203),s=n(9424),a=n(9278);function c(e,t){if(void 0!==e.custom_auth_method){if(e.custom_auth_method<o.SOCKS5_CUSTOM_AUTH_START||e.custom_auth_method>o.SOCKS5_CUSTOM_AUTH_END)throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthRange,t);if(void 0===e.custom_auth_request_handler||"function"!=typeof e.custom_auth_request_handler)throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_size)throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_handler||"function"!=typeof e.custom_auth_response_handler)throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t)}}function l(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function u(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function d(e){return"number"==typeof e&&e>0}t.validateSocksClientOptions=function(e,t=["connect","bind","associate"]){if(!o.SocksCommand[e.command])throw new r.SocksClientError(o.ERRORS.InvalidSocksCommand,e);if(-1===t.indexOf(e.command))throw new r.SocksClientError(o.ERRORS.InvalidSocksCommandForOperation,e);if(!l(e.destination))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!u(e.proxy))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e);if(c(e.proxy,e),e.timeout&&!d(e.timeout))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof i.Duplex))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},t.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new r.SocksClientError(o.ERRORS.InvalidSocksCommandChain,e);if(!l(e.destination))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach((t=>{if(!u(t))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e);c(t,e)})),e.timeout&&!d(e.timeout))throw new r.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e)},t.ipv4ToInt32=function(e){return new s.Address4(e).toArray().reduce(((e,t)=>(e<<8)+t),0)},t.int32ToIpv4=function(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e].join(".")},t.ipToBuffer=function(e){if(a.isIPv4(e)){const t=new s.Address4(e);return Buffer.from(t.toArray())}if(a.isIPv6(e)){const t=new s.Address6(e);return Buffer.from(t.toByteArray())}throw new Error("Invalid IP address format")}},7736:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiveBuffer=void 0,t.ReceiveBuffer=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){const t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}}},3763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.SocksClientError=void 0;class n extends Error{constructor(e,t){super(e),this.options=t}}t.SocksClientError=n,t.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}},5861:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(7631),t)},7604:(e,t,n)=>{var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(e){return function(e,t){var n,r,s,a,c,l,u,d,h,f=1,p=e.length,m="";for(r=0;r<p;r++)if("string"==typeof e[r])m+=e[r];else if("object"==typeof e[r]){if((a=e[r]).keys)for(n=t[f],s=0;s<a.keys.length;s++){if(null==n)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));n=n[a.keys[s]]}else n=a.param_no?t[a.param_no]:t[f++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&n instanceof Function&&(n=n()),o.numeric_arg.test(a.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(i("[sprintf] expecting number but found %T",n));switch(o.number.test(a.type)&&(d=n>=0),a.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,a.width?parseInt(a.width):0);break;case"e":n=a.precision?parseFloat(n).toExponential(a.precision):parseFloat(n).toExponential();break;case"f":n=a.precision?parseFloat(n).toFixed(a.precision):parseFloat(n);break;case"g":n=a.precision?String(Number(n.toPrecision(a.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=a.precision?n.substring(0,a.precision):n;break;case"t":n=String(!!n),n=a.precision?n.substring(0,a.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=a.precision?n.substring(0,a.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=a.precision?n.substring(0,a.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?m+=n:(!o.number.test(a.type)||d&&!a.sign?h="":(h=d?"+":"-",n=n.toString().replace(o.sign,"")),l=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(h+n).length,c=a.width&&u>0?l.repeat(u):"",m+=a.align?h+n+c:"0"===l?h+c+n:c+h+n)}return m}(function(e){if(a[e])return a[e];for(var t,n=e,r=[],i=0;n;){if(null!==(t=o.text.exec(n)))r.push(t[0]);else if(null!==(t=o.modulo.exec(n)))r.push("%");else{if(null===(t=o.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var s=[],c=t[2],l=[];if(null===(l=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=o.key_access.exec(c)))s.push(l[1]);else{if(null===(l=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(l[1])}t[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return a[e]=r}(e),arguments)}function s(e,t){return i.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=i,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=s,void 0===(r=function(){return{sprintf:i,vsprintf:s}}.call(t,n,t,e))||(e.exports=r))}()},1182:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(n(9912));o(n(9912),t),t.default=s.default},8601:(e,t)=>{"use strict";function n(e,t){return e=function(e){for(let t of"\\()[]{}.+^$|")e=e.replace(new RegExp("\\"+t,"g"),"\\"+t);return e}(e),e=e.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+e+")$").test(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=Array.isArray(e)?e:e.split(/,/);let o=!1;for(const e of r){if("!"==e[0]&&n(e.slice(1),t))return!1;n(e,t)&&(o=!0)}return o}},9912:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.parse=t.LineType=void 0;const o=r(n(8601)),i=n(5317),s=r(n(857)),a=/\s/,c=/\r|\n/,l=/^(Host|Match)$/i,u=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand|Match|CanonicalDomains)$/i,d=/^(?:CertificateFile|IdentityFile|IdentityAgent|User)$/i,h=/^(Include|IdentityFile)$/i;var f;!function(e){e[e.DIRECTIVE=1]="DIRECTIVE",e[e.COMMENT=2]="COMMENT"}(f||(t.LineType=f={}));const p=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function m(e,t){return t.hasOwnProperty(e.param)&&t[e.param]===e.value}function g(e){for(const t of e)if(t.type===f.DIRECTIVE&&"config"in t)for(const e of t.config)if(e.before)return e.before;return"  "}function v(e,t){const n=(e,n)=>{switch(e.toLowerCase()){case"all":return!0;case"final":return!!t.inFinalPass||(t.doFinalPass=!0,!1);case"exec":const e=`function main {\n          ${n}\n        }\n        main`;return 0===(0,i.spawnSync)(e,{shell:!0}).status;case"host":return(0,o.default)(n,t.params.HostName);case"originalhost":return(0,o.default)(n,t.params.OriginalHost);case"user":return(0,o.default)(n,t.params.User);case"localuser":return(0,o.default)(n,t.params.LocalUser)}};for(const t in e)if(!n(t,e[t]))return!1;return!0}class y extends Array{static parse(e){return w(e)}static stringify(e){return S(e)}compute(e){let t;"string"==typeof e&&(e={Host:e});try{t=s.default.userInfo()}catch(e){t={username:process.env.USER||process.env.USERNAME||""}}const n={params:{Host:e.Host,HostName:e.Host,OriginalHost:e.Host,User:t.username,LocalUser:t.username},inFinalPass:!1,doFinalPass:!1},r={},a=(e,t)=>{p.includes(e)?(r[e]||(r[e]=[])).push(t):null==r[e]&&("HostName"===e?n.params.HostName=t:"User"===e&&(n.params.User=t),r[e]=t)};void 0!==e.User&&a("User",e.User);const c=()=>{for(const e of this)if(e.type===f.DIRECTIVE)if("Host"===e.param&&(0,o.default)(e.value,n.params.Host)){let t=!1,r=[];a(e.param,e.value);for(const n of e.config)n.type===f.DIRECTIVE&&(a(n.param,n.value),/^CanonicalizeHostName$/i.test(n.param)&&"yes"===n.value&&(t=!0),/^CanonicalDomains$/i.test(n.param)&&Array.isArray(n.value)&&(r=n.value));if(r.length>0&&t&&n.params.Host===n.params.OriginalHost)for(const e of r){const t=`${n.params.OriginalHost}.${e}`,{status:r,stderr:o}=(0,i.spawnSync)("nslookup",[t]);if(0===r&&!/can't find/.test(o.toString())){n.params.Host=t,a("Host",t),c();break}}}else if("Match"===e.param&&"criteria"in e&&v(e.criteria,n))for(const t of e.config)t.type===f.DIRECTIVE&&a(t.param,t.value);else"Host"!==e.param&&"Match"!==e.param&&a(e.param,e.value)};return c(),n.doFinalPass&&(n.inFinalPass=!0,n.params.Host=n.params.HostName,c()),r}find(e){if("function"==typeof e)return super.find(e);if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only find by Host or Match");return super.find((t=>m(t,e)))}remove(e){let t;if("function"==typeof e)t=super.findIndex(e);else{if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only remove by Host or Match");t=super.findIndex((t=>m(t,e)))}if(t>=0)return this.splice(t,1)}toString(){return S(this)}append(e){const t=g(this),n=this.length>0?this[this.length-1]:null;let r=n&&n.config||this,o=this,i=r.length>0?r[r.length-1]:n;i&&!i.after&&(i.after="\n");let s=r!==o;for(const n in e){const a=e[n],c={type:f.DIRECTIVE,param:n,separator:" ",value:a,before:s?t:t.replace(/  |\t/,""),after:"\n"};l.test(n)?(s=!0,c.before=t.replace(/  |\t/,""),r=o,i&&"\n"===i.after&&(i.after+="\n"),r.push(c),r=c.config=new y):r.push(c),i=c}return o}prepend(e,t=!1){const n=g(this);let r=this,o=0;if(t){for(;o<this.length&&!("config"in this[o]);)o+=1;if(o>=this.length)return this.append(e)}let i=!1,s=0;for(const t in e){s+=1;const a=e[t],c={type:f.DIRECTIVE,param:t,separator:" ",value:a,before:"",after:"\n"};l.test(t)?(c.before=n.replace(/  |\t/,""),r.splice(o,0,c),r=c.config=new y,i=!0):(s===Object.keys(e).length&&(c.after+="\n"),i?(c.before=n,r.push(c)):(r.splice(o,0,c),o+=1,h.test(t)&&(c.after+="\n")))}return r}}function w(e){let t=0,n=i(),r=new y,o=r;function i(){return e[t++]}function s(){let e="";for(;a.test(n);)e+=n,n=i();return e}function d(){let e=s();return"="===n&&(e+=n,n=i()),e+s()}function h(){let e="",t=!1,r=!1;for(;n&&!c.test(n);){if(r)e+='"'===n?n:`\\${n}`,r=!1;else if('"'!==n||e&&!t)if("\\"===n)r=!0;else{if("#"===n&&!t)break;e+=n}else t=!t;n=i()}if(t||r)throw new Error(`Unexpected line break at ${e}`);return e.trim()}function p(){const e=[];let t="",r=!1,o=!1;for(;n&&!c.test(n);){if(o)t+='"'===n?n:`\\${n}`,o=!1;else if('"'===n)r=!r;else if("\\"===n)o=!0;else if(r)t+=n;else if(/[ \t=]/.test(n))t&&(e.push(t),t="");else{if("#"===n&&e.length>0)break;t+=n}n=i()}if(r||o)throw new Error(`Unexpected line break at ${e.concat(t).join(" ")}`);return t&&e.push(t),e.length>1?e:e[0]}function m(){const e=s(),t="#"===n?function(){const e=f.COMMENT;let t="";for(;n&&!c.test(n);)t+=n,n=i();return{type:e,content:t,before:"",after:""}}():function(){const e=f.DIRECTIVE,t=function(){let e="";for(;n&&/[^ \t=]/.test(n);)e+=n,n=i();return e}(),r=u.test(t),o={type:e,param:t,separator:d(),quoted:!r&&'"'===n,value:r?p():h(),before:"",after:""};if(o.quoted||delete o.quoted,/^Match$/i.test(t)){const e={};"string"==typeof o.value&&(o.value=[o.value]);let t=0;for(;t<o.value.length;){const n=o.value[t];switch(n.toLowerCase()){case"all":case"canonical":case"final":e[n]=[],t+=1;break;default:if(t+1>=o.value.length)throw new Error(`Missing value for match criteria ${n}`);e[n]=o.value[t+1],t+=2}}o.criteria=e}return o}(),r=function(){let e="";for(;c.test(n);)e+=n,n=i();return e}();return t.before=e,t.after=r,t}for(;n;){let e=m();e.type===f.DIRECTIVE&&l.test(e.param)?(r=o,r.push(e),r=e.config=new y):e.type!==f.DIRECTIVE||e.param?r.push(e):0===r.length?o[o.length-1].after+=e.before:r[r.length-1].after+=e.before}return o}function S(e){let t="";function n(e,t){return Array.isArray(e)?e.map((e=>n(e,a.test(e)))).join(" "):t?`"${e}"`:e}function r(e){const t=e.quoted||d.test(e.param)&&a.test(e.value),r=n(e.value,t);return`${e.param}${e.separator}${r}`}const o=e=>{t+=e.before,e.type===f.COMMENT?t+=e.content:e.type===f.DIRECTIVE&&p.includes(e.param)?[].concat(e.value).forEach((function(n,o,i){t+=r({...e,value:n}),o<i.length-1&&(t+=`\n${e.before}`)})):e.type===f.DIRECTIVE&&(t+=r(e)),t+=e.after,e.config&&e.config.forEach(o)};return e.forEach(o),t}y.DIRECTIVE=f.DIRECTIVE,y.COMMENT=f.COMMENT,t.default=y,t.parse=w,t.stringify=S},7513:(e,t,n)=>{"use strict";const r=n(6231),o=n(6108),i=n(3371),s=e=>{if("string"!=typeof e||0===e.length)return 0;if(0===(e=r(e)).length)return 0;e=e.replace(i(),"  ");let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);r<=31||r>=127&&r<=159||r>=768&&r<=879||(r>65535&&n++,t+=o(r)?2:1)}return t};e.exports=s,e.exports.default=s},6231:(e,t,n)=>{"use strict";const r=n(9880);e.exports=e=>"string"==typeof e?e.replace(r(),""):e},7687:(e,t,n)=>{"use strict";const r=n(857),o=n(2018),i=n(5884),{env:s}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===s.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||"codeship"===s.CI_NAME?1:n;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:n}i("no-color")||i("no-colors")||i("color=false")||i("color=never")?a=0:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(a=1),"FORCE_COLOR"in s&&(a="true"===s.FORCE_COLOR?1:"false"===s.FORCE_COLOR?0:0===s.FORCE_COLOR.length?1:Math.min(parseInt(s.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},4318:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alignVerticalRangeContent=t.wrapRangeContent=void 0;const o=r(n(7513)),i=n(7009),s=n(7819),a=n(9022),c=n(2355),l=n(5268),u=n(6465);t.wrapRangeContent=(e,t,n)=>{const{topLeft:r,paddingRight:o,paddingLeft:s,truncate:l,wrapWord:d,alignment:h}=e,f=n.rows[r.row][r.col],p=t-s-o;return(0,u.wrapCell)((0,c.truncateString)(f,l),p,d).map((e=>{const t=(0,i.alignString)(e,p,h);return(0,a.padString)(t,s,o)}))},t.alignVerticalRangeContent=(e,t,n)=>{const{rows:r,drawHorizontalLine:i,rowHeights:a}=n,{topLeft:c,bottomRight:u,verticalAlignment:d}=e;if(0===a.length)return[];const h=(0,l.sumArray)(a.slice(c.row,u.row+1))+(u.row-c.row)-(0,l.sequence)(c.row+1,u.row).filter((e=>!i(e,r.length))).length;return(0,s.padCellVertically)(t,h,d).map((e=>0===e.length?" ".repeat((0,o.default)(t[0])):e))}},7009:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.alignString=void 0;const o=r(n(7513)),i=n(5268),s=(e,t)=>e+" ".repeat(t);t.alignString=(e,t,n)=>{const r=(0,o.default)(e);if(r===t)return e;if(r>t)throw new Error("Subject parameter value width cannot be greater than the container width.");if(0===r)return" ".repeat(t);const a=t-r;return"left"===n?s(e,a):"right"===n?((e,t)=>" ".repeat(t)+e)(e,a):"justify"===n?((e,t)=>{const n=(0,i.countSpaceSequence)(e);if(0===n)return s(e,t);const r=(0,i.distributeUnevenly)(t,n);if(Math.max(...r)>3)return s(e,t);let o=0;return e.replace(/\s+/g,(e=>e+" ".repeat(r[o++])))})(e,a):((e,t)=>" ".repeat(Math.floor(t/2))+e+" ".repeat(Math.ceil(t/2)))(e,a)}},1454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.alignTableData=void 0;const r=n(7009);t.alignTableData=(e,t)=>e.map(((e,n)=>e.map(((e,o)=>{var i;const{width:s,alignment:a}=t.columns[o];return(null===(i=t.spanningCellManager)||void 0===i?void 0:i.getContainingRange({col:o,row:n},{mapped:!0}))?e:(0,r.alignString)(e,s,a)}))))},2394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateCellHeight=void 0;const r=n(6465);t.calculateCellHeight=(e,t,n=!1)=>(0,r.wrapCell)(e,t,n).length},1280:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateMaximumColumnWidths=t.calculateMaximumCellWidth=void 0;const o=r(n(7513)),i=n(5268);t.calculateMaximumCellWidth=e=>Math.max(...e.split("\n").map(o.default)),t.calculateMaximumColumnWidths=(e,n=[])=>{const r=new Array(e[0].length).fill(0),o=n.map(i.calculateRangeCoordinate);return e.forEach(((e,n)=>{e.forEach(((e,s)=>{((e,t)=>o.some((n=>(0,i.isCellInRange)({col:t,row:e},n))))(n,s)||(r[s]=Math.max(r[s],(0,t.calculateMaximumCellWidth)(e)))}))})),r}},5575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateOutputColumnWidths=void 0,t.calculateOutputColumnWidths=e=>e.columns.map((e=>e.paddingLeft+e.width+e.paddingRight))},557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateRowHeights=void 0;const r=n(2394),o=n(5268);t.calculateRowHeights=(e,t)=>{const n=[];for(const[i,s]of e.entries()){let a=1;s.forEach(((s,c)=>{var l;const u=null===(l=t.spanningCellManager)||void 0===l?void 0:l.getContainingRange({col:c,row:i});if(!u){const e=(0,r.calculateCellHeight)(s,t.columns[c].width,t.columns[c].wrapWord);return void(a=Math.max(a,e))}const{topLeft:d,bottomRight:h,height:f}=u;if(i===h.row){const r=(0,o.sumArray)(n.slice(d.row)),i=h.row-d.row,s=(0,o.sequence)(d.row+1,h.row).filter((n=>{var r;return!(null===(r=t.drawHorizontalLine)||void 0===r?void 0:r.call(t,n,e.length))})).length,c=f-r-i+s;a=Math.max(a,c)}})),n.push(a)}return n}},3:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateSpanningCellWidth=void 0;const r=n(5268);t.calculateSpanningCellWidth=(e,t)=>{const{columnsConfig:n,drawVerticalLine:o}=t,{topLeft:i,bottomRight:s}=e;return(0,r.sumArray)(n.slice(i.col,s.col+1).map((({width:e})=>e)))+(i.col===s.col?n[i.col].paddingRight+n[s.col].paddingLeft:(0,r.sumArray)(n.slice(i.col,s.col+1).map((({paddingLeft:e,paddingRight:t})=>e+t))))+(s.col-i.col)-(0,r.sequence)(i.col+1,s.col).filter((e=>!o(e,n.length))).length}},7577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStream=void 0;const r=n(1454),o=n(557),i=n(8549),s=n(8711),a=n(1281),c=n(7819),l=n(9022),u=n(1646),d=n(2355),h=n(5268),f=(e,t)=>{let n=(0,u.stringifyTableData)(e);n=(0,d.truncateTableData)(n,(0,h.extractTruncates)(t));const i=(0,o.calculateRowHeights)(n,t);return n=(0,c.mapDataUsingRowHeights)(n,i,t),n=(0,r.alignTableData)(n,t),n=(0,l.padTableData)(n,t),n};t.createStream=e=>{const t=(0,a.makeStreamConfig)(e),n=Object.values(t.columns).map((e=>e.width+e.paddingLeft+e.paddingRight));let r=!0;return{write:e=>{if(e.length!==t.columnCount)throw new Error("Row cell count does not match the config.columnCount.");r?(r=!1,((e,t,n)=>{const r=f([e],n).map((e=>(0,s.drawRow)(e,n))).join("");let o;o="",o+=(0,i.drawBorderTop)(t,n),o+=r,o+=(0,i.drawBorderBottom)(t,n),o=o.trimEnd(),process.stdout.write(o)})(e,n,t)):((e,t,n)=>{const r=f([e],n).map((e=>(0,s.drawRow)(e,n))).join("");let o="";const a=(0,i.drawBorderBottom)(t,n);"\n"!==a&&(o="\r[K"),o+=(0,i.drawBorderJoin)(t,n),o+=r,o+=a,o=o.trimEnd(),process.stdout.write(o)})(e,n,t)}}}},8549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTableBorderGetter=t.drawBorderBottom=t.drawBorderJoin=t.drawBorderTop=t.drawBorder=t.createSeparatorGetter=t.drawBorderSegments=void 0;const r=n(1490);t.drawBorderSegments=(e,t)=>{const{separator:n,horizontalBorderIndex:r,spanningCellManager:o}=t;return e.map(((e,t)=>{const i=n.body.repeat(e);if(void 0===r)return i;const s=null==o?void 0:o.getContainingRange({col:t,row:r});if(!s)return i;const{topLeft:a}=s;return r===a.row?i:t!==a.col?"":s.extractBorderContent(r)}))},t.createSeparatorGetter=e=>{const{separator:t,spanningCellManager:n,horizontalBorderIndex:r,rowCount:o}=e;return(e,i)=>{const s=null==n?void 0:n.inSameRange;if(void 0!==r&&s){const n={col:e,row:r-1},a={col:e-1,row:r},c={col:e-1,row:r-1},l={col:e,row:r},u=[[c,n],[n,l],[l,a],[a,c]];if(0===e)return s(l,n)&&t.bodyJoinOuter?t.bodyJoinOuter:t.left;if(e===i)return s(c,a)&&t.bodyJoinOuter?t.bodyJoinOuter:t.right;if(0===r)return s(l,a)?t.body:t.join;if(r===o)return s(n,c)?t.body:t.join;const d=u.map((e=>s(...e))).filter(Boolean).length;if(0===d)return t.join;if(4===d)return"";if(2===d)return s(...u[1])&&s(...u[3])&&t.bodyJoinInner?t.bodyJoinInner:t.body;if(1===d){if(!(t.joinRight&&t.joinLeft&&t.joinUp&&t.joinDown))throw new Error(`Can not get border separator for position [${r}, ${e}]`);return s(...u[0])?t.joinDown:s(...u[1])?t.joinLeft:s(...u[2])?t.joinUp:t.joinRight}throw new Error("Invalid case")}return 0===e?t.left:e===i?t.right:t.join}},t.drawBorder=(e,n)=>{const o=(0,t.drawBorderSegments)(e,n),{drawVerticalLine:i,horizontalBorderIndex:s,spanningCellManager:a}=n;return(0,r.drawContent)({contents:o,drawSeparator:i,elementType:"border",rowIndex:s,separatorGetter:(0,t.createSeparatorGetter)(n),spanningCellManager:a})+"\n"},t.drawBorderTop=(e,n)=>{const{border:r}=n,o=(0,t.drawBorder)(e,{...n,separator:{body:r.topBody,join:r.topJoin,left:r.topLeft,right:r.topRight}});return"\n"===o?"":o},t.drawBorderJoin=(e,n)=>{const{border:r}=n;return(0,t.drawBorder)(e,{...n,separator:{body:r.joinBody,bodyJoinInner:r.bodyJoin,bodyJoinOuter:r.bodyLeft,join:r.joinJoin,joinDown:r.joinMiddleDown,joinLeft:r.joinMiddleLeft,joinRight:r.joinMiddleRight,joinUp:r.joinMiddleUp,left:r.joinLeft,right:r.joinRight}})},t.drawBorderBottom=(e,n)=>{const{border:r}=n;return(0,t.drawBorder)(e,{...n,separator:{body:r.bottomBody,join:r.bottomJoin,left:r.bottomLeft,right:r.bottomRight}})},t.createTableBorderGetter=(e,n)=>(r,o)=>{const i={...n,horizontalBorderIndex:r};return 0===r?(0,t.drawBorderTop)(e,i):r===o?(0,t.drawBorderBottom)(e,i):(0,t.drawBorderJoin)(e,i)}},1490:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawContent=void 0,t.drawContent=e=>{const{contents:t,separatorGetter:n,drawSeparator:r,spanningCellManager:o,rowIndex:i,elementType:s}=e,a=t.length,c=[];return r(0,a)&&c.push(n(0,a)),t.forEach(((e,t)=>{if(s&&"border"!==s&&"row"!==s||c.push(e),"cell"===s&&void 0===i&&c.push(e),"cell"===s&&void 0!==i){const n=null==o?void 0:o.getContainingRange({col:t,row:i});n&&t!==n.topLeft.col||c.push(e)}if(t+1<a&&r(t+1,a)){const e=n(t+1,a);if("cell"===s&&void 0!==i){const n={col:t+1,row:i},r=null==o?void 0:o.getContainingRange(n);r&&r.topLeft.col!==n.col||c.push(e)}else c.push(e)}})),r(a,a)&&c.push(n(a,a)),c.join("")}},8711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawRow=void 0;const r=n(1490);t.drawRow=(e,t)=>{const{border:n,drawVerticalLine:o,rowIndex:i,spanningCellManager:s}=t;return(0,r.drawContent)({contents:e,drawSeparator:o,elementType:"cell",rowIndex:i,separatorGetter:(e,t)=>0===e?n.bodyLeft:e===t?n.bodyRight:n.bodyJoin,spanningCellManager:s})+"\n"}},1847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawTable=void 0;const r=n(8549),o=n(1490),i=n(8711),s=n(5268);t.drawTable=(e,t,n,a)=>{const{drawHorizontalLine:c,singleLine:l}=a,u=(0,s.groupBySizes)(e,n).map(((e,t)=>e.map((e=>(0,i.drawRow)(e,{...a,rowIndex:t}))).join("")));return(0,o.drawContent)({contents:u,drawSeparator:(e,t)=>(0===e||e===t||!l)&&c(e,t),elementType:"row",rowIndex:-1,separatorGetter:(0,r.createTableBorderGetter)(t,{...a,rowCount:u.length}),spanningCellManager:a.spanningCellManager})}},5592:(e,t,n)=>{"use strict";t["config.json"]=function e(t,{instancePath:n="",parentData:o,parentDataProperty:s,rootData:c=t}={}){let u=null,d=0;if(t&&"object"==typeof t&&!Array.isArray(t)){for(const e in t)if("border"!==e&&"header"!==e&&"columns"!==e&&"columnDefault"!==e&&"drawVerticalLine"!==e&&"drawHorizontalLine"!==e&&"singleLine"!==e&&"spanningCells"!==e){const t={instancePath:n,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===u?u=[t]:u.push(t),d++}if(void 0!==t.border&&(a(t.border,{instancePath:n+"/border",parentData:t,parentDataProperty:"border",rootData:c})||(u=null===u?a.errors:u.concat(a.errors),d=u.length)),void 0!==t.header){let e=t.header;if(e&&"object"==typeof e&&!Array.isArray(e)){if(void 0===e.content){const e={instancePath:n+"/header",schemaPath:"#/properties/header/required",keyword:"required",params:{missingProperty:"content"},message:"must have required property 'content'"};null===u?u=[e]:u.push(e),d++}for(const t in e)if("content"!==t&&"alignment"!==t&&"wrapWord"!==t&&"truncate"!==t&&"paddingLeft"!==t&&"paddingRight"!==t){const e={instancePath:n+"/header",schemaPath:"#/properties/header/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:t},message:"must NOT have additional properties"};null===u?u=[e]:u.push(e),d++}if(void 0!==e.content&&"string"!=typeof e.content){const e={instancePath:n+"/header/content",schemaPath:"#/properties/header/properties/content/type",keyword:"type",params:{type:"string"},message:"must be string"};null===u?u=[e]:u.push(e),d++}if(void 0!==e.alignment&&(l(e.alignment,{instancePath:n+"/header/alignment",parentData:e,parentDataProperty:"alignment",rootData:c})||(u=null===u?l.errors:u.concat(l.errors),d=u.length)),void 0!==e.wrapWord&&"boolean"!=typeof e.wrapWord){const e={instancePath:n+"/header/wrapWord",schemaPath:"#/properties/header/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===u?u=[e]:u.push(e),d++}if(void 0!==e.truncate){let t=e.truncate;if("number"!=typeof t||t%1||isNaN(t)||!isFinite(t)){const e={instancePath:n+"/header/truncate",schemaPath:"#/properties/header/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}if(void 0!==e.paddingLeft){let t=e.paddingLeft;if("number"!=typeof t||t%1||isNaN(t)||!isFinite(t)){const e={instancePath:n+"/header/paddingLeft",schemaPath:"#/properties/header/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}if(void 0!==e.paddingRight){let t=e.paddingRight;if("number"!=typeof t||t%1||isNaN(t)||!isFinite(t)){const e={instancePath:n+"/header/paddingRight",schemaPath:"#/properties/header/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}}else{const e={instancePath:n+"/header",schemaPath:"#/properties/header/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.columns&&(m(t.columns,{instancePath:n+"/columns",parentData:t,parentDataProperty:"columns",rootData:c})||(u=null===u?m.errors:u.concat(m.errors),d=u.length)),void 0!==t.columnDefault&&(g(t.columnDefault,{instancePath:n+"/columnDefault",parentData:t,parentDataProperty:"columnDefault",rootData:c})||(u=null===u?g.errors:u.concat(g.errors),d=u.length)),void 0!==t.drawVerticalLine&&"function"!=typeof t.drawVerticalLine){const e={instancePath:n+"/drawVerticalLine",schemaPath:"#/properties/drawVerticalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};null===u?u=[e]:u.push(e),d++}if(void 0!==t.drawHorizontalLine&&"function"!=typeof t.drawHorizontalLine){const e={instancePath:n+"/drawHorizontalLine",schemaPath:"#/properties/drawHorizontalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};null===u?u=[e]:u.push(e),d++}if(void 0!==t.singleLine&&"boolean"!=typeof t.singleLine){const e={instancePath:n+"/singleLine",schemaPath:"#/properties/singleLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};null===u?u=[e]:u.push(e),d++}if(void 0!==t.spanningCells){let e=t.spanningCells;if(Array.isArray(e)){const t=e.length;for(let o=0;o<t;o++){let t=e[o];if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.row){const e={instancePath:n+"/spanningCells/"+o,schemaPath:"#/properties/spanningCells/items/required",keyword:"required",params:{missingProperty:"row"},message:"must have required property 'row'"};null===u?u=[e]:u.push(e),d++}if(void 0===t.col){const e={instancePath:n+"/spanningCells/"+o,schemaPath:"#/properties/spanningCells/items/required",keyword:"required",params:{missingProperty:"col"},message:"must have required property 'col'"};null===u?u=[e]:u.push(e),d++}for(const e in t)if(!i.call(r.properties.spanningCells.items.properties,e)){const t={instancePath:n+"/spanningCells/"+o,schemaPath:"#/properties/spanningCells/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===u?u=[t]:u.push(t),d++}if(void 0!==t.col){let e=t.col;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/col",schemaPath:"#/properties/spanningCells/items/properties/col/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}if("number"==typeof e&&isFinite(e)&&(e<0||isNaN(e))){const e={instancePath:n+"/spanningCells/"+o+"/col",schemaPath:"#/properties/spanningCells/items/properties/col/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.row){let e=t.row;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/row",schemaPath:"#/properties/spanningCells/items/properties/row/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}if("number"==typeof e&&isFinite(e)&&(e<0||isNaN(e))){const e={instancePath:n+"/spanningCells/"+o+"/row",schemaPath:"#/properties/spanningCells/items/properties/row/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.colSpan){let e=t.colSpan;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/colSpan",schemaPath:"#/properties/spanningCells/items/properties/colSpan/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}if("number"==typeof e&&isFinite(e)&&(e<1||isNaN(e))){const e={instancePath:n+"/spanningCells/"+o+"/colSpan",schemaPath:"#/properties/spanningCells/items/properties/colSpan/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.rowSpan){let e=t.rowSpan;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/rowSpan",schemaPath:"#/properties/spanningCells/items/properties/rowSpan/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}if("number"==typeof e&&isFinite(e)&&(e<1||isNaN(e))){const e={instancePath:n+"/spanningCells/"+o+"/rowSpan",schemaPath:"#/properties/spanningCells/items/properties/rowSpan/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.alignment&&(l(t.alignment,{instancePath:n+"/spanningCells/"+o+"/alignment",parentData:t,parentDataProperty:"alignment",rootData:c})||(u=null===u?l.errors:u.concat(l.errors),d=u.length)),void 0!==t.verticalAlignment&&(v(t.verticalAlignment,{instancePath:n+"/spanningCells/"+o+"/verticalAlignment",parentData:t,parentDataProperty:"verticalAlignment",rootData:c})||(u=null===u?v.errors:u.concat(v.errors),d=u.length)),void 0!==t.wrapWord&&"boolean"!=typeof t.wrapWord){const e={instancePath:n+"/spanningCells/"+o+"/wrapWord",schemaPath:"#/properties/spanningCells/items/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===u?u=[e]:u.push(e),d++}if(void 0!==t.truncate){let e=t.truncate;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/truncate",schemaPath:"#/properties/spanningCells/items/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.paddingLeft){let e=t.paddingLeft;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/paddingLeft",schemaPath:"#/properties/spanningCells/items/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}if(void 0!==t.paddingRight){let e=t.paddingRight;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/spanningCells/"+o+"/paddingRight",schemaPath:"#/properties/spanningCells/items/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===u?u=[e]:u.push(e),d++}}}else{const e={instancePath:n+"/spanningCells/"+o,schemaPath:"#/properties/spanningCells/items/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[e]:u.push(e),d++}}}else{const e={instancePath:n+"/spanningCells",schemaPath:"#/properties/spanningCells/type",keyword:"type",params:{type:"array"},message:"must be array"};null===u?u=[e]:u.push(e),d++}}}else{const e={instancePath:n,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===u?u=[e]:u.push(e),d++}return e.errors=u,0===d};const r={$id:"config.json",$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{border:{$ref:"shared.json#/definitions/borders"},header:{type:"object",properties:{content:{type:"string"},alignment:{$ref:"shared.json#/definitions/alignment"},wrapWord:{type:"boolean"},truncate:{type:"integer"},paddingLeft:{type:"integer"},paddingRight:{type:"integer"}},required:["content"],additionalProperties:!1},columns:{$ref:"shared.json#/definitions/columns"},columnDefault:{$ref:"shared.json#/definitions/column"},drawVerticalLine:{typeof:"function"},drawHorizontalLine:{typeof:"function"},singleLine:{typeof:"boolean"},spanningCells:{type:"array",items:{type:"object",properties:{col:{type:"integer",minimum:0},row:{type:"integer",minimum:0},colSpan:{type:"integer",minimum:1},rowSpan:{type:"integer",minimum:1},alignment:{$ref:"shared.json#/definitions/alignment"},verticalAlignment:{$ref:"shared.json#/definitions/verticalAlignment"},wrapWord:{type:"boolean"},truncate:{type:"integer"},paddingLeft:{type:"integer"},paddingRight:{type:"integer"}},required:["row","col"],additionalProperties:!1}}},additionalProperties:!1},o={type:"object",properties:{topBody:{$ref:"#/definitions/border"},topJoin:{$ref:"#/definitions/border"},topLeft:{$ref:"#/definitions/border"},topRight:{$ref:"#/definitions/border"},bottomBody:{$ref:"#/definitions/border"},bottomJoin:{$ref:"#/definitions/border"},bottomLeft:{$ref:"#/definitions/border"},bottomRight:{$ref:"#/definitions/border"},bodyLeft:{$ref:"#/definitions/border"},bodyRight:{$ref:"#/definitions/border"},bodyJoin:{$ref:"#/definitions/border"},headerJoin:{$ref:"#/definitions/border"},joinBody:{$ref:"#/definitions/border"},joinLeft:{$ref:"#/definitions/border"},joinRight:{$ref:"#/definitions/border"},joinJoin:{$ref:"#/definitions/border"},joinMiddleUp:{$ref:"#/definitions/border"},joinMiddleDown:{$ref:"#/definitions/border"},joinMiddleLeft:{$ref:"#/definitions/border"},joinMiddleRight:{$ref:"#/definitions/border"}},additionalProperties:!1},i=Object.prototype.hasOwnProperty;function s(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,a=0;if("string"!=typeof e){const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),a++}return s.errors=i,0===a}function a(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:c=e}={}){let l=null,u=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if(!i.call(o.properties,n)){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===l?l=[e]:l.push(e),u++}void 0!==e.topBody&&(s(e.topBody,{instancePath:t+"/topBody",parentData:e,parentDataProperty:"topBody",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.topJoin&&(s(e.topJoin,{instancePath:t+"/topJoin",parentData:e,parentDataProperty:"topJoin",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.topLeft&&(s(e.topLeft,{instancePath:t+"/topLeft",parentData:e,parentDataProperty:"topLeft",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.topRight&&(s(e.topRight,{instancePath:t+"/topRight",parentData:e,parentDataProperty:"topRight",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bottomBody&&(s(e.bottomBody,{instancePath:t+"/bottomBody",parentData:e,parentDataProperty:"bottomBody",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bottomJoin&&(s(e.bottomJoin,{instancePath:t+"/bottomJoin",parentData:e,parentDataProperty:"bottomJoin",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bottomLeft&&(s(e.bottomLeft,{instancePath:t+"/bottomLeft",parentData:e,parentDataProperty:"bottomLeft",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bottomRight&&(s(e.bottomRight,{instancePath:t+"/bottomRight",parentData:e,parentDataProperty:"bottomRight",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bodyLeft&&(s(e.bodyLeft,{instancePath:t+"/bodyLeft",parentData:e,parentDataProperty:"bodyLeft",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bodyRight&&(s(e.bodyRight,{instancePath:t+"/bodyRight",parentData:e,parentDataProperty:"bodyRight",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.bodyJoin&&(s(e.bodyJoin,{instancePath:t+"/bodyJoin",parentData:e,parentDataProperty:"bodyJoin",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.headerJoin&&(s(e.headerJoin,{instancePath:t+"/headerJoin",parentData:e,parentDataProperty:"headerJoin",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinBody&&(s(e.joinBody,{instancePath:t+"/joinBody",parentData:e,parentDataProperty:"joinBody",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinLeft&&(s(e.joinLeft,{instancePath:t+"/joinLeft",parentData:e,parentDataProperty:"joinLeft",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinRight&&(s(e.joinRight,{instancePath:t+"/joinRight",parentData:e,parentDataProperty:"joinRight",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinJoin&&(s(e.joinJoin,{instancePath:t+"/joinJoin",parentData:e,parentDataProperty:"joinJoin",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinMiddleUp&&(s(e.joinMiddleUp,{instancePath:t+"/joinMiddleUp",parentData:e,parentDataProperty:"joinMiddleUp",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinMiddleDown&&(s(e.joinMiddleDown,{instancePath:t+"/joinMiddleDown",parentData:e,parentDataProperty:"joinMiddleDown",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinMiddleLeft&&(s(e.joinMiddleLeft,{instancePath:t+"/joinMiddleLeft",parentData:e,parentDataProperty:"joinMiddleLeft",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length)),void 0!==e.joinMiddleRight&&(s(e.joinMiddleRight,{instancePath:t+"/joinMiddleRight",parentData:e,parentDataProperty:"joinMiddleRight",rootData:c})||(l=null===l?s.errors:l.concat(s.errors),u=l.length))}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===l?l=[e]:l.push(e),u++}return a.errors=l,0===u}const c={type:"string",enum:["left","right","center","justify"]};function l(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if("string"!=typeof e){const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),s++}if("left"!==e&&"right"!==e&&"center"!==e&&"justify"!==e){const e={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:c.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),s++}return l.errors=i,0===s}n(908).A;const u=new RegExp("^[0-9]+$","u");function d(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if("string"!=typeof e){const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),s++}if("left"!==e&&"right"!==e&&"center"!==e&&"justify"!==e){const e={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:c.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),s++}return d.errors=i,0===s}const h={type:"string",enum:["top","middle","bottom"]};function f(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if("string"!=typeof e){const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),s++}if("top"!==e&&"middle"!==e&&"bottom"!==e){const e={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:h.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),s++}return f.errors=i,0===s}function p(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if("alignment"!==n&&"verticalAlignment"!==n&&"width"!==n&&"wrapWord"!==n&&"truncate"!==n&&"paddingLeft"!==n&&"paddingRight"!==n){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.alignment&&(d(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:o})||(i=null===i?d.errors:i.concat(d.errors),s=i.length)),void 0!==e.verticalAlignment&&(f(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:o})||(i=null===i?f.errors:i.concat(f.errors),s=i.length)),void 0!==e.width){let n=e.width;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}if("number"==typeof n&&isFinite(n)&&(n<1||isNaN(n))){const e={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.wrapWord&&"boolean"!=typeof e.wrapWord){const e={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.truncate){let n=e.truncate;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingLeft){let n=e.paddingLeft;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingRight){let n=e.paddingRight;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),s++}return p.errors=i,0===s}function m(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;const a=s;let c=!1,l=null;const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if(!u.test(n)){const e={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),s++}for(const n in e)u.test(n)&&(p(e[n],{instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:n,rootData:o})||(i=null===i?p.errors:i.concat(p.errors),s=i.length))}else{const e={instancePath:t,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),s++}d===s&&(c=!0,l=0);const h=s;if(Array.isArray(e)){const n=e.length;for(let r=0;r<n;r++)p(e[r],{instancePath:t+"/"+r,parentData:e,parentDataProperty:r,rootData:o})||(i=null===i?p.errors:i.concat(p.errors),s=i.length)}else{const e={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),s++}var f;if((f=h===s)&&c?(c=!1,l=[l,1]):f&&(c=!0,l=1),c)s=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),s++}return m.errors=i,0===s}function g(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if("alignment"!==n&&"verticalAlignment"!==n&&"width"!==n&&"wrapWord"!==n&&"truncate"!==n&&"paddingLeft"!==n&&"paddingRight"!==n){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.alignment&&(d(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:o})||(i=null===i?d.errors:i.concat(d.errors),s=i.length)),void 0!==e.verticalAlignment&&(f(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:o})||(i=null===i?f.errors:i.concat(f.errors),s=i.length)),void 0!==e.width){let n=e.width;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}if("number"==typeof n&&isFinite(n)&&(n<1||isNaN(n))){const e={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.wrapWord&&"boolean"!=typeof e.wrapWord){const e={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.truncate){let n=e.truncate;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingLeft){let n=e.paddingLeft;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingRight){let n=e.paddingRight;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),s++}return g.errors=i,0===s}function v(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if("string"!=typeof e){const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"string"},message:"must be string"};null===i?i=[e]:i.push(e),s++}if("top"!==e&&"middle"!==e&&"bottom"!==e){const e={instancePath:t,schemaPath:"#/enum",keyword:"enum",params:{allowedValues:h.enum},message:"must be equal to one of the allowed values"};null===i?i=[e]:i.push(e),s++}return v.errors=i,0===s}function y(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:a=e}={}){let c=null,l=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if(!i.call(o.properties,n)){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===c?c=[e]:c.push(e),l++}void 0!==e.topBody&&(s(e.topBody,{instancePath:t+"/topBody",parentData:e,parentDataProperty:"topBody",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.topJoin&&(s(e.topJoin,{instancePath:t+"/topJoin",parentData:e,parentDataProperty:"topJoin",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.topLeft&&(s(e.topLeft,{instancePath:t+"/topLeft",parentData:e,parentDataProperty:"topLeft",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.topRight&&(s(e.topRight,{instancePath:t+"/topRight",parentData:e,parentDataProperty:"topRight",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bottomBody&&(s(e.bottomBody,{instancePath:t+"/bottomBody",parentData:e,parentDataProperty:"bottomBody",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bottomJoin&&(s(e.bottomJoin,{instancePath:t+"/bottomJoin",parentData:e,parentDataProperty:"bottomJoin",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bottomLeft&&(s(e.bottomLeft,{instancePath:t+"/bottomLeft",parentData:e,parentDataProperty:"bottomLeft",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bottomRight&&(s(e.bottomRight,{instancePath:t+"/bottomRight",parentData:e,parentDataProperty:"bottomRight",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bodyLeft&&(s(e.bodyLeft,{instancePath:t+"/bodyLeft",parentData:e,parentDataProperty:"bodyLeft",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bodyRight&&(s(e.bodyRight,{instancePath:t+"/bodyRight",parentData:e,parentDataProperty:"bodyRight",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.bodyJoin&&(s(e.bodyJoin,{instancePath:t+"/bodyJoin",parentData:e,parentDataProperty:"bodyJoin",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.headerJoin&&(s(e.headerJoin,{instancePath:t+"/headerJoin",parentData:e,parentDataProperty:"headerJoin",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinBody&&(s(e.joinBody,{instancePath:t+"/joinBody",parentData:e,parentDataProperty:"joinBody",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinLeft&&(s(e.joinLeft,{instancePath:t+"/joinLeft",parentData:e,parentDataProperty:"joinLeft",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinRight&&(s(e.joinRight,{instancePath:t+"/joinRight",parentData:e,parentDataProperty:"joinRight",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinJoin&&(s(e.joinJoin,{instancePath:t+"/joinJoin",parentData:e,parentDataProperty:"joinJoin",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinMiddleUp&&(s(e.joinMiddleUp,{instancePath:t+"/joinMiddleUp",parentData:e,parentDataProperty:"joinMiddleUp",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinMiddleDown&&(s(e.joinMiddleDown,{instancePath:t+"/joinMiddleDown",parentData:e,parentDataProperty:"joinMiddleDown",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinMiddleLeft&&(s(e.joinMiddleLeft,{instancePath:t+"/joinMiddleLeft",parentData:e,parentDataProperty:"joinMiddleLeft",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length)),void 0!==e.joinMiddleRight&&(s(e.joinMiddleRight,{instancePath:t+"/joinMiddleRight",parentData:e,parentDataProperty:"joinMiddleRight",rootData:a})||(c=null===c?s.errors:c.concat(s.errors),l=c.length))}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===c?c=[e]:c.push(e),l++}return y.errors=c,0===l}function w(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;const a=s;let c=!1,l=null;const d=s;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if(!u.test(n)){const e={instancePath:t,schemaPath:"#/oneOf/0/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),s++}for(const n in e)u.test(n)&&(p(e[n],{instancePath:t+"/"+n.replace(/~/g,"~0").replace(/\//g,"~1"),parentData:e,parentDataProperty:n,rootData:o})||(i=null===i?p.errors:i.concat(p.errors),s=i.length))}else{const e={instancePath:t,schemaPath:"#/oneOf/0/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),s++}d===s&&(c=!0,l=0);const h=s;if(Array.isArray(e)){const n=e.length;for(let r=0;r<n;r++)p(e[r],{instancePath:t+"/"+r,parentData:e,parentDataProperty:r,rootData:o})||(i=null===i?p.errors:i.concat(p.errors),s=i.length)}else{const e={instancePath:t,schemaPath:"#/oneOf/1/type",keyword:"type",params:{type:"array"},message:"must be array"};null===i?i=[e]:i.push(e),s++}var f;if((f=h===s)&&c?(c=!1,l=[l,1]):f&&(c=!0,l=1),c)s=a,null!==i&&(a?i.length=a:i=null);else{const e={instancePath:t,schemaPath:"#/oneOf",keyword:"oneOf",params:{passingSchemas:l},message:"must match exactly one schema in oneOf"};null===i?i=[e]:i.push(e),s++}return w.errors=i,0===s}function S(e,{instancePath:t="",parentData:n,parentDataProperty:r,rootData:o=e}={}){let i=null,s=0;if(e&&"object"==typeof e&&!Array.isArray(e)){for(const n in e)if("alignment"!==n&&"verticalAlignment"!==n&&"width"!==n&&"wrapWord"!==n&&"truncate"!==n&&"paddingLeft"!==n&&"paddingRight"!==n){const e={instancePath:t,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:n},message:"must NOT have additional properties"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.alignment&&(d(e.alignment,{instancePath:t+"/alignment",parentData:e,parentDataProperty:"alignment",rootData:o})||(i=null===i?d.errors:i.concat(d.errors),s=i.length)),void 0!==e.verticalAlignment&&(f(e.verticalAlignment,{instancePath:t+"/verticalAlignment",parentData:e,parentDataProperty:"verticalAlignment",rootData:o})||(i=null===i?f.errors:i.concat(f.errors),s=i.length)),void 0!==e.width){let n=e.width;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/width",schemaPath:"#/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}if("number"==typeof n&&isFinite(n)&&(n<1||isNaN(n))){const e={instancePath:t+"/width",schemaPath:"#/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.wrapWord&&"boolean"!=typeof e.wrapWord){const e={instancePath:t+"/wrapWord",schemaPath:"#/properties/wrapWord/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};null===i?i=[e]:i.push(e),s++}if(void 0!==e.truncate){let n=e.truncate;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/truncate",schemaPath:"#/properties/truncate/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingLeft){let n=e.paddingLeft;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingLeft",schemaPath:"#/properties/paddingLeft/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}if(void 0!==e.paddingRight){let n=e.paddingRight;if("number"!=typeof n||n%1||isNaN(n)||!isFinite(n)){const e={instancePath:t+"/paddingRight",schemaPath:"#/properties/paddingRight/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===i?i=[e]:i.push(e),s++}}}else{const e={instancePath:t,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===i?i=[e]:i.push(e),s++}return S.errors=i,0===s}t["streamConfig.json"]=function e(t,{instancePath:n="",parentData:r,parentDataProperty:o,rootData:i=t}={}){let s=null,a=0;if(t&&"object"==typeof t&&!Array.isArray(t)){if(void 0===t.columnDefault){const e={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"columnDefault"},message:"must have required property 'columnDefault'"};null===s?s=[e]:s.push(e),a++}if(void 0===t.columnCount){const e={instancePath:n,schemaPath:"#/required",keyword:"required",params:{missingProperty:"columnCount"},message:"must have required property 'columnCount'"};null===s?s=[e]:s.push(e),a++}for(const e in t)if("border"!==e&&"columns"!==e&&"columnDefault"!==e&&"columnCount"!==e&&"drawVerticalLine"!==e){const t={instancePath:n,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:e},message:"must NOT have additional properties"};null===s?s=[t]:s.push(t),a++}if(void 0!==t.border&&(y(t.border,{instancePath:n+"/border",parentData:t,parentDataProperty:"border",rootData:i})||(s=null===s?y.errors:s.concat(y.errors),a=s.length)),void 0!==t.columns&&(w(t.columns,{instancePath:n+"/columns",parentData:t,parentDataProperty:"columns",rootData:i})||(s=null===s?w.errors:s.concat(w.errors),a=s.length)),void 0!==t.columnDefault&&(S(t.columnDefault,{instancePath:n+"/columnDefault",parentData:t,parentDataProperty:"columnDefault",rootData:i})||(s=null===s?S.errors:s.concat(S.errors),a=s.length)),void 0!==t.columnCount){let e=t.columnCount;if("number"!=typeof e||e%1||isNaN(e)||!isFinite(e)){const e={instancePath:n+"/columnCount",schemaPath:"#/properties/columnCount/type",keyword:"type",params:{type:"integer"},message:"must be integer"};null===s?s=[e]:s.push(e),a++}if("number"==typeof e&&isFinite(e)&&(e<1||isNaN(e))){const e={instancePath:n+"/columnCount",schemaPath:"#/properties/columnCount/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};null===s?s=[e]:s.push(e),a++}}if(void 0!==t.drawVerticalLine&&"function"!=typeof t.drawVerticalLine){const e={instancePath:n+"/drawVerticalLine",schemaPath:"#/properties/drawVerticalLine/typeof",keyword:"typeof",params:{},message:'must pass "typeof" keyword validation'};null===s?s=[e]:s.push(e),a++}}else{const e={instancePath:n,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};null===s?s=[e]:s.push(e),a++}return e.errors=s,0===a}},5135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBorderCharacters=void 0,t.getBorderCharacters=e=>{if("honeywell"===e)return{topBody:"═",topJoin:"╤",topLeft:"╔",topRight:"╗",bottomBody:"═",bottomJoin:"╧",bottomLeft:"╚",bottomRight:"╝",bodyLeft:"║",bodyRight:"║",bodyJoin:"│",headerJoin:"┬",joinBody:"─",joinLeft:"╟",joinRight:"╢",joinJoin:"┼",joinMiddleDown:"┬",joinMiddleUp:"┴",joinMiddleLeft:"┤",joinMiddleRight:"├"};if("norc"===e)return{topBody:"─",topJoin:"┬",topLeft:"┌",topRight:"┐",bottomBody:"─",bottomJoin:"┴",bottomLeft:"└",bottomRight:"┘",bodyLeft:"│",bodyRight:"│",bodyJoin:"│",headerJoin:"┬",joinBody:"─",joinLeft:"├",joinRight:"┤",joinJoin:"┼",joinMiddleDown:"┬",joinMiddleUp:"┴",joinMiddleLeft:"┤",joinMiddleRight:"├"};if("ramac"===e)return{topBody:"-",topJoin:"+",topLeft:"+",topRight:"+",bottomBody:"-",bottomJoin:"+",bottomLeft:"+",bottomRight:"+",bodyLeft:"|",bodyRight:"|",bodyJoin:"|",headerJoin:"+",joinBody:"-",joinLeft:"|",joinRight:"|",joinJoin:"|",joinMiddleDown:"+",joinMiddleUp:"+",joinMiddleLeft:"+",joinMiddleRight:"+"};if("void"===e)return{topBody:"",topJoin:"",topLeft:"",topRight:"",bottomBody:"",bottomJoin:"",bottomLeft:"",bottomRight:"",bodyLeft:"",bodyRight:"",bodyJoin:"",headerJoin:"",joinBody:"",joinLeft:"",joinRight:"",joinJoin:"",joinMiddleDown:"",joinMiddleUp:"",joinMiddleLeft:"",joinMiddleRight:""};throw new Error('Unknown border template "'+e+'".')}},4249:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.getBorderCharacters=t.createStream=t.table=void 0;const i=n(7577);Object.defineProperty(t,"createStream",{enumerable:!0,get:function(){return i.createStream}});const s=n(5135);Object.defineProperty(t,"getBorderCharacters",{enumerable:!0,get:function(){return s.getBorderCharacters}});const a=n(1017);Object.defineProperty(t,"table",{enumerable:!0,get:function(){return a.table}}),o(n(4763),t)},31:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectHeaderConfig=void 0,t.injectHeaderConfig=(e,t)=>{var n;let r=null!==(n=t.spanningCells)&&void 0!==n?n:[];const o=t.header,i=[...e];if(o){r=r.map((({row:e,...t})=>({...t,row:e+1})));const{content:t,...n}=o;r.unshift({alignment:"center",col:0,colSpan:e[0].length,paddingLeft:1,paddingRight:1,row:0,wrapWord:!1,...n}),i.unshift([t,...Array.from({length:e[0].length-1}).fill("")])}return[i,r]}},1860:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRangeConfig=void 0;const r=n(5268);t.makeRangeConfig=(e,t)=>{var n;const{topLeft:o,bottomRight:i}=(0,r.calculateRangeCoordinate)(e);return{...{...t[o.col],...e,paddingRight:null!==(n=e.paddingRight)&&void 0!==n?n:t[i.col].paddingRight},bottomRight:i,topLeft:o}}},1281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeStreamConfig=void 0;const r=n(5268),o=n(6189),i=(e,t={},n)=>Array.from({length:e}).map(((e,r)=>({alignment:"left",paddingLeft:1,paddingRight:1,truncate:Number.POSITIVE_INFINITY,verticalAlignment:"top",wrapWord:!1,...n,...t[r]})));t.makeStreamConfig=e=>{if((0,o.validateConfig)("streamConfig.json",e),void 0===e.columnDefault.width)throw new Error("Must provide config.columnDefault.width when creating a stream.");return{drawVerticalLine:()=>!0,...e,border:(0,r.makeBorderConfig)(e.border),columns:i(e.columnCount,e.columns,e.columnDefault)}}},3829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeTableConfig=void 0;const r=n(1280),o=n(6204),i=n(5268),s=n(6189),a=n(5067);t.makeTableConfig=(e,t={},n)=>{var c,l,u,d,h;(0,s.validateConfig)("config.json",t),(0,a.validateSpanningCellConfig)(e,null!==(c=t.spanningCells)&&void 0!==c?c:[]);const f=null!==(l=null!=n?n:t.spanningCells)&&void 0!==l?l:[],p=((e,t,n,o)=>{const i=(0,r.calculateMaximumColumnWidths)(e,o);return e[0].map(((e,r)=>({alignment:"left",paddingLeft:1,paddingRight:1,truncate:Number.POSITIVE_INFINITY,verticalAlignment:"top",width:i[r],wrapWord:!1,...n,...null==t?void 0:t[r]})))})(e,t.columns,t.columnDefault,f),m=null!==(u=t.drawVerticalLine)&&void 0!==u?u:()=>!0,g=null!==(d=t.drawHorizontalLine)&&void 0!==d?d:()=>!0;return{...t,border:(0,i.makeBorderConfig)(t.border),columns:p,drawHorizontalLine:g,drawVerticalLine:m,singleLine:null!==(h=t.singleLine)&&void 0!==h&&h,spanningCellManager:(0,o.createSpanningCellManager)({columnsConfig:p,drawHorizontalLine:g,drawVerticalLine:m,rows:e,spanningCellConfigs:f})}}},7819:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapDataUsingRowHeights=t.padCellVertically=void 0;const r=n(5268),o=n(6465),i=e=>new Array(e).fill("");t.padCellVertically=(e,t,n)=>{const r=t-e.length;return"top"===n?[...e,...i(r)]:"bottom"===n?[...i(r),...e]:[...i(Math.floor(r/2)),...e,...i(Math.ceil(r/2))]},t.mapDataUsingRowHeights=(e,n,i)=>{const s=e[0].length,a=e.map(((e,r)=>{const a=n[r],c=Array.from({length:a},(()=>new Array(s).fill("")));return e.forEach(((e,n)=>{var s;const l=null===(s=i.spanningCellManager)||void 0===s?void 0:s.getContainingRange({col:n,row:r});if(l)return void l.extractCellContent(r).forEach(((e,t)=>{c[t][n]=e}));const u=(0,o.wrapCell)(e,i.columns[n].width,i.columns[n].wrapWord);(0,t.padCellVertically)(u,a,i.columns[n].verticalAlignment).forEach(((e,t)=>{c[t][n]=e}))})),c}));return(0,r.flatten)(a)}},9022:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.padTableData=t.padString=void 0,t.padString=(e,t,n)=>" ".repeat(t)+e+" ".repeat(n),t.padTableData=(e,n)=>e.map(((e,r)=>e.map(((e,o)=>{var i;if(null===(i=n.spanningCellManager)||void 0===i?void 0:i.getContainingRange({col:o,row:r},{mapped:!0}))return e;const{paddingLeft:s,paddingRight:a}=n.columns[o];return(0,t.padString)(e,s,a)}))))},6204:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSpanningCellManager=void 0;const r=n(4318),o=n(3),i=n(1860),s=n(5268),a=(e,t)=>t.find((t=>(0,s.isCellInRange)(e,t))),c=(e,t)=>{const n=(0,o.calculateSpanningCellWidth)(e,t),i=(0,r.wrapRangeContent)(e,n,t),a=(0,r.alignVerticalRangeContent)(e,i,t);return{...e,extractBorderContent:n=>{const{topLeft:r}=e,o=(0,s.sumArray)(t.rowHeights.slice(r.row,n))+(n-r.row-1);return a[o]},extractCellContent:n=>{const{topLeft:r}=e,{drawHorizontalLine:o,rowHeights:i}=t,c=n-r.row,l=(0,s.sequence)(r.row+1,n).filter((e=>!(null==o?void 0:o(e,i.length)))).length,u=(0,s.sumArray)(i.slice(r.row,n))+c-l;return a.slice(u,u+i[n])},height:i.length,width:n}};t.createSpanningCellManager=e=>{const{spanningCellConfigs:t,columnsConfig:n}=e,r=t.map((e=>(0,i.makeRangeConfig)(e,n))),o={};let l=[],u=[];return{getContainingRange:(t,n)=>{var i;const s=(null==n?void 0:n.mapped)?u[t.row]:t.row,d=a({...t,row:s},r);if(!d)return;if(0===l.length)return c(d,{...e,rowHeights:l});const h=(e=>{const{row:t,col:n}=e.topLeft;return`${t}/${n}`})(d);return null!==(i=o[h])&&void 0!==i||(o[h]=c(d,{...e,rowHeights:l})),o[h]},inSameRange:(e,t)=>((e,t,n)=>{const r=a(e,n),o=a(t,n);return!(!r||!o)&&(0,s.areCellEqual)(r.topLeft,o.topLeft)})(e,t,r),rowHeights:l,rowIndexMapping:u,setRowHeights:e=>{l=e},setRowIndexMapping:e=>{u=(0,s.flatten)(e.map(((e,t)=>Array.from({length:e},(()=>t)))))}}}},1646:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringifyTableData=void 0;const r=n(5268);t.stringifyTableData=e=>e.map((e=>e.map((e=>(0,r.normalizeString)(String(e))))))},1017:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.table=void 0;const r=n(1454),o=n(5575),i=n(557),s=n(1847),a=n(31),c=n(3829),l=n(7819),u=n(9022),d=n(1646),h=n(2355),f=n(5268),p=n(3367);t.table=(e,t={})=>{(0,p.validateTableData)(e);let n=(0,d.stringifyTableData)(e);const[m,g]=(0,a.injectHeaderConfig)(n,t),v=(0,c.makeTableConfig)(m,t,g);n=(0,h.truncateTableData)(m,(0,f.extractTruncates)(v));const y=(0,i.calculateRowHeights)(n,v);v.spanningCellManager.setRowHeights(y),v.spanningCellManager.setRowIndexMapping(y),n=(0,l.mapDataUsingRowHeights)(n,y,v),n=(0,r.alignTableData)(n,v),n=(0,u.padTableData)(n,v);const w=(0,o.calculateOutputColumnWidths)(v);return(0,s.drawTable)(n,w,y,v)}},2355:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.truncateTableData=t.truncateString=void 0;const o=r(n(7352));t.truncateString=(e,t)=>(0,o.default)(e,{length:t,omission:"…"}),t.truncateTableData=(e,n)=>e.map((e=>e.map(((e,r)=>(0,t.truncateString)(e,n[r])))))},4763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5268:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isCellInRange=t.areCellEqual=t.calculateRangeCoordinate=t.flatten=t.extractTruncates=t.sumArray=t.sequence=t.distributeUnevenly=t.countSpaceSequence=t.groupBySizes=t.makeBorderConfig=t.splitAnsi=t.normalizeString=void 0;const o=r(n(975)),i=r(n(7513)),s=r(n(6231)),a=n(5135);t.normalizeString=e=>e.replace(/\r\n/g,"\n"),t.splitAnsi=e=>{const t=(0,s.default)(e).split("\n").map(i.default),n=[];let r=0;return t.forEach((t=>{n.push(0===t?"":(0,o.default)(e,r,r+t)),r+=t+1})),n},t.makeBorderConfig=e=>({...(0,a.getBorderCharacters)("honeywell"),...e}),t.groupBySizes=(e,t)=>{let n=0;return t.map((t=>{const r=e.slice(n,n+t);return n+=t,r}))},t.countSpaceSequence=e=>{var t,n;return null!==(n=null===(t=e.match(/\s+/g))||void 0===t?void 0:t.length)&&void 0!==n?n:0},t.distributeUnevenly=(e,t)=>Array.from({length:t}).fill(Math.floor(e/t)).map(((n,r)=>n+(r<e%t?1:0))),t.sequence=(e,t)=>Array.from({length:t-e+1},((t,n)=>n+e)),t.sumArray=e=>e.reduce(((e,t)=>e+t),0),t.extractTruncates=e=>e.columns.map((({truncate:e})=>e)),t.flatten=e=>[].concat(...e),t.calculateRangeCoordinate=e=>{const{row:t,col:n,colSpan:r=1,rowSpan:o=1}=e;return{bottomRight:{col:n+r-1,row:t+o-1},topLeft:{col:n,row:t}}},t.areCellEqual=(e,t)=>e.row===t.row&&e.col===t.col,t.isCellInRange=(e,{topLeft:t,bottomRight:n})=>t.row<=e.row&&e.row<=n.row&&t.col<=e.col&&e.col<=n.col},6189:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateConfig=void 0;const o=r(n(5592));t.validateConfig=(e,t)=>{const n=o.default[e];if(!n(t)&&n.errors){const e=n.errors.map((e=>({message:e.message,params:e.params,schemaPath:e.schemaPath})));throw console.log("config",t),console.log("errors",e),new Error("Invalid config.")}}},5067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateSpanningCellConfig=void 0;const r=n(5268),o=(e,t,n)=>e<=n&&n<=t;t.validateSpanningCellConfig=(e,t)=>{const[n,i]=[e.length,e[0].length];t.forEach(((e,t)=>{const{colSpan:n,rowSpan:r}=e;if(void 0===n&&void 0===r)throw new Error(`Expect at least colSpan or rowSpan is provided in config.spanningCells[${t}]`);if(void 0!==n&&n<1)throw new Error(`Expect colSpan is not equal zero, instead got: ${n} in config.spanningCells[${t}]`);if(void 0!==r&&r<1)throw new Error(`Expect rowSpan is not equal zero, instead got: ${r} in config.spanningCells[${t}]`)}));const s=t.map(r.calculateRangeCoordinate);s.forEach((({topLeft:e,bottomRight:t},r)=>{if(!(o(0,i-1,e.col)&&o(0,n-1,e.row)&&o(0,i-1,t.col)&&o(0,n-1,t.row)))throw new Error(`Some cells in config.spanningCells[${r}] are out of the table`)}));const a=Array.from({length:n},(()=>Array.from({length:i})));s.forEach((({topLeft:e,bottomRight:t},n)=>{(0,r.sequence)(e.row,t.row).forEach((o=>{(0,r.sequence)(e.col,t.col).forEach((e=>{if(void 0!==a[o][e])throw new Error(`Spanning cells in config.spanningCells[${a[o][e]}] and config.spanningCells[${n}] are overlap each other`);a[o][e]=n}))}))}))}},3367:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateTableData=void 0;const r=n(5268);t.validateTableData=e=>{if(!Array.isArray(e))throw new TypeError("Table data must be an array.");if(0===e.length)throw new Error("Table must define at least one row.");if(0===e[0].length)throw new Error("Table must define at least one column.");const t=e[0].length;for(const n of e){if(!Array.isArray(n))throw new TypeError("Table row data must be an array.");if(n.length!==t)throw new Error("Table must have a consistent number of cells.");for(const e of n)if(/[\u0001-\u0006\u0008\u0009\u000B-\u001A]/.test((0,r.normalizeString)(String(e))))throw new Error("Table data must not contain control characters.")}}},6465:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapCell=void 0;const r=n(5268),o=n(2156),i=n(1005);t.wrapCell=(e,t,n)=>{const s=(0,r.splitAnsi)(e);for(let e=0;e<s.length;){let r;r=n?(0,i.wrapWord)(s[e],t):(0,o.wrapString)(s[e],t),s.splice(e,1,...r),e+=r.length}return s}},2156:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapString=void 0;const o=r(n(975)),i=r(n(7513));t.wrapString=(e,t)=>{let n=e;const r=[];do{r.push((0,o.default)(n,0,t)),n=(0,o.default)(n,t).trim()}while((0,i.default)(n));return r}},1005:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapWord=void 0;const o=r(n(975)),i=r(n(6231));t.wrapWord=(e,t)=>{const n=[];let r=0;return((e,t)=>{let n=(0,i.default)(e);const r=[],o=new RegExp("(^.{1,"+String(Math.max(t,1))+"}(\\s+|$))|(^.{1,"+String(Math.max(t-1,1))+"}(\\\\|/|_|\\.|,|;|-))");do{let e;const i=o.exec(n);if(i){e=i[0],n=n.slice(e.length);const t=e.trim().length,o=e.length-t;r.push([t,o])}else e=n.slice(0,t),n=n.slice(t),r.push([e.length,0])}while(n.length);return r})(e,t).forEach((([t,i])=>{n.push((0,o.default)(e,r,r+t)),r+=t+i})),n}},908:(e,t,n)=>{"use strict";const r=n(2017);r.code='require("ajv/dist/runtime/equal").default',t.A=r},4800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerChatParticipant=t.CHAT_PARTICIPANT_ID=void 0;const r=n(1398),o=n(7540),i=n(96),s=n(3411),a=n(657);async function c(e,t,n,s){const c=i.HintManager.Instance()?.getRecentSessionHints(),l=c?.hints.filter((e=>"log"===e.type))?.[0]?.message,u=c?.hints.filter((e=>"environment"===e.type)),d=c?.hints.filter((e=>"wiki"===e.type)),h=c?.hints.filter((e=>"error"===e.type)),f=c?.hints.filter((e=>"warning"===e.type)),p={promptElement:o.RemoteSSHPrompt,props:{errorHints:h,logOutputHint:l,envHints:u,wikiHints:d,warningHints:f,request:e}},{result:m}=(0,a.sendChatParticipantRequest)(e,t,{prompt:p,requestJustification:r.l10n.t("Discuss Remote - SSH related topics and diagnose connection issues with Copilot.  Recent connection logs will be shared with Copilot as chat context."),responseStreamOptions:{stream:n,references:!1,responseText:!0}},s);return await m}t.CHAT_PARTICIPANT_ID="remote-ssh",t.registerChatParticipant=function(e,n){(0,s.useExperimentalChat)()&&(n.trace(`Registering chat participant ${t.CHAT_PARTICIPANT_ID}`),r.chat.createChatParticipant(t.CHAT_PARTICIPANT_ID,c).iconPath=new r.ThemeIcon("remote"),e.subscriptions.push())}},7540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSSHPrompt=void 0;const r=n(1398),o=n(3318);class i extends o.PromptElement{render(e,t){return vscpp(vscppf,null,vscpp(o.UserMessage,null,"You are a chat assistant for the VS Code Remote - SSH extension. Your job is to answer SSH or Remote - SSH related questions. You should help troubleshoot issues, provide guidance on how to use the extension, and answer questions about the Remote - SSH extension's features. Some questions may be about remote development in general. ",vscpp("br",null),"- The user may provide follow up questions. When engaged in a back and forth conversation, try to stay on topic and provide the best possible answer to keep the conversation flowing.",vscpp("br",null),"- You may need to ask clarifying questions to better understand the user's query.",vscpp("br",null)," - The user is currently ",r.env.remoteName?" ":"not ","connected to a remote machine.",vscpp("br",null),"-The user's local platform is '",process.platform,"'. More info on platform may be available in the logs below.",vscpp("br",null),"Below may be some hints that could be useful in answering the user's question. Use these hints to supplement answering the user's question when it makes sense. If there are no hints, or if the hints are not helpful, you should ignore them."),this.props.errorHints&&this.props.errorHints.length>0&&vscpp(o.UserMessage,{priority:80},vscpp(vscppf,null,"The following are 'error' hints collected in a previous session that may be helpful in answering the user's question. Each error may optionally include a list of possible solutions. If there's a solution that could be relevant, suggest it to the user.",vscpp("br",null),vscpp("br",null)),this.props.errorHints.map(((e,t)=>vscpp(vscppf,null,t+1,": ",e.message,vscpp("br",null),e.solutions?.map(((e,t)=>vscpp(vscppf,null,"Possible Solution ",t+1,": ",e,vscpp("br",null)))))))),this.props.warningHints&&this.props.warningHints.length>0&&vscpp(o.UserMessage,{priority:75},vscpp(vscppf,null,"The following are 'warnings' collected in a previous session that may be helpful in answering the user's question. Each warning may optionally include a list of possible solutions. If there's a solution that could be relevant, suggest it to the user.",vscpp("br",null),vscpp("br",null)),this.props.warningHints.map(((e,t)=>vscpp(vscppf,null,t+1,": ",e.message,vscpp("br",null),e.solutions?.map(((e,t)=>vscpp(vscppf,null,"Possible Solution ",t+1,": ",e,vscpp("br",null)))))))),this.props.envHints&&this.props.envHints.length>0&&vscpp(o.UserMessage,{priority:70},vscpp(vscppf,null,"The following are 'environment information' hints collected in a previous session that may be helpful in answering the user's question.",vscpp("br",null),vscpp("br",null)),this.props.envHints.map(((e,t)=>vscpp(vscppf,null,t+1,": ",e.message," ",e.details&&vscpp(vscppf,null,vscpp("br",null),e.details),vscpp("br",null))))),this.props.logOutputHint&&vscpp(o.UserMessage,{priority:60},"The following is the entire log from the Remote - SSH extension. It may or may not be relevant to the user's question. It is provided here to provide additional context if needed. The log:",vscpp("br",null),vscpp("br",null),vscpp(vscppf,null,this.props.logOutputHint)),this.props.wikiHints&&this.props.wikiHints.length>0&&vscpp(o.UserMessage,{priority:50},vscpp(vscppf,null,"Below are various wiki or troubleshooting pages that may be helpful in answering the user's question.",vscpp("br",null),vscpp("br",null)),this.props.wikiHints.map(((e,t)=>vscpp(vscppf,null,t+1,": ",e.message," ",e.details&&vscpp(vscppf,null,vscpp("br",null),e.details),vscpp("br",null))))),vscpp(o.UserMessage,{priority:100},"The user is asking: ",this.props.request.prompt))}}t.RemoteSSHPrompt=i},9351:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.troubleshootingWikiSource=void 0,t.troubleshootingWikiSource="\nThis document is about troubleshooting and filing issue reports for Remote-SSH. Learn more about using Remote-SSH in the [documentation](https://code.visualstudio.com/docs/remote/ssh) and [troubleshooting docs](https://code.visualstudio.com/docs/remote/troubleshooting#_ssh-tips) which cover many common issues.\n\nGoing through these steps before submitting an issue is **required** as it may get address your issue or help us to narrow it down.\n\n## Troubleshooting Steps\n1. **Find the log** at View > Output > Remote-SSH. Skim it for obvious errors. For example, if ssh reported an error while connecting, and the extension didn't surface it to the VS Code UI, you may notice it in here. Always include the full log when filing an issue.\n\n2. Search the log for 'Running ssh connection command' and copy the command directly after. This is the exact ssh command that the extension attempted to use. Try running this command in an external terminal to check that you are able to connect to your host. If you are unable to connect to your remote machine from the command line this means you likely have an issue with your SSH configuration.\n3. Now try running this command but add 'echo \"echo hello\" |' to the beginning to confirm that we can execute a script on your remote by piping it into SSH. This is essentially how we run a script over ssh to install the VS Code Server on your remote, and some advanced configurations break this.\n4. Try connecting using both values of the 'remote.SSH.useLocalServer' setting. This setting is described in more detail below.\n4. If 'remote.SSH.useExecServer' is enabled on your machine, try disabling it and see whether that is successful. This setting is described in more detail below.\n\n\n### 'remote.SSH.useLocalServer' - Connection Mode\n\nThe Remote-SSH extension has a setting called 'remote.SSH.useLocalServer' which provides two different modes for connecting. The default value is 'true' which is called \"Local Server Mode\" and when 'false' it is \"Terminal Mode\". This setting by default is disabled on Windows, and to enable it on Windows you **must** enable it directly in your settings.json, not through the settings UI. The two options are described below:\n- 'true': \"Local Server Mode\": The Remote-SSH extension spawns an SSH process which will then be reused by all VS Code windows connected to that remote.\n- 'false': \"Terminal Mode\": In this mode, the Remote-SSH extension runs the SSH connection command in a hidden terminal. This means that each VS Code window has its own connection. For example, if you enter a password when connecting, you will have to enter it for each window, or for each time a window reloads.\n\n\n### 'remote.SSH.useExecServer' - Exec Server Mode\n\nThe Remote-SSH extension can establish itself by bootstrapping with a minimal control server before launching the full VS Code Server. This enables other functionality such as connecting to Dev Containers or WSL over SSH. This is gradually being enabled by default for users.\n\n## Other Suggestions\n1. Run the command \"Kill VS Code Server on Host...\" from the command palette. This will kill running VS Code Server processes on your remote machine and remove server files from the remote.\n2. If the log implies that the SSH connection was established successfully, use Help > Toggle Developer Tools > Console and check for other errors that may have come from the VS Code window.\n3. Some issues may be caused by the VS Code Server failing to start on your remote, you may find more details in the server log. The location differs depending on the value of 'remote.SSH.useExecServer'. It will be printed in the log when starting the server.\n    - 'false': '~/.vscode-server[-insiders]/.<hash>.log'\n    - 'true': '~/.vscode-server[-insiders]/cli/servers/*/log.txt'\n\n## Performance Issues\nIf you are seeing issues involving processes using high CPU/RAM on your _local_ machine, see the [Performance Issues wiki page](https://github.com/microsoft/vscode/wiki/Performance-Issues) on the vscode repo.\n\nIf you are seeing this with processes on the remote machine that Remote-SSH has connected to, there are a few things you can do to narrow down the problem. See the [VS Code Remote Development Overview](https://code.visualstudio.com/docs/remote/remote-overview) doc page for a description of what these processes are.\n\nFirst, you should determine exactly which process is having the issue. Use the built-in Process Explorer (Help > Open Process Explorer) or a separate command like 'ps -eo pid,%cpu,%mem,command' to find the full command arguments of the process having the issue. If the process is the extension-host process, or a child process belonging to an extension, then it's likely that an extension you installed is misbehaving. Try reloading the window with extensions disabled, or run the command \"Start Extension Bisect\" to determine which extension is causing the issue. This is the most likely issue.\n\nIf the issue is with the VS Code Server process ('server-main.js') you can follow the steps described in [Profiling Remote Processes](https://github.com/microsoft/vscode-remote-release/wiki/Profiling-Remote-Processes) to get a profile to include in an issue.\n"},9854:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCleanRemoteScript=void 0;const r=n(3070);t.getCleanRemoteScript=function(e,t){return t.platform===r.Platform.Windows?`\n\t\t\tGet-Process node | Where-Object Path -match ".*\\\\.vscode-server.*\\\\bin\\\\.*" | ForEach-Object {Stop-Process -Id $_.Id}\n\t\t\tRemove-Item -Force -Recurse $env:USERPROFILE\\${e}\\${t.cleanRemoteUserData?"":"bin"}\n\t\t`:`\n\t\t\tkill -9 \`ps ax | grep "out/server-main.js" | grep -v grep | awk '{print $1}'\`\n\t\t\trm -rf $HOME/${e}/${t.cleanRemoteUserData?"":"bin"}\n\t\t`}},1535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteCleanService=void 0;const r=n(1398),o=n(9854),i=n(3411),s=n(9480),a=n(5443),c=n(1615),l=n(3070),u=n(4111),d=n(4847),h=n(4430),f=n(1872),p=n(1640),m=n(7154);t.RemoteCleanService=class{constructor(e,t){this.deps={logger:t,timer:new m.Timer,serverDataPath:e}}async cleanRemoteServerAndUserData(e){return this._clean(e,!0)}async cleanRemoteServer(e){let t;try{await this._clean(e,!1),t=r.l10n.t("Killed VS Code Server on {0}.",e.hostName)}catch{t=r.l10n.t("Failed to kill VS Code Server on {0}.",e.hostName)}const n=r.l10n.t("Open Logs");if(await r.window.showInformationMessage(t,n)===n)return this.deps.logger.showLog()}async _clean(e,t){const n=await this.getCleanRemoteScriptLinux(t),o=await this.getCleanRemoteScriptWindows(t),f={deps:this.deps,useExecServer:!1,host:e};if(e.toString()===(0,u.getActiveRemote)()?.toString()&&(0,i.useLocalServer)())return await(0,c.killCurrentRemoteServer)(t),await(0,s.killLocalServer)(f),void await r.commands.executeCommand("vscode.newWindow",{remoteAuthority:null,reuseWindow:!0});if((0,i.useLocalServer)())await(0,a.runCommandOnRemote)(f,n,o),await(0,s.killLocalServer)(f);else{const t=await(0,i.getPlatformForHost)(e);if(!t)return;const r=t===l.Platform.Windows?o:n,s=await(0,d.generateMultiLineCommand)(f,t,r,{quoteForShell:!0});await(0,h.runSshTerminalCommandWithLogin)(f,{command:s,nickname:"Uninstall VS Code Server",systemInteractor:p.defaultSystemInteractor})}}async getCleanRemoteScriptLinux(e){const{serverDataFolderName:t}=await(0,f.getProductInfo)();return(0,o.getCleanRemoteScript)(t,{platform:l.Platform.Linux,cleanRemoteUserData:e})}async getCleanRemoteScriptWindows(e){const{serverDataFolderName:t}=await(0,f.getProductInfo)();return(0,o.getCleanRemoteScript)(t,{platform:l.Platform.Windows,cleanRemoteUserData:e})}}},729:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedInteractor=t.getDownloadRequestInteractor=t.RemoteServerProgressInteractor=t.getInstallScriptOutputInteractor=t.getServerErrorLogOutputInteractor=t.getInteractorForMsg=t.getInteractorForInstallWarning=t.DuoTwoFacInteractor=t.TwoFacInteractor=t.PasswordInteractor=t.getExitCode=t.PassphraseInteractor=t.DifferingHostKeyInteractor=t.FingerprintInteractor=t.MitmInteractor=void 0;const r=n(1398),o=n(712),i=n(6296),s=n(8652),a=n(2593),c=n(4788),l=n(2869);class u{constructor(){}get id(){return u.ID}async onData(e){if(e.match("Port forwarding is disabled to avoid man-in-the-middle attacks."))throw o.SshResolverError.Create(l.UnifiedStatusCode.MitmPortForwardingDisabled,r.l10n.t("Port forwarding is disabled"));return{}}}t.MitmInteractor=u,u.ID="mitm";class d{constructor(e,t){this.params=e,this.confirmationProvider=t}get id(){return d.ID}async onData(e,t,n){const r={postAction:"keep"};let o;if((e=e.trim()).includes("Are you sure you want to continue connecting")&&(o=e.match(/fingerprint\sis\s(.+)\./))){this.params.deps.logger.debug("Detected fingerprint confirmation message"),r.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const e=await this.confirmationProvider(this.params.host.hostName,o[1],t);e?(this.params.deps.logger.debug("Got fingerprint response: "+e),r.response=e):(this.params.deps.logger.debug("Fingerprint dialog canceled"),r.canceled=!0)}else if(i.isWindows&&(e.includes("The authenticity of host ")||""===e&&n?.detectedServerKey)){this.params.deps.logger.debug("Detected first line fingerprint confirmation message");const e=n?.detectedServerKey||"(unknown)";r.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const o=await this.confirmationProvider(this.params.host.hostName,e,t);o?(this.params.deps.logger.debug("Got fingerprint response: "+o),r.response=o):(this.params.deps.logger.debug("Fingerprint dialog canceled"),r.canceled=!0)}return r}}t.FingerprintInteractor=d,d.ID="fingerprint";class h{constructor(e,t){this.confirmationProvider=e,this.logger=t}get id(){return h.ID}async onData(e,t,n){const r={postAction:"keep"};if((e=e.trim()).includes("Are you sure you want to continue connecting")&&e.includes("Offending key for IP in")&&e.includes("Matching host key in")){this.logger.debug('Detected "Offending key for IP in... Matching host key in...." continuation dialog.'),r.postAction="consume";const n=e.substring(e.indexOf("Warning"),e.indexOf("Are")).trim(),o=await this.confirmationProvider(n,t);o?(this.logger.debug("Got continuation response: "+o),r.response=o):(this.logger.debug("Continuation dialog canceled"),r.canceled=!0)}return r}}t.DifferingHostKeyInteractor=h,h.ID="differing host key";class f{constructor(e,t){this.passphraseProvider=e,this.logger=t}get id(){return f.ID}async onData(e,t){const n={postAction:"keep"},r=e.trim().split("\n");if(r.some((e=>e.indexOf("Enter passphrase for")>=0))){this.logger.debug("Detected passphrase message"),n.postAction="consume";const e=await this.passphraseProvider(void 0,void 0,t);"string"==typeof e?(this.logger.debug("Got passphrase response"),n.response=e,n.isPassword=!0):(this.logger.debug("Passphrase dialog canceled"),n.canceled=!0)}else r.some((e=>e.indexOf("Identity added:")>=0))&&(n.postAction="consume");return n}}t.PassphraseInteractor=f,f.ID="passphrase",t.getExitCode=function(e,t){const n=new RegExp(`${t}##([0-9]*)##`).exec(e);if(n)try{const e=parseInt(n[1]);return Number.isNaN(e)?void 0:e}catch(e){return}return 0};class p{constructor(e,t){this.passwordProvider=e,this.logger=t}get id(){return p.ID}async onData(e,t,n){const r={postAction:"keep"},o=function(e,t){if(e.includes("Password:"))return{user:""};const n=(0,a.stripEscapeSequences)(e).match(/([a-zA-Z0-9\-_@\.]*)'s password:/);return n?{user:n[1],message:t?t.detail:void 0}:void 0}(e,n);if(o&&"string"==typeof o.user){this.logger.debug("Showing password prompt"),r.postAction="consume";const e=await this.passwordProvider(o.user,o.message,t);"string"==typeof e?(this.logger.debug("Got password response"),r.response=e,r.isPassword=!0):(this.logger.debug("Password dialog canceled"),r.canceled=!0)}return r}}t.PasswordInteractor=p,p.ID="password";class m{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return m.ID}async onData(e,t){const n={postAction:"keep"};if(e.includes("Verification code:")){this.logger.debug("Detected verification code prompt"),n.postAction="consume";const e=await this.verificationCodeProvider("Enter verification code",t);"string"==typeof e?(this.logger.debug("Got verification code response"),n.response=e,n.isPassword=!0):(this.logger.debug("Verification code dialog canceled"),n.canceled=!0)}return n}}t.TwoFacInteractor=m,m.ID="2fa";class g{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return g.ID}async onData(e,t){const n={postAction:"keep"};if(e.includes("Passcode:")){this.logger.debug("Detected passcode prompt"),n.postAction="consume";const e=await this.verificationCodeProvider("Enter passcode",t);"string"==typeof e?(this.logger.debug("Got passcode response"),n.response=e,n.isPassword=!0):(this.logger.debug("passcode dialog canceled"),n.canceled=!0)}return n}}function v(e,t="consume"){const n="string"==typeof e?new RegExp((0,a.escapeRegExpCharacters)(e)):e;let r;const o=new Promise((e=>{r=e}));let i=!1;return{interactor:new class{get id(){return"anonymous"}async onData(e){if(i)return{};let o;return(o=(e=(0,a.stripEscapeSequences)(e)).match(n))?(i=!0,r(o),{postAction:t}):{}}},result:o}}t.DuoTwoFacInteractor=g,g.ID="duo-2fa",t.getInteractorForInstallWarning=function(e,t,n="consume"){return v(`${e}$$${t}$$`,n)},t.getInteractorForMsg=v,t.getServerErrorLogOutputInteractor=function(){const e=v(/'Server did not start successfully([\s\S]*?)End of server log/m,"keep");return{interactor:e.interactor,result:e.result.then((e=>{const t=e[0];return t&&(0,a.stripEscapeSequences)(t)}))}},t.getInstallScriptOutputInteractor=function(e){const t=v(new RegExp(`${e}: start([\\s\\S]*?)${e}: end|(${e}##[0-9]*##)`,"m"));return{interactor:t.interactor,result:t.result.then((e=>{const t=e[1]||e[2];return t&&(0,a.stripEscapeSequences)(t)}))}},t.RemoteServerProgressInteractor=class{constructor(e,t){this.progress=t,this.progressCodeRegex=new RegExp(`${e}%%([0-9]+)%%`)}get id(){return"anonymous"}updateProgress(e){const t=s.RemoteProgressMessages[e];t&&this.progress.report({message:t})}async onData(e){let t;if((t=(e=(0,a.stripEscapeSequences)(e)).match(this.progressCodeRegex))&&t[1]){const e=parseInt(t[1]);return this.updateProgress(e),{postAction:"consume"}}return{}}},t.getDownloadRequestInteractor=function(e,t){const n=function(e,t,n){const r=v(new RegExp(`${e}([\\s\\S]*?)${t}`,"m"));return{interactor:r.interactor,result:r.result.then((e=>{const t=e[1]&&(0,a.stripEscapeSequences)(e[1]);return(0,a.parseStringMap)(t,void 0,n)}))}}((0,c.getDownloadServerStartTrigger)(e),(0,c.getDownloadServerEndTrigger)(e),t);return{interactor:n.interactor,result:n.result.then((e=>{const{artifact:n,destFolder:i,destFolder2:s}=e;if(!n||!i)throw t.error("Got malformed request to download on client, missing data: "+JSON.stringify(e)),o.SshResolverError.Create(l.UnifiedStatusCode.BadLocalDownloadRequest,r.l10n.t("Client-side server download failed"));return{artifact:n,destPath:i+(s||"")}}))}},t.ComposedInteractor=class{constructor(e){this.interactors=e}get id(){return"composed"}async onData(e){for(const t of this.interactors){const n=await t.onData(e);if("consume"===n.postAction)return n}return{postAction:"keep"}}}},5187:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.openEmptyWindowOnSshHost=t.CommandService=void 0;const o=n(1398),i=n(1566),s=n(8730),a=n(8861),c=n(9480),l=n(4111),u=n(4417),d=n(1990),h=n(7154),f=n(96),p=[];function m(e){return(t,n,r)=>{if("function"!=typeof r.value)throw new Error("not supported");p.push({commandId:e,method:r.value})}}function g(e){return!!e&&"string"==typeof e.host}class v{constructor(e,t,n,r,i){this.folderHistoryManager=t,this.cleanSvc=n,this.resolver=r,this.deps={logger:e,timer:new h.Timer,serverDataPath:i},this.disposables=p.map((({commandId:e,method:t})=>o.commands.registerCommand(e,((...e)=>t.apply(this,e)))))}showLog(){this.deps.logger.showLog()}clearAllSessionHints(){const e=f.HintManager.Instance();e?(e.clearAllHints(),this.deps.logger.info("Cleared all session hints")):this.deps.logger.info("No session hints to clear")}openWebUI(){if(this.resolver.lastResolverResult&&"port"in this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn){const e=this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn.port;let t=o.Uri.parse("http://localhost"+(e?`:${e}`:""));this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken&&(t=t.with({query:`${a.webUITokenParameter}=${this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken}`})),o.env.openExternal(t)}}async openEmptyWindow(e){const t=g(e)?new d.HostInfo(e.host,e.userName,e.port):await(0,s.interactivelyPickSshHost)(this.deps.logger);t&&w(t)}async openEmptyWindowOnCurrentHost(){const e=(0,l.getActiveRemote)();e&&w(e)}async openEmptyWindowInCurrentWindow(e){const t=g(e)?new d.HostInfo(e.host,e.userName,e.port):await(0,s.interactivelyPickSshHost)(this.deps.logger);t&&w(t,!0)}async openConfigFile(){await(0,u.configureSshHosts)(this.deps.logger)}async cleanDevBox(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServerAndUserData(e)}async cleanCurrentRemoteServer(){const e=(0,l.getActiveRemote)();if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanRemoteServer(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanLocalServer(){const e=await(0,s.interactivelyPickSshHost)(this.deps.logger);e&&await(0,c.killLocalServer)({deps:this.deps,host:e})}async getHelp(){return(0,i.getHelp)()}async getStarted(){return(0,i.getStarted)()}async reportIssue(){return(0,i.reportIssue)()}async settings(){return(0,i.openSettings)()}async provideFeedback(){return(0,i.provideFeedback)()}async addNewSshHost(){return(0,u.addSshHost)(this.deps.logger)}getActiveSshRemote(){return(0,l.getActiveRemote)()}async getConfiguredHostnames(){return await(0,u.getConfiguredSshHostNames)(this.deps.logger)}async openRemoteSshTarget(e,t){await w(e,!t)}async getFolderHistory(e){return this.folderHistoryManager.getFolders(e)}async deleteFolderFromHistory(e){this.folderHistoryManager.removeFolder(e)}dispose(){this.disposables.forEach((e=>e.dispose()))}}function y(e){return`ssh-remote+${d.HostInfo.toAuthorityString(e)}`}async function w(e,t=!1){await o.commands.executeCommand("vscode.newWindow",{remoteAuthority:y(e),reuseWindow:t})}t.CommandService=v,r([m("opensshremotes.showLog")],v.prototype,"showLog",null),r([m("opensshremotes.clearAllSessionHints")],v.prototype,"clearAllSessionHints",null),r([m("opensshremotes.openWebUI")],v.prototype,"openWebUI",null),r([m("opensshremotes.openEmptyWindow")],v.prototype,"openEmptyWindow",null),r([m("opensshremotes.openEmptyWindowOnCurrentHost")],v.prototype,"openEmptyWindowOnCurrentHost",null),r([m("opensshremotes.openEmptyWindowInCurrentWindow")],v.prototype,"openEmptyWindowInCurrentWindow",null),r([m("opensshremotes.openConfigFile")],v.prototype,"openConfigFile",null),r([m("opensshremotes.cleanDevBox")],v.prototype,"cleanDevBox",null),r([m("opensshremotes.cleanCurrentRemoteServer")],v.prototype,"cleanCurrentRemoteServer",null),r([m("opensshremotes.cleanRemoteServer")],v.prototype,"cleanRemoteServer",null),r([m("opensshremotes.cleanLocalServer")],v.prototype,"cleanLocalServer",null),r([m("opensshremotes.getHelp")],v.prototype,"getHelp",null),r([m("opensshremotes.getStarted")],v.prototype,"getStarted",null),r([m("opensshremotes.reportIssue")],v.prototype,"reportIssue",null),r([m("opensshremotes.settings")],v.prototype,"settings",null),r([m("opensshremotes.provideFeedback")],v.prototype,"provideFeedback",null),r([m("opensshremotes.addNewSshHost")],v.prototype,"addNewSshHost",null),r([m("remote-internal.getActiveSshRemote")],v.prototype,"getActiveSshRemote",null),r([m("remote-internal.getConfiguredHostnames")],v.prototype,"getConfiguredHostnames",null),r([m("remote-internal.openRemoteSshTarget")],v.prototype,"openRemoteSshTarget",null),r([m("remote-internal.getSshFoldersHistory")],v.prototype,"getFolderHistory",null),r([m("remote-internal.deleteSshFolderFromHistory")],v.prototype,"deleteFolderFromHistory",null),t.openEmptyWindowOnSshHost=w},5677:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickSshConfigurationFile=void 0;const r=n(1398),o=n(3411),i=n(4417);class s{constructor(e){this.label=e}}class a{constructor(){this.label=r.l10n.t("Help"),this.description=r.l10n.t("about SSH configuration files"),this.alwaysShow=!0}}class c{constructor(){this.label=r.l10n.t("Settings"),this.description=r.l10n.t("specify a custom configuration file"),this.alwaysShow=!0}}t.pickSshConfigurationFile=async function(e){const t=(0,o.sshConfigurationFile)();return await async function(e){return new Promise(((t,n)=>{const o=function(e){const t=r.window.createQuickPick();return t.ignoreFocusOut=!0,"string"==typeof e?(t.placeholder=r.l10n.t("Edit custom SSH configuration file"),t.items=[new s(e),new c,new a]):(t.placeholder=r.l10n.t("Select SSH configuration file to update"),t.items=[...e.map((e=>new s(e))),new c,new a]),t}(e);let i;o.onDidAccept((()=>{const e=o.selectedItems[0];e instanceof a?i={type:"command",id:"help"}:e instanceof c?i={type:"command",id:"settings"}:e.label&&(i={type:"file",path:e.label}),o.hide()})),o.onDidHide((()=>{t(i||void 0)})),o.show()}))}(t||(0,i.defaultSshConfigurationFiles)())}},7166:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolverType=void 0,t.ResolverType="ssh-remote"},96:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HintManager=t.TERMINAL_NAME=void 0;const r=n(1398),o=n(4249),i=n(9351),s=n(2869),a=n(3292),c=n(3411),l=n(6296),u=n(2137);t.TERMINAL_NAME="Remote - SSH: Session Troubleshooting";const d="[2J[3J[H",h="remote.ssh.hints";class f{constructor(e,t){if(this.extensionContext=e,this.logger=t,this.shouldCollectHints=!1,this.processedDynamicHints=[],this.globalState=e.globalState,this.shouldCollectHints="ssh-remote"===r.env.remoteName,!f._instance&&(f._instance=this,this.shouldCollectHints)){const e=this.globalState.get(h,[]);for(;e.length>1;)e.shift();e.push({hints:[],createdAt:new Date}),this._flush(e)}}static Instance(){if(f._instance)return f._instance}captureHint(e){if(!this.shouldCollectHints)return;"log"===e.type&&e.message&&(e.message=e.message.slice(0,5e4));const t=this._get();t[t.length-1].hints.push(e),this._flush(t)}captureStatus(e,t){if(!this.shouldCollectHints)return;const n=a.statusCodeMetadata[e],r=n?{...n,details:t}:{type:"error",status:e,message:`Error: ${s.UnifiedStatusCode[e]}`,details:t},o=this._get();o[o.length-1].hints.push(r),this._flush(o)}clearAllHints(){this._clearAll()}getRecentSessionHints(){const e=this._get();if(!e.length)return;const t=e[e.length-1];return{hints:t.hints.concat(this.staticHints()),createdAt:t.createdAt}}logRecentSession(e){try{if(!(0,c.useExperimentalEnhancedSessionLogs)())return void e.debug("Enhanced session logs are disabled.");const n=this.getRecentSessionHints();if(!n)return void e.debug("No recent session hints found.");const{hints:o}=n,i=[s.UnifiedStatusCode.UnparsableOutput,s.UnifiedStatusCode.UnclassifiedError];if(this.processedDynamicHints=o.filter((e=>"error"===e.type||"warning"===e.type)).map((e=>e)).filter((e=>!i.includes(e.status))),0===this.processedDynamicHints.length)return void e.debug("No hints found in the recent session.");if(!this.terminal){const n=this.setupPty(e);this.terminal=r.window.createTerminal({name:t.TERMINAL_NAME,pty:n}),this.terminal.show()}}catch(t){e.error(`Error logging recent session hints: ${t}`)}}setupPty(e){const t=new r.EventEmitter;return{setDimensions:n=>{t.fire(d),this.renderPty(e,t,n.columns)},open:n=>{t.fire("[?25l[?12l[?9l"),t.fire(d),this.renderPty(e,t,n.columns)},close:()=>{e.debug("Terminal closed")},onDidWrite:t.event}}renderPty(e,t,n){t.fire(`\r\n${r.l10n.t("The following issues were detected in your most recent Remote - SSH session")} \r\n`),(0,c.useExperimentalChat)()&&t.fire(`${l.isWindows?"Ctrl+":"Cmd+"}${r.l10n.t("click on an issue to continue in Copilot Chat.")} \r\n`),t.fire(this.renderTable(e,n)),t.fire(`${r.l10n.t("See verbose information in the")} ${this.underlineAndBold(u.OUTPUT_LOG_MARKER)}`)}renderTable(e,t){const n=[r.l10n.t("Status"),r.l10n.t("Message"),r.l10n.t("Solutions"),r.l10n.t("Resources")],i=this.processedDynamicHints.map((e=>[(0,c.useExperimentalChat)()?this.underlineAndBold(`${s.UnifiedStatusCode[e.status]}`):`${s.UnifiedStatusCode[e.status]}`,e.message,e.solutions?.map((e=>`• ${e}`)).join("\n")||"-",e.resources?.map((e=>`• ${e}`)).join("\n")||"-"]));for(let e=n.length-1;e>=0;e--)if(i.every((t=>"-"===t[e]))){n.splice(e,1);for(const t of i)t.splice(e,1)}const a=Math.max(...this.processedDynamicHints.map((e=>s.UnifiedStatusCode[e.status].length))),l=Math.floor((t-a-2)/(n.length-1)-5);return o.table([n,...i],{columnDefault:{width:l,wrapWord:!0},columns:[{width:a,alignment:"center"}]}).replace(/\n/g,"\r\n")}underlineAndBold(e){return`[4m[1m${e}[0m[24m`}staticHints(){return[{type:"wiki",message:"The following is a markdown file with common troubleshooting steps.  The entire wiki is publicly available at https://github.com/microsoft/vscode-remote-release/wiki/Remote-SSH-troubleshooting",details:i.troubleshootingWikiSource}]}dispose(){}_flush(e){this.globalState.update(h,e)}_clearAll(){this.globalState.update(h,void 0)}_get(){return this.globalState.get(h,[])}}t.HintManager=f,f._instance=null},3292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statusCodeMetadata=void 0;const r=n(2869);t.statusCodeMetadata={[r.UnifiedStatusCode.OK]:void 0,[r.UnifiedStatusCode.LinuxPrereqs]:void 0,[r.UnifiedStatusCode.ProxyAuthenticationRequired]:{type:"warning",message:"Received 407 from the server",status:r.UnifiedStatusCode.ProxyAuthenticationRequired,solutions:["Check proxy settings on local machine","Set 'http.proxy' in VS Code settings to use the correct proxy"],resources:["https://github.com/microsoft/vscode-remote-release/issues/10344"]},[r.UnifiedStatusCode.UnparsableOutput]:void 0,[r.UnifiedStatusCode.EmptyOutput]:void 0,[r.UnifiedStatusCode.UnhandledResolverExitCode]:void 0,[r.UnifiedStatusCode.OfflineError]:void 0,[r.UnifiedStatusCode.SshInstall]:void 0,[r.UnifiedStatusCode.FindLocalPort]:void 0,[r.UnifiedStatusCode.Timeout]:void 0,[r.UnifiedStatusCode.ExhaustedRetries]:void 0,[r.UnifiedStatusCode.PermissionDenied]:void 0,[r.UnifiedStatusCode.MitmPortForwardingDisabled]:void 0,[r.UnifiedStatusCode.Canceled]:void 0,[r.UnifiedStatusCode.BadLocalDownloadRequest]:void 0,[r.UnifiedStatusCode.LocalDownloadFailed]:void 0,[r.UnifiedStatusCode.LocalLockTimeout]:void 0,[r.UnifiedStatusCode.NoBash]:void 0,[r.UnifiedStatusCode.InvalidHostName]:void 0,[r.UnifiedStatusCode.BadInstallScriptResult]:void 0,[r.UnifiedStatusCode.ShellRequestFailedOnChannel]:void 0,[r.UnifiedStatusCode.InvalidPortRange]:void 0,[r.UnifiedStatusCode.SendDisconnectBrokenPipe]:void 0,[r.UnifiedStatusCode.LocalServerCrashed]:void 0,[r.UnifiedStatusCode.NoFreePortInRange]:void 0,[r.UnifiedStatusCode.InvalidCustomServerPath]:{type:"error",message:"The provided custom server path is invalid",status:r.UnifiedStatusCode.InvalidCustomServerPath,solutions:["Ensure the provide path is an absolute path","Edit setting 'remote.SSH.serverInstallPath' to an absolute path on the remote server","Do not use variables, double quotes, or other non-path characters when setting 'remote.SSH.serverInstallPath'","Delete the setting for this host to use the default path in the user home directory"]},[r.UnifiedStatusCode.AlreadyInProgress]:void 0,[r.UnifiedStatusCode.ServerDownloadFailed]:void 0,[r.UnifiedStatusCode.NoDownloaderAvailable]:{type:"error",message:'When first establishing a connection to the remote server, various resources must be installed from the internet. A program (either "wget" or "curl") is used to download these resources, but they are not installed on the remote server.  When this step fails, the extension attempts to use the local machine to download the resources and then upload them to the remote server.',status:r.UnifiedStatusCode.NoDownloaderAvailable,solutions:["Install 'wget' on the remote server. Installation steps will vary per distribution.","Install 'curl' on the remote server. Installation steps will vary per distribution.","Ensure curl/wget are on the remote system's PATH","Ensure that the remote server has internet access and that the network is not blocking the download","Enable 'remote.SSH.localServerDownload' to allow VS Code to download the required resources via your local machine and then upload them to the remote server"]},[r.UnifiedStatusCode.NoDownloaderAvailableForStatusCheck]:void 0,[r.UnifiedStatusCode.UnsupportedArch]:void 0,[r.UnifiedStatusCode.StatusCheckFailed]:void 0,[r.UnifiedStatusCode.NeedInsidersArch]:void 0,[r.UnifiedStatusCode.ServerTransferFailed]:void 0,[r.UnifiedStatusCode.ServerFailedToStart]:void 0,[r.UnifiedStatusCode.NeedInsidersWindows]:void 0,[r.UnifiedStatusCode.CreateInstallDirFailed]:{type:"error",message:"The install directory on the remote host could not be created. By default this is the $HOME directory and can be overridden with the setting 'remote.SSH.serverInstallPath'",status:r.UnifiedStatusCode.CreateInstallDirFailed,solutions:["Remove or edit setting 'remote.SSH.serverInstallPath'","Ensure that the parent directory exists","Ensure that the remote user has write permissions to the parent directory","Ensure there is sufficient free disk space on the remote machine"]},[r.UnifiedStatusCode.UnsupportedPlatform]:void 0,[r.UnifiedStatusCode.ServerTerminatedCVE20201416]:void 0,[r.UnifiedStatusCode.UnpackFailed]:void 0,[r.UnifiedStatusCode.ChangeDirFailed]:void 0,[r.UnifiedStatusCode.UnclassifiedError]:void 0}},2869:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ensureError=t.UnifiedStatusCode=void 0,function(e){e[e.OK=0]="OK",e[e.LinuxPrereqs=64]="LinuxPrereqs",e[e.ProxyAuthenticationRequired=65]="ProxyAuthenticationRequired",e[e.UnparsableOutput=128]="UnparsableOutput",e[e.EmptyOutput=129]="EmptyOutput",e[e.UnhandledResolverExitCode=131]="UnhandledResolverExitCode",e[e.OfflineError=132]="OfflineError",e[e.SshInstall=133]="SshInstall",e[e.FindLocalPort=134]="FindLocalPort",e[e.Timeout=135]="Timeout",e[e.ExhaustedRetries=136]="ExhaustedRetries",e[e.PermissionDenied=137]="PermissionDenied",e[e.MitmPortForwardingDisabled=138]="MitmPortForwardingDisabled",e[e.Canceled=139]="Canceled",e[e.BadLocalDownloadRequest=140]="BadLocalDownloadRequest",e[e.LocalDownloadFailed=141]="LocalDownloadFailed",e[e.LocalLockTimeout=142]="LocalLockTimeout",e[e.NoBash=143]="NoBash",e[e.InvalidHostName=144]="InvalidHostName",e[e.BadInstallScriptResult=145]="BadInstallScriptResult",e[e.ShellRequestFailedOnChannel=146]="ShellRequestFailedOnChannel",e[e.InvalidPortRange=147]="InvalidPortRange",e[e.SendDisconnectBrokenPipe=148]="SendDisconnectBrokenPipe",e[e.LocalServerCrashed=149]="LocalServerCrashed",e[e.NoFreePortInRange=150]="NoFreePortInRange",e[e.InvalidCustomServerPath=151]="InvalidCustomServerPath",e[e.AlreadyInProgress=192]="AlreadyInProgress",e[e.ServerDownloadFailed=193]="ServerDownloadFailed",e[e.NoDownloaderAvailable=194]="NoDownloaderAvailable",e[e.NoDownloaderAvailableForStatusCheck=195]="NoDownloaderAvailableForStatusCheck",e[e.UnsupportedArch=196]="UnsupportedArch",e[e.StatusCheckFailed=197]="StatusCheckFailed",e[e.NeedInsidersArch=198]="NeedInsidersArch",e[e.ServerTransferFailed=199]="ServerTransferFailed",e[e.ServerFailedToStart=200]="ServerFailedToStart",e[e.NeedInsidersWindows=201]="NeedInsidersWindows",e[e.CreateInstallDirFailed=202]="CreateInstallDirFailed",e[e.UnsupportedPlatform=203]="UnsupportedPlatform",e[e.ServerTerminatedCVE20201416=204]="ServerTerminatedCVE20201416",e[e.UnpackFailed=205]="UnpackFailed",e[e.ChangeDirFailed=206]="ChangeDirFailed",e[e.UnclassifiedError=1023]="UnclassifiedError"}(n||(t.UnifiedStatusCode=n={})),t.ensureError=function(e){return e instanceof Error?e:new Error(String(e))}},2137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerTerminalStatusCodeLinkProvider=t.TerminalStatusCodeLinkProvider=t.OUTPUT_LOG_MARKER=void 0;const r=n(1398),o=n(96),i=n(3411),s=n(2869);t.OUTPUT_LOG_MARKER="Output Log...";class a{provideTerminalLinks(e,t){return e.terminal.name!==o.TERMINAL_NAME?[]:[...this.understandWithCopilot(e.line),...this.showOutputLog(e.line)]}handleTerminalLink(e){e.command?r.commands.executeCommand(e.command):e.uri&&r.env.openExternal(e.uri)}understandWithCopilot(e){if(!(0,i.useExperimentalChat)())return[];const t=e.indexOf("║");if(-1===t)return[];const n=e.substring(t+1).split("").findIndex((e=>" "!==e))+t+1,o=e.indexOf(" ",n),a=e.slice(n,o);if(!a)return[];if(void 0===s.UnifiedStatusCode[a])return[];const c=`${r.env.uriScheme}://ms-vscode-remote.remote-ssh/continueWithCopilot?statusCode=${a}&windowId=_blank`;return[{startIndex:n,length:o-n,tooltip:"Understand with Copilot",uri:r.Uri.parse(c)}]}showOutputLog(e){const n=e.indexOf(t.OUTPUT_LOG_MARKER);return-1===n?[]:[{startIndex:n,length:e.length-n,tooltip:"View the output log",command:"opensshremotes.showLog"}]}}t.TerminalStatusCodeLinkProvider=a,t.registerTerminalStatusCodeLinkProvider=function(e){const t=new a;e.subscriptions.push(r.window.registerTerminalLinkProvider(t))}},6144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRemoteUsingExecServer=t.tunnelToExecServer=t.ExecServerCache=void 0;const r=n(3986),o=n(2690),i=n(6982),s=n(5692),a=n(1398),c=n(3411),l=n(712),u=n(4407),d=n(4747),h=n(1872),f=n(3505),p=n(96),m=n(2869);void 0===globalThis.crypto&&(globalThis.crypto=i.webcrypto);let g=0;class v{static get(e){return this.instance||(this.instance=new v(e)),this.instance}constructor(e){this.logger=e,this.servers=new Map}async getOrInsert(e,t){const n=this.servers.get(e);if(!n)return this.insert(e,t);try{const t=await n;if(await Promise.race([t.cnx.call("ping",{}).then((()=>!0)),new Promise((e=>setTimeout((()=>e(!1)),3e3)))]))return this.logger.debug(`Verified and reusing cached exec server for ${e}`),t;this.logger.debug(`Existing exec server for ${e} timed out`)}catch(t){this.logger.debug(`Existing exec server for ${e} errored (${t})`)}return this.insert(e,t)}insert(e,t){const n=t();return n.then((t=>{this.logger.debug(`Exec server for ${e} created and cached`),t.cnx.onClose((t=>{this.servers.get(e)===n&&(this.logger.debug(`Exec server for ${e} closed (${t||"gracefully"})`),this.servers.delete(e))}))}),(t=>{this.servers.get(e)===n&&(this.logger.error(`Exec server for ${e} failed: ${t}`),this.servers.delete(e))})),this.logger.debug(`Initizing new exec server for ${e}`),this.servers.set(e,n),n}}function y(e,t,n,r,o,i=10){t.trace(`Proxying HTTPS request to '${n}' on behalf of remote server`),s.get(n,{method:r,agent:(0,d.getAgent)()},(s=>{if(function(e,t,n){e.trace(`Received response from '${n}' (${t||"(no status code)"})`),t&&407===t&&p.HintManager.Instance()?.captureStatus(m.UnifiedStatusCode.ProxyAuthenticationRequired,n)}(t,s.statusCode,n),s.statusCode&&s.statusCode>=300&&s.statusCode<400&&s.headers.location&&i>0)return y(e,t,s.headers.location,r,o,i-1),void s.resume();s.on("data",(t=>e.call("httpbody",{req_id:o,complete:!1,segment:t}))),s.on("end",(()=>e.call("httpbody",{req_id:o,complete:!0,segment:new Uint8Array}))),e.call("httpheaders",{req_id:o,status_code:s.statusCode||503,headers:Object.entries(s.headers).flatMap((([e,t])=>t instanceof Array?t.map((t=>[e,t||""])):[[e,t||""]]))})})).on("error",(r=>{t.error(`Error proxying HTTPS request to '${n}' on behalf of remote server: ${r}`),e.call("httpbody",{req_id:o,complete:!0,segment:Buffer.from(r.toString())})}))}async function w(e,t,n){return v.get(t).getOrInsert(e,(async()=>{const{installResult:e,tunnelResult:i}=await n();t.info(`Resolving exec server at ${l.ListenTarget.display(i.localTarget)}`);const s=await new Promise(((e,t)=>{const n=l.ListenTarget.connect(i.localTarget);n.on("connect",(()=>e(new o.Connection(n,r.encode)))),n.on("error",(e=>t(e)))})),a=(0,f.assertVSDA)(),{challenge:c}=await s.call("challenge_issue",{token:e.execServer?.token});return await s.call("challenge_verify",{response:(new a.signer).sign(c)}),s.onNotification("makehttpreq",(({url:e,method:n,req_id:r})=>y(s,t,e,n,r))),{cnx:s,execServer:new o.ExecServer(s)}}))}t.ExecServerCache=v,t.tunnelToExecServer=w,t.resolveRemoteUsingExecServer=async function(e,t,n,r){const o="remotessh",{cnx:i,execServer:s}=await w(e,t,(()=>Promise.resolve({installResult:n,tunnelResult:r}))),l=await(0,h.getProductInfo)();return function(e,t){let n;e.onNotification("serverlog",(e=>{const r=2===e.level?"debug":5===e.level?"error":3===e.level?"trace":"info";t[r](`[server] ${e.line}`),(e=>{if(e.includes("Installing and setting up"))return n?.promise.resolve(),void a.window.withProgress({title:S,location:a.ProgressLocation.Notification},(e=>{const t=(0,u.getDeferred)();return n={promise:t,handle:e,lastPercent:0},t.promise}));if(!n)return;if(e.includes("Server setup complete")||e.includes("Found running server"))return n.promise.resolve(),void(n=void 0);const t=e.match(/.*server download progress.* \((\d+)\%\)/);if(t){const[,e]=t,r=Number(e);n.handle.report({increment:r-n.lastPercent}),n.lastPercent=r}})(e.line)}))}(i,t),new a.ManagedResolvedAuthority((async()=>{const e=await s.serve({socketId:g++,extensions:(0,c.getSshDefaultExtensions)(),quality:l.quality,commit:l.commit,connectionToken:o,compress:!0}),t=new a.EventEmitter,n=new a.EventEmitter;return e.onEnd.then((()=>t.fire())),i.onClose((e=>n.fire(e))),{send:t=>e.write(t),end:()=>e.end(),drain:()=>Promise.resolve(e.drain?.()),onDidEnd:t.event,onDidClose:n.event,onDidReceiveMessage:e.onData}}),o)};const S=a.l10n.t("Downloading VS Code Server...")},3411:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxReconnectionAttempts=t.logLevel=t.LogLevel=t.suppressWindowsSshWarning=t.connectTimeoutMilliseconds=t.connectTimeoutSetting=t.savePlatformForHost=t.interactivelyPickSshPlatform=t.getPlatformForHost=t.bindAddressForHost=t.remotePlatform=t.remotePortRanges=t.showLoginTerminal=t.useExperimentalEnhancedSessionLogs=t.useExperimentalChat=t.useLocalServer=t.remoteServerListenOnSocket=t.defaultForwardedPorts=t.serverInstallPath=t.sshPath=t.preferredLocalPortRange=t.localDownload=t.sshConfigurationFile=t.useFlock=t.lockfilesInTmp=t.getSshDefaultExtensions=t.externalSshAskpass=t.enableRemoteCommand=t.enableDynamicForwarding=t.bindHosts=t.useCurlAndWgetConfigurationFiles=t.permitPtyAllocation=t.enableX11Forwarding=t.enableAgentForwarding=t.useExecServer=t.enableWebAccess=t.CONFIG_FILE_SETTING=void 0;const r=n(1398),o=n(3070),i=n(6296),s=n(2593);function a(){return r.workspace.getConfiguration().get("remote.SSH.bindHost",{})}function c(){return!!r.workspace.getConfiguration().get("remote.SSH.remoteServerListenOnSocket")}function l(){const e=r.workspace.getConfiguration().get("remote.SSH.remotePlatform",{}),t={};return Object.keys(e).forEach((n=>{"macOS"===e[n]?t[n]=o.Platform.MacOS:"windows"===e[n]?t[n]=o.Platform.Windows:"linux"===e[n]&&(t[n]=o.Platform.Linux)})),t}async function u(e){const t=await r.window.showQuickPick([{label:"Linux",platform:o.Platform.Linux},{label:"Windows",platform:o.Platform.Windows},{label:"macOS",platform:o.Platform.MacOS}],{placeHolder:e,ignoreFocusOut:!0});if(t)return t.platform}t.CONFIG_FILE_SETTING="remote.SSH.configFile",t.enableWebAccess=function(){return!!r.workspace.getConfiguration().get("remote.SSH.enableWebAccess")},t.useExecServer=function(){return r.workspace.getConfiguration().get("remote.SSH.useExecServer",!0)},t.enableAgentForwarding=function(){return!1!==r.workspace.getConfiguration().get("remote.SSH.enableAgentForwarding")},t.enableX11Forwarding=function(){return!1!==r.workspace.getConfiguration().get("remote.SSH.enableX11Forwarding")},t.permitPtyAllocation=function(){return r.workspace.getConfiguration().get("remote.SSH.permitPtyAllocation")??!1},t.useCurlAndWgetConfigurationFiles=function(){return r.workspace.getConfiguration().get("remote.SSH.useCurlAndWgetConfigurationFiles")??!1},t.bindHosts=a,t.enableDynamicForwarding=function(){return!1!==r.workspace.getConfiguration().get("remote.SSH.enableDynamicForwarding")},t.enableRemoteCommand=function(){return r.workspace.getConfiguration().get("remote.SSH.enableRemoteCommand")??!1},t.externalSshAskpass=function(){return r.workspace.getConfiguration().get("remote.SSH.externalSSH_ASKPASS")??!1},t.getSshDefaultExtensions=function(){const e=r.workspace.getConfiguration().get("remote.SSH.defaultExtensions"),t=Array.isArray(e)?e:[],n=/^[a-z0-9][a-z0-9\-]*\.[a-z0-9][a-z0-9\-]*$/i;return t.filter((e=>n.test(e)))},t.lockfilesInTmp=function(){return!!r.workspace.getConfiguration().get("remote.SSH.lockfilesInTmp")},t.useFlock=function(){return r.workspace.getConfiguration().get("remote.SSH.useFlock")??!0},t.sshConfigurationFile=function(){return r.workspace.getConfiguration().get(t.CONFIG_FILE_SETTING)},t.localDownload=function(){const e=r.workspace.getConfiguration().get("remote.SSH.allowLocalServerDownload");if("boolean"==typeof e&&!e)return"off";const t=r.workspace.getConfiguration().get("remote.SSH.localServerDownload");return"off"===t?"off":"always"===t?"always":"auto"},t.preferredLocalPortRange=function(e){const t=r.workspace.getConfiguration().get("remote.SSH.preferredLocalPortRange");if(!t)return;if(!/^\d+-\d+$/.test(t))return void e.error(`Ignoring 'preferredLocalPortRange' setting due to invalid value.  Expected format of '[min]-[max]', got '${t}'. `);const[n,o]=t.split("-").map((e=>Number(e)));if(!(n>o||n<1||n>65535||o<1||o>65535))return{start:n,end:o};e.error(`Ignoring 'preferredLocalPortRange' setting due to invalid value.  Port values must be between 1 and 65535, and 'start' must be not be greater than 'end'.  Got '${n}-${o}'. `)},t.sshPath=function(){return r.workspace.getConfiguration().get("remote.SSH.path")},t.serverInstallPath=function(){return r.workspace.getConfiguration().get("remote.SSH.serverInstallPath")??{}},t.defaultForwardedPorts=function(){const e=r.workspace.getConfiguration().get("remote.SSH.defaultForwardedPorts");return Array.isArray(e)?e:[]},t.remoteServerListenOnSocket=c,t.useLocalServer=function(){if(c())return!1;const e=r.workspace.getConfiguration().inspect("remote.SSH.useLocalServer")?.globalValue;return"boolean"==typeof e?e:!i.isWindows},t.useExperimentalChat=function(){return r.workspace.getConfiguration().get("remote.SSH.experimental.chat")??!1},t.useExperimentalEnhancedSessionLogs=function(){return r.workspace.getConfiguration().get("remote.SSH.experimental.enhancedSessionLogs")??!1},t.showLoginTerminal=function(){return!!r.workspace.getConfiguration().get("remote.SSH.showLoginTerminal")},t.remotePortRanges=function(){const e=r.workspace.getConfiguration().get("remote.SSH.serverPickPortsFromRange",{}),t={};return Object.keys(e).forEach((n=>{const[r,o]=e[n].split("-").map((e=>Number(e)));t[n]={start:r,end:o}})),t},t.remotePlatform=l,t.bindAddressForHost=function(e){const t="127.0.0.1",n=a(),o=n.hasOwnProperty(e.hostName)?n[e.hostName]:t;return/^([A-Z\d-.]+|\[[A-Z0-9:]+\])$/i.test(o)?o:(r.window.showErrorMessage(r.l10n.t("{1} is not a valid host to bind",JSON.stringify(o))),t)},t.getPlatformForHost=async function(e,t=!0){if(function(e){return(r.workspace.getConfiguration().get("remote.SSH.windowsRemotes")||[]).includes(e.hostName)}(e))return o.Platform.Windows;const n=l();if(n.hasOwnProperty(e.hostName))return n[e.hostName];for(const[t,r]of Object.entries(n))if(t.includes("*")&&new RegExp("^"+(0,s.escapeRegExpCharacters)(t).replace(/\\\*/g,".*")+"$","i").test(e.hostName))return r;return t?u(`Select the platform of the remote host "${e.hostName}"`):void 0},t.interactivelyPickSshPlatform=u,t.savePlatformForHost=async function(e,t,n,o){const i=r.workspace.getConfiguration().get("remote.SSH.remotePlatform",{});if(!i||i[e.hostName]!==t.toString()){!function(e,t){const n="Don't Show Again";e.globalState.get(d)||r.window.showInformationMessage(`You selected "${t.toString()}" as the remote platform - this will be stored in the setting "remote.SSH.remotePlatform" and can be changed there if needed.`,n).then((t=>{t===n&&e.globalState.update(d,!0)}))}(n,t);try{await r.workspace.getConfiguration("remote").update("SSH.remotePlatform",{...i,[e.hostName]:t.toString()},r.ConfigurationTarget.Global)}catch(e){o.error(`Failed to write \`remote.SSH.remotePlatform\`: ${e.toString()}`)}}};const d="suppressRemotePlatformNotification";function h(){return r.workspace.getConfiguration().get("remote.SSH.connectTimeout")??15}var f;t.connectTimeoutSetting=h,t.connectTimeoutMilliseconds=function(e,t){let n=h();if(void 0!==e?.config?.ConnectTimeout){const r=parseInt(e.config.ConnectTimeout);if(void 0!==r&&!isNaN(r)){if(0===r)return t.debug("Detected connect timeout of 0. Setting maximum timeout."),2147483647;n=r}}return n<2147483646&&(n+=2),t.debug(`Using connect timeout of ${n} seconds`),1e3*n},t.suppressWindowsSshWarning=function(){return!!r.workspace.getConfiguration().get("remote.SSH.suppressWindowsSshWarning")},function(e){e[e.trace=1]="trace",e[e.debug=2]="debug",e[e.info=3]="info",e[e.warning=4]="warning",e[e.error=5]="error",e[e.critical=6]="critical",e[e.off=7]="off"}(f||(t.LogLevel=f={})),t.logLevel=function(){const e=r.workspace.getConfiguration().get("remote.SSH.logLevel")||"debug";return f[e]},t.maxReconnectionAttempts=function(){const e=r.workspace.getConfiguration().get("remote.SSH.maxReconnectionAttempts");return"number"==typeof e?e:Number.MAX_SAFE_INTEGER}},26:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderHistoryManager=t.FolderDescriptor=void 0;const r=n(1398),o=n(1990),i=n(7166);class s{constructor(e,t){this.remote=e,this.folder=t}static fromUri(e){if("untitled"===e.scheme)return null;const t=e.authority,[n,r]=t.split("+");return i.ResolverType===n?new s(r,e.path):null}toUri(){return r.Uri.parse(`vscode-remote://${i.ResolverType}+${this.remote}${this.folder}`)}}t.FolderDescriptor=s;class a{constructor(e){this.context=e}addFolders(e){const t=this.context.globalState.get(a.KEY),n=new c(t);n.openFolders(e),this.context.globalState.update(a.KEY,n.data)}removeFolder(e){const t=this.context.globalState.get(a.KEY),n=new c(t);n.deleteFolder(e)&&this.context.globalState.update(a.KEY,n.data)}getFolders(e){const t=this.context.globalState.get(a.KEY);return new c(t).getFolders(e)}}t.FolderHistoryManager=a,a.KEY="folder.history.v1";class c{constructor(e){this.historyData=Object.create(null),this._hostNamesToRemotes=null,e&&(function(e){const t=Object.keys(e);return!!t.length&&!Array.isArray(e[t[0]])}(e)&&(e=function(e){const t=Object.create(null);return Object.keys(e).forEach((n=>{t[n]=Object.keys(e[n])})),t}(e)),this.historyData=e)}get data(){return this.historyData}openFolders(e){e.forEach((e=>{const t=this.historyData[e.remote];let n=Array.isArray(t)?t:[];n=n.filter((t=>t!==e.folder)),n.unshift(e.folder),this.historyData[e.remote]=n}))}deleteFolder(e){let t=!1;const n=this.historyData[e.remote];if(n){const r=n.filter((t=>t!==e.folder));r.length!==n.length&&(t=!0,this.historyData[e.remote]=r),0===Object.keys(r).length&&(delete this.historyData[e.remote],t=!0)}return t}getFolders(e){let t=[];return(this.hostNamesToRemotes[e]||[]).forEach((e=>{const n=this.historyData[e];Array.isArray(n)&&n.forEach((n=>{t.push(new s(e,n))}))})),t}get hostNamesToRemotes(){if(!this._hostNamesToRemotes){this._hostNamesToRemotes=Object.create(null);let e=this._hostNamesToRemotes;Object.keys(this.historyData).forEach((t=>{const n=o.HostInfo.parse(t);let r=e[n.hostName];r||(r=[],e[n.hostName]=r),r.push(t)}))}return this._hostNamesToRemotes}}},1566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConnectionError=t.getHelp=t.getStarted=t.provideFeedback=t.openSettings=t.reportIssue=void 0;const r=n(1398),o=n(4417),i=n(3378),s=n(3411);function a(){const{name:e,publisher:t,extensionPack:n}=(0,i.getPackageJson)(),o=[`${t}.${e}`];return n&&n.forEach((e=>o.push(e))),r.commands.executeCommand("workbench.action.openSettings",`@ext:${o.join(",")}`)}function c(){return r.env.openExternal(r.Uri.parse("https://aka.ms/vscode-remote/ssh"))}t.reportIssue=function(){const{name:e,publisher:t}=(0,i.getPackageJson)();return r.commands.executeCommand("vscode.openIssueReporter",`${t}.${e}`)},t.openSettings=a,t.provideFeedback=function(){return r.env.openExternal(r.Uri.parse("https://aka.ms/vscode-remote/ssh/provide-feedback"))},t.getStarted=function(){return r.env.openExternal(r.Uri.parse("https://aka.ms/vscode-remote/ssh/getting-started"))},t.getHelp=c;class l{constructor(){this.title="Reload Window"}async execute(){await r.commands.executeCommand("workbench.action.reloadWindow")}}const u=[new l,new class{constructor(){this.title=r.l10n.t("Open Recent...")}async execute(){await r.commands.executeCommand("workbench.action.openRecent")}},new class{constructor(){this.title=r.l10n.t("Open Documentation")}async execute(){await c()}},new class{constructor(){this.title=r.l10n.t("Open SSH Configuration File")}async execute(e){await(0,o.configureSshHosts)(e)}},new class{constructor(){this.title=r.l10n.t("Open Settings")}async execute(){a()}}],d=[new class{constructor(){this.title=r.l10n.t("Close Remote")}async execute(){await r.commands.executeCommand("workbench.action.remote.close")}},new class{constructor(e){this.moreActions=e,this.title=r.l10n.t("More Actions..."),this.isCloseAffordance=!0}async execute(e){const t=this.moreActions.map((e=>({label:e.title,action:e}))),n=await r.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:r.l10n.t("Pick an action to help resolve the problem.")});n&&await n.action.execute(e)}}(u),new class extends l{constructor(){super(...arguments),this.title=r.l10n.t("Retry")}},...(0,s.useExperimentalChat)()?[new class{constructor(){this.title=r.l10n.t("Diagnose with Copilot")}async execute(){const e=`${r.env.uriScheme}://ms-vscode-remote.remote-ssh/continueWithCopilot?&windowId=_blank`;await r.env.openExternal(r.Uri.parse(e))}}]:[]];t.showConnectionError=async function(e,t){e.endsWith(".")||(e+=".");const n=await r.window.showErrorMessage(e,{modal:!0},...d);n&&await n.execute(t)}},8730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interactivelyPickSshHost=void 0;const r=n(1398),o=n(4417),i=n(1990);class s{constructor(e){this.label=e}}class a{constructor(){this.label=r.l10n.t("Configure SSH Hosts..."),this.alwaysShow=!0}}class c{constructor(){this.label=r.l10n.t("{0} Add New SSH Host...","$(plus)"),this.alwaysShow=!0}}class l{get label(){return`➤ ${this.hostName}`}constructor(){this.hostName="",this.alwaysShow=!0}}t.interactivelyPickSshHost=async function(e){e.info("Picking SSH host");const t=await(0,o.getConfiguredSshHosts)(e),n=await async function(e,t){return new Promise(((n,o)=>{const u=function(e){const t=e.map((e=>new s(e))),n=new a,o=new c,i=r.window.createQuickPick();i.ignoreFocusOut=!0,i.placeholder=r.l10n.t({message:"Select configured SSH host or enter user@host",comment:['Translate user@host such that both user and host are translated but joined by an "@" sign.']});const u=new l;let d=!1;const h=()=>{const e=[...t];d&&e.push(u),e.push(o),e.push(n),i.items=e};return h(),i.onDidChangeValue((e=>{u.hostName=e,d="string"==typeof e&&e.length>0,h()})),i}(e);let d;u.onDidAccept((async()=>{u.busy=!0;const e=u.selectedItems[0];if(e instanceof a)return void n({type:"command",id:"configure"});if(e instanceof c)return void n({type:"command",id:"new"});const r=e instanceof l?e.hostName:e.label;d=i.HostInfo.fromString(r),t.info(`Selected ${d.toString()}`),u.busy=!1,u.hide(),u.dispose()})),u.onDidHide((async()=>{n(d?{type:"host",host:d}:null)})),u.show()}))}(t,e);if(n){if("command"===n.type&&"configure"===n.id)return(0,o.configureSshHosts)(e),null;if("command"===n.type&&"new"===n.id)return r.commands.executeCommand("opensshremotes.addNewSshHost");if("host"===n.type)return n.host}return null}},2232:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptStartMarker=void 0,t.getScriptStartMarker=function(e){return`${e}: running`}},712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectPortForwardingDisabledAndWarn=t.SshResolverError=t.SshResolverErrorCode=t.parseInstallScriptOutput=t.handleInstallErrorResult=t.handleInstallOutput=t.handleServerErrorOutput=t.ListenTarget=t.InstallUnpackCode=void 0;const r=n(1398),o=n(3411),i=n(3070),s=n(2593),a=n(9278),c=n(2869),l=n(96);var u,d;function h(e,t,n){let r=t.match(/(?<=Error: ).*\n/);if(r=r||t.match(/(?=Could not find free port in range: ).+?(?:\(inclusive\).)/),r&&r[0])throw n.error(r[0]),v.ServerInstallError(e,c.UnifiedStatusCode.NoFreePortInRange,r[0])}function f(e,t,n){if(e.exitCode!==c.UnifiedStatusCode.AlreadyInProgress){if(e.exitCode===c.UnifiedStatusCode.ServerDownloadFailed)throw n.error("Server download failed"),v.ServerInstallError(e,c.UnifiedStatusCode.ServerDownloadFailed,r.l10n.t("Downloading VS Code Server failed. Please try again later."));if(e.exitCode===c.UnifiedStatusCode.NoDownloaderAvailable)throw n.error("Neither curl nor wget is installed - can't download the Server"),v.ServerInstallError(e,c.UnifiedStatusCode.NoDownloaderAvailable,r.l10n.t("Downloading VS Code Server failed - please install either curl or wget on the remote."));if(e.exitCode===c.UnifiedStatusCode.NoDownloaderAvailableForStatusCheck)throw n.error("Neither curl nor wget is installed - can't check VS Code Server status"),v.ServerInstallError(e,c.UnifiedStatusCode.NoDownloaderAvailableForStatusCheck,r.l10n.t("Checking VS Code Server status failed - please install either curl or wget on the remote."));if(e.exitCode===c.UnifiedStatusCode.UnsupportedArch)throw n.error("Unsupported architecture"),v.ServerInstallError(e,c.UnifiedStatusCode.UnsupportedArch,r.l10n.t("The remote host's architecture is not supported"));if(e.exitCode===c.UnifiedStatusCode.UnsupportedPlatform)throw n.error("Unsupported platform"),v.ServerInstallError(e,c.UnifiedStatusCode.UnsupportedPlatform,r.l10n.t("The remote host's platform is not supported"));if(e.exitCode===c.UnifiedStatusCode.StatusCheckFailed)return n.debug("Server status check failed - waiting and retrying"),void l.HintManager.Instance()?.captureStatus(c.UnifiedStatusCode.StatusCheckFailed);if(e.exitCode===c.UnifiedStatusCode.NeedInsidersArch)throw v.ServerInstallError(e,c.UnifiedStatusCode.NeedInsidersArch,r.l10n.t("The remote host's architecture is only supported on VS Code Insiders"));if(e.exitCode===c.UnifiedStatusCode.NeedInsidersWindows)throw v.ServerInstallError(e,c.UnifiedStatusCode.NeedInsidersWindows,r.l10n.t("Windows hosts are only supported on VS Code Insiders"));if(e.exitCode===c.UnifiedStatusCode.ServerFailedToStart)throw v.ServerInstallError(e,c.UnifiedStatusCode.ServerFailedToStart,r.l10n.t("The VS Code Server failed to start"));if(e.exitCode===c.UnifiedStatusCode.ServerTerminatedCVE20201416)throw v.ServerInstallError(e,c.UnifiedStatusCode.ServerTerminatedCVE20201416,r.l10n.t("The VS Code Server terminated due to presence of CVE-2020-1416. Check the Remote-SSH output channel for more details."));if(e.exitCode===c.UnifiedStatusCode.CreateInstallDirFailed)throw v.ServerInstallError(e,c.UnifiedStatusCode.CreateInstallDirFailed,r.l10n.t("Failed to create the remote server's install directory"));if(e.exitCode===c.UnifiedStatusCode.UnpackFailed)throw v.ServerInstallError(e,c.UnifiedStatusCode.UnpackFailed,r.l10n.t("Failed to install the VS Code Server"));throw n.error(`Server installation failed with exit code ${e.exitCode} and output ${t}`),v.Create(c.UnifiedStatusCode.UnhandledResolverExitCode)}n.error("Server installation process already in progress - waiting and retrying")}!function(e){e.Success="success",e.Error="error",e.MissingFiles="missingFiles"}(u||(t.InstallUnpackCode=u={})),function(e){e.display=function(e){return"port"in e?`port ${e.port}`:`socket ${e.socketPath}`},e.listen=function(e,t,n){"port"in t?e.listen(t.port,"127.0.0.1",n):e.listen(t.socketPath,n)},e.connect=function(e,t){return"port"in e?a.connect(e.port,"127.0.0.1",t):a.connect(e.socketPath,t)}}(d||(t.ListenTarget=d={})),t.handleServerErrorOutput=h,t.handleInstallOutput=function(e,t,n){!function(e){if(e.match(/WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!/))throw v.Create(c.UnifiedStatusCode.MitmPortForwardingDisabled,r.l10n.t("Remote host key has changed, port forwarding is disabled"))}(t);const i=m(t,e.deps.logger);if((s=i)&&"number"==typeof s.exitCode)return n&&i.exitCode===c.UnifiedStatusCode.ServerFailedToStart&&h(i,n,e.deps.logger),void f(i,t,e.deps.logger);if(i)return e.deps.logger.info(`Remote server is listening on ${d.display(i.serverConfiguration.remoteListeningOn)}`),i;throw function(e){if(e.match(/Network is unreachable/))throw v.Offline(r.l10n.t("Network is unreachable"));if(e.match(/Could not resolve hostname/))throw v.Offline(r.l10n.t("Could not resolve hostname"));if(e.match(/The process tried to write to a nonexistent pipe/))throw v.Offline(r.l10n.t("The process tried to write to a nonexistent pipe"));if(e.match(/Connection timed out/))throw v.Offline(r.l10n.t("The connection timed out"));if(e.match(/Operation timed out/))throw v.Offline(r.l10n.t("The operation timed out"));if(e.match(/No route to host/))throw v.Offline(r.l10n.t("No route to host"));if(e.match(/Can't assign requested address/))throw v.Offline(r.l10n.t("Can't assign requested address"))}(t),function(e,t){if(!t.trim())throw v.Create(c.UnifiedStatusCode.EmptyOutput,"");const n=t.split("\n").reverse();for(const e of n){let t;if((t=e.match(/Too many authentication failures.*/))||(t=e.match(/Permission denied.*/)))throw v.Create(c.UnifiedStatusCode.PermissionDenied,t[0])}if(t.match(/bash: (command )?not found/i))throw v.Create(c.UnifiedStatusCode.NoBash,r.l10n.t("bash not found"));if(t.match(/shell request failed on channel \d/))throw v.Create(c.UnifiedStatusCode.ShellRequestFailedOnChannel);if(t.match(/client_loop: send disconnect: Broken pipe/))throw v.Create(c.UnifiedStatusCode.SendDisconnectBrokenPipe);if(t.match(/hostname contains invalid characters/))throw v.Create(c.UnifiedStatusCode.InvalidHostName,r.l10n.t("Hostname contains invalid characters"));const i=e.host.config;(0,o.enableRemoteCommand)()&&t.match(/Authenticated to .* ssh child died, shutting down/s)&&i&&i.RemoteCommand&&e.deps.logger.error("You have RemoteCommand in your SSH Config for this remote which could be the cause for this crash. Try reconnecting with `enableRemoteCommand` set to `false`.")}(e,t),e.deps.logger.error("Failed to parse remote port from server output"),v.Create(c.UnifiedStatusCode.UnparsableOutput);var s},t.handleInstallErrorResult=f;const p=/^(?:[0-9.:]+:|\[[0-9a-f:]+]:)?(?<port>[0-9]+)$/;function m(e,t){const n=(0,s.parseStringMap)(e,void 0,t);let r;if(n.platform===i.Platform.Linux||n.platform===i.Platform.MacOS||n.platform===i.Platform.Windows)r=n.platform;else{if(!n.platform)return void t.error("WARN: $PLATFORM is undefined in installation script output.  Errors may be dropped.");r=void 0}const o=n.listeningOn&&p.exec(n.listeningOn),a=o?{port:Number(o.groups.port)}:n.listeningOn?{socketPath:n.listeningOn}:void 0;if(!r||n.exitCode){const e={remoteListeningOn:a,osReleaseId:n.osReleaseId,arch:n.arch,platform:r};return{exitCode:r?parseInt(n.exitCode,10):c.UnifiedStatusCode.UnsupportedPlatform,serverConfiguration:e}}if(a)return{serverConfiguration:{remoteListeningOn:a,osReleaseId:n.osReleaseId,arch:n.arch,webUiAccessToken:n.webUiAccessToken,sshAuthSock:n.SSH_AUTH_SOCK,display:n.DISPLAY,tmpDir:n.tmpDir,platform:r,connectionToken:n.connectionToken,execServerToken:n.execServerToken},downloadTime:"string"==typeof n.downloadTime&&n.downloadTime?parseInt(n.downloadTime,10):void 0,installTime:"string"==typeof n.installTime&&n.installTime?parseInt(n.installTime,10):void 0,extInstallTime:"string"==typeof n.extInstallTime&&n.extInstallTime?parseInt(n.extInstallTime,10):void 0,serverStartTime:"string"==typeof n.serverStartTime&&n.serverStartTime?parseInt(n.serverStartTime,10):void 0,didLocalDownload:"string"==typeof n.didLocalDownload&&("1"===n.didLocalDownload||"True"===n.didLocalDownload)||void 0,installUnpackCode:"string"==typeof n.unpackResult?n.unpackResult:void 0}}var g;t.parseInstallScriptOutput=m,function(e){e.NotAvailable="NotAvailable",e.TemporarilyNotAvailable="TemporarilyNotAvailable"}(g||(t.SshResolverErrorCode=g={}));class v extends Error{static ServerInstallError(e,t,n){return new v(n,g.NotAvailable,t,e)}static Create(e,t=""){return new v(t,g.NotAvailable,e)}static Offline(e){return new v(e,g.TemporarilyNotAvailable,c.UnifiedStatusCode.OfflineError)}static Timeout(e){return new v(e,g.TemporarilyNotAvailable,c.UnifiedStatusCode.Timeout)}static Canceled(){return new v(r.l10n.t("Connecting was canceled"),g.NotAvailable,c.UnifiedStatusCode.Canceled)}constructor(e,t,n,r){super(e),this.handled=!1,this._message=e,this._code=t,this.failureReason=n,this.installErrorDetails=r,"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,v.prototype)}toRemoteAuthorityResolverError(){return this._code===g.NotAvailable?r.RemoteAuthorityResolverError.NotAvailable(this._message,this.handled):r.RemoteAuthorityResolverError.TemporarilyNotAvailable(this._message)}}t.SshResolverError=v;let y=!1;t.detectPortForwardingDisabledAndWarn=function(e,t){y||e.includes("open failed: administratively prohibited")&&(t.error(r.l10n.t("ERROR: TCP port forwarding appears to be disabled on the remote host. Ensure that the sshd_config has `AllowTcpForwarding yes`. Contact your system administrator if needed.")),y=!0)}},8602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSshdParentPid=t.execServerInstallScript=t.serverInstallScript=void 0;const r=n(4788),o=n(4430),i=n(6294),s=n(8652),a=n(2593),c=n(6444),l=n(2232),u=n(712),d=n(2869);t.serverInstallScript=function({uuid:e,quality:n,commit:h,telemetryLevel:f,extensionIds:p,basePath:m,serverDataFolderName:g,serverApplicationName:v,enableWebAccess:y,printVars:w,localDownload:S,portRange:b,bindHost:_}){const D=p&&p.length>0?p.map(a.sanitizeExtensionId).map((e=>`"--install-extension", "${e}"`)).join(", "):'""',C="${uuid}",E=`\n$uuid = "${e}"\n"${(0,l.getScriptStartMarker)(C)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${h}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ''\nif ($p -eq 'AMD64' -or $p -eq 'IA64') {\n    $arch = 'x64'\n} elseif ($p -eq 'ARM64') {\n    $arch = 'arm64'\n}\n\nif ($arch -eq '') {\n\t"Unsupported architecture '$p'."\n\tq ${d.UnifiedStatusCode.UnsupportedArch}\n}\n\n$serverRoot = (Join-Path ${m??"(Resolve-Path ~)"} '${g}')\n$log = "$serverRoot\\.$commitId.log"\n$tokenFile = "$serverRoot\\.$commitId.token"\n$sDir = "$serverRoot\\bin\\$commitId"\n$sFile = "$serverRoot\\bin\\$commitId\\bin\\${v}.cmd"\n$quality = '${n}'\n$telemetryFlag = "--telemetry-level ${f}"\n$exts = ${D}\n$allowLocalDownload = ${"off"!==S?"$True":"$False"}\n$forceLocalDownload = ${"always"===S?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n$global:secretToken = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedServerPid) {\n\t\tif (!(gps -Id $launchedServerPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t$webPart = "${y?"-web":""}"\n\t"server-win32-$arch" + $webPart\n}\n\nfunction DownloadServer {\n\t$s = getStopwatch\n\t"Downloading server $arch"\n\t"${(0,s.getProgressOutputString)(C,1)}"\n\t$serverName = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$serverName/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-server.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\nfunction InstallServer {\n\t$global:gotUnpackResult='${u.InstallUnpackCode.Success}'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding server into $tmpDest"\n\t\t"${(0,s.getProgressOutputString)(C,2)}"\n\t\tExpand-Archive "vscode-server.zip" -DestinationPath "$tmpDest"\n\t\tcp -Recurse "$tmpDest\\vscode-*\\*" -Destination .\n\t\tdel -Recurse $tmpDest\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='${u.InstallUnpackCode.Error}'\n\t\t"Failed to unzip server. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.UnpackFailed}\n\t\tInstallServer\n\t}\n\n\tif(!(Test-Path "$sFile")) {\n\t\t$global:gotUnpackResult='${u.InstallUnpackCode.MissingFiles}'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.UnpackFailed}\n\t\tInstallServer\n\t}\n}\n\nfunction WriteConnectionToken {\n\t$fulluser = [System.Security.Principal.WindowsIdentity]::GetCurrent().Name\n\t$global:secretToken = "${(0,c.generateUuid)()}"\n\tni -it f $tokenFile -Force\n\ticacls $tokenFile /reset /Q\n\ticacls $tokenFile /setowner "$fulluser" /Q\n\ticacls $tokenFile /grant "$($fulluser):(R,W)" /Q\n\ticacls $tokenFile /inheritance:r /Q\n\t# This should write in UTF-8 with no BOM. Other methods of writing to a file write UTF-16 or UTF-8 with a BOM\n\t[System.IO.File]::WriteAllLines($tokenFile, $global:secretToken)\n}\n\nfunction SetPortFlag {\n    if(${b?"$True":"$False"}) {\n\t\treturn "--port=${b?.start??0}-${b?.end??0}"\n    }\n\n    return "--port=0"\n}\n\nfunction StartServer {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedServerFile=$sFile -replace ' ', '\` '\n\tWriteConnectionToken\n\t$portFlag = SetPortFlag\n\t$args = "--start-server --host=${_} --server-data-dir '$serverRoot' --accept-server-license-terms --enable-remote-auto-shutdown $portFlag --connection-token-file '$tokenFile' $telemetryFlag $exts *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedServerFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting server: & '$sFile' $args"\n\t$global:launchedServerPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$serverName = GetArtifactName\n\t"${(0,r.getDownloadServerStartTrigger)(C)}"\n\t"artifact==$serverName=="\n\t"destFolder==$serverRoot\\bin\\=="\n\t"destFolder2==$commitId\\vscode-server.zip=="\n\t"${(0,r.getDownloadServerEndTrigger)(C)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $sDir\\vscode-server.zip.done and vscode-server.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$sDir\\vscode-server.zip.done") {\n\t\t\tif(!(Test-Path "$sDir\\vscode-server.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${d.UnifiedStatusCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $sDir\\vscode-server.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction InstallExtensions {\n\t# Install extensions if needed\n\tif ($exts -ne "") {\n\t\t$s = getStopwatch\n\t\t# Can't be inlined as a variable\n\t\t& "$sFile" $telemetryFlag @exts\n\t\t$s.Stop()\n\t\t$global:totalExtInstallTime = $s.ElapsedMilliseconds\n\t}\n}\n\nfunction acquireLock() {\n\t# Init lockfile\n\t$lockFilePath = (Join-Path "$sDir" "vscode-remote-lock.$commitId")\n\ttry {\n\t\t$null = ni $lockFilePath -it f -ea si\n\t} catch {\n\t\t"Could not create server lock file. - $($_.ToString())"\n\t\treturn\n\t}\n\n\t# Acquire lock\n\ttry {\n\t\t"Acquiring lock on $lockFilePath"\n\n\t\t# .NET API needs an absolute path\n\t\t$global:file = [System.io.File]::Open($lockFilePath, 'Open', 'Read', 'None')\n\t} catch {\n\t\t"Install already in progress... - $($_.ToString())"\n\t\tq ${d.UnifiedStatusCode.AlreadyInProgress}\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${w.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"connectionToken==$global:secretToken=="\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $sDir)) {\n\t\t$m = "Could not create server directory"\n\t\ttry {\n\t\t\t$null = ni -it d $sDir -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $sDir)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $sDir\n\tacquireLock\n\n\ttry {\n\t\t"Looking for existing server in $sDir"\n\t\tif(Test-Path "$sFile") {\n\t\t\t"Found installed server"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadServer } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallServer\n\t\t}\n\n\t\t# Find running process by name (node) then commit in path\n\t\tif(!(Get-Process node -ErrorAction SilentlyContinue | Where-Object Path -Like "$sDir\\*")) {\n\t\t\tStartServer\n\t\t} else {\n\t\t\t"Server with $commitId is already running."\n\t\t\tInstallExtensions\n\t\t\tif (Test-Path $tokenFile) {\n\t\t\t\t$global:secretToken = $(cat $tokenFile)\n\t\t\t}\n\t\t}\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Extension host agent listening on (\\d+)"\n\t\t}\n\n\t\t# Do not change this message\n\t\t$failedP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "!!!! Server terminated due to presence of CVE-2020-1416 !!!!"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\t$failed = (sls @failedP).Matches.Groups\n\t\t\t\tif($failed) {\n\t\t\t\t\t$serverLogMsg\n\t\t\t\t\tcat $log\n\t\t\t\t\t"<<< End of server log"\n\t\t\t\t\tq ${d.UnifiedStatusCode.ServerTerminatedCVE20201416}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${d.UnifiedStatusCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t# TODO\n\t} finally {\n\t\t$file.Close()\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,i.minifyPwsh)(E,["getSshdParentPid","exitIfNeeded","DownloadServer","InstallServer","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedServerPid","webPart","archPart","serverName","randomDirName","tmpDest","escapedServerDir","lockFilePath","timeoutDate","failedP","listeningP","listeningMatch","winVersion","tokenFile","secretToken","WriteConnectionToken","StartServer","SetPortFlag","InstallExtensions","printDetails","serverLogMsg","fulluser"])},t.execServerInstallScript=function({uuid:e,quality:n,commit:a,basePath:c,serverDataFolderName:h,printVars:f,localDownload:p,token:m,bindHost:g,portRange:v}){const y="${uuid}",w=`\n$uuid = "${e}"\n"${(0,l.getScriptStartMarker)(y)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${a}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ''\nif ($p -eq 'AMD64' -or $p -eq 'IA64') {\n    $arch = 'x64'\n} elseif ($p -eq 'ARM64') {\n    $arch = 'arm64'\n}\n\nif ($arch -eq '') {\n\t"Unsupported architecture '$p'."\n\tq ${d.UnifiedStatusCode.UnsupportedArch}\n}\n\n$serverRoot = (Join-Path ${c??"(Resolve-Path ~)"} '${h}')\n$cliDataDir = (Join-Path "$serverRoot" 'cli')\n$env:VSCODE_AGENT_FOLDER=$serverRoot\n$log = New-TemporaryFile\n$cliNameInArchiveWithoutExe = "${"stable"===n?"code":"code-insiders"}"\n$cliNameInArchve = "$cliNameInArchiveWithoutExe.exe"\n$cliNameOnDisk = "$cliNameInArchiveWithoutExe-$commitId.exe"\n$cliPath = "$serverRoot\\$cliNameOnDisk"\n$quality = '${n}'\n$allowLocalDownload = ${"off"!==p?"$True":"$False"}\n$forceLocalDownload = ${"always"===p?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n\t"execServerToken==${m}=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedCli1Pid) {\n\t\tif (!(gps -Id $launchedCliPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t"cli-win32-$arch"\n}\n\nfunction DownloadCli {\n\t$s = getStopwatch\n\t"Downloading cli $arch"\n\t"${(0,s.getProgressOutputString)(y,1)}"\n\t$an = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$an/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-cli-$commitId.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\n\nfunction InstallCli {\n\t$global:gotUnpackResult='${u.InstallUnpackCode.Success}'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding cli into $tmpDest"\n\t\t"${(0,s.getProgressOutputString)(y,2)}"\n\t\tExpand-Archive "vscode-cli-$commitId.zip" -DestinationPath "$tmpDest"\n\t\tcp "$tmpDest\\$cliNameInArchve" -Destination $cliPath\n\t\tdel -Recurse $tmpDest\n\t\tdel "vscode-cli-$commitId.zip"\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='${u.InstallUnpackCode.Error}'\n\t\t"Failed to unzip cli. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.UnpackFailed}\n\t\tInstallCli\n\t}\n\n\tif(!(Test-Path "$cliPath")) {\n\t\t$global:gotUnpackResult='${u.InstallUnpackCode.MissingFiles}'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.UnpackFailed}\n\t\tInstallCli\n\t}\n}\n\nfunction StartCli {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedCliFile=$cliPath -replace ' ', '\` '\n\t$args = "command-shell --cli-data-dir '$cliDataDir' --parent-process-id $sshdPID --on-host ${g} ${v?`--on-port=${v.start} --on-port=${v.end}`:"--on-port"} --require-token ${m} *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedCliFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting cli: & '$cliPath' $args"\n\t$global:launchedCliPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$an = GetArtifactName\n\t"${(0,r.getDownloadServerStartTrigger)(y)}"\n\t"artifact==$an=="\n\t"destFolder==$serverRoot=="\n\t"destFolder2==/vscode-cli-$commitId.zip=="\n\t"${(0,r.getDownloadServerEndTrigger)(y)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $serverRoot\\vscode-cli-$commitId.zip.done and vscode-cli-$commitId.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$serverRoot\\vscode-cli-$commitId.zip.done") {\n\t\t\tif(!(Test-Path "$serverRoot\\vscode-cli-$commitId.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${d.UnifiedStatusCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $serverRoot\\vscode-cli-$commitId.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${f.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $serverRoot)) {\n\t\t$m = "Could not create CLI directory"\n\t\ttry {\n\t\t\t$null = ni -it d $serverRoot -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $serverRoot)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $serverRoot\n\n\ttry {\n\t\t"Looking for existing CLI in $serverRoot"\n\t\tif(Test-Path "$cliPath") {\n\t\t\t"Found installed CLI"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadCli } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${d.UnifiedStatusCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallCli\n\t\t}\n\n\t\tStartCli\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Listening on .*?:([0-9]+)$"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${d.UnifiedStatusCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t"$($_.ScriptStackTrace)"\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,i.minifyPwsh)(w,["getSshdParentPid","exitIfNeeded","cliNameInArchiveWithoutExe","cliNameInArchve","cliNameOnDisk","cliPath","DownloadCli","InstallCli","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedCliPid","archPart","cliArtifactName","randomDirName","tmpDest","escapedServerDir","timeoutDate","listeningP","listeningMatch","winVersion","StartCli","printDetails","serverLogMsg"])},t.getSshdParentPid="function getSshdParentPid {\n\t$currentPID = $PID\n\twhile ($True) {\n\t\t$parentPID = (gcim win32_process | ? processid -eq $currentPID).parentprocessid\n\t\tif (!$parentPID) {\n\t\t\t\"no sshd parent proc\"\n\t\t\texit 0\n\t\t}\n\n\t\tif ((gps -Id $parentPID).Name -eq 'sshd') {\n\t\t\treturn $parentPID\n\t\t}\n\n\t\t$currentPID = $parentPID\n\t}\n}"},8861:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execServerInstallScript=t.serverInstallScript=t.webUITokenParameter=t.ignoreWgetConfigFlag=t.ignoreCurlConfigFlag=t.loadInstallerScript=t.INSTALL_SCRIPT_FILE_MARKER_REGEX=void 0;const r=n(6928),o=n(3411),i=n(1943),s=n(1357),a=n(2593),c=n(6444),l=n(2232),u=n(712),d=n(8652),h=n(4788),f=n(2869);async function p(e){const t=r.resolve(__dirname,"install-script","scripts",e);let n=await(0,i.readFile)(t);if(!n||!n.length)throw new Error(`Could not load script from '${t}'`);return n.toString()}function m(e){return"off"!==e?"--tries=1":""}function g(){return(0,o.useCurlAndWgetConfigurationFiles)()?" ":" --disable "}function v(){return(0,o.useCurlAndWgetConfigurationFiles)()?" ":" --no-config "}t.INSTALL_SCRIPT_FILE_MARKER_REGEX=/#<<([\w.]+)>>/g,t.loadInstallerScript=p,t.ignoreCurlConfigFlag=g,t.ignoreWgetConfigFlag=v,t.webUITokenParameter="tkn",t.serverInstallScript=function({uuid:e,quality:n,commit:r,telemetryLevel:o,extensionIds:i,basePath:p,serverDataFolderName:y,serverApplicationName:w,preventExit:S,enableWebAccess:b,lockfilesInTmp:_,useFlock:D,printVars:C,localDownload:E,portRange:P,bindHost:T,serverListenOnSocket:k}){const I=i?.map(a.sanitizeExtensionId).map((e=>`--install-extension "${e}"`)).join(" ")??"",x=p?`'${p.replace(/'/g,"")}'`:"$HOME";return`\necho "${(0,l.getScriptStartMarker)(e)}"\n\n#\n# Setup\n#\nVSC_TMP="\${XDG_RUNTIME_DIR:-\`echo /tmp\`}"\nCOMMIT_ID="${r}"\nSERVER_APP_NAME="${w}"\nEXTENSIONS="${I}"\nTELEMETRY="--telemetry-level ${o}"\nVSCODE_AGENT_FOLDER=${x}/${y}\nALLOW_CLIENT_DOWNLOAD="${"off"!==E?1:0}"\nFORCE_CLIENT_DOWNLOAD="${"always"===E?1:0}"\nnow=\`date +%s\`\n\nPORT_FLAG=${k?"":P?`--port=${P.start}-${P.end}`:"--port=0"}\n\nSERVER_LISTEN_FLAG=${k?'--socket-path="$VSC_TMP/vscode-ssh-remote-server-sock-$now"':""}\nUNPACK_RESULT=\nDID_LOCAL_DOWNLOAD=0\nDOWNLOAD_TIME=\nINSTALL_TIME=\nEXT_INSTALL_TIME=\nSERVER_START_TIME=\nCONNECTION_TOKEN=\n\nVSCH_DIR="$VSCODE_AGENT_FOLDER/bin/$COMMIT_ID"\nVSCH_SERVER_SCRIPT="$VSCH_DIR/bin/$SERVER_APP_NAME"\nVSCH_LOGFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.log"\nVSCH_PIDFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.pid"\nVSCH_TOKENFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.token"\n\nfail_with_exitcode() {\n\techo "${e}: start"\n\techo "exitCode==$1=="\n\techo_common_results\n\techo "${e}: end"\n\texit 0\n}\n\necho_common_results() {\n\techo "listeningOn==$LISTENING_ON=="\n\techo "osReleaseId==$OSRELEASEID=="\n\techo "arch==$ARCH=="\n\techo "vscodeArch==$VSCODE_ARCH=="\n\techo "bitness==$BITNESS=="\n\techo "tmpDir==$VSC_TMP=="\n\techo "platform==$PLATFORM=="\n\techo "unpackResult==$UNPACK_RESULT=="\n\techo "didLocalDownload==$DID_LOCAL_DOWNLOAD=="\n\techo "downloadTime==$DOWNLOAD_TIME=="\n\techo "installTime==$INSTALL_TIME=="\n\techo "extInstallTime==$EXT_INSTALL_TIME=="\n\techo "serverStartTime==$SERVER_START_TIME=="\n}\n\n\nmillis() {\n\tif [[ $PLATFORM == linux ]]; then\n\t\techo $(($(date +%s%N)/1000000))\n\telse\n\t\t# Can't get actual millis on mac\n\t\techo $(($(date +%s)*1000))\n\tfi\n}\n\nelapsed() {\n\techo $(($(millis) - $1))\n}\n\nif [[ ! -d "$VSCH_DIR" ]]; then\n\tmkdir -p "$VSCH_DIR"\n\n\tif (( $? > 0 ))\n\tthen\n\t\techo "Creating the server install dir failed..."\n\t\tfail_with_exitcode ${f.UnifiedStatusCode.CreateInstallDirFailed}\n\tfi\nfi\n\nprintenv_indent() {\n\techo "printenv:"\n\tprintenv | sed 's/^/    /'\n}\n\n\n\n#\n# Get OS name\n#\nOSRELEASEID=\`cat /etc/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\nif [[ -z $OSRELEASEID ]]\nthen\n\tOSRELEASEID=\`cat /usr/lib/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\n\tif [[ -z $OSRELEASEID ]]\n\tthen\n\t\tOSRELEASEID=\`uname -s\`\n\tfi\nfi\n\n\n#\n# Get host platform/architecture\n#\nUNAME=$(uname -s)\ncase $UNAME in\n\tLinux) PLATFORM=linux;;\n\tDarwin) PLATFORM=macOS;;\n\t*)\n\t\techo "Unsupported platform: $UNAME"\n\t\tfail_with_exitcode ${f.UnifiedStatusCode.UnsupportedPlatform}\n\t\t;;\nesac\n\nBITNESS=$(getconf LONG_BIT)\nARCH=$(uname -m)\ncase $ARCH in\n\tx86_64) VSCODE_ARCH="x64";;\n\tarmv7l | armv8l)\n\t\tVSCODE_ARCH="armhf"\n\t\t;;\n\tarm64 | aarch64)\n\t\tif [[ $BITNESS == 32 ]]; then\n\t\t\t# Can have 32-bit userland on 64-bit kernel\n\t\t\tVSCODE_ARCH="armhf"\n\t\telse\n\t\t\tVSCODE_ARCH="arm64"\n\t\tfi\n\t\t;;\n\t*)\n\t\tOSRELEASE=$(uname -r)\n\t\tcase $OSRELEASE in\n\t\t\t*x86_64*) VSCODE_ARCH="x64";;\n\t\t\t*)\n\t\t\t\techo "Unsupported architecture: $ARCH"\n\t\t\t\tfail_with_exitcode ${f.UnifiedStatusCode.UnsupportedArch}\n\t\t\t;;\n\t\tesac\n\t\t;;\nesac\n\nif [[ $PLATFORM == linux ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-linux-$VSCODE_ARCH\nelif [[ $VSCODE_ARCH == "arm64" ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\nelse\n\tPLATFORM_DOWNLOAD_PATH=server-darwin\nfi\n\n#\n# Verify linux prereqs\n#\nif [[ $PLATFORM == linux ]]; then\n\tif [[ -f /usr/lib64/libstdc++.so.6 ]]; then\n\t\t# Typical path\n\t\tlibstdc_path='/usr/lib64/libstdc++.so.6'\n\telif [[ -f /sbin/ldconfig ]]; then\n\t\t# Look up path\n\t\tlibstdc_path=\`/sbin/ldconfig -p | grep 'libstdc++' | sed 's/^.* => '//i\`\n\telse\n\t\techo "Warning: Can't find libstdc++.so or ldconfig, can't verify libstdc++ version"\n\tfi\n\n\tif [[ ! -z $libstdc_path ]]; then\n\t\t# can't use "strings", not included by default on some distros\n\t\tfound_glibcxx=0\n\t\treqd_glibcxx=304019 # 3.4.19\n\t\tglibcxx_versions=\`cat $libstdc_path | grep -a -o -E 'GLIBCXX_[[:digit:]]+\\.[[:digit:]]+\\.([[:digit:]]+)?' | sed 's/GLIBCXX_'//gi\`\n\t\twhile read -r version; do\n\t\t\tif [[ $version =~ ([[:digit:]]+)\\.([[:digit:]]+)(\\.([[:digit:]]+))? ]]; then\n\t\t\t\tmajor="\${BASH_REMATCH[1]}"\n\t\t\t\tminor="\${BASH_REMATCH[2]}"\n\t\t\t\tpatch="\${BASH_REMATCH[4]}"\n\n\t\t\t\ttotal=$(( $major*100000 + $minor*1000 ))\n\t\t\t\tif [[ ! -z $patch ]]; then\n\t\t\t\t\ttotal=$(( $total + $patch ))\n\t\t\t\tfi\n\n\t\t\t\tif (( $total >= $reqd_glibcxx )); then\n\t\t\t\t\tfound_glibcxx=1\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\tfi\n\t\tdone <<< "$glibcxx_versions"\n\n\t\tif [[ $found_glibcxx == 0 ]]; then\n\t\t\techo "Missing GLIBCXX >= 3.4.19!"\n\t\t\techo "Found versions $glibcxx_versions"\n\t\tfi\n\tfi\n\treqd_glibc=217 # 2.17\n\tfound_glibc=0\n\tldd_version=\`ldd --version | head -n1\`\n\tif [[ $ldd_version =~ ^ldd.*([[:digit:]]+)\\.([[:digit:]]+) ]]; then\n\t\tmajor="\${BASH_REMATCH[1]}"\n\t\tminor="\${BASH_REMATCH[2]}"\n\n\t\ttotal=$(( $major*100 + $minor ))\n\t\tif (( $total >= $reqd_glibc )); then\n\t\t\tfound_glibc=1\n\t\tfi\n\tfi\n\n\tif [[ $found_glibc == 0 ]]; then\n\t\techo "Missing GLIBC >= 2.17!"\n\t\techo "Found version $ldd_version"\n\tfi\n\n\tif [[ $found_glibc == 0 || $found_glibcxx == 0 ]]; then\n\t\techo '${e}$$${f.UnifiedStatusCode.LinuxPrereqs}$$'\n\tfi\nfi\n\n#\n# Acquire install lock\n#\nMAIN_LOCKFD=99\nCLEANUP_LOCKFD=98\n${function(e,t){return`\n\n\tuse_flock=${t?"1":"0"}\n\tif [[ $PLATFORM == "macOS" ]]; then\n\t\tuse_flock=0\n\tfi\n\n\t## Copyright (C) 2009 Przemyslaw Pawelczyk <przemoc@gmail.com>\n\t## This script is licensed under the terms of the MIT license.\n\t## https://opensource.org/licenses/MIT\n\n\tget_lockfile() {\n\t\tlockfiles_in_tmp=${e?"1":"0"}\n\t\tlockfile_name=vscode-remote-lock.$USER.$1\n\t\tif [[ $lockfiles_in_tmp == "1" ]]; then\n\t\t\techo "$VSC_TMP/$lockfile_name"\n\t\telse\n\t\t\techo "$VSCODE_AGENT_FOLDER/bin/$1/$lockfile_name"\n\t\tfi\n\t}\n\n\t# PRIVATE\n\t_lock() { flock -$1 $2; }\n\n\t_no_more_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $2\n\t\t\t_lock xn $2 && rm -f $(get_lockfile $1)\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $1)\n\t\t\trm -f "$lockfile_name"\n\t\t\trm -f "$lockfile_name.target"\n\t\tfi\n\t}\n\n\t# PUBLIC - all take lock FD\n\n\tsetup_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\teval "exec $2>\\"$(get_lockfile $1)\\"";\n\t\t\ttrap "_no_more_locking $1 $2" EXIT\n\t\tfi\n\t}\n\n\tsetup_lock_cleanup()  {\n\t\tif [[ $use_flock == "0" ]]; then\n\t\t\ttrap "_no_more_locking $1" EXIT\n\t\tfi\n\t}\n\n\t# obtain an exclusive lock immediately or fail\n\texlock_now() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock xn $1\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $2)\n\t\t\ttouch "$lockfile_name.target"\n\t\t\techo \\\\ln \\"$lockfile_name.target\\" \\"$lockfile_name\\"\n\t\t\t\\ln "$lockfile_name.target" "$lockfile_name"\n\t\tfi\n\t}\n\n\t# drop a lock\n\tunlock() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $1\n\t\telse\n\t\t\t_no_more_locking $2\n\t\tfi\n\t}\n`}(_,D)}\nsetup_locking $COMMIT_ID $MAIN_LOCKFD\n\necho "Acquiring lock on \`get_lockfile $COMMIT_ID\`"\nexlock_now $MAIN_LOCKFD $COMMIT_ID\nif (( $? > 0 ))\nthen\n\techo "Installation already in progress..."\n\techo "If you continue to see this message, you can try toggling the remote.SSH.useFlock setting"\n\tfail_with_exitcode ${f.UnifiedStatusCode.AlreadyInProgress}\nfi\n\nsetup_lock_cleanup $COMMIT_ID $MAIN_LOCKFD\n\n#\n# Delete old servers if needed\n#\nTO_DELETE=$(ls -1 -t "$VSCODE_AGENT_FOLDER/bin" | tail -n +6)\nfor COMMIT_TO_DELETE in $TO_DELETE; do\n\techo "Found old VS Code install $COMMIT_TO_DELETE, attempting to clean up"\n\n\tsetup_locking $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\texlock_now $CLEANUP_LOCKFD $COMMIT_TO_DELETE\n\tif (( $? == 0 )); then\n\t\tsetup_lock_cleanup $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\t\tRUNNING="\`ps ax | grep $COMMIT_TO_DELETE | grep -v grep | wc -l | tr -d '[:space:]'\`"\n\t\tif [[ $RUNNING == 0 ]]; then\n\t\t\techo "Deleting old install from $VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE"\n\t\t\trm -rf "$VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE"\n\n\t\t\techo "Deleting old log file from $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log"\n\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log"\n\t\t\tif [[ -f "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid" ]]; then\n\t\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid"\n\t\t\tfi\n\t\t\tif [[ -f "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token" ]]; then\n\t\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token"\n\t\t\tfi\n\t\telse\n\t\t\techo "Install still has running processes, not deleting: $COMMIT_TO_DELETE"\n\t\tfi\n\telse\n\t\techo "Failed to acquire lock for install, not deleting: $COMMIT_TO_DELETE"\n\tfi\ndone\n\ndo_client_download() {\n\tDID_LOCAL_DOWNLOAD=1\n\techo "Trigger local server download"\n\techo ${(0,h.getDownloadServerStartTrigger)(e)}\n\techo artifact==$PLATFORM_DOWNLOAD_PATH==\n\techo destFolder==$VSCODE_AGENT_FOLDER/bin/==\n\techo destFolder2==$COMMIT_ID/vscode-server.tar.gz==\n\techo ${(0,h.getDownloadServerEndTrigger)(e)}\n\techo "Waiting for client to transfer server archive..."\n\techo "Waiting for $VSCH_DIR/vscode-server.tar.gz.done and vscode-server.tar.gz to exist"\n\n\twhile true; do\n\t\tif [[ -f "$VSCH_DIR/vscode-server.tar.gz.done" ]]; then\n\t\t\tif [[ ! -f "$VSCH_DIR/vscode-server.tar.gz" ]]; then\n\t\t\t\techo "Found flag but not server tar - server transfer failed"\n\t\t\t\tfail_with_exitcode ${f.UnifiedStatusCode.ServerTransferFailed}\n\t\t\tfi\n\n\t\t\techo "Found flag and server on host"\n\t\t\trm "$VSCH_DIR/vscode-server.tar.gz.done"\n\t\t\tbreak\n\t\telse\n\t\t\techo -n ' '\n\t\t\tsleep 3\n\t\tfi\n\tdone\n}\n\ndo_client_download_or_fail() {\n\tif [[ $DID_LOCAL_DOWNLOAD == "1" ]]; then\n\t\techo "Already attempted local download, failing"\n\t\tfail_with_exitcode $1\n\telif [[ $ALLOW_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\t\tLOCAL_DOWNLOAD_RESULT=success\n\telse\n\t\tfail_with_exitcode $1\n\tfi\n}\n\ndo_host_download() {\n\tstart=$(millis)\n\techo '${(0,d.getProgressOutputString)(e,1)}'\n\n\tif [[ $PLATFORM == linux ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-linux-legacy-$VSCODE_ARCH\n\telif [[ $VSCODE_ARCH == "arm64" ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\n\telse\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin\n\tfi\n\n\tDOWNLOAD_URL=https://update.code.visualstudio.com/commit:$COMMIT_ID/$PLATFORM_DOWNLOAD_PATH${b?"-web":""}/${n}\n\n\twget --version &> /dev/null\n\tif (( $? == 0 ))\n\tthen\n\t\techo "Downloading with wget"\n\t\tWGET_ERRORS=$(2>&1 wget${v()}${m(E)} --connect-timeout=7 --dns-timeout=7 -nv -O vscode-server.tar.gz $DOWNLOAD_URL)\n\t\tif (( $? != 0 ))\n\t\tthen\n\t\t\techo "wget download failed"\n\t\t\techo $WGET_ERRORS\n\t\t\tprintenv_indent\n\n\t\t\tdo_client_download_or_fail ${f.UnifiedStatusCode.ServerDownloadFailed}\n\t\telse\n\t\t\techo "Download complete"\n\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\techo "Downloading with curl"\n\t\t\tCURL_OUTPUT=$(curl${g()}--connect-timeout 7 -L $DOWNLOAD_URL --output vscode-server.tar.gz -w "%{http_code}")\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != 2??) ]]\n\t\t\tthen\n\t\t\t\techo "curl download failed"\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tprintenv_indent\n\n\t\t\t\tdo_client_download_or_fail ${f.UnifiedStatusCode.ServerDownloadFailed}\n\t\t\telse\n\t\t\t\techo "Download complete"\n\t\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\t\tfi\n\t\telse\n\t\t\tprintenv_indent\n\t\t\techo "Neither wget nor curl is installed"\n\n\t\t\tdo_client_download_or_fail ${f.UnifiedStatusCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\n}\n\ndo_install() {\n\tstart=$(millis)\n\techo '${(0,d.getProgressOutputString)(e,2)}'\n\tUNPACK_RESULT=${u.InstallUnpackCode.Success}\n\techo 'tar --version:'\n\ttar --version\n\ttar -xf vscode-server.tar.gz --no-same-owner\n\tTAR_EXIT=$?\n\tINSTALL_TIME=$(elapsed $start)\n\n\tif (( $TAR_EXIT > 0 ))\n\tthen\n\t\techo "ERROR: tar exited with non-0 exit code: $?"\n\t\tUNPACK_RESULT=${u.InstallUnpackCode.Error}\n\t\tdo_client_download_or_fail ${f.UnifiedStatusCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\tmv vscode-server*/* .\n\n\t# cheap sanity check\n\tif [[ ! -f "$VSCH_DIR/node" || ! -f "$VSCH_SERVER_SCRIPT" ]]\n\tthen\n\t\tUNPACK_RESULT=${u.InstallUnpackCode.MissingFiles}\n\t\techo "ERROR: $VSCH_DIR/node or $VSCH_SERVER_SCRIPT don't exist"\n\t\tdo_client_download_or_fail ${f.UnifiedStatusCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\t# Delete the leftover folder which might have -web prefix, and the .tar.gz\n\trm -rf vscode-server*\n}\n\ndo_extension_install() {\n\t# install extensions\n\tif [[ ! -z $EXTENSIONS ]]\n\tthen\n\t\techo "Installing extensions..."\n\t\tstart=$(millis)\n\t\t"$VSCH_SERVER_SCRIPT" $TELEMETRY $EXTENSIONS\n\t\tEXT_INSTALL_TIME=$(elapsed $start)\n\tfi\n}\n\n#\n# Install if needed\n#\nif [[ ! -f "$VSCH_SERVER_SCRIPT" ]]\nthen\n\techo "Installing to $VSCH_DIR..."\n\tSTASHED_WORKING_DIR="\`pwd\`"\n\tcd "$VSCH_DIR"\n\n\tif [[ $FORCE_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\telse\n\t\tdo_host_download\n\tfi\n\n\tdo_install\n\tcd "$STASHED_WORKING_DIR"\nelse\n\techo "Found existing installation at $VSCH_DIR..."\nfi\n\n\n#\n# Generate a new connection token\n#\nwrite_connection_token() {\n\trm "$VSCH_TOKENFILE"\n\tCONNECTION_TOKEN="${(0,c.generateUuid)()}"\n\ttouch "$VSCH_TOKENFILE"\n\tchmod 0700 "$VSCH_TOKENFILE"\n\techo $CONNECTION_TOKEN > "$VSCH_TOKENFILE"\n}\n\n#\n# Start the server\n#\nstart_server() {\n\techo "Starting VS Code Server... \\"$VSCH_SERVER_SCRIPT\\" --start-server --server-data-dir \\"$VSCODE_AGENT_FOLDER\\" --host=${T} --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS &> \\"$VSCH_LOGFILE\\" < /dev/null"\n\techo "The VS Code Server log file is $VSCH_LOGFILE"\n\tprintenv_indent\n\tstart=$(millis)\n\twrite_connection_token\n\tif [[ -f $VSCH_LOGFILE ]]; then\n\t\techo "Removing old logfile at $VSCH_LOGFILE"\n\t\trm "$VSCH_LOGFILE" # See #6265\n\tfi\n\t"$VSCH_SERVER_SCRIPT" --start-server --server-data-dir "$VSCODE_AGENT_FOLDER" --host=${T} --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS --connection-token-file "$VSCH_TOKENFILE" &> "$VSCH_LOGFILE" < /dev/null &\n\techo $! > "$VSCH_PIDFILE"\n\techo "Spawned remote server: $!"\n\n\tstopTime=$((SECONDS+15))\n\n\twhile (($SECONDS < $stopTime))\n\tdo\n\t\tLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\n\t\tif [[ $LISTENING_ON != '' ]]\n\t\tthen\n\t\t\tbreak\n\t\tfi\n\n\t\techo "Waiting for server log..."\n\t\tsleep .03\n\tdone\n\n\tSERVER_START_TIME=$(elapsed $start)\n}\n\necho "Checking $VSCH_LOGFILE and $VSCH_PIDFILE for a running server"\nif [[ -f "$VSCH_PIDFILE" ]]; then\n\tSERVER_PID=\`cat "$VSCH_PIDFILE"\`\n\techo "Looking for server with pid: $SERVER_PID"\n\tALL_PROCS=\`ps ax | grep "^\\s*$SERVER_PID\\s"\`\nelse\n\tALL_PROCS=\`ps ax\`\nfi\n\nRUNNING="\`echo $ALL_PROCS | grep "$VSCH_SERVER_SCRIPT" | grep -v grep | wc -l | tr -d '[:space:]'\`"\nif [[ $RUNNING == 0 ]]; then\n\tstart_server\nelif [[ ! -f "$VSCH_LOGFILE" ]]; then\n\techo "WARNING: VS Code Server is running but its logfile is missing. Don't delete the VS Code Server manually, run the command 'Uninstall VS Code Server'."\n\tstart_server\nelse\n\techo "Found running server..."\n\tdo_extension_install\n\tif [[ -f "$VSCH_TOKENFILE" ]]; then\n\t\tCONNECTION_TOKEN=\`cat "$VSCH_TOKENFILE"\`\n\tfi\nfi\n\necho " "\n${s.serverLicense.map((e=>`echo "${e}"`)).join("\n")}\necho " "\n\nLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\nWEBUITOKEN=\`cat "$VSCH_LOGFILE" | grep -a -E 'Web UI available at' | grep -o -E '${t.webUITokenParameter}=[0-9a-f-]+' | grep -o -E '[0-9a-f-]+'\`\nif [[ -z $LISTENING_ON ]]\nthen\n\techo "Server did not start successfully. Full server log at $VSCH_LOGFILE >>>"\n\tcat "$VSCH_LOGFILE"\n\techo "<<< End of server log"\n\tfail_with_exitcode ${f.UnifiedStatusCode.ServerFailedToStart}\nfi\n\n#\n# If the server was already running, ensure that it won't shut down in the near future\n#\nif [[ $RUNNING != 0 ]]; then\n\t# In case the server is close to timing out and shutting down, ask it to delay shutdown\n\n\twget --version &> /dev/null\n\tif [[ $? == 0 && $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\tthen\n\t\techo "Checking server status on port $LISTENING_ON with wget"\n\t\tWGET_OUT=$(wget${v()}--no-proxy -nv -O - http://${T}:$LISTENING_ON/delay-shutdown 2>&1)\n\t\tif [[ $? != 0 ]]; then\n\t\t\techo $WGET_OUT\n\t\t\tfail_with_exitcode ${f.UnifiedStatusCode.StatusCheckFailed}\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\tif [[ $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\t\t\tthen\n\t\t\t\techo "Checking server status on port $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl${g()}--noproxy ${T} -s http://${T}:$LISTENING_ON/delay-shutdown -w " %{http_code}")\n\t\t\telse\n\t\t\t\techo "Checking server status on socket $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl${g()}--noproxy ${T} -s --unix-socket $LISTENING_ON http://${T}/delay-shutdown -w " %{http_code}")\n\t\t\tfi\n\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != "OK 200") ]]; then\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tfail_with_exitcode ${f.UnifiedStatusCode.StatusCheckFailed}\n\t\t\tfi\n\t\telse\n\t\t\techo "Neither wget nor curl is installed"\n\t\t\tfail_with_exitcode ${f.UnifiedStatusCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\nfi\n\n\n# What we echo below cannot be wider than 80 characters\necho "${e}: start"\n${C.map((e=>`echo ${e}==$${e}==`)).join("\n")}\necho "webUiAccessToken==$WEBUITOKEN=="\necho_common_results\necho "connectionToken==$CONNECTION_TOKEN=="\necho "${e}: end"\n\nunlock $MAIN_LOCKFD $COMMIT_ID\n\n${S?"while true; do sleep 180; echo -n ' '; done":""}\n`},t.execServerInstallScript=async function(e,n){const{basePath:r,portRange:o,serverListenOnSocket:i,bindHost:s}=n,c="linux-exec-server-installer.sh",y=await p(c);if(!y)throw new Error(`Could not find templated script ${c}`);const w=r?`${r.replace(/'/g,"")}`:"$HOME",S=i?"--on-socket":`--on-host=${s} `+(o?`--on-port=${o.start} --on-port=${o.end}`:"--on-port"),b={...Object.fromEntries(Object.entries(f.UnifiedStatusCode).map((([e,t])=>[`ExitCode.${e}`,`${t}`]))),...Object.fromEntries(Object.entries(u.InstallUnpackCode).map((([e,t])=>[`InstallUnpackCode.${e}`,`${t}`]))),uuid:n.uuid,startMarker:(0,l.getScriptStartMarker)(n.uuid),commitId:n.commit,quality:n.quality,token:n.token,vscodeAgentFolder:`${w}/${n.serverDataFolderName}`,allowClientDownload:"off"!==n.localDownload?"1":"0",forceClientDownload:"always"===n.localDownload?"1":"0",cliNameInArchive:"stable"===n.quality?"code":"code-insiders",ignoreWgetConfigFlag:v(),ignoreCurlConfigFlag:g(),wgetTriesSegment:m(n.localDownload),listenArgs:S,getDownloadServerStartTrigger:(0,h.getDownloadServerStartTrigger)(n.uuid),getDownloadServerEndTrigger:(0,h.getDownloadServerEndTrigger)(n.uuid),getProgressDownloading:(0,d.getProgressOutputString)(n.uuid,1),getProgressInstalling:(0,d.getProgressOutputString)(n.uuid,2),printVars:(_=n.printVars,_.map((e=>`echo "${e}==$${e}=="`)).join("\n"))};var _;return e.debug(`Script variables:\n ${JSON.stringify((0,a.sanitizeCopyofScriptVars)(b),void 0,2)}`),y.replace(t.INSTALL_SCRIPT_FILE_MARKER_REGEX,((e,t)=>b[t]))}},4788:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadAndCopyToHost=t.getScpFlag=t.getDownloadServerEndTrigger=t.getDownloadServerStartTrigger=void 0;const r=n(9896),o=n(6928),i=n(9023),s=n(1398),a=n(712),c=n(4847),l=n(4430),u=n(4407),d=n(1872),h=n(2869),f=i.promisify(r.exists),p=i.promisify(r.rename),m=i.promisify(r.mkdir);t.getDownloadServerStartTrigger=function(e){return`${e}:trigger_server_download`},t.getDownloadServerEndTrigger=function(e){return`${e}:trigger_server_download_end`},t.getScpFlag=async function(e){const t=e+".done";return await f(t)||await i.promisify(r.writeFile)(t,"finished\n"),o.basename(t)},t.downloadAndCopyToHost=async function(e,t,n,r){const i=e.deps;i.logger.debug(`Got request to download on client for ${JSON.stringify(r)}`);const g=function(e,t){return`https://update.code.visualstudio.com/commit:${t.commit}/${e.artifact}/${t.quality}`}(r,await(0,d.getProductInfo)());i.logger.debug(`server download URL: ${g}`);const v=r.destPath.split(/[\\/]/).pop();i.progress.report({message:s.l10n.t("Downloading VS Code Server locally")}),i.timer.mark(5);const y=await async function(e,t,n){try{n.debug("Downloading VS Code server locally...");const r=await s.commands.executeCommand("_workbench.downloadResource",s.Uri.parse(e));if(!r)throw new Error(s.l10n.t("Failed to download VS Code Server locally"));n.debug("Downloaded VS Code server to "+r.fsPath);const i=o.join(o.dirname(r.fsPath),`vscode_server_${Date.now()}`),a=o.join(i,t);return await f(i)||await m(i),await p(r.fsPath,a),n.debug("Renamed VS Code server to "+a),a}catch(e){throw a.SshResolverError.Create(h.UnifiedStatusCode.LocalDownloadFailed,s.l10n.t("Failed to download VS Code Server ({0})",(0,h.ensureError)(e).message))}}(g,v,i.logger);i.timer.mark(6),i.logger.debug(`Preparing to scp to host ${e.host.hostName}${e.host.port?`:${e.host.port}`:""}`);const w=await(0,c.generateScpCommand)(y,e.host,r.destPath,i.logger);i.progress.report({message:s.l10n.t("Copying VS Code Server to host with scp")}),i.logger.debug(`Copying file to remote with ${w}`);try{i.timer.mark(7),await(0,l.runSshTerminalCommandWithLogin)(e,{systemInteractor:t,command:w,cwd:o.dirname(y),nickname:"Copy server to host",revealTerminal:n}),i.timer.mark(8)}catch(e){if(e instanceof u.CanceledError)throw a.SshResolverError.Canceled();throw e}}},5443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runCommandOnRemote=void 0;const r=n(729),o=n(2232),i=n(9480),s=n(1615),a=n(221),c=n(6444);async function l(e,t,n){return(0,a.withCancellationTokenSource)((r=>(n.onCancellationRequested((()=>{r.cancel()})),(0,s.handleRequestWithInteractors)(e,t,r.token).finally((()=>{r.cancel()})))))}t.runCommandOnRemote=async function(e,t,n){const s=(0,c.insecureRandomString)(),a=(0,o.getScriptStartMarker)(s),u=`${s}: end`,d=(0,r.getInteractorForMsg)(new RegExp(`${a}(.*)${u}`));t=`echo '${a}'\n${t}\necho '${u}'`,n=`echo '${a}'\n${n}\necho '${u}'`;const h=await i.LocalServerManager.create(e,{authRequestHandler:l,interactor:d.interactor,marker:s}),f=h.connect(t,n);return new Promise(((t,n)=>{let r=!1;d.result.then((e=>{r=!0,t(e[1])})),f.then((t=>{r||e.deps.logger.error("Failed to run command. Got output: "+t),n(new Error("Failed to run command"))}))})).finally((()=>{h.terminate()}))}},1615:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleRequestWithInteractors=t.killCurrentRemoteServer=t.tryInstallWithLocalServer=t.resolveWithLocalServer=void 0;const r=n(127),o=n(9278),i=n(857),s=n(6928),a=n(1398),c=n(729),l=n(3411),u=n(712),d=n(4788),h=n(9480),f=n(2584),p=n(3070),m=n(4111),g=n(4430),v=n(4417),y=n(8428),w=n(4407),S=n(221),b=n(1990),_=n(3001),D=n(2593),C=n(1640),E=n(2869);async function P(e,t){const n=e.deps,o=await function(e,t,n){const o=setTimeout((()=>{t.report({message:a.l10n.t("Waiting for other windows to connect")})}),1e3),c=function(e){return s.join(i.tmpdir(),`vscode-remote-ssh-${b.HostInfo.toPathString(e)}-install.lock`)}(e);return n.debug("Acquiring local install lock: "+c),new Promise(((e,t)=>{r.lock(c,{retries:240,retryWait:500,stale:24e4},(n=>{if(clearTimeout(o),n)return t(u.SshResolverError.Create(E.UnifiedStatusCode.LocalLockTimeout,"Timed out while waiting for the local startup lock"));e(c)}))}))}(e.host,n.progress,n.logger);let c;try{c=await t()}finally{await function(e,t){return new Promise((n=>{r.unlock(e,(r=>{r&&t.debug(`Failed to unlock ${e}: ${r.message}`),n()}))}))}(o,n.logger)}return c}function T(e){return`auth-prompt-${e.toString()}`}async function k(e,t){const{logger:n}=e.deps,r=function(e,t){const n=T(e.host),r=t.get(n);function o(){throw new Error("Invalid interwindow prompt data: "+r)}if(r){let t;e.deps.logger.debug("Found password prompt in other window: "+r);try{return t=JSON.parse(r),"string"==typeof t.ipcHandlePath&&t.promptMsg&&"string"==typeof t.promptMsg.message||o(),t}catch(e){o()}}return null}(e,t);if(r)return(0,S.withCancellationTokenSource)((async i=>{(async function(e,t,n){const r=T(e.host);let o;for(;!n.isCancellationRequested&&(o=t.get(r));)await(0,w.sleep)(1e3);o||e.deps.logger.debug("Detected password prompt handled in another window")})(e,t,i.token).then((()=>{i.cancel()}));try{const t=await O(e,r.promptMsg,i.token);t?(n.debug("Sending user response to primary window"),o.connect(r.ipcHandlePath).end(t.userResponse)):n.debug("User canceled prompt")}catch(e){if(!(e instanceof w.CanceledError))throw e}}))}const I=new Map,x=e=>`${e.host}-${e.useExecServer}`;t.resolveWithLocalServer=async function(e,t,n){const{logger:r}=e.deps,o=x(e);I.get(o)?.dispose(),I.delete(o);const i=e.isReconnection?Date.now():void 0;let s=!0;const a=setTimeout((async()=>{for(e.deps.logger.debug("Starting to look for password prompt from another window");s;)await k(e,n),await(0,w.sleep)(1e3)}),1500);return await P(e,(async()=>{s=!1,clearTimeout(a);const c=await(0,h.findRunningServer)(e,i);if(c){const t=!!await(0,v.getConfigurationForHost)(r,e.host);return r.debug("Found running server - short-circuiting install"),I.set(o,new h.LocalServerConnection(c,r)),{retries:1,execServer:c.execServerToken?{token:c.execServerToken}:void 0,installScriptResult:{serverConfiguration:c},usedAuthMethods:new Set,newSocksPort:c.socksPort,remoteInConfigFile:t}}return await(0,m.installServer)(e,C.defaultSystemInteractor,t,n)})).finally((()=>s=!1))};const R=new Map;async function A(e,t,n,r){const i=e.deps,s=await(0,_.getIPCHandlePath)("askpass"),a=T(e.host);let c;return new Promise(((e,l)=>{c=o.createServer((t=>{let n="";t.on("data",(e=>{n+=e.toString()})),t.on("end",(()=>{i.logger.debug("Got password from another window"),e({userResponse:n,usedInteractors:new Set})}))})).listen(s,(()=>{i.logger.debug("Listening for interwindow password on "+s),i.logger.debug("Writing password prompt to globalState"),n.update(a,JSON.stringify({ipcHandlePath:s,promptMsg:t}))})),c.on("error",(e=>{const t="Failed to start interwindow auth prompt server: "+e.message;i.logger.error(t),l(new Error(t))})),r.onCancellationRequested((()=>{l(new w.CanceledError)}))})).finally((()=>{i.logger.debug("Cleaning up other-window auth server"),F(e.host,n),c.close()}))}function F(e,t){const n=T(e);t.update(n,"")}async function O(e,t,n){const{logger:r}=e.deps,o=new Set,i=function(e){const t=e.deps.logger;return[new c.FingerprintInteractor(e,g.showHostKeyConfirmation),new c.PassphraseInteractor(g.showPassphraseInputBox,t),new c.DifferingHostKeyInteractor(g.showDifferingHostConfirmation,t),new c.PasswordInteractor(g.showPasswordInputBox,t),new c.TwoFacInteractor(g.showVerificationCodeInputBox,t),new c.DuoTwoFacInteractor(g.showVerificationCodeInputBox,t),new f.UnrecognizedRequestInteractor]}(e);for(const e of i){const i=await e.onData(t.message,n,{detail:t.detail,detectedServerKey:t.detectedServerKey});if(i.canceled)return void r.debug("Interactor signaled cancel");if("consume"===i.postAction){o.add(e.id);const t=i.isPassword?i.response.replace(/./g,"*"):i.response;return r.debug("Interactor gave response: "+t),{userResponse:i.response,usedInteractors:o}}}}t.tryInstallWithLocalServer=async function e(t,{systemInteractor:n,linuxInstallScript:r,windowsInstallScript:o,socksPort:i,revealTerminalEvent:s,usedAuthMethods:f,marker:m,globalState:g,platform:v}){const w=t.deps,b=(0,c.getInstallScriptOutputInteractor)(m),_=(0,c.getServerErrorLogOutputInteractor)(),C=(0,c.getDownloadRequestInteractor)(m,w.logger),P=await(0,y.getPrereqsWarningInteractor)(m),T=new c.RemoteServerProgressInteractor(m,w.progress);let k;if("number"!=typeof i)throw new Error("Need socksPort defined to use local server");s((()=>{w.logger.showLog()})),F(t.host,g);const L=new c.ComposedInteractor([_.interactor,b.interactor,C.interactor,P,T]),M=await h.LocalServerManager.create(t,{socksPort:i,marker:m,interactor:L,usedInteractors:f,platform:v,authRequestHandler:(e,t,n)=>async function(e,t,n,r){return(0,S.withCancellationTokenSource)((o=>(n.onCancellationRequested((()=>{o.cancel()})),Promise.race([O(e,t,o.token),A(e,t,r,o.token)]).finally((()=>{o.cancel()})))))}(e,t,n,g)});R.set(x(t),M),k=M.connect(r,o);const $=C.result.then((async e=>{await(0,d.downloadAndCopyToHost)(t,n,void 0,e)}));let B,N=Promise.race([b.result,k]);_.result.then((e=>{B=e}));try{await Promise.race([N,$])}catch(e){throw M.terminate(),e}let U=await N;if("string"!=typeof U&&!U)throw u.SshResolverError.Create(E.UnifiedStatusCode.BadInstallScriptResult,"Got bad result from install script");w.logger.debug(`Received install output: ${(0,D.sanitizeInstallScriptOutput)(U)}`);try{const e=(0,u.handleInstallOutput)(t,U,B);return e?(e.serverConfiguration.platform=M.platform,(0,y.logInstallScriptResult)(e,w.logger),await M.persistConnectionDetails(e.serverConfiguration,i)&&I.set(x(t),new h.LocalServerManagerConnection(M)),e):(M.terminate(),null)}catch(c){if(M.terminate(),c instanceof u.SshResolverError&&c.failureReason===E.UnifiedStatusCode.SendDisconnectBrokenPipe&&!v){w.logger.debug("Error connecting, prompting to select platform. Issue related to remote-release issue #7272, temporary workaround due to OpenSSH regression.");const a=await(0,l.interactivelyPickSshPlatform)(`Error connecting, please select the platform of the remote host: "${t.host}"`);if(!a)throw w.logger.debug("Interactively Pick SSH Platform was canceled."),c;const u=await e(t,{systemInteractor:n,globalState:g,linuxInstallScript:r,windowsInstallScript:o,socksPort:i,marker:m,revealTerminalEvent:s,usedAuthMethods:f,platform:a});return u&&(u.storePlatform=!0),u}if(c instanceof u.SshResolverError&&c.failureReason===E.UnifiedStatusCode.ShellRequestFailedOnChannel&&!v){w.progress.report({message:a.l10n.t("Detected Windows host, need to reconnect")}),w.logger.debug("Detected Windows OpenSSH 7.9+ host, issue #2475. Reconnecting as Windows host.");const c=await e(t,{systemInteractor:n,globalState:g,linuxInstallScript:r,windowsInstallScript:o,socksPort:i,marker:m,revealTerminalEvent:s,usedAuthMethods:f,platform:p.Platform.Windows});return c&&(c.storePlatform=!0),c}throw c}},t.killCurrentRemoteServer=async function(e){let t=!1;for(const n of R.values())t=await n.killRemote(e)||t;return t},t.handleRequestWithInteractors=O},9480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killLocalServer=t.LocalServerManager=t.LocalServerManagerConnection=t.LocalServerConnection=t.findRunningServer=void 0;const r=n(5317),o=n(9896),i=n(6928),s=n(9023),a=n(3411),c=n(2232),l=n(712),u=n(5130),d=n(2584),h=n(3070),f=n(4847),p=n(3378),m=n(1990),g=n(4747),v=n(3001),y=n(4535),w=n(9350),S=n(1872),b=n(2593),_=s.promisify(o.readFile),D=s.promisify(o.exists);async function C(e){const t=e.useExecServer?"es":"tr";return i.join(e.deps.serverDataPath,await async function(e){const t=(0,p.getPackageJson)().version,n=await(0,S.getProductInfo)();return`vscode-ssh-host-${m.HostInfo.toPathString(e)}-${n.commit}-${t}`}(e.host)+"-"+t,u.dataFileName)}async function E(e,t){try{const n=await(0,g.httpGet)(void 0,{socketPath:e,path:"/delay-shutdown"},t);return"OK"===n||t.debug("Got unexpected result from running connection server: "+n),!0}catch(e){return t.debug("Server delay-shutdown request failed: "+e.message),!1}}async function P(e,t){const n=e.deps.logger,r=await async function(e){const t=await C(e);if(e.deps.logger.debug("Looking for existing server data file at "+t),await D(t)){const n=(await _(t)).toString();try{const t=JSON.parse(n);return e.deps.logger.debug("Found existing data file"),t}catch(t){return void e.deps.logger.info("Found data file but it has bad contents: "+n)}}e.deps.logger.debug("No existing data file")}(e);if(!r)return;const o={...r,connectionToken:r.connectionToken&&(0,b.sanitizeConnectionToken)(r.connectionToken)};if(n.debug(`Found local server running: ${JSON.stringify(o)}`),!(t&&r.startupTime+2e3<t))return await E(r.ipcHandlePath,n)?r:void n.debug("Existing server's health check failed, will start a new one");n.debug("Running server is stale. Ignoring")}t.findRunningServer=P,t.LocalServerConnection=class{constructor(e,t){this.serverKeepaliveTimer=x(e.ipcHandlePath,t)}dispose(){clearInterval(this.serverKeepaliveTimer)}},t.LocalServerManagerConnection=class{constructor(e){this.manager=e}dispose(){this.manager.disconnect()}};class T{constructor(e){this.interactor=e,this.stdout="",this.onDataQ=Promise.resolve()}async onData(e){return this.onDataQ=this.onDataQ.finally((()=>this._onData(e)))}async _onData(e){this.stdout+=e,"consume"===(await this.interactor.onData(this.stdout)).postAction&&(this.stdout="")}}var k;!function(e){e[e.Initial=0]="Initial",e[e.Connecting=1]="Connecting",e[e.Running=2]="Running",e[e.Connected=3]="Connected",e[e.Terminated=4]="Terminated"}(k||(k={}));class I{constructor(e,t,n,r,o){this.params=e,this.child=t,this.args=n,this.ipcHandlePath=r,this.askpass=o,this.startupTime=Date.now(),this.sshOutput="",this.stdout="",this.stderr="",this.stdoutHandler=async e=>{const t=(0,b.stripTrailingNewline)(e.toString()),n=(0,b.markLines)((0,b.sanitizeInstallScriptOutput)(t));if(this.deps.logger.debug(n),this.updateSshOutput((0,b.splitLines)(t)),this.stdout+=t,this.commandOutputMatcher&&await this.commandOutputMatcher({stdout:this.stdout}))return this.commandOutputMatcher=void 0,void(this.stdout="");this.state===k.Connecting&&t.includes((0,c.getScriptStartMarker)(this.args.marker))&&(this.params.deps.timer.mark(2),this.state=k.Running),this.interactorBuffer.onData(t)},this.stderrHandler=async e=>{const t=(0,b.stripTrailingNewline)(e.toString()),n=this.parseStderrLines(t);this.updateSshOutput(n.filter((e=>"trace"!==e.type)).map((e=>e.text))),this.stderr+=t,this.commandOutputMatcher&&this.commandOutputMatcher({stderr:this.stderr})?this.stderr="":n.forEach((e=>{this.parseAuthRequestDetail(e.text),"trace"===(e={text:(0,b.markLine)(e.text,"stderr"),type:e.type}).type?this.deps.logger.trace(e.text):this.deps.logger.info(e.text),(0,l.detectPortForwardingDisabledAndWarn)(e.text,this.deps.logger)}))},this.deps=this.params.deps,this.state=k.Initial,this.interactorBuffer=new T(this.args.interactor),this.askpass?.setAuthRequestHandler(this.askpassAuthRequestHandler.bind(this))}get platform(){return this._platform}static async create(e,t){const n=e.deps,{socksPort:o}=t,s="number"==typeof o?["-D",String(o)]:void 0,{serverDataFolderName:c}=await(0,S.getProductInfo)(),l=t.platform===h.Platform.Windows?"powershell":t.platform===h.Platform.Linux||t.platform===h.Platform.MacOS?"bash":void 0,u={serverId:I.NEXT_SERVER_ID++,ipcHandlePath:await(0,v.getIPCHandlePath)("askpass"),sshCommand:await(0,f.getSshCommandPath)(n.logger),sshArgs:["-v",...await(0,f.getSshConnectionArgs)(e,{cmdSegment:s,allowPortForward:!0,allowRemoteCommand:void 0===l}),...l?[l]:[]],serverDataFolderName:c,dataFilePath:e.deps.serverDataPath?await C(e):void 0};let p,m;void 0!==process.env.SSH_ASKPASS&&(0,a.externalSshAskpass)()||(p=new d.Askpass(e),m=await p.getEnv()),n.logger.debug(`Spawning local server with ${JSON.stringify(u)}`),n.logger.debug(`Local server env: ${JSON.stringify({SSH_AUTH_SOCK:process.env.SSH_AUTH_SOCK,SHELL:process.env.SHELL,...m})}`),n.timer.mark(1);const g=r.spawn(process.execPath,[i.join(__dirname,"localServer.js"),JSON.stringify(u)],{detached:!0,stdio:"pipe",env:{...process.env,...m}});return g.unref(),n.logger.debug("Spawned "+g.pid),new I(e,g,t,u.ipcHandlePath,p)}async askpassAuthRequestHandler(e,t,n){const r={message:t,detail:this.authRequestDetail,detectedServerKey:this.serverKey},o=await this.args.authRequestHandler(e,r,n);return o&&(this.serverKey=void 0),o}connect(e,t){return this.state=k.Connecting,this.keepaliveTimer=setTimeout((()=>{this.keepaliveTimer=x(this.ipcHandlePath,this.deps.logger)}),500),new Promise((async(n,r)=>{const o=()=>setTimeout((()=>{this.state===k.Connecting&&(r(l.SshResolverError.Timeout("Connecting with SSH timed out")),this.terminate())}),(0,a.connectTimeoutMilliseconds)(this.params.host,this.deps.logger));let i=o();const s=this.askpass?.onAuthRequestReceived((()=>{clearTimeout(i)})),c=this.askpass?.onAuthRequestHandled((()=>{i=o()}));this.child.on("exit",(e=>{this.state=k.Terminated,this.deps.logger.debug(`Local server exit: ${e}`),n(this.sshOutput),this.cleanup()})),this.child.stdout.on("data",this.stdoutHandler),this.child.stderr.on("data",this.stderrHandler);try{await this._checkPlatformAndRunScript(e,t)}catch(e){r(e)}finally{s?.dispose(),c?.dispose()}})).finally((()=>{setTimeout((()=>{this.state===k.Connecting&&(this.deps.logger.debug("Connecting failed, terminating local server"),this.cleanup())}),10)}))}async killRemote(e){if(!this._platform)return this.deps.logger.error("Unexpectedly did not know platform of remote."),!1;const t={platform:this._platform,cleanRemoteUserData:e};try{const e=await(0,g.httpPost)(void 0,JSON.stringify(t),{socketPath:this.ipcHandlePath,path:"/kill-remote"},this.deps.logger);return this.deps.logger.debug(e),!0}catch(e){return this.deps.logger.debug("Server kill-remote request failed: "+e.message),!1}}async _checkPlatformAndRunScript(e,t){const{logger:n}=this.deps;if(await this.waitForReady(),this._platform=await this.probeServerPlatform(),n.debug("Platform: "+this._platform),this._platform===h.Platform.Windows){const e=(0,f.getEscapedPowershellCommandForLocalServer)(t,this.deps.logger);await this.startPowershellAndWait(),this.execute(e)}else{const t=`mainScriptWrapper() {\n ${e}\n }\n mainScriptWrapper`,r=await this.probeShell();n.debug("Parent Shell: "+r),n.debug("Parent Shell pid: "+this.child.pid),await this.startSubshellAndWait(this.child.pid,n),this.execute(t)}}terminate(){this.state!==k.Terminated&&(this.state=k.Terminated,this.deps.logger.debug("Terminating local server"),this.cleanup())}disconnect(){var e;this.keepaliveTimer&&(e=this.keepaliveTimer,clearInterval(e),this.keepaliveTimer=void 0)}execute(e,t){t&&(this.commandOutputMatcher=t),this.child.stdin.write(`${e}\n`)}updateSshOutput(e){const t=e.filter((e=>!e.startsWith("local-server> "))).join("\n");t&&(this.sshOutput=this.sshOutput+t+"\n")}parseStderrLines(e){return(0,b.splitLines)(e).map((e=>{if(!e.startsWith("debug1:"))return{text:e};const t=e.match(/^debug1: Server host key: (.+)/);if(t){const n=t[1].trim();return this.serverKey=n.split(" ")[1]||n,{text:e}}return e.match(/debug1: Host .* is known and matches/)&&(this.serverKey=void 0),{text:e,type:"trace"}}))}parseAuthRequestDetail(e){e.match(/Permission denied/i)&&(this.authRequestDetail=e)}async probeShell(){return new Promise(((e,t)=>{this.execute("echo $SHELL",(t=>{if("stdout"in t){const n=t.stdout.substring(t.stdout.lastIndexOf("/")+1);return e(n),!0}return!1}))}))}async startPowershellAndWait(){return new Promise(((e,t)=>{this.execute("powershell -NoProfile",(t=>!(!("stdout"in t)||!t.stdout.match(/Windows PowerShell/)||(e(),0))))}))}async startSubshellAndWait(e,t){const n=(0,a.useExecServer)()?"sh":"bash";return new Promise(((r,o)=>{let i=!1,s=0;const a=()=>{s++,i||(this.execute("echo $$",c),s<=100?setTimeout((()=>{a()}),50):(o(l.SshResolverError.Timeout(`Creating '${n}' subshell timed out`)),this.terminate()))},c=o=>{if("stdout"in o){t.debug(`Waiting for pid of spawned '${n}' subshell: '${o.stdout}'...`);const s=o.stdout.match(/\d+/);if(s&&e!==parseInt(s[0],10))return i=!0,r(),!0}return!1};this.execute(n),a()}))}async waitForReady(){const e=`ready: ${this.args.marker}`;return new Promise(((t,n)=>{this.execute(`echo '${e}'`,(n=>!(!("stdout"in n)||!n.stdout.includes(e)||(t(),0))))}))}async probeServerPlatform(){return new Promise(((e,t)=>{this.execute("uname -rsv",(t=>{let n;return"stdout"in t?t.stdout.includes("Darwin")?n=h.Platform.MacOS:t.stdout.toLowerCase().includes("msys")||t.stdout.toLowerCase().includes("windows32")||t.stdout.toLowerCase().includes("cygwin")||t.stdout.toLowerCase().includes("Windows_NT")?n=h.Platform.Windows:(t.stdout.includes("Linux")||t.stdout.toLowerCase().includes("bsd"))&&(n=h.Platform.Linux):t.stderr&&t.stderr.includes("uname")&&(n=h.Platform.Windows),!!n&&(e(n),!0)}))}))}cleanup(){this.disconnect(),this.child.kill()}getServerData(e,t){return{...e,pid:this.child.pid,ipcHandlePath:this.ipcHandlePath,socksPort:t,startupTime:this.startupTime}}async persistConnectionDetails(e,t){if(this.state=k.Connected,this.deps.timer.mark(3),this.deps.serverDataPath)try{this.askpass?.dispose();const n=this.getServerData(e,t),r=await C(this.params);return await(0,y.mkdirp)(i.dirname(r)),this.deps.logger.debug("Persisting server connection details to "+r),s.promisify(o.writeFile)(r,JSON.stringify(n,void 0,2)),n}catch(e){this.deps.logger.debug("Failed to persist local server connection details: "+e.message)}}}function x(e,t){const n=async()=>{await E(e,t)};return n(),setInterval(n,2e3)}t.LocalServerManager=I,I.NEXT_SERVER_ID=1,t.killLocalServer=async function(e){for(const t of[!0,!1]){const n=await P({...e,useExecServer:t},void 0);n&&await(0,w.killTree)(n.pid,e.deps.logger)}}},5130:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataFileName=void 0,t.dataFileName="data.json"},2584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnrecognizedRequestInteractor=t.Askpass=void 0;const r=n(9896),o=n(8611),i=n(6928),s=n(9023),a=n(1398),c=n(4430),l=n(3001),u=n(6296);t.Askpass=class{constructor(e){this.params=e,this._onAuthRequestReceived=new a.EventEmitter,this.onAuthRequestReceived=this._onAuthRequestReceived.event,this._onAuthRequestHandled=new a.EventEmitter,this.onAuthRequestHandled=this._onAuthRequestHandled.event,this._usedInteractors=new Set,this.enabled=!0,this.requestQ=Promise.resolve(),this.isCanceled=!1,this.currentHandlerCancelTokenSource=null,this.authRequestHandler=null,this.server=o.createServer(((e,t)=>this.onRequest(e,t))),this.server.setTimeout(6e5),this.ipcHandlePathPromise=this.setup().catch((e=>(console.error(e),"")))}get usedInteractors(){return this._usedInteractors}setAuthRequestHandler(e){this.authRequestHandler=e}async setup(){this.ipcHandlePath=await(0,l.getIPCHandlePath)("askpass");try{this.params.deps.logger.debug("askpass server listening on "+this.ipcHandlePath),this.server.listen(this.ipcHandlePath),this.server.on("error",(e=>console.error(e)))}catch(e){console.error("Could not launch ssh askpass helper."),this.enabled=!1}return this.ipcHandlePath}onRequest(e,t){this._onAuthRequestReceived.fire(),this.currentHandlerCancelTokenSource&&this.currentHandlerCancelTokenSource.cancel(),this.requestQ=this.requestQ.finally((()=>new Promise(((n,r)=>{const o=[];e.setEncoding("utf8"),e.on("data",(e=>o.push(e))),t.on("timeout",(()=>{this.params.deps.logger.debug("Askpass request timed out"),e.socket.destroy(),this.currentHandlerCancelTokenSource&&(this.currentHandlerCancelTokenSource.cancel(),this.currentHandlerCancelTokenSource=null)})),e.on("end",(async()=>{const e=o.join("");try{const n=await this.handleRequest(e);t.writeHead(200),t.end(JSON.stringify(n)),this._onAuthRequestHandled.fire()}catch(e){this.params.deps.logger.error(e.message),t.writeHead(500),t.end(),r(new Error(e.message))}n()}))}))))}async handleRequest(e){if(this.params.deps.logger.debug("Got askpass request: "+e),this.isCanceled)return{canceled:!0};let t,n;try{if(t=JSON.parse(e).request,"string"!=typeof t)throw new Error('Missing "request" property')}catch(e){throw new Error("Got malformed askpass request: "+e.message)}try{if(this.currentHandlerCancelTokenSource=new a.CancellationTokenSource,!this.authRequestHandler)throw new Error("No authRequestHandler registered");const e=await this.authRequestHandler(this.params,t,this.currentHandlerCancelTokenSource.token);this.currentHandlerCancelTokenSource.dispose(),this.currentHandlerCancelTokenSource=null,void 0===e||void 0===e.userResponse?(this.isCanceled=!0,n={canceled:!0}):(n={response:e.userResponse},this._usedInteractors=e.usedInteractors)}catch(e){throw new Error("Handling auth request failed: "+e.stack)}return n}async getEnv(){if(!this.enabled)return{SSH_ASKPASS:i.join(__dirname,"askpass-empty.sh")};const e=u.isWindows?"askpass.bat":"askpass.sh";return{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:i.join(__dirname,"local-server",e),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:"",VSCODE_SSH_ASKPASS_MAIN:i.join(__dirname,"askpass-main.js"),VSCODE_SSH_ASKPASS_HANDLE:await this.ipcHandlePathPromise}}async dispose(){this.server.close(),this.ipcHandlePath&&await s.promisify(r.exists)(this.ipcHandlePath)&&"win32"!==process.platform&&await s.promisify(r.unlink)(this.ipcHandlePath)}};class d{get id(){return d.ID}async onData(e){const t={postAction:"keep"},n=await(0,c.showInputBox)(e);return"string"!=typeof n?t.canceled=!0:(t.response=n,t.postAction="consume",t.isPassword=!0),t}}t.UnrecognizedRequestInteractor=d,d.ID="unrecognizedRequest"},3070:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.warnForPreviewPlatform=void 0,t.warnForPreviewPlatform=function(e,t){"aarch64"!==e.arch&&"arm64"!==e.arch||t.info(`** Note: Support for architecture "${e.arch}" is in preview **`)},function(e){e.Linux="linux",e.Windows="windows",e.MacOS="macOS"}(n||(t.Platform=n={}))},1680:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.guessRemoteCloud=t.RemoteCloud=void 0;const r=n(1398),o=n(4430),i=n(3039),s=n(1640),a=n(3070),c=n(8861);var l;async function u(e,t,n){return!!(await p("http://169.254.169.254/metadata/instance?api-version=2019-03-11",e,t,n,{Metadata:"true"})).match(/azEnvironment/)}async function d(e,t,n){return!!(await p("http://169.254.169.254/metadata/v1/id",e,t,n)).match(/^\d{9}/)}async function h(e,t,n){return!!(await p("http://169.254.169.254/latest/meta-data/instance-id",e,t,n)).match(/^i-[0-9a-f]{8}/)}async function f(e,t,n){return!!(await p("http://metadata.google.internal/computeMetadata/v1/instance/id",e,t,n,{"Metadata-Flavor":"Google"})).match(/^\d{10}/)}async function p(e,t,n,l,u){const d=n===a.Platform.Windows?function(e,t){let n="";return t&&(n=`-Headers @{${Object.keys(t).map((e=>`\\"${e}\\"=\\"${t[e]}\\"`)).join("; ")}}`),`powershell -Command "$ProgressPreference = 'SilentlyContinue'; (Invoke-WebRequest -TimeoutSec 7 -Uri ${e} -UseBasicParsing ${n}).Content"`}(e,u):function(e,t){let n="";return t&&(n=Object.keys(t).map((e=>`--header='${e}:${t[e]}'`)).join(" ")),`wget --version > /dev/null\nif [ $? -eq 0 ]\nthen\n\twget${(0,c.ignoreWgetConfigFlag)()}--connect-timeout=7 --tries=1 --dns-timeout=7 -q ${n} -O - ${e}\nelse\n\tcurl --version > /dev/null\n\tif [ $? -eq 0 ]\n\tthen\n\t\tcurl${(0,c.ignoreCurlConfigFlag)()}--connect-timeout 7 -s ${n} ${e}\n\tfi\nfi`}(e,u),h=r.Uri.parse(`vscode-remote://${t}/`);return await(0,o.runInteractiveSshTerminalCommand)({cwd:h,command:d,logger:new i.NullLogger,nickname:"Check remote",systemInteractor:s.defaultSystemInteractor,host:l,terminalIsWindows:n===a.Platform.Windows})}!function(e){e.Azure="azure",e.AWS="aws",e.DigitalOcean="digitalocean",e.GCP="gcp"}(l||(t.RemoteCloud=l={})),t.guessRemoteCloud=async function(e,t,n){const r=[l.Azure,l.AWS,l.DigitalOcean,l.GCP],o=await Promise.allSettled([u(e,t,n),h(e,t,n),d(e,t,n),f(e,t,n)]);for(let e=0;e<o.length;e++){let t=o[e];if("fulfilled"===t.status&&t.value&&e<r.length)return r[e]}}},4111:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdown=t.getActiveRemote=t.installServer=t.storePlatform=t.resolveExecServer=t.resolve=void 0;const r=n(1398),o=n(3411),i=n(712),s=n(8861),a=n(8602),c=n(1615),l=n(3070),u=n(8993),d=n(27),h=n(4417),f=n(1577),p=n(8428),m=n(5691),g=n(1872),v=n(1640),y=n(6444),w=n(8214),S=n(3510),b=n(6982),_=n(3505),D=n(2869),C=n(2593),E="remote.sshContext";let P;const T=new Map,k=(e,t)=>`${e}-${t.useExecServer}`;let I=null;async function x(e,t,n){const r=k(t,e);let s,a=T.get(r);if(a||(a={manager:new d.SshAuthSockManager(t,e.deps),port:void 0},T.set(r,a)),!a.port||e.isReconnection)if((0,o.enableDynamicForwarding)()||(0,o.useLocalServer)())try{a.port=await(0,m.findAnyFreePort)()}catch(e){throw i.SshResolverError.Create(D.UnifiedStatusCode.FindLocalPort,"Failed to find a free local port for dynamic forwarding")}else a.port=void 0;(0,o.useLocalServer)()?(s=await(0,c.resolveWithLocalServer)(e,a.port,n.globalState),s.newSocksPort&&(a.port=s.newSocksPort)):s=await A(e,v.defaultSystemInteractor,a.port,n.globalState);const l=await(0,f.createTunnel)(e,{platform:s.installScriptResult.serverConfiguration.platform,socksPort:a.port,name:"VS Code Server",remoteListeningOn:s.installScriptResult.serverConfiguration.remoteListeningOn,preferredLocalPortRange:(0,o.preferredLocalPortRange)(e.deps.logger)});if(!l)throw new Error("Expected to have opened primary tunnel");return e.deps.logger.info(`Resolved "${t}" to "${i.ListenTarget.display(l.localTarget)}"`),{installResult:s,tunnelResult:l}}function R(e,t,n,r){setTimeout((()=>{(0,o.savePlatformForHost)(t,e,n,r)}),4e3)}async function A(e,t,n,d,f=(0,y.insecureRandomString)()){const{logger:m,progress:v,telemetry:S}=e.deps,_=(0,o.remotePortRanges)()[e.host.hostName];if(_&&_.end<_.start)throw i.SshResolverError.Create(D.UnifiedStatusCode.InvalidPortRange,"Invaid port range set");const E=(0,o.serverInstallPath)()[e.host.hostName],P=S.getTelemetryLevel(),T=(0,b.randomUUID)(),k=await async function(e,t,n,r,i,c,l,u){const d=await(0,g.getProductInfo)();u.info(`Using commit id "${d.commit}" and quality "${d.quality}" for server`);const h=(0,o.getSshDefaultExtensions)(),f={uuid:r,basePath:e,serverDataFolderName:d.serverDataFolderName,serverApplicationName:d.serverApplicationName,quality:d.quality,commit:d.commit,telemetryLevel:i,extensionIds:h,bindHost:l,printVars:(0,o.enableAgentForwarding)()&&(0,o.enableDynamicForwarding)()?["SSH_AUTH_SOCK"]:[],localDownload:(0,o.localDownload)(),enableWebAccess:(0,o.enableWebAccess)(),portRange:n},p={...f},m={...f,preventExit:!!t&&!(0,o.useLocalServer)(),lockfilesInTmp:(0,o.lockfilesInTmp)(),useFlock:(0,o.useFlock)(),serverListenOnSocket:(0,o.remoteServerListenOnSocket)()};(0,o.enableX11Forwarding)()&&(m.printVars=[...m.printVars,"DISPLAY"]);return{linuxInstallScript:(0,s.serverInstallScript)(m),linuxExecServerInstallScript:await(0,s.execServerInstallScript)(u,{...m,token:c}),windowsInstallScript:(0,a.serverInstallScript)(p),windowsExecServerInstallScript:(0,a.execServerInstallScript)({...p,token:c})}}(E,n,_,f,P,T,(0,o.bindAddressForHost)(e.host),m);return m.info("Install and start server if needed"),(0,u.withShowDetailsEvent)((async s=>{const a=function(e,t){return{report(n){n.message?e.report({message:t+n.message}):e.report(n)}}}(v,`([details](command:${u.SHOW_DETAILS_COMMAND} "Show details")) `);a.report({message:r.l10n.t("Initializing VS Code Server")});const g=await(0,o.getPlatformForHost)(e.host,!(0,o.useLocalServer)());if(!(0,C.validateCustomServerPath)(E,g))throw i.SshResolverError.Create(D.UnifiedStatusCode.InvalidCustomServerPath,`Provided: "${E}"`);let y=0;e:for(;y++<30;){const u=!!await(0,h.getConfigurationForHost)(m,e.host),v=new Set;try{let h;const S=e.useExecServer?{linux:k.linuxExecServerInstallScript,windows:k.windowsExecServerInstallScript}:{linux:k.linuxInstallScript,windows:k.windowsInstallScript};if((0,o.useLocalServer)())h=await(0,c.tryInstallWithLocalServer)(e,{systemInteractor:t,linuxInstallScript:S.linux,windowsInstallScript:S.windows,socksPort:n,marker:f,revealTerminalEvent:s,usedAuthMethods:v,globalState:d,platform:g});else{if(!g)throw m.debug("getPlatformForHost was canceled"),i.SshResolverError.Canceled();const r=g===l.Platform.Windows?S.windows:S.linux,o=await(0,p.generateSshCommand)(e,g,r,n);e.deps.logger.debug(`Generated SSH command: '${o}'`),h=await(0,p.tryInstall)(e,{systemInteractor:t,command:o,marker:f,platform:g,revealTerminalEvent:s,usedAuthMethods:v})}if(h)return{installScriptResult:h,retries:y,usedAuthMethods:v,remoteInConfigFile:u,execServer:e.useExecServer?{token:T}:void 0};a.report({message:r.l10n.t("Connect to VS Code Server - retry {0}",y)}),await(0,w.wait)(1e3);continue e}catch(t){throw t instanceof i.SshResolverError&&(t.retries=y,t.usedAuthMethods=v,t.remoteInConfigFile=u,t.wasExecServer=e.useExecServer),t}}throw i.SshResolverError.Create(D.UnifiedStatusCode.ExhaustedRetries)}))}t.resolve=async function(e,t,o,i){(0,_.assertVSDA)();const{installResult:s,tunnelResult:a}=await x(e,t,o),{logger:c}=e.deps;let u;if(I??(I=new S.VariablesManager(o.environmentVariableCollection,e.deps)),P=e.host,r.commands.executeCommand("setContext",E,!0),i.push(function(e,t,n){const o=t.port?`:${t.port}`:"",i=`SSH: ${t.hostName}${o}`,s=n===l.Platform.Windows;return r.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e,formatting:{label:"${path}",separator:s?"\\":"/",workspaceSuffix:i,tildify:!0,normalizeDriveLetter:!0}})}(t,e.host,s.installScriptResult.serverConfiguration.platform)),s.execServer){const{resolveRemoteUsingExecServer:e}=await Promise.resolve().then((()=>n(6144)));u=await e(t,c,s,a)}else{if(!("port"in a.localTarget))throw new Error("Non-exec servers must forward a port, not a socket");u=new r.ResolvedAuthority("127.0.0.1",a.localTarget.port,s.installScriptResult.serverConfiguration.connectionToken||void 0)}const d=T.get(k(t,e))?.manager,f=function(e,t,n,r,o){let i={};const s=t.installScriptResult.serverConfiguration.sshAuthSock||n.sshAuthSock;s&&(i={...i,...e?.update(s,t.installScriptResult.serverConfiguration.tmpDir,r,t.installScriptResult.serverConfiguration.platform)});const a=t.installScriptResult.serverConfiguration.display;return a&&(i={...i,DISPLAY:a}),Object.keys(i).length&&o.info(`Remote extension host environment: ${JSON.stringify(i)}`),i}(d,s,a,e.host,c);return I.update(f),u.extensionHostEnv=f,u.environmentTunnels=(await(0,h.localForwardsForHost)(c,e.host)).map((e=>({localAddress:e.localAddress+":"+e.localPort,remoteAddress:{host:e.remoteAddress,port:e.remotePort}}))),{serverInstallationResult:s,resolvedAuthority:u}},t.resolveExecServer=async function(e,t,r){const{tunnelToExecServer:o}=await Promise.resolve().then((()=>n(6144))),{execServer:i}=await o(t,e.deps.logger,(async()=>{const n=await x({...e,useExecServer:!0},t,r);return n.installResult.installScriptResult.storePlatform&&R(n.installResult.installScriptResult.serverConfiguration.platform,e.host,r,e.deps.logger),n}));return i},t.storePlatform=R,t.installServer=A,t.getActiveRemote=function(){return P},t.shutdown=function(){r.commands.executeCommand("setContext",E,!1),P=void 0}},8993:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withShowDetailsEvent=t.SHOW_DETAILS_COMMAND=void 0;const r=n(1398);let o;t.SHOW_DETAILS_COMMAND="opensshremotes.showDetails",r.commands.registerCommand(t.SHOW_DETAILS_COMMAND,(()=>{o&&o.fire()})),t.withShowDetailsEvent=async function(e){if(o)throw new Error("withRevealTerminalEvent can only be called once at a time globally within the app");o=new r.EventEmitter;try{return await e(o.event)}finally{o.dispose(),o=void 0}}},27:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SshAuthSockManager=void 0;const r=n(1398),o=n(4430),i=n(1640),s=n(3070);t.SshAuthSockManager=class{constructor(e,t){this.remoteAuthority=e,this.deps=t,this.sessionId=Math.floor(1e9*Math.random())}update(e,t,n,a){const c=a===s.Platform.Windows?`${t}\\vscode-ssh-auth-sock-${this.sessionId}`:`${t}/vscode-ssh-auth-sock-${this.sessionId}`,l=a===s.Platform.Windows?`mklink "${c}" "${e}"`:`ln -f -s "${e}" "${c}"`,u=r.Uri.parse(`vscode-remote://${this.remoteAuthority}/`);return this.deps.logger.debug("Updating $SSH_AUTH_SOCK: "+l),(0,o.runInteractiveSshTerminalCommand)({cwd:u,command:l,logger:this.deps.logger,nickname:"Update SSH_AUTH_SOCK",systemInteractor:i.defaultSystemInteractor,host:n,terminalIsWindows:a===s.Platform.Windows}).then((e=>{e&&this.deps.logger.debug('"Update SSH_AUTH_SOCK" task produced unexpected output, it may have failed')})),{SSH_AUTH_SOCK:c}}}},4847:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateScpCommand=t.handleSshNotFoundError=t.ScpNotFoundError=t.SshNotFoundError=t.getSshCommand=t.getSshCommandPath=t.getEscapedPowershellCommandForLocalServer=t.getEncodedPowershellCommand=t.generateMultiLineCommand=t.getSshConnectionArgs=void 0;const r=n(5317),o=n(9896),i=n(6928),s=n(9023),a=n(1398),c=n(3411),l=n(4788),u=n(3070),d=n(4417),h=n(4535),f=n(6296),p=n(2593);async function m(e,t){const{logger:n}=e.deps,r=e.host,o=(t&&t.cmdSegment)??[],i=t&&t.allowPortForward?[]:["-o","ClearAllForwardings=true"],s=t?.quoteForShell||!1,a=t?.allowRemoteCommand??!0,l=await(0,d.getConfigurationForHost)(n,r);return[(0,c.permitPtyAllocation)()?"":"-T",...o,...i,...w(l),...v(l,a,e.deps.logger),...await b(s,r,e.deps.logger),...S(r,"ssh"),y(r,s)].filter((e=>!!e))}async function g(e,t,n){const r=(n&&n.cmdSegment)??[],o=n&&n.allowPortForward?"":"-o ClearAllForwardings=true",i=await(0,d.getConfigurationForHost)(t,e),s=n?.quoteForShell||!1,a=n?.allowRemoteCommand??!0;return[(0,c.permitPtyAllocation)()?"":"-T",...r,o,...w(i),...v(i,a,t),...await b(s,e,t),...S(e,"ssh"),y(e,s)].filter((e=>!!e))}function v(e,t,n){if((0,c.enableRemoteCommand)()&&(0,c.useLocalServer)()){if(t)return[];e&&e.RemoteCommand&&n.info('Cannot use RemoteCommand if you have this remote in your "remote.SSH.remotePlatform" setting.')}return e&&e.RemoteCommand?["-o","RemoteCommand=none"]:[]}function y(e,t){(0,d.assertValidHost)(e);const n=e.hostName,r=e.user?`${e.user}@${n}`:n;return t?(0,p.quoteForShellIfNeeded)(r,f.isWindows):r}function w(e){return f.isWindows||e&&e.ConnectTimeout?[]:["-o",`ConnectTimeout=${(0,c.connectTimeoutSetting)()}`]}function S(e,t){const n="ssh"===t?"-p":"-P";return e.port?[n,e.port+""]:[]}async function b(e,t,n){let r=[],o=(0,c.sshConfigurationFile)();return!o&&f.isWindows&&(0,c.useLocalServer)()&&(o=await(0,d.getConfigurationFileForHost)(n,t)),o&&(o=(0,h.untildify)(o),n.info(`Using SSH config file "${o}"`),r=["-F",e?(0,p.quoteForShellIfNeeded)(o,f.isWindows):o]),r}let _,D;async function C(e){return await E(e),_}async function E(e){const t=(0,c.sshPath)();if("string"!=typeof _||t&&t!==D)try{D=await x(t,e),_=f.isWindows&&"ssh"!==D?(0,p.quoteForShell)(D,f.isWindows):(0,p.quoteForShellIfNeeded)(D,f.isWindows)}catch(t){throw e.error("Finding installed ssh failed: "+t.message),t}return _}var P;async function T(e,t){return await k(e,t)!==P.NotFound}async function k(e,t){return new Promise(((n,o)=>{t.debug(`Checking ssh with "${e} -V"`);const i=[],s=[];let a,c=e;f.isWindows&&(c.endsWith(".bat")||c.endsWith(".cmd"))&&(c=`"${c}"`,a={shell:!0});const l=r.spawn(c,["-V"],a);l.stdout.on("data",(e=>{i.push(e),t.debug("stdout> "+e.toString())})),l.stderr.on("data",(e=>{s.push(e),t.debug("> "+e.toString())})),l.on("error",(e=>{t.debug("Got error from ssh: "+e.message),clearTimeout(d),n(P.NotFound)}));let u=!1;const d=setTimeout((()=>{u=!0,t.debug("ssh is not exiting, continuing"),n(P.NotFound),l.kill()}),1e4);l.on("exit",(e=>{if(u)return;if(clearTimeout(d),e)return t.debug("ssh exited with code: "+e),void n(P.NotFound);const r=Buffer.concat(i).toString("utf8").trim(),o=Buffer.concat(s).toString("utf8").trim()||r;o&&(o.match(/OpenSSH_for_Windows/i)?n(P.WindowsSsh):o.match(/OpenSSH/i)?n(P.Other):(t.debug("ssh output did not match /OpenSSH/"),n(P.NotFound)))}))}))}t.getSshConnectionArgs=m,t.generateMultiLineCommand=async function(e,t,n,r){const a=e.deps;let l;if(t===u.Platform.Windows?(l=await async function(e,t,n){return[await C(t),...await g(e,t,n),"powershell"].join(" ")}(e.host,a.logger,r),n=n.replace(/\}\n/g,"}\n\n"),a.logger.debug(`Remote command length: ${n.length}/8192 characters`),n.length>8192&&a.logger.error('Warning: Remote install script may be too long. If it hangs during connecting, try reducing the length of your setting "remote.SSH.defaultExtensions".')):l=[await C(a.logger),...await m(e,r),(0,c.useExecServer)()?"sh":"bash"].join(" "),a.logger.debug("Running script with connection command: "+l),f.isWindows){if(!process.env.TEMP)throw new Error("The TEMP environment variable must be set");const t=Math.floor(1e9*Math.random()),r=i.join(process.env.TEMP,`vscode-linux-multi-line-command-${(0,h.sanitizeFileName)(e.host.hostName)}-${t}.sh`);try{n=n.replace(/\r\n/g,"\n"),await s.promisify(o.writeFile)(r,n)}catch(e){throw new Error(`Failed to write install script to path ${r}. ${e.message}`)}return`type "${r}" | ${l}`}return`${l} << 'EOSSH'\n${n}\nEOSSH`},t.getEncodedPowershellCommand=function(e,t,n){const r=`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand ${t?"":"\\"}$([Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${Buffer.from(e,"utf8").toString("base64")}')))))  # RemoteSSHConfigurationScript`;return n.debug(`Remote command length: ${r.length}/8192 characters`),r},t.getEscapedPowershellCommandForLocalServer=function(e,t){const n=Buffer.from(e,"utf8").toString("base64");return t.debug(`Remote command length: ${n.length}/8192 characters`),`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -Command "\`$remoteSSHConfigurationScript=[Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${n}')))); powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand \`$remoteSSHConfigurationScript"`},t.getSshCommandPath=async function(e){return await E(e),D},t.getSshCommand=C,function(e){e[e.NotFound=0]="NotFound",e[e.WindowsSsh=1]="WindowsSsh",e[e.Other=2]="Other"}(P||(P={}));const I=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432");async function x(e,t){if(e){if(await T(e,t))return e;t.error(`The specified path ${e} is not a valid SSH binary`)}return f.isWindows?async function(e){const t=process.env.PATH;let n=[];if(t&&(n=t.split(";").filter((e=>i.isAbsolute(e))).map((e=>i.join(e,"ssh.exe")))),n.push(i.join(process.env.windir,"System32\\OpenSSH\\ssh.exe"),i.join(process.env.ProgramFiles,"Git\\usr\\bin\\ssh.exe"),i.join(process.env["ProgramFiles(x86)"],"Git\\usr\\bin\\ssh.exe")),I&&n){const e=process.env.SystemRoot||"C:\\WINDOWS",t=i.join(e,"Sysnative","OpenSSH","ssh.exe");n.unshift(t)}if((0,c.useLocalServer)()){for(const t of n){if(await k(t,e)===P.Other)return t;e.trace("Preferring non-windows OpenSSH, skipping")}!function(){if(!(0,c.suppressWindowsSshWarning)()){const e=a.l10n.t("Don't Show Again");a.window.showWarningMessage(a.l10n.t({message:"Failed to find a non-Windows SSH installed. Password prompts may not be displayed properly! Disable `remote.SSH.useLocalServer` if needed.",comment:['{Locked="`remote.SSH.useLocalServer`"}',"Do not translate `remote.SSH.useLocalServer`, it is a VS Code command."]}),e).then((t=>{t===e&&a.workspace.getConfiguration("remote").update("SSH.suppressWindowsSshWarning",!0,!0)}))}}()}for(const t of n)if(await T(t,e))return t;throw new R}(t):async function(e){if(e.debug("PATH: "+process.env.PATH),await T("ssh",e))return"ssh";throw new Error("ssh is not on the PATH")}(t)}class R extends Error{constructor(){super("ssh installation not found")}}t.SshNotFoundError=R;class A extends Error{constructor(){super("scp installation not found")}}t.ScpNotFoundError=A;const F=a.l10n.t("Learn More");async function O(e){const t=await async function(e){const t=await x((0,c.sshPath)(),e),n=f.isWindows?"scp.exe":"scp",o="ssh"===t?"scp":i.join(i.dirname(t),n);"scp"!==o&&e.debug(`Expecting scp to be next to ssh at ${o}`);const s=await async function(e,t){return new Promise(((n,o)=>{t.debug(`Testing scp with "${e}"`);const i=[],s=[],a=r.spawn(e);a.stdout.on("data",(e=>i.push(e))),a.stderr.on("data",(e=>s.push(e))),a.on("error",(e=>{t.debug("Got error from scp: "+e.message),n(!1)})),a.on("exit",(e=>{t.debug("scp exited with code: "+e);const r=Buffer.concat(i).toString("utf8").trim();r&&t.debug("Got stdout from scp: "+r);const o=Buffer.concat(s).toString("utf8").trim();o&&t.debug("Got stderr from scp: "+o);const a=o||r;a&&(a.match(/usage: scp/i)?n(!0):(t.debug("ssh output did not match /usage: scp/"),n(!1)))}))}))}(o,e);if(!s)throw new A;return o}(e);return(0,p.quoteForShellIfNeeded)(t,f.isWindows)}t.handleSshNotFoundError=async function(){const e=await a.window.showErrorMessage(a.l10n.t("An SSH installation couldn't be found"),{modal:!0},{title:F});if(e&&e.title===F)return a.commands.executeCommand("opensshremotes.getStarted")},t.generateScpCommand=async function(e,t,n,r){const o=(0,p.quoteForShellIfNeeded)(await(0,l.getScpFlag)(e),f.isWindows),s=((0,h.isWindowsPath)(n)?i.win32:i.posix).dirname(n),a=(0,h.isWindowsPath)(e)?i.win32:i.posix;e=(0,p.quoteForShellIfNeeded)(a.basename(e),f.isWindows);const c=await(0,d.getConfigurationForHost)(r,t);return`${[await O(r),...w(c),...S(t,"scp"),...await b(!0,t,r)].filter((e=>!!e)).join(" ")} ${e} ${o} ${y(t,!0)}:${(0,p.quoteForShellIfNeeded)(s,f.isWindows)}`}},4430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runInteractiveSshTerminalCommand=t.getResumeLogMarker=t.getPauseLogMarker=t.runSshTerminalCommandWithLogin=t.showDifferingHostConfirmation=t.showHostKeyConfirmation=t.ConfirmationItem=t.showInputBox=t.showVerificationCodeInputBox=t.showPasswordInputBox=t.showPassphraseInputBox=void 0;const r=n(857),o=n(6928),i=n(1398),s=n(729),a=n(3411),c=n(4417),l=n(3357),u=n(4407),d=n(221),h=n(6296),f=n(2593);function p(e,t,n){const r=e?`"${e}"`:"";return v(i.l10n.t("Enter passphrase for ssh key {0}",r),t,n)}function m(e,t,n){return v(e?i.l10n.t("Enter password for {0}",e):i.l10n.t("Enter password"),t,n)}function g(e,t){return v(e,void 0,t)}async function v(e,t,n){return new Promise(((r,o)=>{const s=i.window.createInputBox();s.placeholder=e,s.prompt=t,s.password=!0,s.ignoreFocusOut=!0;let a=!1;s.onDidAccept((()=>{a=!0;const e=s.value;s.dispose(),r(e)})),s.onDidHide((()=>{a||r(void 0)})),s.show(),n&&n.onCancellationRequested((()=>{o(new u.CanceledError),s.dispose()}))}))}t.showPassphraseInputBox=p,t.showPasswordInputBox=m,t.showVerificationCodeInputBox=g,t.showInputBox=v;class y{constructor(e,t){this.label=e,this.value=t,this.isCloseAffordance=!0,this.title=e}}async function w(e,t,n){return b(i.l10n.t('"{0}" has fingerprint "{1}".',e,t),i.l10n.t("Are you sure you want to continue?"),n)}async function S(e,t){return b(e,i.l10n.t("Are you sure you want to continue connecting?"),t)}async function b(e,t,n){return new Promise(((r,o)=>{const s=i.window.createQuickPick();s.canSelectMany=!1,s.title=e,s.items=[new y(i.l10n.t("Continue"),"yes"),new y(i.l10n.t("Cancel"),"no")],s.placeholder=t;let a=!1;s.onDidAccept((async()=>{a=!0;const e=s.selectedItems[0].value;s.dispose(),r(e)})),s.onDidHide((()=>{a||r(void 0)})),s.show(),n&&n.onCancellationRequested((()=>{s.hide(),o(new u.CanceledError)}))}))}function _(e){return`${e}: pauseLog`}function D(e){return`${e}: resumeLog`}function C(e){const t=[];let{systemInteractor:n,command:o,interactors:s,nickname:c,logger:l,token:p}=e,m=!1;return new Promise((async(g,v)=>{let y,w,S,b,C="";function P(){w&&(w.dispose(),w=void 0),S&&(S.dispose(),S=void 0),y&&(y.dispose(),y=void 0),b&&b.dispose(),(0,d.dispose)(t)}function T(e=!1){if(P(),l.debug(`"${c}" terminal command ${e?"canceled":"done"}`),e)return v(new u.CanceledError);const t=e?"":(0,f.lastNonemptyLine)(C);g(t||"")}function k(e){P(),l.error(`"${c}" process failed: ${e}`),v(e)}p&&(b=p.onCancellationRequested((()=>{T(!0)})));const I=e.cwd&&"vscode-remote"===e.cwd.scheme;if(I&&!e.host)throw new Error("Invalid terminal request, missing host");if(I&&"boolean"!=typeof e.terminalIsWindows)throw new Error("Invalid terminal request, missing terminalIsWindows");const x="boolean"==typeof e.terminalIsWindows?e.terminalIsWindows:h.isWindows;try{let u;u=e.sendText?"":x?`/c (${o}) & exit /b 0`:["-c",o+"\nexit 0"],e.cwd&&l.debug("Using cwd: "+e.cwd);const d={cwd:e.cwd||(x?i.Uri.file(r.homedir()||"c:\\"):i.Uri.file(r.homedir()||"/")),name:c,shellPath:E(x,l),shellArgs:u,hideFromUser:!0,isTransient:!0};let h=Promise.resolve();if(w=n.onDidWriteTerminalData((async t=>{t.terminal===S&&(h=h.finally((()=>async function(t){const n=(0,f.stripEscapeSequences)(t.data);if(function(t){let n;if(e.marker){const r=_(e.marker),o=t.lastIndexOf(r);o>=0&&(t=t.substring(0,o+r.length),n=!0);const i=t.lastIndexOf(D(e.marker));i>=0&&(t=t.substring(i),n=!1)}m&&(0,a.logLevel)()!==a.LogLevel.trace||function(e,t,n){const r=(e=(0,f.sanitizeInstallScriptOutput)(e)).replace(/\r?\n$/,"");if((0,a.logLevel)()===a.LogLevel.trace)n.debug(`"${t}" terminal received data: "${r}"`);else{if(" "===r)return;const e=r.split(/\n/).map((e=>`> ${e}`)).join("\n");n.debug(e)}}(t,c,l),"boolean"==typeof n&&(m=n)}(n),C+=n,s)for(const n of s)try{const t=await n.onData(C);if("consume"===t.postAction&&(e.usedInteractors&&e.usedInteractors.add(n.id),C=""),t.canceled)return e.usedInteractors&&e.usedInteractors.add(n.id),void T(!0);if("string"==typeof t.response){e.usedInteractors&&e.usedInteractors.add(n.id),S.sendText(`${t.response}\n`);const r=t.isPassword?t.response.replace(/./g,"*"):t.response;l.debug(`"${c}" wrote data to terminal: "${r}"`)}}catch(t){k(t)}}(t))))})),S=n.createTerminal(d),e.revealTerminal&&t.push(e.revealTerminal((()=>{S&&S.show()}))),e.sendText){const t=x?`(${e.sendText}) & exit /b 0`:e.sendText+"\nexit 0";S.sendText(t),l.debug(`"${c}" wrote data to terminal: "${e.sendText}"`)}e.allowShowTerminal&&(0,a.showLoginTerminal)()&&S.show(),y=n.onDidCloseTerminal((e=>{e===S&&(S=void 0,T())}))}catch(e){k(e)}}))}function E(e,t){if(e){if(process.env.SystemRoot){const e=o.join(process.env.SystemRoot,"System32","cmd.exe");return t.debug("Terminal shell path: "+e),e}return"cmd.exe"}return"/bin/sh"}t.ConfirmationItem=y,t.showHostKeyConfirmation=w,t.showDifferingHostConfirmation=S,t.runSshTerminalCommandWithLogin=async function(e,t){let n;const r=(0,a.showLoginTerminal)();let o=[];t.interactor&&o.push(t.interactor),r||o.push(new s.MitmInteractor,new s.FingerprintInteractor(e,w),new s.PassphraseInteractor((async e=>(n=await p(e),n)),e.deps.logger),new s.DifferingHostKeyInteractor(S,e.deps.logger),new s.PasswordInteractor(m,e.deps.logger),new s.TwoFacInteractor(g,e.deps.logger),new s.DuoTwoFacInteractor(g,e.deps.logger));const u=await C({systemInteractor:t.systemInteractor,command:t.command,interactors:o,usedInteractors:t.usedInteractors,nickname:t.nickname,logger:e.deps.logger,token:t.token,marker:t.marker,revealTerminal:t.revealTerminal,allowShowTerminal:!0,cwd:t.cwd?i.Uri.file(t.cwd):void 0});if(n){e.deps.logger.debug("User entered passphrase");const t=await(0,c.getConfigurationForHost)(e.deps.logger,e.host);e.deps.logger.debug("Passphrase was entered and ssh config entry was found - adding SSH key to agent");const r=t&&t.IdentityFile&&t.IdentityFile[0]||void 0;await(0,l.addKeyToSshAgent)(r,(async()=>n),e.deps.logger)}return u},t.getPauseLogMarker=_,t.getResumeLogMarker=D,t.runInteractiveSshTerminalCommand=C},1036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sshCommandToConfig=t.CommandParseError=void 0;const r=n(8289),o=n(5192),i={1:e=>e.Protocol="1",2:e=>e.Protocol="2",4:e=>e.AddressFamily="inet",6:e=>e.AddressFamily="inet6",A:e=>e.ForwardAgent="yes",b:(e,t)=>e.BindAddress=t,C:e=>e.Compression="yes",c:(e,t)=>e.Cipher=t,D:(e,t)=>e.DynamicForward=t,e:null,F:null,f:null,g:e=>e.GatewayPorts="yes",I:(e,t)=>e.SmartcardDevice=t,i:(e,t)=>e.IdentityFile=t,J:(e,t)=>e.ProxyJump=t,K:e=>e.GSSAPIAuthentication="yes",k:e=>e.GSSAPIDelegateCredentials="no",L:(e,t)=>{const n=t.match(/^((.*):?\d+)?:(.+?)?$/);if(n){const[,r,,o]=n;if(r&&o)return void(e.LocalForward=`${r} ${o}`);throw new s(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`)}let r=t.indexOf(":");if(-1===r)throw new s(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`);e.LocalForward=`${t.substring(0,r)} ${t.substring(r+1)}`},l:(e,t)=>e.User=t,M:e=>e.ControlMaster="yes",m:(e,t)=>e.MACs=t,N:null,n:null,o:(e,t)=>{const n=t.indexOf("=");if(-1===n)throw new s(`Argument missing for option ${t}`);e[t.slice(0,n)]=t.slice(n+1)},p:(e,t)=>e.Port=t,q:null,R:(e,t)=>e.RemoteForward=t,S:(e,t)=>e.ControlPath=t,s:null,T:null,t:null,V:null,v:e=>e.LogLevel="verbose",W:(e,t)=>e.RemoteForward=t,w:(e,t)=>e.TunnelDevice=t,X:e=>e.ForwardX11="yes",x:e=>e.ForwardX11="no",Y:e=>e.ForwardX11Trusted="yes",y:null};class s extends Error{}function a(e,t){const n=new r.BasicParser(":1246ab:c:e:fgi:kl:m:no:p:qstvxAB:CD:E:F:GI:J:KL:MNO:PQ:R:S:TVw:W:XYy",e,0);for(;;){const e=n.getopt();if(!e)break;if(":"===e.option)throw new s(`Expected flag -${e.optopt} to have an argument but it did not`);if("?"===e.option)throw new s(`Unknown flag ${e.optopt}`);const r=i[e.option];r&&r(t,e.optarg)}return n.optind()}function c(e){let t;try{t=new URL(e)}catch{}if(t&&"ssh:"===t.protocol)return t;const n=e.lastIndexOf("@");if(-1===n)return{hostname:e};let r=e.slice(n+1),o=e.slice(0,n);const i=o.indexOf(":");let s;-1!==i&&(o=o.slice(0,i));const a=r.indexOf(":");return-1!==a&&(s=r.slice(a+1),r=r.slice(0,a)),{hostname:r,username:o,port:s}}t.CommandParseError=s,t.sshCommandToConfig=function(e){const t=(0,o.parse)(e);"ssh"===t[0]&&t.shift();const n={};for(let e=0;e<t.length;e++)if(e+=a(t.slice(e),n),e<t.length&&!n.Host){const{hostname:r,port:o,username:i}=c(t[e]);n.Host=r,n.HostName=r,!n.Port&&o&&(n.Port=o),!n.User&&i&&(n.User=i)}if(!n.Host)throw new s("Missing host in SSH connection string");const{Host:r,HostName:i,...l}=n;return{Host:r,HostName:i,...l}}},4417:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidHost=t.addSshHost=t.configureSshHosts=t.onDidChangeSshConfiguration=t.localForwardsForHost=t.getConfigurationFileForHost=t._getConfigurationForHost=t.getConfigurationForHost=t.getConfiguredSshHostNames=t.getConfiguredSshHosts=t.getSshConfigurationFiles=t.defaultSshConfigurationFiles=void 0;const r=n(9896),o=n(1756),i=n(857),s=n(6928),a=n(1182),c=n(9023),l=n(1398),u=n(5187),d=n(5677),h=n(3411),f=n(712),p=n(1036),m=n(3378),g=n(1990),v=n(4535),y=n(6296),w=n(2869),S=c.promisify(r.readFile),b=c.promisify(r.writeFile),_=c.promisify(r.exists),D=c.promisify(r.stat),C=c.promisify(r.chmod),E=s.resolve(i.homedir(),".ssh/config"),P=process.env.ALLUSERSPROFILE||process.env.PROGRAMDATA||"C:\\ProgramData",T=y.isWindows?`${P}\\ssh\\ssh_config`:"/etc/ssh/ssh_config";function k(){return[E,T]}function I(){const e=(0,h.sshConfigurationFile)();return e?[e]:k()}async function x(e){const t={};for(let n of I()){const r=R(await O(e,n));Object.keys(r).forEach((e=>t[e]=r[e]))}return t}function R(e){const t=Object.create(null);return function(e){const t=new Set;return e.filter((e=>$(e)||B(e))).forEach((e=>{if(B(e)){const n=function(e){let t=("string"==typeof e.value?e.value:e.value.join(" ")).match(/(".*?"|[^"\s]+)(?=\s*)/g);if(t){const e=t.findIndex((e=>"host"===e.toLowerCase()));if(-1!==e&&e<t.length)return[t[e+1].replace(/['"]+/g,"")]}return"string"==typeof e.value?[e.value]:e.value}(e);H(n).forEach((e=>t.add(e)))}else H(e.value).forEach((e=>t.add(e)))})),Array.from(t.keys())}(e).forEach((n=>{const r=e.compute(n);r.HostName?t[n]=r.HostName:t[n]=n})),t}async function A(e,t){return F(e,t,I())}async function F(e,t,n){for(let r of n){const n=(await O(e,r)).compute(t.hostName);if(n&&n.HostName)return n.IdentityFile&&(n.IdentityFile=n.IdentityFile.map((e=>(0,v.untildify)(e)))),n}return null}async function O(e,t,n=!0){const r=await async function(e,t){if(t=(0,v.untildify)(t),await _(t))try{const e=(await S(t)).toString("utf8").trim();return""===e||"\n"===e||"\r\n"===e?"":e}catch(n){e.error(`Failed to read SSH configuration file '${t}': ${n}`)}return""}(e,t),i=function(e){function t(e){e.param=U.get(e.param.toLowerCase())||e.param}return e.filter(M).forEach((e=>{t(e),$(e)&&e.config.filter(M).forEach(t)})),e}((0,a.parse)(r));return n&&await async function(e,t){const n=new Set;async function r(r){let i=(0,v.untildify)(r.value);y.isWindows&&i.match(/^\/[a-z]:/i)&&(i=i.substring(1)),s.isAbsolute(i)||(i=s.resolve(s.dirname(t),i));try{const t=(await(0,o.glob)(i,{windowsPathsNoEscape:y.isWindows})).filter((e=>!n.has(e)));for(let r of t)(await D(r)).isFile()&&await L(e,r),n.add(r)}catch(e){console.error(`Failed to resolve "${r.param} ${r.value}": ${e.message}`)}}for(let t=0;t<e.length;t++){const n=e[t];if(M(n)&&"include"===n.param.toLowerCase()&&await r(n),$(n)&&n.value.includes("*"))for(const e of n.config)M(e)&&"include"===e.param.toLowerCase()&&await r(e)}}(i,t),i}async function L(e,t){const n=(await S(t)).toString(),r=(0,a.parse)(n);e.push(...r)}function M(e){return 1===e.type}function $(e){return M(e)&&"Host"===e.param&&!!e.value&&!!e.config}function B(e){return M(e)&&"Match"===e.param&&!!e.value&&!!e.config}function N(e){const t=e.split(":");return{address:t[1]?t[0]:"localhost",port:parseInt(t[1]?t[1]:t[0])}}t.defaultSshConfigurationFiles=k,t.getSshConfigurationFiles=I,t.getConfiguredSshHosts=async function(e){return Object.keys(await x(e))},t.getConfiguredSshHostNames=x,t.getConfigurationForHost=A,t._getConfigurationForHost=F,t.getConfigurationFileForHost=async function(e,t,n=I()){for(let r of n){const n=(await O(e,r)).compute(t.hostName);if(n&&n.HostName)return r}},t.localForwardsForHost=async function(e,t){const n=await A(e,t);return n?.LocalForward?(Array.isArray(n.LocalForward)?n.LocalForward:[n.LocalForward]).map((e=>{const[t,n]=e.split(/[\t ]+/),r=N(t),o=N(n);return{localPort:r.port,localAddress:r.address,remotePort:o.port,remoteAddress:o.address}})):[]};const U=new Map([["host","Host"],["hostname","HostName"],["identityfile","IdentityFile"],["user","User"],["port","Port"],["connecttimeout","ConnectTimeout"],["remotecommand","RemoteCommand"],["localforward","LocalForward"]]);function H(e){return(Array.isArray(e)?e:[e]).filter((e=>!(e.match(/[?*]/)||e.match(/^\s*$/)||e.match(/^!/))))}const j=new l.EventEmitter,W=j.event;t.onDidChangeSshConfiguration=W,W((async()=>{l.extensions.getExtension("ms-vscode.remote-explorer")&&await l.commands.executeCommand("remote-explorer.refresh")})),l.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(h.CONFIG_FILE_SETTING)&&j.fire()}));class z{constructor(e){this.logger=e,this.fileBeingWatched=new Set}startWatching(e){this.logger.debug(`ConfigFileWatcher: start watching ${e.toString()}`),this.fileBeingWatched.add(e.toString()),this.saveListener||(this.logger.debug("ConfigFileWatcher: adding save listener"),this.saveListener=l.workspace.onDidSaveTextDocument((e=>this.documentSaved(e)))),this.closeListener||(this.logger.debug("ConfigFileWatcher: adding close listener"),this.closeListener=l.workspace.onDidCloseTextDocument((e=>this.documentClosed(e))))}stopWatching(e){this.logger.debug(`ConfigFileWatcher: stop watching ${e.toString()}`),this.fileBeingWatched.delete(e.toString()),0===this.fileBeingWatched.size&&(this.saveListener&&(this.logger.debug("ConfigFileWatcher: removing save listener"),this.saveListener.dispose(),this.saveListener=void 0),this.closeListener&&(this.logger.debug("ConfigFileWatcher: removing close listener"),this.closeListener.dispose(),this.closeListener=void 0))}documentSaved(e){this.logger.debug(`ConfigFileWatcher: saving ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&(this.logger.debug(`ConfigFileWatcher: firing change event for ${e.uri}`),j.fire())}documentClosed(e){this.logger.debug(`ConfigFileWatcher: closing ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&this.stopWatching(e.uri)}}let q;t.configureSshHosts=async function(e){const t=await(0,d.pickSshConfigurationFile)();if(t)if("command"===t.type)"help"===t.id?l.env.openExternal(l.Uri.parse("https://aka.ms/vscode-remote/ssh/config-file")):"settings"===t.id&&async function(){const{name:e,publisher:t,extensionPack:n}=(0,m.getPackageJson)(),r=[`${t}.${e}`];n&&n.forEach((e=>r.push(e))),await l.commands.executeCommand("workbench.action.openSettings",`@ext:${r.join(",")} config file`)}();else if("file"===t.type){let n=t.path;if(n){n=(0,v.untildify)(n);const t=l.Uri.file(n);q||(q=new z(e)),q.startWatching(t),await _(n)?await l.commands.executeCommand("vscode.open",t):await async function(e){const t=s.dirname(e);await _(t)||(await(0,v.mkdirp)(t),y.isWindows||e!==E||await C(t,448)),await b(e,""),y.isWindows||e!==E||await C(e,384);const n=await l.window.showTextDocument(l.Uri.file(e));await n.insertSnippet(new l.SnippetString("# Read more about SSH config files: https://linux.die.net/man/5/ssh_config\nHost ${1:alias}\n    HostName ${2:hostname}\n    User ${3:user}"))}(n)}}},t.addSshHost=async function(e){const t=await new Promise(((e,t)=>{const n=l.window.createInputBox();n.title=l.l10n.t("Enter SSH Connection Command"),n.placeholder="E.g. ssh hello@microsoft.com -A",n.ignoreFocusOut=!0,n.onDidAccept((()=>{e(n.value.trim()||void 0),n.dispose()})),n.onDidHide((()=>{e(void 0)})),n.show()}));if(!t)return;let n;try{n=(0,p.sshCommandToConfig)(t)}catch(e){if(!(e instanceof p.CommandParseError))throw e;return void l.window.showErrorMessage(e.message)}const r=await(0,d.pickSshConfigurationFile)(l.l10n.t("Config file to save in"));if(!r||"file"!==r.type)return;const o=await O(e,r.path,!1);o.prepend(n,!0),await async function(e,t){e=(0,v.untildify)(e),await(0,v.mkdirp)(s.dirname(e)),await b(e,t.toString())}(r.path,o),j.fire();const i=l.l10n.t("Open Config"),a=l.l10n.t("Connect");switch(await l.window.showInformationMessage(l.l10n.t("Host added!"),i,a)){case i:const e=await l.workspace.openTextDocument((0,v.untildify)(r.path));await l.window.showTextDocument(e);break;case a:const t=new g.HostInfo(n.Host);(0,u.openEmptyWindowOnSshHost)(t)}};const V="\\'\"`!%\r\n".split("");t.assertValidHost=function(e){if(e.hostName.startsWith("-"))throw f.SshResolverError.Create(w.UnifiedStatusCode.InvalidHostName,l.l10n.t("SSH host name cannot begin with {0}","-"));if(e.user?.startsWith("-"))throw f.SshResolverError.Create(w.UnifiedStatusCode.InvalidHostName,l.l10n.t("SSH user name cannot begin with {0}","-"));V.forEach((t=>{if(e.hostName.includes(t))throw f.SshResolverError.Create(w.UnifiedStatusCode.InvalidHostName,l.l10n.t("SSH host name cannot include the character {0}",t));if(e.user?.includes(t))throw f.SshResolverError.Create(w.UnifiedStatusCode.InvalidHostName,l.l10n.t("SSH user name cannot include the character {0}",t))}))}},3357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyToSshAgent=void 0;const r=n(9896),o=n(857),i=n(6928),s=n(9023),a=n(729),c=n(4430),l=n(6296),u=n(1640),d=n(6444),h=s.promisify(r.writeFile);t.addKeyToSshAgent=async function(e,t,n){const r=(0,d.insecureRandomString)(),s=await async function(e,t){return l.isWindows?await async function(e,t){e=e||"";const n=o.tmpdir(),r=i.join(n,"vscode_add_ssh_key_to_agent.ps1"),s=`\n\t\t# Check if it's already in the ssh-agent\n\t\t$KEY = "${e}"\n\t\tif ($KEY -ne "") {\n\t\t\t$KEY = (Resolve-Path "${e}").toString()\n\t\t}\n\n\t\techo 'PS: adding key to ssh-agent'\n\t\techo ssh-add $KEY\n\t\tssh-add $KEY\n\t\tif ($LASTEXITCODE -ne 0) {\n\t\t\techo ${t}##5##\n\t\t}\n\t`;return await h(r,s),{command:"",sendText:`powershell -ExecutionPolicy Bypass ${r}`}}(e,t):function(e,t){return{command:`\nINSTALL_SCRIPT=\`mktemp\`.sh\ncat << 'EOF' > $INSTALL_SCRIPT\n\t# expand the key path to be absolute\n\tKEY="\`echo ${e=e||""}\`"\n\techo SHELL-SCRIPT: KEY=$KEY\n\techo SHELL-SCRIPT: adding key to ssh-agent\n\tssh-add ${e}\n\tif (( $? > 0 ))\n\tthen\n\t\techo ${t}##5##\n\tfi\nEOF\n\nchmod +x $INSTALL_SCRIPT\n\n/bin/bash -ilc $INSTALL_SCRIPT\n`}}(e,t)}(e,r),f=new a.PassphraseInteractor(t,n),p={id:"ssh-add",onData:async e=>{let t=(0,a.getExitCode)(e,r);if(void 0===t)n.error("Malformed exit code from ssh-add script, failed to add key to ssh agent.");else{if(0===t)return f.onData(e);n.error("ssh-add failed"),n.error("Consider setting up the ssh agent: https://aka.ms/vscode-remote/troubleshooting#_setting-up-the-ssh-agent")}return{}}};n.debug("Executing add-ssh-key:\n"+(s.sendText||s.command)),await(0,c.runInteractiveSshTerminalCommand)({systemInteractor:u.defaultSystemInteractor,command:s.command,sendText:s.sendText,interactors:[p],nickname:"add-ssh-key",allowShowTerminal:!0,logger:n})}},1577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTunnel=void 0;const r=n(9278),o=n(5861),i=n(1398),s=n(729),a=n(3411),c=n(712),l=n(8602),u=n(3070),d=n(8993),h=n(4847),f=n(4430),p=n(4417),m=n(221),g=n(5691),v=n(2593),y=n(1640),w=n(8214),S=n(2869);class b{constructor(e,t,n,r){this.host=e,this.remoteTarget=t,this.localTarget=n,this.name=r}close(){C(this)}}class _ extends b{constructor(e,t,n,r,o){super(e,t,n,r),this.tokenSource=o}set sshAuthSock(e){this._sshAuthSock=e}get sshAuthSock(){return this._sshAuthSock}dispose(){this.tokenSource.cancel()}}let D=[];function C(e){D=D.filter((t=>t!==e)),e.dispose()}t.createTunnel=async function(e,{remoteListeningOn:t,platform:n,preferredLocalPortRange:l,name:b,socksPort:T}){try{let k;try{const e=await async function(e){if(e){let t=e.end-e.start+1,n=await g.findFreePortFrom(e.start,t,3e3);if(0===n)throw new Error(i.l10n.t("No free ports in specified range '{0}-{1}'.  Remove or update the 'Preferred Local Port Range' setting and try again.",e.start,e.end));return n}return await g.findAnyFreePort()}(l);k={port:e}}catch(e){throw c.SshResolverError.Create(S.UnifiedStatusCode.FindLocalPort,i.l10n.t("Failed to find a free local port: {0}",e.message))}const I=T&&"port"in t?await async function(e,t,n,s,a){const{logger:l}=e.deps;e.deps.progress.report({message:i.l10n.t("Setting up SSH tunnel")});const u=await(0,p.getConfigurationForHost)(l,e.host),d=u&&r.isIPv6(u.HostName)||"inet6"===u?.AddressFamily?"::1":"127.0.0.1",h=new i.CancellationTokenSource,f=new _(e.host,{port:s},t,a,h);D.push(f);const g=await async function(e,t,n,s,a){const l={proxy:{host:s,port:t,type:5},command:"connect",destination:{host:"127.0.0.1",port:n}};let u=0;return new Promise((s=>{a.debug(`Starting forwarding server. local ${c.ListenTarget.display(e)} -> socksPort ${t} -> remotePort ${n}`);const d=[],h=r.createServer((async t=>{try{u<10&&a.debug(`[Forwarding server ${c.ListenTarget.display(e)}] Got connection ${u++}`);const n=await o.SocksClient.createConnection(l);t.pipe(n.socket),n.socket.pipe(t),d.push({dispose(){t.end(),n.socket.end()}})}catch(e){a.error(`Failed to set up socket for dynamic port forward to remote port ${n}: ${e.message}. TCP port forwarding may be disabled, or the remote server may have crashed. See the VS Code Server log above for details.`),i.window.showErrorMessage('Failed to set up dynamic port forwarding connection over SSH to the VS Code Server. ([Show log](command:opensshremotes.showLog "Show log"))')}}));c.ListenTarget.listen(h,e,(()=>{a.debug("Forwarding server listening on "+c.ListenTarget.display(e)),s({dispose(){h.close(),(0,m.dispose)(d)}})}))}))}(t,n,s,d,e.deps.logger);return h.token.onCancellationRequested((()=>{(0,m.dispose)(g)})),f}(e,k,T,t.port,b):await async function(e,t,n,r,o){const l=e.deps;return(0,d.withShowDetailsEvent)((async p=>{let m;l.progress.report({message:`([details](command:${d.SHOW_DETAILS_COMMAND} "${i.l10n.t("Show details in terminal")}")) ${i.l10n.t("Setting up SSH tunnel")}`});const g=await async function(e,t,n,r){let o;o=t===u.Platform.Windows?`${(0,a.enableAgentForwarding)()?"echo $env:SSH_AUTH_SOCK; ":""}echo '${P}'; ${E}`:`${(0,a.enableAgentForwarding)()?"echo $SSH_AUTH_SOCK && ":""}echo -e '${P}' && while true; do sleep 180; echo -n ' '; done`;const i=e=>"port"in e?`127.0.0.1:${e.port}`:e.socketPath.startsWith("\\\\.\\pipe\\")?"/"+e.socketPath.slice(1):e.socketPath,s=`${i(r)}:${i(n)}`;return(0,h.generateMultiLineCommand)(e,t,o,{cmdSegment:["-L",s],allowPortForward:!0,quoteForShell:!0})}(e,t,n,r);l.logger.debug(`Spawning tunnel with: ${g}`);const w=new i.CancellationTokenSource;m=new _(e.host,n,r,o,w),D.push(m);const S=(0,s.getInteractorForMsg)(new RegExp(`(SSH_AUTH_SOCK=(.*)\\r?\\n)?${P}`));(0,f.runSshTerminalCommandWithLogin)(e,{systemInteractor:y.defaultSystemInteractor,command:g,nickname:"SSH Tunnel",interactor:S.interactor,revealTerminal:p,token:w.token}).then((()=>{l.logger.debug("SSH tunnel command completed unexpectedly")}),(e=>{l.logger.debug("SSH tunnel command completed unexpectedly with error: "+(e&&e.message))})).finally((()=>{C(m)}));const b=await S.result,T=b&&b[2]&&(0,v.stripEscapeSequences)(b[2]);return m.sshAuthSock=T,l.logger.info(`Spawned SSH tunnel between local ${c.ListenTarget.display(r)} and remote target ${c.ListenTarget.display(n)}`),m}))}(e,n,t,k,b);return e.deps.progress.report({message:i.l10n.t("Waiting for port forwarding to be ready")}),e.deps.logger.info("Waiting for ssh tunnel to be ready"),await async function(e,t=1e4){return async function(e,t){let n=0;for(;!await e();){if(n>t)throw new Error(i.l10n.t("Max wait time exhausted"));await(0,w.wait)(100),n+=100}}((async()=>!await g.isFreePort(e)),t)}(k.port),e.deps.logger.info(`Tunneled ${c.ListenTarget.display(t)} to local ${c.ListenTarget.display(k)}`),{localTarget:I.localTarget,sshAuthSock:I.sshAuthSock}}catch(t){const n=t.message||t;throw e.deps.logger.error(`Error establishing tunnel (${n}).`),new Error(i.l10n.t("Error establishing tunnel ({0}).",`${n}`))}};const E=`\n${l.getSshdParentPid}\n\n$sshdPID = getSshdParentPid\n\nwhile ($True) {\n\tif (!(gps -Id $sshdPID)) {\n\t\t"sshd parent died, exit"\n\t\texit 0\n\t}\n\tsleep 30\n}\n`,P="Connected to SSH Host - Please do not close this terminal"},8428:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPortForwardingDisabledInteractor=t.getPrereqsWarningInteractor=t.logInstallScriptResult=t.generateSshCommand=t.tryInstall=void 0;const r=n(1398),o=n(729),i=n(3411),s=n(2232),a=n(712),c=n(4788),l=n(3070),u=n(4847),d=n(4430),h=n(4407),f=n(2593),p=n(2869);function m(e,t){const n=(0,o.getInteractorForMsg)((0,s.getScriptStartMarker)(e),"keep");return n.result.then((()=>{t.mark(2)})),n.interactor}function g(e,t){const n={...e,serverConfiguration:{...e.serverConfiguration,connectionToken:e.serverConfiguration.connectionToken&&(0,f.sanitizeConnectionToken)(e.serverConfiguration.connectionToken),execServerToken:e.serverConfiguration.execServerToken&&(0,f.sanitizeConnectionToken)(e.serverConfiguration.execServerToken)}};t.debug(`Parsed server configuration: ${JSON.stringify(n)}`),(0,l.warnForPreviewPlatform)(e.serverConfiguration,t)}async function v(e){const t=(0,o.getInteractorForInstallWarning)(e,p.UnifiedStatusCode.LinuxPrereqs);return t.result.then((async()=>{const e=await r.window.showWarningMessage(r.l10n.t("The remote host may not meet VS Code Server's prerequisites for glibc and libstdc++"),{id:"moreInfo",title:r.l10n.t("More Info")});e&&"moreInfo"===e.id&&await r.env.openExternal(r.Uri.parse("https://aka.ms/vscode-remote/linux-prerequisites"))})),t.interactor}function y(e){const t=(0,o.getInteractorForMsg)("open failed: administratively prohibited");return t.result.then((async t=>{(0,a.detectPortForwardingDisabledAndWarn)(t[0],e)})),t.interactor}t.tryInstall=async function(e,{systemInteractor:t,command:n,revealTerminalEvent:s,usedAuthMethods:l,marker:u}){const w=e.deps,S=(0,o.getInstallScriptOutputInteractor)(u),b=(0,o.getServerErrorLogOutputInteractor)(),_=(0,o.getDownloadRequestInteractor)(u,w.logger),D=new r.CancellationTokenSource,C=new o.RemoteServerProgressInteractor(u,w.progress);let E;const P=await async function(e,t){const n=(0,o.getInteractorForMsg)("","keep"),r=(0,h.getDeferred)(),s=setTimeout((()=>{r.reject(a.SshResolverError.Timeout("Connecting with SSH timed out"))}),(0,i.connectTimeoutMilliseconds)(e,t));return n.result.then((()=>{t.debug("Got some output, clearing connection timeout"),clearTimeout(s)})),{interactor:n.interactor,result:r.promise}}(e.host,w.logger),T=await v(u),k=new o.ComposedInteractor([b.interactor,P.interactor,S.interactor,_.interactor,T,C,m(u,w.timer),y(w.logger)]);w.timer.mark(1),E=(0,d.runSshTerminalCommandWithLogin)(e,{interactor:k,marker:u,systemInteractor:t,command:n,nickname:"install",usedInteractors:l,revealTerminal:s,token:D.token}).catch((e=>{if(e instanceof h.CanceledError)throw a.SshResolverError.Canceled();throw e})),E.then((e=>{w.logger.debug("Install terminal quit with output: "+e)}),(()=>{}));const I=_.result.then((async n=>{await(0,c.downloadAndCopyToHost)(e,t,s,n).catch((e=>{throw e instanceof a.SshResolverError&&e.failureReason===p.UnifiedStatusCode.Canceled&&D.cancel(),e}))}));let x,R;try{let e=Promise.race([S.result,P.result,E]);b.result.then((e=>{R=e})),await Promise.race([e,I]);let t=await e;if(!t)throw a.SshResolverError.Create(p.UnifiedStatusCode.BadInstallScriptResult,"Got bad result from install script");x=t}catch(e){throw w.timer.mark(3),e}w.timer.mark(3),w.logger.debug(`Received install output: ${(0,f.sanitizeInstallScriptOutput)(x)}`);const A=(0,a.handleInstallOutput)(e,x,R);return A?(g(A,w.logger),A.storePlatform=!0,A):null},t.generateSshCommand=async function(e,t,n,r){const o=r?{cmdSegment:["-D",String(r)],allowPortForward:!0}:{};return o.quoteForShell=!0,await(0,u.generateMultiLineCommand)(e,t,n,o)},t.logInstallScriptResult=g,t.getPrereqsWarningInteractor=v,t.getPortForwardingDisabledInteractor=y},6710:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerUriHandler=void 0;const r=n(1398),o=n(4800),i="github.copilot-chat",s=`@${o.CHAT_PARTICIPANT_ID}`;class a{async handleUri(e){if("/continueWithCopilot"===e.path){const t=e.query.split("&").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{}).statusCode;let n=`${s} Please diagnose my last connection error`;t&&(n=`${s} Explain the status code ${t} and help me diagnose the issue`);const o=async()=>{await r.commands.executeCommand("workbench.action.chat.open"),await r.commands.executeCommand("workbench.action.chat.sendToNewChat",{inputValue:n})};if(r.extensions.getExtension(i))return void await o();await r.commands.executeCommand("workbench.extensions.installExtension",i),await r.commands.executeCommand("workbench.action.chat.open");const a=r.l10n.t("Chat with {0}",s);await r.window.showInformationMessage(r.l10n.t("After logging into Copilot Chat, return here to continue diagnosing your connection issue."),a)===a&&await o()}}}t.registerUriHandler=function(e){e.subscriptions.push(r.window.registerUriHandler(new a))}},4407:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanceledError=t.sleep=t.getDeferred=void 0,t.getDeferred=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return{resolve:e,reject:t,promise:n}},t.sleep=function(e){return new Promise((t=>{setTimeout(t,e)}))};class n extends Error{constructor(){super("Canceled")}}t.CanceledError=n},221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withCancellationTokenSource=t.withDisposable=t.dispose=t.addDisposableListener=void 0;const r=n(1398);async function o(e,t){try{return await t()}finally{e.dispose()}}t.addDisposableListener=function(e,t,n){return e.on(t,n),{dispose(){e.removeListener(t,n)}}},t.dispose=function e(t,...n){return Array.isArray(t)?(t.forEach((e=>e&&e.dispose())),[]):0===n.length?t?(t.dispose(),t):void 0:(e(t),e(n),[])},t.withDisposable=o,t.withCancellationTokenSource=function(e){const t=new r.CancellationTokenSource;return o(t,(()=>e(t)))}},3378:(e,t,n)=>{"use strict";let r,o;Object.defineProperty(t,"__esModule",{value:!0}),t.getPackageNlsJson=t.getPackageJson=void 0,t.getPackageJson=function(){return r||(r=n(8330)),r},t.getPackageNlsJson=function(){return o||(o=n(9707)),o??{}}},8805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nonFalsy=void 0,t.nonFalsy=function(e){return e.filter((e=>!!e))}},1990:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostInfo=void 0;const r=n(8583),o=n(9278),i=n(4417);class s{constructor(e,t,n,r){this.hostName=e,this.user=t,this.port=n,this.config=r}toString(){return this.user?`${this.user}@${this.hostName}`:this.hostName}static toPathString(e){return r.fast1a32hex(e.toString())}static toAuthorityString(e){if(e.user||e.hostName.toLowerCase()!==e.hostName||e.port||e.hostName.match(/[\/\\\+]/)){const t={hostName:e.hostName};e.user&&(t.user=e.user),e.port&&(t.port=e.port);const n=JSON.stringify(t);return Buffer.from(n,"utf8").toString("hex")}return e.hostName}static async parseWithConfig(e,t){const n=this.parse(t),r=await(0,i.getConfigurationForHost)(e,n);return r?new s(n.hostName,n.user,n.port,r):n}static parse(e){try{const t=JSON.parse(Buffer.from(e,"hex").toString("utf8"));if(t&&t.hostName)return new s(t.hostName,t.user,t.port)}catch(e){}return s.fromString(e)}static fromString(e){const t=e.match(/^(?:(.*)@)?(.+?)$/);if(t){const[,e,n]=t;let r;if(e&&""!==e&&(r=e),o.isIPv6(n))return new s(n,r,void 0);let i=n.match(/^\[(.+?)\](?::(\d+))?$/);if(i){const[,e,t]=i;if(o.isIPv6(e))return new s(e,r,t?parseInt(t,10):void 0)}if(i=n.match(/^(.+?)(?::(\d+))?$/),i){const[,e,t]=i;return new s(e,r,t?parseInt(t,10):void 0)}}return new s(e)}}t.HostInfo=s},4747:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpPost=t.httpGet=t.getAgent=void 0;const r=n(8611),o=n(5692),i=n(7016),s=n(1398),a=n(2288);let c;t.getAgent=()=>{if(!c){const e=s.workspace.getConfiguration("http").get("proxy");c=e?new a.HttpsProxyAgent(e):void 0}return c},t.httpGet=function(e,t={},n){return new Promise(((s,a)=>{t={rejectUnauthorized:!1,...t};let c=r.get;if(e){const n=i.parse(e);t={...n},c="https:"===n.protocol?o.get:r.get}c(t,(e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?s(t):(n.error("HTTP GET failed with: "+e.statusCode+" "+e.statusMessage),a(new Error(t.trim())))}))})).on("error",(e=>{a(e)}))}))},t.httpPost=function(e,t,n={},s){return new Promise(((a,c)=>{n={rejectUnauthorized:!1,method:"POST",...n};const l=e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?a(t):(s.error("HTTP POST failed with: "+e.statusCode+" "+e.statusMessage),c(new Error(t.trim())))}))};let u;if(e){const t=i.parse(e);n={...t},"https:"===t.protocol&&(u=o.request(n,l))}else u=r.request(n,l);u.write(t),u.end()}))}},3001:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIPCHandlePath=void 0;const r=n(9023),o=n(6982),i=n(6928),s=n(857);t.getIPCHandlePath=async function(e,t=20){const n=r.promisify(o.randomBytes);return function(e,t){return"win32"===process.platform?`\\\\.\\pipe\\vscode-ssh-${e}-${t}-sock`:process.env.XDG_RUNTIME_DIR?i.join(process.env.XDG_RUNTIME_DIR,`vscode-ssh-${e}-${t}.sock`):i.join(s.tmpdir(),`vscode-ssh-${e}-${t}.sock`)}(e,(await n(t)).toString("hex"))}},3039:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NullLogger=t.Logger=void 0;const r=n(1398),o=n(2593),i=n(3411);function s(e,t){return(""+e).padStart(t,"0")}t.Logger=class{constructor(e){this.disposables=[],this.logCache=[],this.outputChannel=r.window.createOutputChannel(e),this.disposables.push(this.outputChannel),this.logCurrentLogLevel()}getLogCache(){return this.logCache.join("\n")}showLog(){return this.outputChannel.show()}dumpLog(){return this.logCache.join("\n")}info(e){this.log(e,i.LogLevel.info)}trace(e){this.log(e,i.LogLevel.trace)}debug(e){this.log(e,i.LogLevel.debug)}error(e){this.log(e,i.LogLevel.error)}logWithoutTimestamp(e,t){t>=(0,i.logLevel)()&&(e=(0,o.stripEscapeSequences)(e),this.outputChannel.appendLine(e))}logCurrentLogLevel(){this.info("Log Level: "+(0,i.logLevel)())}log(e,t){e=String(e),(0,i.logLevel)()!==i.LogLevel.trace&&(e=(0,o.stripEscapeSequences)(e));const n=function(){const e=new Date;return`[${s(e.getHours(),2)}:${s(e.getMinutes(),2)}:${s(e.getSeconds(),2)}.${s(e.getMilliseconds(),3)}] `}()+e;this.logCache.push(n),t>=(0,i.logLevel)()&&this.outputChannel.appendLine(n)}dispose(){this.outputChannel.dispose()}},t.NullLogger=class{dumpLog(){return""}showLog(){}info(e){}trace(e){}debug(e){}error(e){}logWithoutTimestamp(e,t){}dispose(){}}},1976:(e,t)=>{"use strict";function n(e,t){const n={};for(let r in e)t(r,e)&&(n[r]=e[r]);return n}function r(e,t){const n={};for(const r of Object.keys(e)){const o=e[r];n[r]=t(o,r)}return n}function o(e){return n(e,((e,t)=>void 0!==t[e]))}Object.defineProperty(t,"__esModule",{value:!0}),t.removeUndefinedsRecursive=t.removeUndefineds=t.mapValues=t.filterObject=void 0,t.filterObject=n,t.mapValues=r,t.removeUndefineds=o,t.removeUndefinedsRecursive=function e(t){return r(o(t),(t=>"object"==typeof t?e(t):t))}},4535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowsPath=t.sanitizeFileName=t.mkdirp=t.untildify=void 0;const r=n(857),o=n(9896),i=n(6928),s=n(9023),a=s.promisify(o.mkdir),c=s.promisify(o.exists);async function l(e,t,n){if(!(t>=n||await c(e))){const r=i.dirname(e);r!==e&&await l(r,++t,n),await a(e)}}t.untildify=function(e){return e.replace(/^~($|\/|\\)/,`${r.homedir()}$1`)},t.mkdirp=async function(e){return await l(e,0,100)},t.sanitizeFileName=function(e){return e.replace(/[^a-z0-9._]/g,"-")},t.isWindowsPath=function(e){return/^[a-zA-Z]:\\/.test(e)}},6296:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=void 0,t.isWindows="win32"===process.platform},5691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFreePort=t.findAnyFreePort=t.findFreePortFrom=t.randomPort=void 0;const r=n(9278);function o(e,t,n){if(0===t)return n(0);const s=new r.Socket;s.once("connect",(()=>(i(s),o(e+1,t-1,n)))),s.once("data",(()=>{})),s.once("error",(r=>(i(s),"ECONNREFUSED"!==r.code?o(e+1,t-1,n):n(e)))),s.connect(e,"127.0.0.1")}function i(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}t.randomPort=function(){return 1025+Math.floor(64510*Math.random())},t.findFreePortFrom=function(e,t=300,n=3e3){let r=!1;return new Promise((i=>{const s=setTimeout((()=>{if(!r)return r=!0,i(0)}),n);o(e,t,(e=>{if(!r)return r=!0,clearTimeout(s),i(e)}))}))},t.findAnyFreePort=function(){return new Promise(((e,t)=>{const n=r.createServer();n.on("error",t),n.listen(0,"127.0.0.1",(()=>{const{port:t}=n.address();n.close((()=>{e(t)}))}))}))},t.isFreePort=async function(e){return new Promise((t=>{const n=new r.Socket;n.once("connect",(()=>{i(n),t(!1)})),n.once("data",(()=>{})),n.once("error",(e=>{i(n),t("ECONNREFUSED"===e.code)})),n.connect(e,"127.0.0.1")}))}},6294:(e,t)=>{"use strict";function n(e){return r(e)+"_"}function r(e){const t=e%26,n=Math.floor(e/26);return(n>0?r(n-1):"")+String.fromCharCode(t+"a".charCodeAt(0))}function o(e,t){t=[...t].sort(((e,t)=>e[0].length-t[0].length));for(let[n,r]of t)e=e.replace(new RegExp(`\\b${n}\\b`,"g"),r);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.minifyNames=t.minNameForNumber=t.minifyPwsh=void 0,t.minifyPwsh=function(e,t){return e=o(e,t.map(((e,t)=>[e,n(t)]))),(e=(e=(e=e.replace(/^(\s*\$[a-z_]+) = /gim,"$1=")).split("\n").filter((e=>!e.match(/^\s*#/))).join("\n")).split("\n").map((e=>e.replace(/^\s+/,""))).join("\n")).replace(/\n\n+/g,"\n")},t.minNameForNumber=n,t.minifyNames=o},9350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killTree=void 0;const r=n(6928),o=n(5317),i=n(9023);t.killTree=async function(e,t){let n;if("win32"===process.platform){const t=process.env.WINDIR||"C:\\Windows";n=`${r.join(t,"System32","taskkill.exe")} /F /T /PID ${e}`}else n=`"${r.join(__dirname,"./utils/terminateProcess.sh")}" ${e.toString()}`;try{t.debug(`Killing process with command "${n}"`);const e=await i.promisify(o.exec)(n);e.stdout&&t.debug("stdout: "+e.stdout),e.stderr&&t.debug("stderr: "+e.stderr)}catch(e){t.error("Killing server failed: "+e.message)}}},1872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductInfo=void 0;const r=n(9896),o=n(6928),i=n(9023),s=n(1398);let a;async function c(){if(!a){const e=await(0,i.promisify)(r.readFile)(o.join(s.env.appRoot,"product.json"),"utf8");a=JSON.parse(e)}return a}t.getProductInfo=async function(){let e=await c();return e.commit&&e.serverDataFolderName||(e={commit:"22e3447b4b410dcf8426bf70743c5dd4030d6122",quality:"insider",serverDataFolderName:".vscode-server-oss",serverApplicationName:"code-server-insiders",version:"dev-insiders"}),e}},8652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgressOutputString=t.RemoteProgressMessages=void 0;const r=n(1398);t.RemoteProgressMessages={1:r.l10n.t("Downloading VS Code Server"),2:r.l10n.t("Installing VS Code Server")},t.getProgressOutputString=function(e,t){return`${e}%%${t}%%`}},1357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serverLicense=void 0,t.serverLicense=["*","* Visual Studio Code Server","*","* By using the software, you agree to","* the Visual Studio Code Server License Terms (https://aka.ms/vscode-server-license) and","* the Microsoft Privacy Statement (https://privacy.microsoft.com/en-US/privacystatement).","*"]},2593:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomServerPath=t.parseStringMap=t.stripAllNewlines=t.escapeRegExpCharacters=t.splitLines=t.markLine=t.markLines=t.sanitizeCopyofScriptVars=t.sanitizeExtensionId=t.sanitizeConnectionToken=t.sanitizeInstallScriptOutput=t.stripTrailingNewline=t.quoteForShellIfNeeded=t.quoteForShell=t.stripEscapeSequences=t.lastNonemptyLine=void 0;const r=n(6928),o=n(6296),i=n(3070),s=/(?:(?:\x1b\[|\x9B)[=?>!]?[\d;:]*["$#'* ]?[a-zA-Z@^`{}|~])|(:?\x1b\].*?\x07)/g;function a(e){return e&&(e=e.replace(s,"").replace(/\u0008/g,"").replace(/\r/g,"")),e}function c(e,t){return t?`"${e}"`:`'${e}'`}function l(e){return e.replace(/\r?\n$/,"")}function u(e){return e.replace(/[a-z]/g,"a").replace(/[A-Z]/g,"A").replace(/[0-9]/g,"1")}t.lastNonemptyLine=function(e){const t=h(e);if(o.isWindows){let e="";for(let n=t.length-1;n>=0;n--){const r=a(t[n]);if(r.match(/The process tried to write to a nonexistent pipe/))e=r;else if(r)return r}if(e)return e}const n=t.filter((e=>!!e));return n[n.length-1]},t.stripEscapeSequences=a,t.quoteForShell=c,t.quoteForShellIfNeeded=function(e,t){return e.match(/[^a-z0-9]/)?c(e,t):e},t.stripTrailingNewline=l,t.sanitizeInstallScriptOutput=function(e){return function(e){return e.replace(/(connectionToken|execServerToken)==(.*)==/,((e,t,n)=>`${t}==${u(n)}==`))}(e)},t.sanitizeConnectionToken=u,t.sanitizeExtensionId=function(e){return e.replace(/[^a-z0-9\.\-_]/gi,"")};const d={token:u};function h(e){return e.split(/\r?\n/g)}t.sanitizeCopyofScriptVars=function(e){const t={};for(const n in e){const r=e[n],o=d[n];t[n]=o?o(r):r}return t},t.markLines=function(e,t=""){return h(l(e)).map((e=>`${t}> ${e}`)).join("\n")},t.markLine=function(e,t=""){return`${t}> ${e}`},t.splitLines=h,t.escapeRegExpCharacters=function(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")},t.stripAllNewlines=function(e){return e.replace(/\r?\n/,"")},t.parseStringMap=function(e,t="==",n){e=e.trim().replace(/\r?\n/g,"");const r={};for(let o=0;o<e.length;){const i=e.indexOf(t,o),s=e.indexOf(t,i+t.length);if(-1===i||-1===s)return n.trace("Stopped parsing output early. Remaining text: "+e.substring(o)),r;const a=e.slice(i+t.length,s);r[e.slice(o,i)]=a,o=s+t.length;const c=e.substr(o).match(/^\s+/);c&&c[0]&&(o+=c[0].length)}return r};const f=/^[a-zA-Z]:[\\/](?:[^<>:"|?*\\/]+[\\/]?)*$/,p=/^\/[A-Za-z0-9_\/.\- ]*$/;t.validateCustomServerPath=function(e,t){return!e||!(t&&t!==i.Platform.Windows||!f.test(e)||!r.win32.isAbsolute(e))||!(t&&t!==i.Platform.Linux&&t!==i.Platform.MacOS||!p.test(e)||!r.posix.isAbsolute(e))}},1640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSystemInteractor=void 0;const r=n(1398);t.defaultSystemInteractor={createTerminal:r.window.createTerminal,onDidCloseTerminal:r.window.onDidCloseTerminal,onDidWriteTerminalData:r.window.onDidWriteTerminalData}},5880:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Telemetry=t.createTelemetryReporter=void 0;const r=n(1170),o=n(729),i=n(3411),s=n(2584),a=n(3378),c=n(1976),l=n(2869);t.createTelemetryReporter=async function(e){const t=(0,a.getPackageJson)(),n=new r.default(t.aiKey);return e.subscriptions.push(n),n},t.Telemetry=class{constructor(e,t,n){this.reporter=e,this.resolveAttempt=t,this.logger=n}getCommonMeasures(e,t,n,r){const o=e.computeStats(),i={resolveAttempts:this.resolveAttempt,retries:t,isExecServer:r?1:0,"timing.totalResolveTime":o.totalResolveTime,"timing.preSshTime":o.preSshTime,"timing.establishSshTime":o.establishSshTime,"timing.scriptTime":o.scriptTime,"timing.localDownloadTime":o.localDownloadTime,"timing.scpTime":o.scpTime,"timing.downloadTime":n?.downloadTime,"timing.installTime":n?.installTime,"timing.serverStartTime":n?.serverStartTime,"timing.extInstallTime":n?.extInstallTime};return(0,c.removeUndefineds)(i)}getCommonProperties(e,t,n){return{osReleaseId:(e&&e.serverConfiguration.osReleaseId)??"",arch:(e&&e.serverConfiguration.arch)??"",askedPw:t&&t.has(o.PasswordInteractor.ID)?"1":"0",askedPassphrase:t&&t.has(o.PassphraseInteractor.ID)?"1":"0",asked2fa:t&&t.has(o.TwoFacInteractor.ID)?"1":"0",askedHostKey:t&&t.has(o.FingerprintInteractor.ID)?"1":"0",remoteInConfigFile:n?"1":"0",gotUnrecognizedPrompt:t&&t.has(s.UnrecognizedRequestInteractor.ID)?"1":"0",dynamicForwarding:(0,i.enableDynamicForwarding)()?"1":"0",localServer:(0,i.useLocalServer)()?"1":"0",didLocalDownload:e?.didLocalDownload?"1":"0",installUnpackCode:e?.installUnpackCode?"1":"0"}}getTelemetryLevel(){return this.reporter.telemetryLevel}install(e,t){this.sendTelemetryEvent("resolver",{...this.getCommonProperties(e.installScriptResult,e.usedAuthMethods,e.remoteInConfigFile),outcome:"success"},this.getCommonMeasures(t,e.retries,e.installScriptResult,!!e.execServer))}success(e,t){this.sendTelemetryEvent("resolver",{...this.getCommonProperties(e.installScriptResult,e.usedAuthMethods,e.remoteInConfigFile),outcome:"success"},this.getCommonMeasures(t,e.retries,e.installScriptResult,!!e.execServer))}failure(e,t,n,r,o,i,s){const a={exitCode:r&&r.exitCode,...this.getCommonMeasures(t,o,r,n)},u=(0,c.removeUndefineds)(a);this.sendTelemetryEvent("resolver",{...this.getCommonProperties(r,i,s),outcome:"failure",reason:l.UnifiedStatusCode[e],exitCodeLabel:r?l.UnifiedStatusCode[r.exitCode]:""},u)}reportExtraInfo(e){this.sendTelemetryEvent("extraInfo",{remoteCloud:e?e.toString():""},{})}sendTelemetryEvent(e,t,n){const r={eventName:e,properties:t,measures:n};this.logger.trace(`TELEMETRY: ${JSON.stringify(r)}`),this.reporter.sendTelemetryEvent(e,t,n)}}},7154:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawTimer=t.Timer=void 0,t.Timer=class{constructor(){this.timer=new n}mark(e){this.timer.mark(e)}computeStats(){return{totalResolveTime:this.timer.getDuration(0,4),preSshTime:this.timer.getDuration(0,1),establishSshTime:this.timer.getDuration(1,2),scriptTime:this.timer.getDuration(1,3),localDownloadTime:this.timer.getDuration(5,6),scpTime:this.timer.getDuration(7,8)}}};class n{constructor(){this.times=new Map}mark(e){this.times.set(e,Date.now())}getDuration(e,t){const n=this.times.get(e),r=this.times.get(t);if("number"==typeof n&&"number"==typeof r)return r-n}}t.RawTimer=n},6444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.insecureRandomString=void 0;const r=n(6982);t.insecureRandomString=function(e=12){let t="";for(let n=0;n<e;n++){t+="0123456789abcdef"[Math.floor(16*Math.random())]}return t},t.generateUuid=function(){return r.randomUUID()}},8214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=void 0,t.wait=async function(e){return new Promise(((t,n)=>{setTimeout((()=>t()),e)}))}},3510:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesManager=void 0,t.VariablesManager=class{constructor(e,t){this.collection=e,this.deps=t,e.persistent=!1}update(e){this.deps.logger.trace(`Updating terminal environments: ${JSON.stringify(e)}`);for(let t in e)this.collection.replace(t,e[t])}}},3505:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertVSDA=t.licenseErrorText=void 0;const r="undefined"!=typeof require?require:n(4403),o=n(6982),i=n(6928),s=n(1398);t.licenseErrorText=["You may install and use any number of copies of the software only with Microsoft Visual Studio,","Visual Studio for Mac, Visual Studio Code, Azure DevOps, Team Foundation Server, and successor Microsoft products","and services (collectively, the “Visual Studio Products and Services”) to develop and test your applications.","The software is licensed, not sold. This agreement only gives you some rights to use the software. Microsoft reserves all other rights.","You may not:","work around any technical limitations in the software that only allow you to use it in certain ways;","reverse engineer, decompile or disassemble the software, or otherwise attempt to derive the source code for the software,","except and to the extent required by third party licensing terms governing use of certain open source components that may be included in the software;","remove, minimize, block, or modify any notices of Microsoft or its suppliers in the software;","use the software in any way that is against the law or to create or propagate malware; or","share, publish, distribute, or lease the software (except for any distributable code, subject to the terms above),","provide the software as a stand-alone offering for others to use, or transfer the software or this agreement to any third party."].join(" ");const a="SEE  LICENSE.txt",c=o.scryptSync(t.licenseErrorText,a,24),l=Buffer.from(a);function u(e){try{const t=r.resolve(d("bdf000de72c4f5f5d7cff4fa6dd90b95"),{paths:e}),n=r(t);if(!n[d("0fd50b75eeecb3b44b3932921442f72c")]||!n[d("80c3ae7905cba507debf9b326fc386ab")])return;return n}catch(e){return}}function d(e){const t=o.createDecipheriv("aes-192-cbc",c,l);let n=t.update(e,"hex","utf8");return n+=t.final("utf8"),n}t.assertVSDA=function(){const e=u(r.main?.paths.map((e=>e+d("f70715b752c50649525efc24a1d133eb")))??[])||u([i.posix.join(s.env.appRoot,d("9e4708daf438152c7e63cf9f3b24d92c"))]);if(!e)throw new Error("Remote - SSH is only supported in Microsoft versions of VS Code");return e}},5010:function(e,t){var n;n=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function n(){}const r="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const i=n,s=Promise,a=Promise.prototype.then,c=Promise.resolve.bind(s),l=Promise.reject.bind(s);function u(e){return new s(e)}function d(e){return c(e)}function h(e){return l(e)}function f(e,t,n){return a.call(e,t,n)}function p(e,t,n){f(f(e,t,n),void 0,i)}function m(e,t){p(e,t)}function g(e,t){p(e,void 0,t)}function v(e,t,n){return f(e,t,n)}function y(e){f(e,void 0,i)}const w=(()=>{const e=r&&r.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>f(t,e)})();function S(e,t,n){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,n)}function b(e,t,n){try{return d(S(e,t,n))}catch(e){return h(e)}}class _{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let n=t;16383===t._elements.length&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size}shift(){const e=this._front;let t=e;const n=this._cursor;let r=n+1;const o=e._elements,i=o[n];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),o[n]=void 0,i}forEach(e){let t=this._cursor,n=this._front,r=n._elements;for(;!(t===r.length&&void 0===n._next||t===r.length&&(n=n._next,r=n._elements,t=0,0===r.length));)e(r[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function D(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?T(e):"closed"===t._state?function(e){T(e),x(e)}(e):k(e,t._storedError)}function C(e,t){return bn(e._ownerReadableStream,t)}function E(e){"readable"===e._ownerReadableStream._state?I(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e){k(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function P(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function T(e){e._closedPromise=u(((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n}))}function k(e,t){T(e),I(e,t)}function I(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function x(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const R=t("[[AbortSteps]]"),A=t("[[ErrorSteps]]"),F=t("[[CancelSteps]]"),O=t("[[PullSteps]]"),L=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},M=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function $(e,t){if(void 0!==e&&"object"!=typeof(n=e)&&"function"!=typeof n)throw new TypeError(`${t} is not an object.`);var n}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function N(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function U(e,t,n){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${n}'.`)}function H(e,t,n){if(void 0===e)throw new TypeError(`${t} is required in '${n}'.`)}function j(e){return Number(e)}function W(e){return 0===e?0:e}function z(e,t){const n=Number.MAX_SAFE_INTEGER;let r=Number(e);if(r=W(r),!L(r))throw new TypeError(`${t} is not a finite number`);if(r=function(e){return W(M(e))}(r),r<0||r>n)throw new TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return L(r)&&0!==r?r:0}function q(e,t){if(!wn(e))throw new TypeError(`${t} is not a ReadableStream.`)}function V(e){return new Z(e)}function G(e,t){e._reader._readRequests.push(t)}function K(e,t,n){const r=e._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(t)}function J(e){return e._reader._readRequests.length}function X(e){const t=e._reader;return void 0!==t&&!!Y(t)}class Z{constructor(e){if(U(e,1,"ReadableStreamDefaultReader"),q(e,"First parameter"),Sn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,e),this._readRequests=new _}get closed(){return Y(this)?this._closedPromise:h(ee("closed"))}cancel(e=void 0){return Y(this)?void 0===this._ownerReadableStream?h(P("cancel")):C(this,e):h(ee("cancel"))}read(){if(!Y(this))return h(ee("read"));if(void 0===this._ownerReadableStream)return h(P("read from"));let e,t;const n=u(((n,r)=>{e=n,t=r}));return Q(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),n}releaseLock(){if(!Y(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}}function Y(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Z}function Q(e,t){const n=e._ownerReadableStream;n._disturbed=!0,"closed"===n._state?t._closeSteps():"errored"===n._state?t._errorSteps(n._storedError):n._readableStreamController[O](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Z.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Z.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ne{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?v(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?v(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return h(P("iterate"));let t,n;const r=u(((e,r)=>{t=e,n=r}));return Q(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,w((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),n(t)}}),r}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return h(P("finish iterating"));if(!this._preventCancel){const n=C(t,e);return E(t),v(n,(()=>({value:e,done:!0})))}return E(t),d({value:e,done:!0})}}const re={next(){return oe(this)?this._asyncIteratorImpl.next():h(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):h(ie("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ne}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(re,te);const se=Number.isNaN||function(e){return e!=e};function ae(e){return e.slice()}function ce(e,t,n,r,o){new Uint8Array(e).set(new Uint8Array(n,r,o),t)}function le(e,t,n){if(e.slice)return e.slice(t,n);const r=n-t,o=new ArrayBuffer(r);return ce(o,0,e,t,r),o}function ue(e){const t=le(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function de(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function he(e,t,n){if("number"!=typeof(r=n)||se(r)||r<0||n===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:t,size:n}),e._queueTotalSize+=n}function fe(e){e._queue=new _,e._queueTotalSize=0}class pe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ve(this))throw Ne("view");return this._view}respond(e){if(!ve(this))throw Ne("respond");if(U(e,1,"respond"),e=z(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Me(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ve(this))throw Ne("respondWithNewView");if(U(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,$e(this._associatedReadableByteStreamController,e)}}Object.defineProperties(pe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(pe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ge(this))throw Ue("byobRequest");return Oe(this)}get desiredSize(){if(!ge(this))throw Ue("desiredSize");return Le(this)}close(){if(!ge(this))throw Ue("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Re(this)}enqueue(e){if(!ge(this))throw Ue("enqueue");if(U(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Ae(this,e)}error(e=void 0){if(!ge(this))throw Ue("error");Fe(this,e)}[F](e){we(this),fe(this);const t=this._cancelAlgorithm(e);return xe(this),t}[O](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Ee(this);const n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(n)}const n=this._autoAllocateChunkSize;if(void 0!==n){let t;try{t=new ArrayBuffer(n)}catch(t){return void e._errorSteps(t)}const r={buffer:t,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}G(t,e),ye(this)}}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function ve(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof pe}function ye(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(X(t)&&J(t)>0)return!0;if(ze(t)&&We(t)>0)return!0;return Le(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ye(e))}),(t=>{Fe(e,t)}))))}function we(e){Pe(e),e._pendingPullIntos=new _}function Se(e,t){let n=!1;"closed"===e._state&&(n=!0);const r=be(t);"default"===t.readerType?K(e,r,n):function(e,t,n){const r=e._reader._readIntoRequests.shift();n?r._closeSteps(t):r._chunkSteps(t)}(e,r,n)}function be(e){const t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}function _e(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}function De(e,t){const n=t.elementSize,r=t.bytesFilled-t.bytesFilled%n,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,s=i-i%n;let a=o,c=!1;s>r&&(a=s-t.bytesFilled,c=!0);const l=e._queue;for(;a>0;){const n=l.peek(),r=Math.min(a,n.byteLength),o=t.byteOffset+t.bytesFilled;ce(t.buffer,o,n.buffer,n.byteOffset,r),n.byteLength===r?l.shift():(n.byteOffset+=r,n.byteLength-=r),e._queueTotalSize-=r,Ce(0,r,t),a-=r}return c}function Ce(e,t,n){n.bytesFilled+=t}function Ee(e){0===e._queueTotalSize&&e._closeRequested?(xe(e),_n(e._controlledReadableByteStream)):ye(e)}function Pe(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Te(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();De(e,t)&&(Ie(e),Se(e._controlledReadableByteStream,t))}}function ke(e,t){const n=e._pendingPullIntos.peek();Pe(e),"closed"===e._controlledReadableByteStream._state?function(e){const t=e._controlledReadableByteStream;if(ze(t))for(;We(t)>0;)Se(t,Ie(e))}(e):function(e,t,n){if(Ce(0,t,n),n.bytesFilled<n.elementSize)return;Ie(e);const r=n.bytesFilled%n.elementSize;if(r>0){const t=n.byteOffset+n.bytesFilled,o=le(n.buffer,t-r,t);_e(e,o,0,o.byteLength)}n.bytesFilled-=r,Se(e._controlledReadableByteStream,n),Te(e)}(e,t,n),ye(e)}function Ie(e){return e._pendingPullIntos.shift()}function xe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Re(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Fe(e,t),t}xe(e),_n(t)}}function Ae(e,t){const n=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==n._state)return;const r=t.buffer,o=t.byteOffset,i=t.byteLength,s=r;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Pe(e),X(n)?0===J(n)?_e(e,s,o,i):(e._pendingPullIntos.length>0&&Ie(e),K(n,new Uint8Array(s,o,i),!1)):ze(n)?(_e(e,s,o,i),Te(e)):_e(e,s,o,i),ye(e)}function Fe(e,t){const n=e._controlledReadableByteStream;"readable"===n._state&&(we(e),fe(e),xe(e),Dn(n,t))}function Oe(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(pe.prototype);!function(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}(r,e,n),e._byobRequest=r}return e._byobRequest}function Le(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Me(e,t){const n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(n.bytesFilled+t>n.byteLength)throw new RangeError("bytesWritten out of range")}n.buffer=n.buffer,ke(e,t)}function $e(e,t){const n=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(n.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(n.bytesFilled+t.byteLength>n.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=t.byteLength;n.buffer=t.buffer,ke(e,r)}function Be(e,t,n,r,o,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=o,t._autoAllocateChunkSize=s,t._pendingPullIntos=new _,e._readableStreamController=t,p(d(n()),(()=>{t._started=!0,ye(t)}),(e=>{Fe(t,e)}))}function Ne(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ue(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function He(e){return new qe(e)}function je(e,t){e._reader._readIntoRequests.push(t)}function We(e){return e._reader._readIntoRequests.length}function ze(e){const t=e._reader;return void 0!==t&&!!Ve(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class qe{constructor(e){if(U(e,1,"ReadableStreamBYOBReader"),q(e,"First parameter"),Sn(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ge(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");D(this,e),this._readIntoRequests=new _}get closed(){return Ve(this)?this._closedPromise:h(Ke("closed"))}cancel(e=void 0){return Ve(this)?void 0===this._ownerReadableStream?h(P("cancel")):C(this,e):h(Ke("cancel"))}read(e){if(!Ve(this))return h(Ke("read"));if(!ArrayBuffer.isView(e))return h(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return h(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return h(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return h(P("read from"));let t,n;const r=u(((e,r)=>{t=e,n=r}));return Ge(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>n(e)}),r}releaseLock(){if(!Ve(this))throw Ke("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");E(this)}}}function Ve(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof qe}function Ge(e,t,n){const r=e._ownerReadableStream;r._disturbed=!0,"errored"===r._state?n._errorSteps(r._storedError):function(e,t,n){const r=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,s=t.buffer,a={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void je(r,n);if("closed"!==r._state){if(e._queueTotalSize>0){if(De(e,a)){const t=be(a);return Ee(e),void n._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Fe(e,t),void n._errorSteps(t)}}e._pendingPullIntos.push(a),je(r,n),ye(e)}else{const e=new i(a.buffer,a.byteOffset,0);n._closeSteps(e)}}(r._readableStreamController,t,n)}function Ke(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Je(e,t){const{highWaterMark:n}=e;if(void 0===n)return t;if(se(n)||n<0)throw new RangeError("Invalid highWaterMark");return n}function Xe(e){const{size:t}=e;return t||(()=>1)}function Ze(e,t){$(e,t);const n=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===n?void 0:j(n),size:void 0===r?void 0:Ye(r,`${t} has member 'size' that`)}}function Ye(e,t){return B(e,t),t=>j(e(t))}function Qe(e,t,n){return B(e,n),n=>b(e,t,[n])}function et(e,t,n){return B(e,n),()=>b(e,t,[])}function tt(e,t,n){return B(e,n),n=>S(e,t,[n])}function nt(e,t,n){return B(e,n),(n,r)=>b(e,t,[n,r])}function rt(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(qe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(qe.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class it{constructor(e={},t={}){void 0===e?e=null:N(e,"First parameter");const n=Ze(t,"Second parameter"),r=function(e,t){$(e,t);const n=null==e?void 0:e.abort,r=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===n?void 0:Qe(n,e,`${t} has member 'abort' that`),close:void 0===r?void 0:et(r,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===s?void 0:nt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(at(this),void 0!==r.type)throw new RangeError("Invalid type is specified");const o=Xe(n);!function(e,t,n,r){const o=Object.create(Et.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0),c=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(s=e=>t.write(e,o)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),Tt(e,o,i,s,a,c,n,r)}(this,r,Je(n,1),o)}get locked(){if(!ct(this))throw Ot("locked");return lt(this)}abort(e=void 0){return ct(this)?lt(this)?h(new TypeError("Cannot abort a stream that already has a writer")):ut(this,e):h(Ot("abort"))}close(){return ct(this)?lt(this)?h(new TypeError("Cannot close a stream that already has a writer")):mt(this)?h(new TypeError("Cannot close an already-closing stream")):dt(this):h(Ot("close"))}getWriter(){if(!ct(this))throw Ot("getWriter");return st(this)}}function st(e){return new yt(e)}function at(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new _,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof it}function lt(e){return void 0!==e._writer}function ut(e,t){var n;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(n=e._writableStreamController._abortController)||void 0===n||n.abort();const r=e._state;if("closed"===r||"errored"===r)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===r&&(o=!0,t=void 0);const i=u(((n,r)=>{e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||ft(e,t),i}function dt(e){const t=e._state;if("closed"===t||"errored"===t)return h(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const n=u(((t,n)=>{const r={_resolve:t,_reject:n};e._closeRequest=r})),r=e._writer;var o;return void 0!==r&&e._backpressure&&"writable"===t&&Vt(r),he(o=e._writableStreamController,Ct,0),xt(o),n}function ht(e,t){"writable"!==e._state?pt(e):ft(e,t)}function ft(e,t){const n=e._writableStreamController;e._state="erroring",e._storedError=t;const r=e._writer;void 0!==r&&bt(r,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&n._started&&pt(e)}function pt(e){e._state="errored",e._writableStreamController[A]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new _,void 0===e._pendingAbortRequest)return void gt(e);const n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring)return n._reject(t),void gt(e);p(e._writableStreamController[R](n._reason),(()=>{n._resolve(),gt(e)}),(t=>{n._reject(t),gt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function gt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Ut(t,e._storedError)}function vt(e,t){const n=e._writer;void 0!==n&&t!==e._backpressure&&(t?function(e){jt(e)}(n):Vt(n)),e._backpressure=t}Object.defineProperties(it.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(it.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class yt{constructor(e){if(U(e,1,"WritableStreamDefaultWriter"),rt(e,"First parameter"),lt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?jt(this):zt(this),Bt(this);else if("erroring"===t)Wt(this,e._storedError),Bt(this);else if("closed"===t)zt(this),Bt(this),Ht(this);else{const t=e._storedError;Wt(this,t),Nt(this,t)}}get closed(){return wt(this)?this._closedPromise:h(Mt("closed"))}get desiredSize(){if(!wt(this))throw Mt("desiredSize");if(void 0===this._ownerWritableStream)throw $t("desiredSize");return function(e){const t=e._ownerWritableStream,n=t._state;return"errored"===n||"erroring"===n?null:"closed"===n?0:It(t._writableStreamController)}(this)}get ready(){return wt(this)?this._readyPromise:h(Mt("ready"))}abort(e=void 0){return wt(this)?void 0===this._ownerWritableStream?h($t("abort")):function(e,t){return ut(e._ownerWritableStream,t)}(this,e):h(Mt("abort"))}close(){if(!wt(this))return h(Mt("close"));const e=this._ownerWritableStream;return void 0===e?h($t("close")):mt(e)?h(new TypeError("Cannot close an already-closing stream")):St(this)}releaseLock(){if(!wt(this))throw Mt("releaseLock");void 0!==this._ownerWritableStream&&_t(this)}write(e=void 0){return wt(this)?void 0===this._ownerWritableStream?h($t("write to")):Dt(this,e):h(Mt("write"))}}function wt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof yt}function St(e){return dt(e._ownerWritableStream)}function bt(e,t){"pending"===e._readyPromiseState?qt(e,t):function(e,t){Wt(e,t)}(e,t)}function _t(e){const t=e._ownerWritableStream,n=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");bt(e,n),function(e,t){"pending"===e._closedPromiseState?Ut(e,t):function(e,t){Nt(e,t)}(e,t)}(e,n),t._writer=void 0,e._ownerWritableStream=void 0}function Dt(e,t){const n=e._ownerWritableStream,r=n._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Rt(e,t),1}}(r,t);if(n!==e._ownerWritableStream)return h($t("write to"));const i=n._state;if("errored"===i)return h(n._storedError);if(mt(n)||"closed"===i)return h(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return h(n._storedError);const s=function(e){return u(((t,n)=>{const r={_resolve:t,_reject:n};e._writeRequests.push(r)}))}(n);return function(e,t,n){try{he(e,t,n)}catch(t){return void Rt(e,t)}const r=e._controlledWritableStream;mt(r)||"writable"!==r._state||vt(r,At(e)),xt(e)}(r,t,o),s}Object.defineProperties(yt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(yt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ct={};class Et{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Pt(this))throw Lt("abortReason");return this._abortReason}get signal(){if(!Pt(this))throw Lt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!Pt(this))throw Lt("error");"writable"===this._controlledWritableStream._state&&Ft(this,e)}[R](e){const t=this._abortAlgorithm(e);return kt(this),t}[A](){fe(this)}}function Pt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Et}function Tt(e,t,n,r,o,i,s,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=s,t._writeAlgorithm=r,t._closeAlgorithm=o,t._abortAlgorithm=i;const c=At(t);vt(e,c),p(d(n()),(()=>{t._started=!0,xt(t)}),(n=>{t._started=!0,ht(e,n)}))}function kt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function It(e){return e._strategyHWM-e._queueTotalSize}function xt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void pt(t);if(0===e._queue.length)return;const n=e._queue.peek().value;n===Ct?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),de(e);const n=e._closeAlgorithm();kt(e),p(n,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ht(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),ht(e,t)}(t,e)}))}(e):function(e,t){const n=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(n);p(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(n);const t=n._state;if(de(e),!mt(n)&&"writable"===t){const t=At(e);vt(n,t)}xt(e)}),(t=>{"writable"===n._state&&kt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,ht(e,t)}(n,t)}))}(e,n)}function Rt(e,t){"writable"===e._controlledWritableStream._state&&Ft(e,t)}function At(e){return It(e)<=0}function Ft(e,t){const n=e._controlledWritableStream;kt(e),ft(n,t)}function Ot(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Lt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Mt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function $t(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Bt(e){e._closedPromise=u(((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState="pending"}))}function Nt(e,t){Bt(e),Ut(e,t)}function Ut(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ht(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function jt(e){e._readyPromise=u(((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n})),e._readyPromiseState="pending"}function Wt(e,t){jt(e),qt(e,t)}function zt(e){jt(e),Vt(e)}function qt(e,t){void 0!==e._readyPromise_reject&&(y(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Vt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Et.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Et.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Gt="undefined"!=typeof DOMException?DOMException:void 0,Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Gt)?Gt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Jt(e,t,r,o,i,s){const a=V(e),c=st(t);e._disturbed=!0;let l=!1,v=d(void 0);return u(((w,S)=>{let b;if(void 0!==s){if(b=()=>{const n=new Kt("Aborted","AbortError"),r=[];o||r.push((()=>"writable"===t._state?ut(t,n):d(void 0))),i||r.push((()=>"readable"===e._state?bn(e,n):d(void 0))),k((()=>Promise.all(r.map((e=>e())))),!0,n)},s.aborted)return void b();s.addEventListener("abort",b)}var _,D,C;if(T(e,a._closedPromise,(e=>{o?I(!0,e):k((()=>ut(t,e)),!0,e)})),T(t,c._closedPromise,(t=>{i?I(!0,t):k((()=>bn(e,t)),!0,t)})),_=e,D=a._closedPromise,C=()=>{r?I():k((()=>function(e){const t=e._ownerWritableStream,n=t._state;return mt(t)||"closed"===n?d(void 0):"errored"===n?h(t._storedError):St(e)}(c)))},"closed"===_._state?C():m(D,C),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?I(!0,t):k((()=>bn(e,t)),!0,t)}function P(){const e=v;return f(v,(()=>e!==v?P():void 0))}function T(e,t,n){"errored"===e._state?n(e._storedError):g(t,n)}function k(e,n,r){function o(){p(e(),(()=>x(n,r)),(e=>x(!0,e)))}l||(l=!0,"writable"!==t._state||mt(t)?o():m(P(),o))}function I(e,n){l||(l=!0,"writable"!==t._state||mt(t)?x(e,n):m(P(),(()=>x(e,n))))}function x(e,t){_t(c),E(a),void 0!==s&&s.removeEventListener("abort",b),e?S(t):w(void 0)}y(u(((e,t)=>{!function r(o){o?e():f(l?d(!0):f(c._readyPromise,(()=>u(((e,t)=>{Q(a,{_chunkSteps:t=>{v=f(Dt(c,t),void 0,n),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class Xt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Zt(this))throw cn("desiredSize");return on(this)}close(){if(!Zt(this))throw cn("close");if(!sn(this))throw new TypeError("The stream is not in a state that permits close");tn(this)}enqueue(e=void 0){if(!Zt(this))throw cn("enqueue");if(!sn(this))throw new TypeError("The stream is not in a state that permits enqueue");return nn(this,e)}error(e=void 0){if(!Zt(this))throw cn("error");rn(this,e)}[F](e){fe(this);const t=this._cancelAlgorithm(e);return en(this),t}[O](e){const t=this._controlledReadableStream;if(this._queue.length>0){const n=de(this);this._closeRequested&&0===this._queue.length?(en(this),_n(t)):Yt(this),e._chunkSteps(n)}else G(t,e),Yt(this)}}function Zt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Xt}function Yt(e){Qt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Yt(e))}),(t=>{rn(e,t)}))))}function Qt(e){const t=e._controlledReadableStream;return!!sn(e)&&!!e._started&&(!!(Sn(t)&&J(t)>0)||on(e)>0)}function en(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tn(e){if(!sn(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(en(e),_n(t))}function nn(e,t){if(!sn(e))return;const n=e._controlledReadableStream;if(Sn(n)&&J(n)>0)K(n,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(t){throw rn(e,t),t}try{he(e,t,n)}catch(t){throw rn(e,t),t}}Yt(e)}function rn(e,t){const n=e._controlledReadableStream;"readable"===n._state&&(fe(e),en(e),Dn(n,t))}function on(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function sn(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function an(e,t,n,r,o,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=o,e._readableStreamController=t,p(d(n()),(()=>{t._started=!0,Yt(t)}),(e=>{rn(t,e)}))}function cn(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ln(e,t,n){return B(e,n),n=>b(e,t,[n])}function un(e,t,n){return B(e,n),n=>b(e,t,[n])}function dn(e,t,n){return B(e,n),n=>S(e,t,[n])}function hn(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function fn(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function pn(e,t){$(e,t);const n=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(n),preventCancel:Boolean(r),preventClose:Boolean(o),signal:i}}Object.defineProperties(Xt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Xt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class mn{constructor(e={},t={}){void 0===e?e=null:N(e,"First parameter");const n=Ze(t,"Second parameter"),r=function(e,t){$(e,t);const n=e,r=null==n?void 0:n.autoAllocateChunkSize,o=null==n?void 0:n.cancel,i=null==n?void 0:n.pull,s=null==n?void 0:n.start,a=null==n?void 0:n.type;return{autoAllocateChunkSize:void 0===r?void 0:z(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:ln(o,n,`${t} has member 'cancel' that`),pull:void 0===i?void 0:un(i,n,`${t} has member 'pull' that`),start:void 0===s?void 0:dn(s,n,`${t} has member 'start' that`),type:void 0===a?void 0:hn(a,`${t} has member 'type' that`)}}(e,"First parameter");if(yn(this),"bytes"===r.type){if(void 0!==n.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,n){const r=Object.create(me.prototype);let o=()=>{},i=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(r)),void 0!==t.pull&&(i=()=>t.pull(r)),void 0!==t.cancel&&(s=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Be(e,r,o,i,s,n,a)}(this,r,Je(n,0))}else{const e=Xe(n);!function(e,t,n,r){const o=Object.create(Xt.prototype);let i=()=>{},s=()=>d(void 0),a=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(s=()=>t.pull(o)),void 0!==t.cancel&&(a=e=>t.cancel(e)),an(e,o,i,s,a,n,r)}(this,r,Je(n,1),e)}}get locked(){if(!wn(this))throw Cn("locked");return Sn(this)}cancel(e=void 0){return wn(this)?Sn(this)?h(new TypeError("Cannot cancel a stream that already has a reader")):bn(this,e):h(Cn("cancel"))}getReader(e=void 0){if(!wn(this))throw Cn("getReader");return void 0===function(e,t){$(e,t);const n=null==e?void 0:e.mode;return{mode:void 0===n?void 0:fn(n,`${t} has member 'mode' that`)}}(e,"First parameter").mode?V(this):He(this)}pipeThrough(e,t={}){if(!wn(this))throw Cn("pipeThrough");U(e,1,"pipeThrough");const n=function(e,t){$(e,t);const n=null==e?void 0:e.readable;H(n,"readable","ReadableWritablePair"),q(n,`${t} has member 'readable' that`);const r=null==e?void 0:e.writable;return H(r,"writable","ReadableWritablePair"),rt(r,`${t} has member 'writable' that`),{readable:n,writable:r}}(e,"First parameter"),r=pn(t,"Second parameter");if(Sn(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lt(n.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(Jt(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),n.readable}pipeTo(e,t={}){if(!wn(this))return h(Cn("pipeTo"));if(void 0===e)return h("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return h(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let n;try{n=pn(t,"Second parameter")}catch(e){return h(e)}return Sn(this)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lt(e)?h(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Jt(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!wn(this))throw Cn("tee");return ae(ge((e=this)._readableStreamController)?function(e){let t,n,r,o,i,s=V(e),a=!1,c=!1,l=!1,h=!1,f=!1;const p=u((e=>{i=e}));function m(e){g(e._closedPromise,(t=>{e===s&&(Fe(r._readableStreamController,t),Fe(o._readableStreamController,t),h&&f||i(void 0))}))}function v(){Ve(s)&&(E(s),s=V(e),m(s)),Q(s,{_chunkSteps:t=>{w((()=>{c=!1,l=!1;const n=t;let s=t;if(!h&&!f)try{s=ue(t)}catch(t){return Fe(r._readableStreamController,t),Fe(o._readableStreamController,t),void i(bn(e,t))}h||Ae(r._readableStreamController,n),f||Ae(o._readableStreamController,s),a=!1,c?S():l&&b()}))},_closeSteps:()=>{a=!1,h||Re(r._readableStreamController),f||Re(o._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&Me(r._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Me(o._readableStreamController,0),h&&f||i(void 0)},_errorSteps:()=>{a=!1}})}function y(t,n){Y(s)&&(E(s),s=He(e),m(s));const u=n?o:r,d=n?r:o;Ge(s,t,{_chunkSteps:t=>{w((()=>{c=!1,l=!1;const r=n?f:h;if(n?h:f)r||$e(u._readableStreamController,t);else{let n;try{n=ue(t)}catch(t){return Fe(u._readableStreamController,t),Fe(d._readableStreamController,t),void i(bn(e,t))}r||$e(u._readableStreamController,t),Ae(d._readableStreamController,n)}a=!1,c?S():l&&b()}))},_closeSteps:e=>{a=!1;const t=n?f:h,r=n?h:f;t||Re(u._readableStreamController),r||Re(d._readableStreamController),void 0!==e&&(t||$e(u._readableStreamController,e),!r&&d._readableStreamController._pendingPullIntos.length>0&&Me(d._readableStreamController,0)),t&&r||i(void 0)},_errorSteps:()=>{a=!1}})}function S(){if(a)return c=!0,d(void 0);a=!0;const e=Oe(r._readableStreamController);return null===e?v():y(e._view,!1),d(void 0)}function b(){if(a)return l=!0,d(void 0);a=!0;const e=Oe(o._readableStreamController);return null===e?v():y(e._view,!0),d(void 0)}function _(){}return r=vn(_,S,(function(r){if(h=!0,t=r,f){const r=ae([t,n]),o=bn(e,r);i(o)}return p})),o=vn(_,b,(function(r){if(f=!0,n=r,h){const r=ae([t,n]),o=bn(e,r);i(o)}return p})),m(s),[r,o]}(e):function(e){const t=V(e);let n,r,o,i,s,a=!1,c=!1,l=!1,h=!1;const f=u((e=>{s=e}));function p(){return a?(c=!0,d(void 0)):(a=!0,Q(t,{_chunkSteps:e=>{w((()=>{c=!1;const t=e,n=e;l||nn(o._readableStreamController,t),h||nn(i._readableStreamController,n),a=!1,c&&p()}))},_closeSteps:()=>{a=!1,l||tn(o._readableStreamController),h||tn(i._readableStreamController),l&&h||s(void 0)},_errorSteps:()=>{a=!1}}),d(void 0))}function m(){}return o=gn(m,p,(function(t){if(l=!0,n=t,h){const t=ae([n,r]),o=bn(e,t);s(o)}return f})),i=gn(m,p,(function(t){if(h=!0,r=t,l){const t=ae([n,r]),o=bn(e,t);s(o)}return f})),g(t._closedPromise,(e=>{rn(o._readableStreamController,e),rn(i._readableStreamController,e),l&&h||s(void 0)})),[o,i]}(e));var e}values(e=void 0){if(!wn(this))throw Cn("values");return function(e,t){const n=V(e),r=new ne(n,t),o=Object.create(re);return o._asyncIteratorImpl=r,o}(this,function(e){$(e,"First parameter");const t=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(t)}}(e).preventCancel)}}function gn(e,t,n,r=1,o=()=>1){const i=Object.create(mn.prototype);return yn(i),an(i,Object.create(Xt.prototype),e,t,n,r,o),i}function vn(e,t,n){const r=Object.create(mn.prototype);return yn(r),Be(r,Object.create(me.prototype),e,t,n,0,void 0),r}function yn(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function wn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof mn}function Sn(e){return void 0!==e._reader}function bn(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return h(e._storedError);_n(e);const r=e._reader;return void 0!==r&&Ve(r)&&(r._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),r._readIntoRequests=new _),v(e._readableStreamController[F](t),n)}function _n(e){e._state="closed";const t=e._reader;void 0!==t&&(x(t),Y(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new _))}function Dn(e,t){e._state="errored",e._storedError=t;const n=e._reader;void 0!==n&&(I(n,t),Y(n)?(n._readRequests.forEach((e=>{e._errorSteps(t)})),n._readRequests=new _):(n._readIntoRequests.forEach((e=>{e._errorSteps(t)})),n._readIntoRequests=new _))}function Cn(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function En(e,t){$(e,t);const n=null==e?void 0:e.highWaterMark;return H(n,"highWaterMark","QueuingStrategyInit"),{highWaterMark:j(n)}}Object.defineProperties(mn.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(mn.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(mn.prototype,t.asyncIterator,{value:mn.prototype.values,writable:!0,configurable:!0});const Pn=e=>e.byteLength;try{Object.defineProperty(Pn,"name",{value:"size",configurable:!0})}catch(e){}class Tn{constructor(e){U(e,1,"ByteLengthQueuingStrategy"),e=En(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!In(this))throw kn("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!In(this))throw kn("size");return Pn}}function kn(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function In(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Tn}Object.defineProperties(Tn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Tn.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const xn=()=>1;try{Object.defineProperty(xn,"name",{value:"size",configurable:!0})}catch(e){}class Rn{constructor(e){U(e,1,"CountQueuingStrategy"),e=En(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Fn(this))throw An("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Fn(this))throw An("size");return xn}}function An(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Fn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Rn}function On(e,t,n){return B(e,n),n=>b(e,t,[n])}function Ln(e,t,n){return B(e,n),n=>S(e,t,[n])}function Mn(e,t,n){return B(e,n),(n,r)=>b(e,t,[n,r])}Object.defineProperties(Rn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Rn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class $n{constructor(e={},t={},n={}){void 0===e&&(e=null);const r=Ze(t,"Second parameter"),o=Ze(n,"Third parameter"),i=function(e,t){$(e,t);const n=null==e?void 0:e.flush,r=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===n?void 0:On(n,e,`${t} has member 'flush' that`),readableType:r,start:void 0===o?void 0:Ln(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Mn(i,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=Je(o,0),a=Xe(o),c=Je(r,1),l=Xe(r);let f;!function(e,t,n,r,o,i){function s(){return t}e._writable=function(e,t,n,r,o=1,i=()=>1){const s=Object.create(it.prototype);return at(s),Tt(s,Object.create(Et.prototype),e,t,n,r,o,i),s}(s,(function(t){return function(e,t){const n=e._transformStreamController;return e._backpressure?v(e._backpressureChangePromise,(()=>{const r=e._writable;if("erroring"===r._state)throw r._storedError;return Vn(n,t)})):Vn(n,t)}(e,t)}),(function(){return function(e){const t=e._readable,n=e._transformStreamController,r=n._flushAlgorithm();return zn(n),v(r,(()=>{if("errored"===t._state)throw t._storedError;tn(t._readableStreamController)}),(n=>{throw Nn(e,n),t._storedError}))}(e)}),(function(t){return function(e,t){return Nn(e,t),d(void 0)}(e,t)}),n,r),e._readable=gn(s,(function(){return function(e){return Hn(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Un(e,t),d(void 0)}),o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Hn(e,!0),e._transformStreamController=void 0}(this,u((e=>{f=e})),c,l,s,a),function(e,t){const n=Object.create(jn.prototype);let r=e=>{try{return qn(n,e),d(void 0)}catch(e){return h(e)}},o=()=>d(void 0);void 0!==t.transform&&(r=e=>t.transform(e,n)),void 0!==t.flush&&(o=()=>t.flush(n)),function(e,t,n,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r}(e,n,r,o)}(this,i),void 0!==i.start?f(i.start(this._transformStreamController)):f(void 0)}get readable(){if(!Bn(this))throw Kn("readable");return this._readable}get writable(){if(!Bn(this))throw Kn("writable");return this._writable}}function Bn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof $n}function Nn(e,t){rn(e._readable._readableStreamController,t),Un(e,t)}function Un(e,t){zn(e._transformStreamController),Rt(e._writable._writableStreamController,t),e._backpressure&&Hn(e,!1)}function Hn(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties($n.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty($n.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class jn{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Wn(this))throw Gn("desiredSize");return on(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!Wn(this))throw Gn("enqueue");qn(this,e)}error(e=void 0){if(!Wn(this))throw Gn("error");var t;t=e,Nn(this._controlledTransformStream,t)}terminate(){if(!Wn(this))throw Gn("terminate");!function(e){const t=e._controlledTransformStream;tn(t._readable._readableStreamController);Un(t,new TypeError("TransformStream terminated"))}(this)}}function Wn(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof jn}function zn(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function qn(e,t){const n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!sn(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{nn(r,t)}catch(e){throw Un(n,e),n._readable._storedError}const o=function(e){return!Qt(e)}(r);o!==n._backpressure&&Hn(n,!0)}function Vn(e,t){return v(e._transformAlgorithm(t),void 0,(t=>{throw Nn(e._controlledTransformStream,t),t}))}function Gn(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Kn(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(jn.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(jn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Tn,e.CountQueuingStrategy=Rn,e.ReadableByteStreamController=me,e.ReadableStream=mn,e.ReadableStreamBYOBReader=qe,e.ReadableStreamBYOBRequest=pe,e.ReadableStreamDefaultController=Xt,e.ReadableStreamDefaultReader=Z,e.TransformStream=$n,e.TransformStreamDefaultController=jn,e.WritableStream=it,e.WritableStreamDefaultController=Et,e.WritableStreamDefaultWriter=yt,Object.defineProperty(e,"__esModule",{value:!0})},n(t)},4403:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4403,e.exports=t},1398:e=>{"use strict";e.exports=require("vscode")},2613:e=>{"use strict";e.exports=require("assert")},181:e=>{"use strict";e.exports=require("buffer")},5317:e=>{"use strict";e.exports=require("child_process")},9140:e=>{"use strict";e.exports=require("constants")},6982:e=>{"use strict";e.exports=require("crypto")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},1943:e=>{"use strict";e.exports=require("fs/promises")},8611:e=>{"use strict";e.exports=require("http")},5692:e=>{"use strict";e.exports=require("https")},9278:e=>{"use strict";e.exports=require("net")},1708:e=>{"use strict";e.exports=require("node:process")},7830:e=>{"use strict";e.exports=require("node:stream/web")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},4756:e=>{"use strict";e.exports=require("tls")},2018:e=>{"use strict";e.exports=require("tty")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},8167:e=>{"use strict";e.exports=require("worker_threads")},3106:e=>{"use strict";e.exports=require("zlib")},3328:(e,t,n)=>{if(!globalThis.ReadableStream)try{const e=n(1708),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,n(7830)),e.emitWarning=t}catch(n){throw e.emitWarning=t,n}}catch(e){Object.assign(globalThis,n(5010))}try{const{Blob:e}=n(181);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const n=this;return new ReadableStream({type:"bytes",async pull(e){const r=n.slice(t,Math.min(n.size,t+65536)),o=await r.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===n.size&&e.close()}})})}catch(e){}},3876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Glob=void 0;const r=n(2608),o=n(9432),i=n(7016),s=n(4478),a=n(3984),c="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class l{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,i.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth="number"==typeof t.maxDepth?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof e&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(e=e.map((e=>e.replace(/\\/g,"/")))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map((e=>e.includes("/")?e:`./**/${e}`))}if(this.pattern=e,this.platform=t.platform||c,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,void 0!==t.nocase&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const e="win32"===t.platform?o.PathScurryWin32:"darwin"===t.platform?o.PathScurryDarwin:t.platform?o.PathScurryPosix:o.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const n="darwin"===this.platform||"win32"===this.platform,a={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},l=this.pattern.map((e=>new r.Minimatch(e,a))),[u,d]=l.reduce(((e,t)=>(e[0].push(...t.set),e[1].push(...t.globParts),e)),[[],[]]);this.patterns=u.map(((e,t)=>{const n=d[t];if(!n)throw new Error("invalid pattern object");return new s.Pattern(e,n,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}t.Glob=l},3046:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasMagic=void 0;const r=n(2608);t.hasMagic=(e,t={})=>{Array.isArray(e)||(e=[e]);for(const n of e)if(new r.Minimatch(n,t).hasMagic())return!0;return!1}},7972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ignore=void 0;const r=n(2608),o=n(4478),i="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";t.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;constructor(e,{nobrace:t,nocase:n,noext:s,noglobstar:a,platform:c=i}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const l={dot:!0,nobrace:t,nocase:n,noext:s,noglobstar:a,optimizationLevel:2,platform:c,nocomment:!0,nonegate:!0};for(const t of e){const e=new r.Minimatch(t,l);for(let t=0;t<e.set.length;t++){const n=e.set[t],i=e.globParts[t];if(!n||!i)throw new Error("invalid pattern object");const s=new o.Pattern(n,i,0,c),a=new r.Minimatch(s.globString(),l),u="**"===i[i.length-1],d=s.isAbsolute();d?this.absolute.push(a):this.relative.push(a),u&&(d?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(e){const t=e.fullpath(),n=`${t}/`,r=e.relative()||".",o=`${r}/`;for(const e of this.relative)if(e.match(r)||e.match(o))return!0;for(const e of this.absolute)if(e.match(t)||e.match(n))return!0;return!1}childrenIgnored(e){const t=e.fullpath()+"/",n=(e.relative()||".")+"/";for(const e of this.relativeChildren)if(e.match(n))return!0;for(const e of this.absoluteChildren)if(e.match(t))return!0;return!1}}},1756:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.hasMagic=t.Glob=t.unescape=t.escape=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=void 0;const r=n(2608),o=n(3876),i=n(3046);function s(e,t={}){return new o.Glob(e,t).streamSync()}function a(e,t={}){return new o.Glob(e,t).stream()}function c(e,t={}){return new o.Glob(e,t).walkSync()}async function l(e,t={}){return new o.Glob(e,t).walk()}function u(e,t={}){return new o.Glob(e,t).iterateSync()}function d(e,t={}){return new o.Glob(e,t).iterate()}t.globStreamSync=s,t.globStream=a,t.globSync=c,t.globIterateSync=u,t.globIterate=d,t.streamSync=s,t.stream=Object.assign(a,{sync:s}),t.iterateSync=u,t.iterate=Object.assign(d,{sync:u}),t.sync=Object.assign(c,{stream:s,iterate:u});var h=n(2608);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return h.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return h.unescape}});var f=n(3876);Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return f.Glob}});var p=n(3046);Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return p.hasMagic}}),t.glob=Object.assign(l,{glob:l,globSync:c,sync:t.sync,globStream:a,stream:t.stream,globStreamSync:s,streamSync:t.streamSync,globIterate:d,iterate:t.iterate,globIterateSync:u,iterateSync:t.iterateSync,Glob:o.Glob,hasMagic:i.hasMagic,escape:r.escape,unescape:r.unescape}),t.glob.glob=t.glob},4478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pattern=void 0;const r=n(2608);class o{#e;#t;#n;length;#r;#o;#i;#s;#a;#c;#l=!0;constructor(e,t,n,r){if(!(e.length>=1))throw new TypeError("empty pattern list");if(!(t.length>=1))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=t,this.#n=n,this.#r=r,0===this.#n)if(this.isUNC()){const[e,t,n,r,...o]=this.#e,[i,s,a,c,...l]=this.#t;""===o[0]&&(o.shift(),l.shift());const u=[e,t,n,r,""].join("/"),d=[i,s,a,c,""].join("/");this.#e=[u,...o],this.#t=[d,...l],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#e,[n,...r]=this.#t;""===t[0]&&(t.shift(),r.shift());const o=e+"/",i=n+"/";this.#e=[o,...t],this.#t=[i,...r],this.length=this.#e.length}}pattern(){return this.#e[this.#n]}isString(){return"string"==typeof this.#e[this.#n]}isGlobstar(){return this.#e[this.#n]===r.GLOBSTAR}isRegExp(){return this.#e[this.#n]instanceof RegExp}globString(){return this.#i=this.#i||(0===this.#n?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return void 0!==this.#o?this.#o:this.hasMore()?(this.#o=new o(this.#e,this.#t,this.#n+1,this.#r),this.#o.#c=this.#c,this.#o.#a=this.#a,this.#o.#s=this.#s,this.#o):this.#o=null}isUNC(){const e=this.#e;return void 0!==this.#a?this.#a:this.#a="win32"===this.#r&&0===this.#n&&""===e[0]&&""===e[1]&&"string"==typeof e[2]&&!!e[2]&&"string"==typeof e[3]&&!!e[3]}isDrive(){const e=this.#e;return void 0!==this.#s?this.#s:this.#s="win32"===this.#r&&0===this.#n&&this.length>1&&"string"==typeof e[0]&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return void 0!==this.#c?this.#c:this.#c=""===e[0]&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return"string"==typeof e&&this.isAbsolute()&&0===this.#n?e:""}checkFollowGlobstar(){return!(0===this.#n||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return!(0===this.#n||!this.isGlobstar()||!this.#l||(this.#l=!1,0))}}t.Pattern=o},800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=t.SubWalks=t.MatchRecord=t.HasWalkedCache=void 0;const r=n(2608);class o{store;constructor(e=new Map){this.store=e}copy(){return new o(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const n=e.fullpath(),r=this.store.get(n);r?r.add(t.globString()):this.store.set(n,new Set([t.globString()]))}}t.HasWalkedCache=o;class i{store=new Map;add(e,t,n){const r=(t?2:0)|(n?1:0),o=this.store.get(e);this.store.set(e,void 0===o?r:r&o)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(2&t),!!(1&t)]))}}t.MatchRecord=i;class s{store=new Map;add(e,t){if(!e.canReaddir())return;const n=this.store.get(e);n?n.find((e=>e.globString()===t.globString()))||n.push(t):this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}t.SubWalks=s;class a{hasWalkedCache;matches=new i;subwalks=new s;patterns;follow;dot;opts;constructor(e,t){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new o}processPatterns(e,t){this.patterns=t;const n=t.map((t=>[e,t]));for(let[e,t]of n){this.hasWalkedCache.storeWalked(e,t);const n=t.root(),o=t.isAbsolute()&&!1!==this.opts.absolute;if(n){e=e.resolve("/"===n&&void 0!==this.opts.root?this.opts.root:n);const r=t.rest();if(!r){this.matches.add(e,!0,!1);continue}t=r}if(e.isENOENT())continue;let i,s,a=!1;for(;"string"==typeof(i=t.pattern())&&(s=t.rest());){const n=e.resolve(i);e=n,t=s,a=!0}if(i=t.pattern(),s=t.rest(),a){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if("string"!=typeof i)if(i===r.GLOBSTAR){(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar())&&this.subwalks.add(e,t);const n=s?.pattern(),r=s?.rest();if(s&&(""!==n&&"."!==n||r)){if(".."===n){const t=e.parent||e;r?this.hasWalkedCache.hasWalked(t,r)||this.subwalks.add(t,r):this.matches.add(t,o,!0)}}else this.matches.add(e,o,""===n||"."===n)}else i instanceof RegExp&&this.subwalks.add(e,t);else{const t=".."===i||""===i||"."===i;this.matches.add(e.resolve(i),o,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(e,t){const n=this.subwalks.get(e),o=this.child();for(const e of t)for(const t of n){const n=t.isAbsolute(),i=t.pattern(),s=t.rest();i===r.GLOBSTAR?o.testGlobstar(e,t,s,n):i instanceof RegExp?o.testRegExp(e,i,s,n):o.testString(e,i,s,n)}return o}testGlobstar(e,t,n,r){if(!this.dot&&e.name.startsWith(".")||(t.hasMore()||this.matches.add(e,r,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(n&&t.checkFollowGlobstar()?this.subwalks.add(e,n):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),n){const t=n.pattern();if("string"==typeof t&&".."!==t&&""!==t&&"."!==t)this.testString(e,t,n.rest(),r);else if(".."===t){const t=e.parent||e;this.subwalks.add(t,n)}else t instanceof RegExp&&this.testRegExp(e,t,n.rest(),r)}}testRegExp(e,t,n,r){t.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,r,!1))}testString(e,t,n,r){e.isNamed(t)&&(n?this.subwalks.add(e,n):this.matches.add(e,r,!1))}}t.Processor=a},3984:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobStream=t.GlobWalker=t.GlobUtil=void 0;const r=n(5420),o=n(7972),i=n(800);class s{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#u=[];#d;#h;signal;maxDepth;constructor(e,t,n){this.patterns=e,this.path=t,this.opts=n,this.#h=n.posix||"win32"!==n.platform?"/":"\\",n.ignore&&(this.#d=((e,t)=>"string"==typeof e?new o.Ignore([e],t):Array.isArray(e)?new o.Ignore(e,t):e)(n.ignore,n)),this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",(()=>{this.#u.length=0})))}#f(e){return this.seen.has(e)||!!this.#d?.ignored?.(e)}#p(e){return!!this.#d?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let e;for(this.paused=!1;!this.paused&&(e=this.#u.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#u.push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}const r=e.isUnknown()||this.opts.stat;return this.matchCheckTest(r?await e.lstat():e,t)}matchCheckTest(e,t){return!e||!(this.maxDepth===1/0||e.depth()<=this.maxDepth)||t&&!e.canReaddir()||this.opts.nodir&&e.isDirectory()||this.#f(e)?void 0:e}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}const r=e.isUnknown()||this.opts.stat;return this.matchCheckTest(r?e.lstatSync():e,t)}matchFinish(e,t){if(this.#f(e))return;const n=void 0===this.opts.absolute?t:this.opts.absolute;this.seen.add(e);const r=this.opts.mark&&e.isDirectory()?this.#h:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+r)}else{const t=this.opts.posix?e.relativePosix():e.relative(),n=this.opts.dotRelative&&!t.startsWith(".."+this.#h)?"."+this.#h:"";this.matchEmit(t?n+t+r:"."+r)}}async match(e,t,n){const r=await this.matchCheck(e,n);r&&this.matchFinish(r,t)}matchSync(e,t,n){const r=this.matchCheckSync(e,n);r&&this.matchFinish(r,t)}walkCB(e,t,n){this.signal?.aborted&&n(),this.walkCB2(e,t,new i.Processor(this.opts),n)}walkCB2(e,t,n,r){if(this.#p(e))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2(e,t,n,r)));n.processPatterns(e,t);let o=1;const i=()=>{0==--o&&r()};for(const[e,t,r]of n.matches.entries())this.#f(e)||(o++,this.match(e,t,r).then((()=>i())));for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;o++;const t=e.readdirCached();e.calledReaddir()?this.walkCB3(e,t,n,i):e.readdirCB(((t,r)=>this.walkCB3(e,r,n,i)),!0)}i()}walkCB3(e,t,n,r){n=n.filterEntries(e,t);let o=1;const i=()=>{0==--o&&r()};for(const[e,t,r]of n.matches.entries())this.#f(e)||(o++,this.match(e,t,r).then((()=>i())));for(const[e,t]of n.subwalks.entries())o++,this.walkCB2(e,t,n.child(),i);i()}walkCBSync(e,t,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,t,new i.Processor(this.opts),n)}walkCB2Sync(e,t,n,r){if(this.#p(e))return r();if(this.signal?.aborted&&r(),this.paused)return void this.onResume((()=>this.walkCB2Sync(e,t,n,r)));n.processPatterns(e,t);let o=1;const i=()=>{0==--o&&r()};for(const[e,t,r]of n.matches.entries())this.#f(e)||this.matchSync(e,t,r);for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;o++;const t=e.readdirSync();this.walkCB3Sync(e,t,n,i)}i()}walkCB3Sync(e,t,n,r){n=n.filterEntries(e,t);let o=1;const i=()=>{0==--o&&r()};for(const[e,t,r]of n.matches.entries())this.#f(e)||this.matchSync(e,t,r);for(const[e,t]of n.subwalks.entries())o++,this.walkCB2Sync(e,t,n.child(),i);i()}}t.GlobUtil=s,t.GlobWalker=class extends s{matches;constructor(e,t,n){super(e,t,n),this.matches=new Set}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?t(this.signal.reason):e(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},t.GlobStream=class extends s{results;constructor(e,t,n){super(e,t,n),this.results=new r.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){const e=this.path;return e.isUnknown()?e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))})):this.walkCB(e,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}},7184:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidPattern=void 0,t.assertValidPattern=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")}},2032:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AST=void 0;const r=n(2585),o=n(1118),i=new Set(["!","?","+","*","@"]),s=e=>i.has(e),a="(?!\\.)",c=new Set(["[","."]),l=new Set(["..","."]),u=new Set("().*{}+?[]^$\\!"),d="[^/]",h=d+"*?",f=d+"+?";class p{type;#m;#g;#v=!1;#y=[];#w;#S;#b;#_=!1;#D;#C;#E=!1;constructor(e,t,n={}){this.type=e,e&&(this.#g=!0),this.#w=t,this.#m=this.#w?this.#w.#m:this,this.#D=this.#m===this?n:this.#m.#D,this.#b=this.#m===this?[]:this.#m.#b,"!"!==e||this.#m.#_||this.#b.push(this),this.#S=this.#w?this.#w.#y.length:0}get hasMagic(){if(void 0!==this.#g)return this.#g;for(const e of this.#y)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#g=!0;return this.#g}toString(){return void 0!==this.#C?this.#C:this.type?this.#C=this.type+"("+this.#y.map((e=>String(e))).join("|")+")":this.#C=this.#y.map((e=>String(e))).join("")}#P(){if(this!==this.#m)throw new Error("should only call on root");if(this.#_)return this;let e;for(this.toString(),this.#_=!0;e=this.#b.pop();){if("!"!==e.type)continue;let t=e,n=t.#w;for(;n;){for(let r=t.#S+1;!n.type&&r<n.#y.length;r++)for(const t of e.#y){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#y[r])}t=n,n=t.#w}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof p&&t.#w===this))throw new Error("invalid part: "+t);this.#y.push(t)}}toJSON(){const e=null===this.type?this.#y.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#y.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#m||this.#m.#_&&"!"===this.#w?.type)&&e.push({}),e}isStart(){if(this.#m===this)return!0;if(!this.#w?.isStart())return!1;if(0===this.#S)return!0;const e=this.#w;for(let t=0;t<this.#S;t++){const n=e.#y[t];if(!(n instanceof p&&"!"===n.type))return!1}return!0}isEnd(){if(this.#m===this)return!0;if("!"===this.#w?.type)return!0;if(!this.#w?.isEnd())return!1;if(!this.type)return this.#w?.isEnd();const e=this.#w?this.#w.#y.length:0;return this.#S===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new p(this.type,e);for(const e of this.#y)t.copyIn(e);return t}static#T(e,t,n,r){let o=!1,i=!1,a=-1,c=!1;if(null===t.type){let l=n,u="";for(;l<e.length;){const n=e.charAt(l++);if(o||"\\"===n)o=!o,u+=n;else if(i)l===a+1?"^"!==n&&"!"!==n||(c=!0):"]"!==n||l===a+2&&c||(i=!1),u+=n;else if("["!==n)if(r.noext||!s(n)||"("!==e.charAt(l))u+=n;else{t.push(u),u="";const o=new p(n,t);l=p.#T(e,o,l,r),t.push(o)}else i=!0,a=l,c=!1,u+=n}return t.push(u),l}let l=n+1,u=new p(null,t);const d=[];let h="";for(;l<e.length;){const n=e.charAt(l++);if(o||"\\"===n)o=!o,h+=n;else if(i)l===a+1?"^"!==n&&"!"!==n||(c=!0):"]"!==n||l===a+2&&c||(i=!1),h+=n;else if("["!==n)if(s(n)&&"("===e.charAt(l)){u.push(h),h="";const t=new p(n,u);u.push(t),l=p.#T(e,t,l,r)}else if("|"!==n){if(")"===n)return""===h&&0===t.#y.length&&(t.#E=!0),u.push(h),h="",t.push(...d,u),l;h+=n}else u.push(h),h="",d.push(u),u=new p(null,t);else i=!0,a=l,c=!1,h+=n}return t.type=null,t.#g=void 0,t.#y=[e.substring(n-1)],l}static fromGlob(e,t={}){const n=new p(null,void 0,t);return p.#T(e,n,0,t),n}toMMPattern(){if(this!==this.#m)return this.#m.toMMPattern();const e=this.toString(),[t,n,r,o]=this.toRegExpSource();if(!(r||this.#g||this.#D.nocase&&!this.#D.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const i=(this.#D.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,i),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#D.dot;if(this.#m===this&&this.#P(),!this.type){const n=this.isStart()&&this.isEnd(),r=this.#y.map((t=>{const[r,o,i,s]="string"==typeof t?p.#k(t,this.#g,n):t.toRegExpSource(e);return this.#g=this.#g||i,this.#v=this.#v||s,r})).join("");let i="";if(this.isStart()&&"string"==typeof this.#y[0]&&(1!==this.#y.length||!l.has(this.#y[0]))){const n=c,o=t&&n.has(r.charAt(0))||r.startsWith("\\.")&&n.has(r.charAt(2))||r.startsWith("\\.\\.")&&n.has(r.charAt(4)),s=!t&&!e&&n.has(r.charAt(0));i=o?"(?!(?:^|/)\\.\\.?(?:$|/))":s?a:""}let s="";return this.isEnd()&&this.#m.#_&&"!"===this.#w?.type&&(s="(?:$|\\/)"),[i+r+s,(0,o.unescape)(r),this.#g=!!this.#g,this.#v]}const n="*"===this.type||"+"===this.type,r="!"===this.type?"(?:(?!(?:":"(?:";let i=this.#I(t);if(this.isStart()&&this.isEnd()&&!i&&"!"!==this.type){const e=this.toString();return this.#y=[e],this.type=null,this.#g=void 0,[e,(0,o.unescape)(this.toString()),!1,!1]}let s=!n||e||t?"":this.#I(!0);s===i&&(s=""),s&&(i=`(?:${i})(?:${s})*?`);let u="";return u="!"===this.type&&this.#E?(this.isStart()&&!t?a:"")+f:r+i+("!"===this.type?"))"+(!this.isStart()||t||e?"":a)+h+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),[u,(0,o.unescape)(i),this.#g=!!this.#g,this.#v]}#I(e){return this.#y.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,r,o,i]=t.toRegExpSource(e);return this.#v=this.#v||i,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#k(e,t,n=!1){let i=!1,s="",a=!1;for(let o=0;o<e.length;o++){const c=e.charAt(o);if(i)i=!1,s+=(u.has(c)?"\\":"")+c;else if("\\"!==c){if("["===c){const[n,i,c,l]=(0,r.parseClass)(e,o);if(c){s+=n,a=a||i,o+=c-1,t=t||l;continue}}"*"!==c?"?"!==c?s+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(s+=d,t=!0):(s+=n&&"*"===e?f:h,t=!0)}else o===e.length-1?s+="\\\\":i=!0}return[s,(0,o.unescape)(e),!!t,a]}}t.AST=p},2585:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClass=void 0;const n={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},r=e=>e.replace(/[[\]\\-]/g,"\\$&"),o=e=>e.join("");t.parseClass=(e,t)=>{const i=t;if("["!==e.charAt(i))throw new Error("not in a brace expression");const s=[],a=[];let c=i+1,l=!1,u=!1,d=!1,h=!1,f=i,p="";e:for(;c<e.length;){const t=e.charAt(c);if("!"!==t&&"^"!==t||c!==i+1){if("]"===t&&l&&!d){f=c+1;break}if(l=!0,"\\"!==t||d){if("["===t&&!d)for(const[t,[r,o,l]]of Object.entries(n))if(e.startsWith(t,c)){if(p)return["$.",!1,e.length-i,!0];c+=t.length,l?a.push(r):s.push(r),u=u||o;continue e}d=!1,p?(t>p?s.push(r(p)+"-"+r(t)):t===p&&s.push(r(t)),p="",c++):e.startsWith("-]",c+1)?(s.push(r(t+"-")),c+=2):e.startsWith("-",c+1)?(p=t,c+=2):(s.push(r(t)),c++)}else d=!0,c++}else h=!0,c++}if(f<c)return["",!1,0,!1];if(!s.length&&!a.length)return["$.",!1,e.length-i,!0];if(0===a.length&&1===s.length&&/^\\?.$/.test(s[0])&&!h){return[(m=2===s[0].length?s[0].slice(-1):s[0],m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,f-i,!1]}var m;const g="["+(h?"^":"")+o(s)+"]",v="["+(h?"":"^")+o(a)+"]";return[s.length&&a.length?"("+g+"|"+v+")":s.length?g:v,u,f-i,!0]}},8641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escape=void 0,t.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},2608:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const o=r(n(8928)),i=n(7184),s=n(2032),a=n(8641),c=n(1118);t.minimatch=(e,t,n={})=>((0,i.assertValidPattern)(t),!(!n.nocomment&&"#"===t.charAt(0))&&new A(t,n).match(e));const l=/^\*+([^+@!?\*\[\(]*)$/,u=e=>t=>!t.startsWith(".")&&t.endsWith(e),d=e=>t=>t.endsWith(e),h=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),f=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),p=/^\*+\.\*+$/,m=e=>!e.startsWith(".")&&e.includes("."),g=e=>"."!==e&&".."!==e&&e.includes("."),v=/^\.\*+$/,y=e=>"."!==e&&".."!==e&&e.startsWith("."),w=/^\*+$/,S=e=>0!==e.length&&!e.startsWith("."),b=e=>0!==e.length&&"."!==e&&".."!==e,_=/^\?+([^+@!?\*\[\(]*)?$/,D=([e,t=""])=>{const n=T([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},C=([e,t=""])=>{const n=k([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},E=([e,t=""])=>{const n=k([e]);return t?e=>n(e)&&e.endsWith(t):n},P=([e,t=""])=>{const n=T([e]);return t?e=>n(e)&&e.endsWith(t):n},T=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},k=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},I="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";t.sep="win32"===I?"\\":"/",t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR,t.filter=(e,n={})=>r=>(0,t.minimatch)(r,e,n),t.minimatch.filter=t.filter;const x=(e,t={})=>Object.assign({},e,t);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const n=t.minimatch;return Object.assign(((t,r,o={})=>n(t,r,x(e,o))),{Minimatch:class extends n.Minimatch{constructor(t,n={}){super(t,x(e,n))}static defaults(t){return n.defaults(x(e,t)).Minimatch}},AST:class extends n.AST{constructor(t,n,r={}){super(t,n,x(e,r))}static fromGlob(t,r={}){return n.AST.fromGlob(t,x(e,r))}},unescape:(t,r={})=>n.unescape(t,x(e,r)),escape:(t,r={})=>n.escape(t,x(e,r)),filter:(t,r={})=>n.filter(t,x(e,r)),defaults:t=>n.defaults(x(e,t)),makeRe:(t,r={})=>n.makeRe(t,x(e,r)),braceExpand:(t,r={})=>n.braceExpand(t,x(e,r)),match:(t,r,o={})=>n.match(t,r,x(e,o)),sep:n.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults,t.braceExpand=(e,t={})=>((0,i.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,o.default)(e)),t.minimatch.braceExpand=t.braceExpand,t.makeRe=(e,t={})=>new A(e,t).makeRe(),t.minimatch.makeRe=t.makeRe,t.match=(e,t,n={})=>{const r=new A(t,n);return e=e.filter((e=>r.match(e))),r.options.nonull&&!e.length&&e.push(t),e},t.minimatch.match=t.match;const R=/[?*]|[+@!]\(.*?\)|\[|\]/;class A{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,i.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||I,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let r=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&R.test(e[2])||R.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,r),this.set=r.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const r=e[n];1===n&&""===r&&""===e[0]||"."!==r&&""!==r||(t=!0,e.splice(n,1),n--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const r=e[n-1];r&&"."!==r&&".."!==r&&"**"!==r&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let r=-1;for(;-1!==(r=n.indexOf("**",r+1));){let o=r;for(;"**"===n[o+1];)o++;o>r&&n.splice(r+1,o-r);let i=n[r+1];const s=n[r+2],a=n[r+3];if(".."!==i)continue;if(!s||"."===s||".."===s||!a||"."===a||".."===a)continue;t=!0,n.splice(r,1);const c=n.slice(0);c[r]="**",e.push(c),r--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const r=n[e];1===e&&""===r&&""===n[0]||"."!==r&&""!==r||(t=!0,n.splice(e,1),e--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let o=0;for(;-1!==(o=n.indexOf("..",o+1));){const e=n[o-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===o&&"**"===n[o+1]?["."]:[];n.splice(o-1,2,...e),0===n.length&&n.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const r=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);r&&(e[t]=r,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let r=0,o=0,i=[],s="";for(;r<e.length&&o<t.length;)if(e[r]===t[o])i.push("b"===s?t[o]:e[r]),r++,o++;else if(n&&"**"===e[r]&&t[o]===e[r+1])i.push(e[r]),r++;else if(n&&"**"===t[o]&&e[r]===t[o+1])i.push(t[o]),o++;else if("*"!==e[r]||!t[o]||!this.options.dot&&t[o].startsWith(".")||"**"===t[o]){if("*"!==t[o]||!e[r]||!this.options.dot&&e[r].startsWith(".")||"**"===e[r])return!1;if("a"===s)return!1;s="b",i.push(t[o]),r++,o++}else{if("b"===s)return!1;s="a",i.push(e[r]),r++,o++}return e.length===t.length&&i}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let r=0;r<e.length&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,n,r=!1){const o=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),r=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),o="string"==typeof n[0]&&/^[a-z]:$/i.test(n[0]),i=r?3:t?0:void 0,s=!o&&""===n[0]&&""===n[1]&&"?"===n[2]&&"string"==typeof n[3]&&/^[a-z]:$/i.test(n[3])?3:o?0:void 0;if("number"==typeof i&&"number"==typeof s){const[t,r]=[e[i],n[s]];t.toLowerCase()===r.toLowerCase()&&(n[s]=t,s>i?n=n.slice(s):i>s&&(e=e.slice(i)))}}const{optimizationLevel:i=1}=this.options;i>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var s=0,a=0,c=e.length,l=n.length;s<c&&a<l;s++,a++){this.debug("matchOne loop");var u=n[a],d=e[s];if(this.debug(n,u,d),!1===u)return!1;if(u===t.GLOBSTAR){this.debug("GLOBSTAR",[n,u,d]);var h=s,f=a+1;if(f===l){for(this.debug("** at the end");s<c;s++)if("."===e[s]||".."===e[s]||!o.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<c;){var p=e[h];if(this.debug("\nglobstar while",e,h,n,f,p),this.matchOne(e.slice(h),n.slice(f),r))return this.debug("globstar found match!",h,c,p),!0;if("."===p||".."===p||!o.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,h,n,f);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!r||(this.debug("\n>>> no match, partial?",e,h,n,f),h!==c))}let i;if("string"==typeof u?(i=d===u,this.debug("string match",u,d,i)):(i=u.test(d),this.debug("pattern match",u,d,i)),!i)return!1}if(s===c&&a===l)return!0;if(s===c)return r;if(a===l)return s===c-1&&""===e[s];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,i.assertValidPattern)(e);const n=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let r,o=null;(r=e.match(w))?o=n.dot?b:S:(r=e.match(l))?o=(n.nocase?n.dot?f:h:n.dot?d:u)(r[1]):(r=e.match(_))?o=(n.nocase?n.dot?C:D:n.dot?E:P)(r):(r=e.match(p))?o=n.dot?g:m:(r=e.match(v))&&(o=y);const a=s.AST.fromGlob(e,this.options).toMMPattern();return o?Object.assign(a,{test:o}):a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",o=new Set(n.nocase?["i"]:[]);let i=e.map((e=>{const n=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))o.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));return n.forEach(((e,o)=>{const i=n[o+1],s=n[o-1];e===t.GLOBSTAR&&s!==t.GLOBSTAR&&(void 0===s?void 0!==i&&i!==t.GLOBSTAR?n[o+1]="(?:\\/|"+r+"\\/)?"+i:n[o]=r:void 0===i?n[o-1]=s+"(?:\\/|"+r+")?":i!==t.GLOBSTAR&&(n[o-1]=s+"(?:\\/|\\/"+r+"\\/)"+i,n[o+1]=t.GLOBSTAR))})),n.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[s,a]=e.length>1?["(?:",")"]:["",""];i="^"+s+i+a+"$",this.negate&&(i="^(?!"+i+").+$");try{this.regexp=new RegExp(i,[...o].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const r=this.slashSplit(e);this.debug(this.pattern,"split",r);const o=this.set;this.debug(this.pattern,"set",o);let i=r[r.length-1];if(!i)for(let e=r.length-2;!i&&e>=0;e--)i=r[e];for(let e=0;e<o.length;e++){const s=o[e];let a=r;if(n.matchBase&&1===s.length&&(a=[i]),this.matchOne(a,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=A;var F=n(2032);Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return F.AST}});var O=n(8641);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return O.escape}});var L=n(1118);Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return L.unescape}}),t.minimatch.AST=s.AST,t.minimatch.Minimatch=A,t.minimatch.escape=a.escape,t.minimatch.unescape=c.unescape},1118:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=void 0,t.unescape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},5420:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const o="object"==typeof process&&process?process:{stdout:null,stderr:null},i=n(4434),s=r(n(2203)),a=n(3193);t.isStream=e=>!!e&&"object"==typeof e&&(e instanceof W||e instanceof s.default||(0,t.isReadable)(e)||(0,t.isWritable)(e)),t.isReadable=e=>!!e&&"object"==typeof e&&e instanceof i.EventEmitter&&"function"==typeof e.pipe&&e.pipe!==s.default.Writable.prototype.pipe,t.isWritable=e=>!!e&&"object"==typeof e&&e instanceof i.EventEmitter&&"function"==typeof e.write&&"function"==typeof e.end;const c=Symbol("EOF"),l=Symbol("maybeEmitEnd"),u=Symbol("emittedEnd"),d=Symbol("emittingEnd"),h=Symbol("emittedError"),f=Symbol("closed"),p=Symbol("read"),m=Symbol("flush"),g=Symbol("flushChunk"),v=Symbol("encoding"),y=Symbol("decoder"),w=Symbol("flowing"),S=Symbol("paused"),b=Symbol("resume"),_=Symbol("buffer"),D=Symbol("pipes"),C=Symbol("bufferLength"),E=Symbol("bufferPush"),P=Symbol("bufferShift"),T=Symbol("objectMode"),k=Symbol("destroyed"),I=Symbol("error"),x=Symbol("emitData"),R=Symbol("emitEnd"),A=Symbol("emitEnd2"),F=Symbol("async"),O=Symbol("abort"),L=Symbol("aborted"),M=Symbol("signal"),$=Symbol("dataListeners"),B=Symbol("discarded"),N=e=>Promise.resolve().then(e),U=e=>e();class H{src;dest;opts;ondrain;constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[b](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class j extends H{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}class W extends i.EventEmitter{[w]=!1;[S]=!1;[D]=[];[_]=[];[T];[v];[F];[y];[c]=!1;[u]=!1;[d]=!1;[f]=!1;[h]=null;[C]=0;[k]=!1;[M];[L]=!1;[$]=0;[B]=!1;writable=!0;readable=!0;constructor(...e){const t=e[0]||{};if(super(),t.objectMode&&"string"==typeof t.encoding)throw new TypeError("Encoding and objectMode may not be used together");var n;t.objectMode?(this[T]=!0,this[v]=null):!(n=t).objectMode&&n.encoding&&"buffer"!==n.encoding?(this[v]=t.encoding,this[T]=!1):(this[T]=!1,this[v]=null),this[F]=!!t.async,this[y]=this[v]?new a.StringDecoder(this[v]):null,t&&!0===t.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[_]}),t&&!0===t.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[D]});const{signal:r}=t;r&&(this[M]=r,r.aborted?this[O]():r.addEventListener("abort",(()=>this[O]())))}get bufferLength(){return this[C]}get encoding(){return this[v]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[T]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[F]}set async(e){this[F]=this[F]||!!e}[O](){this[L]=!0,this.emit("abort",this[M]?.reason),this.destroy(this[M]?.reason)}get aborted(){return this[L]}set aborted(e){}write(e,t,n){if(this[L])return!1;if(this[c])throw new Error("write after end");if(this[k])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const r=this[F]?N:U;if(!this[T]&&!Buffer.isBuffer(e))if(o=e,!Buffer.isBuffer(o)&&ArrayBuffer.isView(o))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if((e=>e instanceof ArrayBuffer||!!e&&"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e))e=Buffer.from(e);else if("string"!=typeof e)throw new Error("Non-contiguous data written to non-objectMode stream");var o;return this[T]?(this[w]&&0!==this[C]&&this[m](!0),this[w]?this.emit("data",e):this[E](e),0!==this[C]&&this.emit("readable"),n&&r(n),this[w]):e.length?("string"!=typeof e||t===this[v]&&!this[y]?.lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[v]&&(e=this[y].write(e)),this[w]&&0!==this[C]&&this[m](!0),this[w]?this.emit("data",e):this[E](e),0!==this[C]&&this.emit("readable"),n&&r(n),this[w]):(0!==this[C]&&this.emit("readable"),n&&r(n),this[w])}read(e){if(this[k])return null;if(this[B]=!1,0===this[C]||0===e||e&&e>this[C])return this[l](),null;this[T]&&(e=null),this[_].length>1&&!this[T]&&(this[_]=[this[v]?this[_].join(""):Buffer.concat(this[_],this[C])]);const t=this[p](e||null,this[_][0]);return this[l](),t}[p](e,t){if(this[T])this[P]();else{const n=t;e===n.length||null===e?this[P]():"string"==typeof n?(this[_][0]=n.slice(e),t=n.slice(0,e),this[C]-=e):(this[_][0]=n.subarray(e),t=n.subarray(0,e),this[C]-=e)}return this.emit("data",t),this[_].length||this[c]||this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t="utf8"),void 0!==e&&this.write(e,t),n&&this.once("end",n),this[c]=!0,this.writable=!1,!this[w]&&this[S]||this[l](),this}[b](){this[k]||(this[$]||this[D].length||(this[B]=!0),this[S]=!1,this[w]=!0,this.emit("resume"),this[_].length?this[m]():this[c]?this[l]():this.emit("drain"))}resume(){return this[b]()}pause(){this[w]=!1,this[S]=!0,this[B]=!1}get destroyed(){return this[k]}get flowing(){return this[w]}get paused(){return this[S]}[E](e){this[T]?this[C]+=1:this[C]+=e.length,this[_].push(e)}[P](){return this[T]?this[C]-=1:this[C]-=this[_][0].length,this[_].shift()}[m](e=!1){do{}while(this[g](this[P]())&&this[_].length);e||this[_].length||this[c]||this.emit("drain")}[g](e){return this.emit("data",e),this[w]}pipe(e,t){if(this[k])return e;this[B]=!1;const n=this[u];return t=t||{},e===o.stdout||e===o.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[D].push(t.proxyErrors?new j(this,e,t):new H(this,e,t)),this[F]?N((()=>this[b]())):this[b]()),e}unpipe(e){const t=this[D].find((t=>t.dest===e));t&&(1===this[D].length?(this[w]&&0===this[$]&&(this[w]=!1),this[D]=[]):this[D].splice(this[D].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);if("data"===e)this[B]=!1,this[$]++,this[D].length||this[w]||this[b]();else if("readable"===e&&0!==this[C])super.emit("readable");else if((e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[u])super.emit(e),this.removeAllListeners(e);else if("error"===e&&this[h]){const e=t;this[F]?N((()=>e.call(this,this[h]))):e.call(this,this[h])}return n}removeListener(e,t){return this.off(e,t)}off(e,t){const n=super.off(e,t);return"data"===e&&(this[$]=this.listeners("data").length,0!==this[$]||this[B]||this[D].length||(this[w]=!1)),n}removeAllListeners(e){const t=super.removeAllListeners(e);return"data"!==e&&void 0!==e||(this[$]=0,this[B]||this[D].length||(this[w]=!1)),t}get emittedEnd(){return this[u]}[l](){this[d]||this[u]||this[k]||0!==this[_].length||!this[c]||(this[d]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[f]&&this.emit("close"),this[d]=!1)}emit(e,...t){const n=t[0];if("error"!==e&&"close"!==e&&e!==k&&this[k])return!1;if("data"===e)return!(!this[T]&&!n)&&(this[F]?(N((()=>this[x](n))),!0):this[x](n));if("end"===e)return this[R]();if("close"===e){if(this[f]=!0,!this[u]&&!this[k])return!1;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[h]=n,super.emit(I,n);const e=!(this[M]&&!this.listeners("error").length)&&super.emit("error",n);return this[l](),e}if("resume"===e){const e=super.emit("resume");return this[l](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const r=super.emit(e,...t);return this[l](),r}[x](e){for(const t of this[D])!1===t.dest.write(e)&&this.pause();const t=!this[B]&&super.emit("data",e);return this[l](),t}[R](){return!this[u]&&(this[u]=!0,this.readable=!1,this[F]?(N((()=>this[A]())),!0):this[A]())}[A](){if(this[y]){const e=this[y].end();if(e){for(const t of this[D])t.dest.write(e);this[B]||super.emit("data",e)}}for(const e of this[D])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){const e=Object.assign([],{dataLength:0});this[T]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[T]||(e.dataLength+=t.length)})),await t,e}async concat(){if(this[T])throw new Error("cannot concat in objectMode");const e=await this.collect();return this[v]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,t)=>{this.on(k,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[B]=!1;let e=!1;const t=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[c])return t();let r,o;const i=e=>{this.off("data",s),this.off("end",a),this.off(k,l),t(),o(e)},s=e=>{this.off("error",i),this.off("end",a),this.off(k,l),this.pause(),r({value:e,done:!!this[c]})},a=()=>{this.off("error",i),this.off("data",s),this.off(k,l),t(),r({done:!0,value:void 0})},l=()=>i(new Error("stream destroyed"));return new Promise(((e,t)=>{o=t,r=e,this.once(k,l),this.once("error",i),this.once("end",a),this.once("data",s)}))},throw:t,return:t,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[B]=!1;let e=!1;const t=()=>(this.pause(),this.off(I,t),this.off(k,t),this.off("end",t),e=!0,{done:!0,value:void 0});return this.once("end",t),this.once(I,t),this.once(k,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{done:!1,value:n}},throw:t,return:t,[Symbol.iterator](){return this}}}destroy(e){return this[k]?(e?this.emit("error",e):this.emit(k),this):(this[k]=!0,this[B]=!0,this[_].length=0,this[C]=0,"function"!=typeof this.close||this[f]||this.close(),e?this.emit("error",e):this.emit(k),this)}static get isStream(){return t.isStream}}t.Minipass=W},9432:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PathScurry=t.Path=t.PathScurryDarwin=t.PathScurryPosix=t.PathScurryWin32=t.PathScurryBase=t.PathPosix=t.PathWin32=t.PathBase=t.ChildrenCache=t.ResolveCache=void 0;const s=n(9950),a=n(6928),c=n(7016),l=i(n(9896)),u=n(9896),d=u.realpathSync.native,h=n(1943),f=n(5420),p={lstatSync:u.lstatSync,readdir:u.readdir,readdirSync:u.readdirSync,readlinkSync:u.readlinkSync,realpathSync:d,promises:{lstat:h.lstat,readdir:h.readdir,readlink:h.readlink,realpath:h.realpath}},m=e=>e&&e!==p&&e!==l?{...p,...e,promises:{...p.promises,...e.promises||{}}}:p,g=/^\\\\\?\\([a-z]:)\\?$/i,v=/[\\\/]/,y=10,w=15,S=-16,b=128,_=e=>e.isFile()?8:e.isDirectory()?4:e.isSymbolicLink()?y:e.isCharacterDevice()?2:e.isBlockDevice()?6:e.isSocket()?12:e.isFIFO()?1:0,D=new Map,C=e=>{const t=D.get(e);if(t)return t;const n=e.normalize("NFKD");return D.set(e,n),n},E=new Map,P=e=>{const t=E.get(e);if(t)return t;const n=C(e.toLowerCase());return E.set(e,n),n};class T extends s.LRUCache{constructor(){super({max:256})}}t.ResolveCache=T;class k extends s.LRUCache{constructor(e=16384){super({maxSize:e,sizeCalculation:e=>e.length+1})}}t.ChildrenCache=k;const I=Symbol("PathScurry setAsCwd");class x{name;root;roots;parent;nocase;#x;#R;get dev(){return this.#R}#A;get mode(){return this.#A}#F;get nlink(){return this.#F}#O;get uid(){return this.#O}#L;get gid(){return this.#L}#M;get rdev(){return this.#M}#$;get blksize(){return this.#$}#B;get ino(){return this.#B}#N;get size(){return this.#N}#U;get blocks(){return this.#U}#H;get atimeMs(){return this.#H}#j;get mtimeMs(){return this.#j}#W;get ctimeMs(){return this.#W}#z;get birthtimeMs(){return this.#z}#q;get atime(){return this.#q}#V;get mtime(){return this.#V}#G;get ctime(){return this.#G}#K;get birthtime(){return this.#K}#J;#X;#Z;#Y;#Q;#ee;#te;#ne;#re;#oe;get path(){return(this.parent||this).fullpath()}constructor(e,t=0,n,r,o,i,s){this.name=e,this.#J=o?P(e):C(e),this.#te=1023&t,this.nocase=o,this.roots=r,this.root=n||this,this.#ne=i,this.#Z=s.fullpath,this.#Q=s.relative,this.#ee=s.relativePosix,this.parent=s.parent,this.parent?this.#x=this.parent.#x:this.#x=m(s.fs)}depth(){return void 0!==this.#X?this.#X:this.parent?this.#X=this.parent.depth()+1:this.#X=0}childrenCache(){return this.#ne}resolve(e){if(!e)return this;const t=this.getRootString(e),n=e.substring(t.length).split(this.splitSep);return t?this.getRoot(t).#ie(n):this.#ie(n)}#ie(e){let t=this;for(const n of e)t=t.child(n);return t}children(){const e=this.#ne.get(this);if(e)return e;const t=Object.assign([],{provisional:0});return this.#ne.set(this,t),this.#te&=-17,t}child(e,t){if(""===e||"."===e)return this;if(".."===e)return this.parent||this;const n=this.children(),r=this.nocase?P(e):C(e);for(const e of n)if(e.#J===r)return e;const o=this.parent?this.sep:"",i=this.#Z?this.#Z+o+e:void 0,s=this.newChild(e,0,{...t,parent:this,fullpath:i});return this.canReaddir()||(s.#te|=b),n.push(s),s}relative(){if(void 0!==this.#Q)return this.#Q;const e=this.name,t=this.parent;if(!t)return this.#Q=this.name;const n=t.relative();return n+(n&&t.parent?this.sep:"")+e}relativePosix(){if("/"===this.sep)return this.relative();if(void 0!==this.#ee)return this.#ee;const e=this.name,t=this.parent;if(!t)return this.#ee=this.fullpathPosix();const n=t.relativePosix();return n+(n&&t.parent?"/":"")+e}fullpath(){if(void 0!==this.#Z)return this.#Z;const e=this.name,t=this.parent;if(!t)return this.#Z=this.name;const n=t.fullpath()+(t.parent?this.sep:"")+e;return this.#Z=n}fullpathPosix(){if(void 0!==this.#Y)return this.#Y;if("/"===this.sep)return this.#Y=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(e)?this.#Y=`//?/${e}`:this.#Y=e}const e=this.parent,t=e.fullpathPosix(),n=t+(t&&e.parent?"/":"")+this.name;return this.#Y=n}isUnknown(){return!(this.#te&w)}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#te&w)}isDirectory(){return 4==(this.#te&w)}isCharacterDevice(){return 2==(this.#te&w)}isBlockDevice(){return 6==(this.#te&w)}isFIFO(){return 1==(this.#te&w)}isSocket(){return 12==(this.#te&w)}isSymbolicLink(){return(this.#te&y)===y}lstatCached(){return 32&this.#te?this:void 0}readlinkCached(){return this.#re}realpathCached(){return this.#oe}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#re)return!0;if(!this.parent)return!1;const e=this.#te&w;return!(0!==e&&e!==y||256&this.#te||this.#te&b)}calledReaddir(){return!!(16&this.#te)}isENOENT(){return!!(this.#te&b)}isNamed(e){return this.nocase?this.#J===P(e):this.#J===C(e)}async readlink(){const e=this.#re;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=await this.#x.promises.readlink(this.fullpath()),t=this.parent.resolve(e);if(t)return this.#re=t}catch(e){return void this.#se(e.code)}}readlinkSync(){const e=this.#re;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=this.#x.readlinkSync(this.fullpath()),t=this.parent.resolve(e);if(t)return this.#re=t}catch(e){return void this.#se(e.code)}}#ae(e){this.#te|=16;for(let t=e.provisional;t<e.length;t++)e[t].#ce()}#ce(){this.#te&b||(this.#te=(this.#te|b)&S,this.#le())}#le(){const e=this.children();e.provisional=0;for(const t of e)t.#ce()}#ue(){this.#te|=512,this.#de()}#de(){if(64&this.#te)return;let e=this.#te;4==(e&w)&&(e&=S),this.#te=64|e,this.#le()}#he(e=""){"ENOTDIR"===e||"EPERM"===e?this.#de():"ENOENT"===e?this.#ce():this.children().provisional=0}#fe(e=""){"ENOTDIR"===e?this.parent.#de():"ENOENT"===e&&this.#ce()}#se(e=""){let t=this.#te;t|=256,"ENOENT"===e&&(t|=b),"EINVAL"!==e&&"UNKNOWN"!==e||(t&=S),this.#te=t,"ENOTDIR"===e&&this.parent&&this.parent.#de()}#pe(e,t){return this.#me(e,t)||this.#ge(e,t)}#ge(e,t){const n=_(e),r=this.newChild(e.name,n,{parent:this}),o=r.#te&w;return 4!==o&&o!==y&&0!==o&&(r.#te|=64),t.unshift(r),t.provisional++,r}#me(e,t){for(let n=t.provisional;n<t.length;n++){const r=t[n];if((this.nocase?P(e.name):C(e.name))===r.#J)return this.#ve(e,r,n,t)}}#ve(e,t,n,r){const o=t.name;return t.#te=t.#te&S|_(e),o!==e.name&&(t.name=e.name),n!==r.provisional&&(n===r.length-1?r.pop():r.splice(n,1),r.unshift(t)),r.provisional++,t}async lstat(){if(!(this.#te&b))try{return this.#ye(await this.#x.promises.lstat(this.fullpath())),this}catch(e){this.#fe(e.code)}}lstatSync(){if(!(this.#te&b))try{return this.#ye(this.#x.lstatSync(this.fullpath())),this}catch(e){this.#fe(e.code)}}#ye(e){const{atime:t,atimeMs:n,birthtime:r,birthtimeMs:o,blksize:i,blocks:s,ctime:a,ctimeMs:c,dev:l,gid:u,ino:d,mode:h,mtime:f,mtimeMs:p,nlink:m,rdev:g,size:v,uid:w}=e;this.#q=t,this.#H=n,this.#K=r,this.#z=o,this.#$=i,this.#U=s,this.#G=a,this.#W=c,this.#R=l,this.#L=u,this.#B=d,this.#A=h,this.#V=f,this.#j=p,this.#F=m,this.#M=g,this.#N=v,this.#O=w;const b=_(e);this.#te=this.#te&S|b|32,0!==b&&4!==b&&b!==y&&(this.#te|=64)}#we=[];#Se=!1;#be(e){this.#Se=!1;const t=this.#we.slice();this.#we.length=0,t.forEach((t=>t(null,e)))}readdirCB(e,t=!1){if(!this.canReaddir())return void(t?e(null,[]):queueMicrotask((()=>e(null,[]))));const n=this.children();if(this.calledReaddir()){const r=n.slice(0,n.provisional);return void(t?e(null,r):queueMicrotask((()=>e(null,r))))}if(this.#we.push(e),this.#Se)return;this.#Se=!0;const r=this.fullpath();this.#x.readdir(r,{withFileTypes:!0},((e,t)=>{if(e)this.#he(e.code),n.provisional=0;else{for(const e of t)this.#pe(e,n);this.#ae(n)}this.#be(n.slice(0,n.provisional))}))}#_e;async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();if(this.#_e)await this.#_e;else{let n=()=>{};this.#_e=new Promise((e=>n=e));try{for(const n of await this.#x.promises.readdir(t,{withFileTypes:!0}))this.#pe(n,e);this.#ae(e)}catch(t){this.#he(t.code),e.provisional=0}this.#_e=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();try{for(const n of this.#x.readdirSync(t,{withFileTypes:!0}))this.#pe(n,e);this.#ae(e)}catch(t){this.#he(t.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(704&this.#te)return!1;const e=w&this.#te;return 0===e||4===e||e===y}shouldWalk(e,t){return!(4&~this.#te)&&!(704&this.#te)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#oe)return this.#oe;if(!(896&this.#te))try{const e=await this.#x.promises.realpath(this.fullpath());return this.#oe=this.resolve(e)}catch(e){this.#ue()}}realpathSync(){if(this.#oe)return this.#oe;if(!(896&this.#te))try{const e=this.#x.realpathSync(this.fullpath());return this.#oe=this.resolve(e)}catch(e){this.#ue()}}[I](e){if(e===this)return;const t=new Set([]);let n=[],r=this;for(;r&&r.parent;)t.add(r),r.#Q=n.join(this.sep),r.#ee=n.join("/"),r=r.parent,n.push("..");for(r=e;r&&r.parent&&!t.has(r);)r.#Q=void 0,r.#ee=void 0,r=r.parent}}t.PathBase=x;class R extends x{sep="\\";splitSep=v;constructor(e,t=0,n,r,o,i,s){super(e,t,n,r,o,i,s)}newChild(e,t=0,n={}){return new R(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return a.win32.parse(e).root}getRoot(e){if((e=(e=>e.replace(/\//g,"\\").replace(g,"$1\\"))(e.toUpperCase()))===this.root.name)return this.root;for(const[t,n]of Object.entries(this.roots))if(this.sameRoot(e,t))return this.roots[e]=n;return this.roots[e]=new O(e,this).root}sameRoot(e,t=this.root.name){return(e=e.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"))===t}}t.PathWin32=R;class A extends x{splitSep="/";sep="/";constructor(e,t=0,n,r,o,i,s){super(e,t,n,r,o,i,s)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=0,n={}){return new A(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}}t.PathPosix=A;class F{root;rootPath;roots;cwd;#De;#Ce;#ne;nocase;#x;constructor(e=process.cwd(),t,n,{nocase:r,childrenCacheSize:o=16384,fs:i=p}={}){this.#x=m(i),(e instanceof URL||e.startsWith("file://"))&&(e=(0,c.fileURLToPath)(e));const s=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(s),this.#De=new T,this.#Ce=new T,this.#ne=new k(o);const a=s.substring(this.rootPath.length).split(n);if(1!==a.length||a[0]||a.pop(),void 0===r)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#x),this.roots[this.rootPath]=this.root;let l=this.root,u=a.length-1;const d=t.sep;let h=this.rootPath,f=!1;for(const e of a){const t=u--;l=l.child(e,{relative:new Array(t).fill("..").join(d),relativePosix:new Array(t).fill("..").join("/"),fullpath:h+=(f?"":d)+e}),f=!0}this.cwd=l}depth(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#ne}resolve(...e){let t="";for(let n=e.length-1;n>=0;n--){const r=e[n];if(r&&"."!==r&&(t=t?`${r}/${t}`:r,this.isAbsolute(r)))break}const n=this.#De.get(t);if(void 0!==n)return n;const r=this.cwd.resolve(t).fullpath();return this.#De.set(t,r),r}resolvePosix(...e){let t="";for(let n=e.length-1;n>=0;n--){const r=e[n];if(r&&"."!==r&&(t=t?`${r}/${t}`:r,this.isAbsolute(r)))break}const n=this.#Ce.get(t);if(void 0!==n)return n;const r=this.cwd.resolve(t).fullpathPosix();return this.#Ce.set(t,r),r}relative(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n}=t;if(e.canReaddir()){const t=await e.readdir();return n?t:t.map((e=>e.name))}return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0}=t;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map((e=>e.name)):[]}async lstat(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const n=await e.readlink();return t?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const n=e.readlinkSync();return t?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const n=await e.realpath();return t?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const n=e.realpathSync();return t?n:n?.fullpath()}async walk(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:r=!1,filter:o,walkFilter:i}=t,s=[];o&&!o(e)||s.push(n?e:e.fullpath());const a=new Set,c=(e,t)=>{a.add(e),e.readdirCB(((e,l)=>{if(e)return t(e);let u=l.length;if(!u)return t();const d=()=>{0==--u&&t()};for(const e of l)o&&!o(e)||s.push(n?e:e.fullpath()),r&&e.isSymbolicLink()?e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(a,i)?c(e,d):d())):e.shouldWalk(a,i)?c(e,d):d()}),!0)},l=e;return new Promise(((e,t)=>{c(l,(n=>{if(n)return t(n);e(s)}))}))}walkSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:r=!1,filter:o,walkFilter:i}=t,s=[];o&&!o(e)||s.push(n?e:e.fullpath());const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){o&&!o(e)||s.push(n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,i)&&a.add(t)}}return s}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:r=!1,filter:o,walkFilter:i}=t;o&&!o(e)||(yield n?e:e.fullpath());const s=new Set([e]);for(const e of s){const t=e.readdirSync();for(const e of t){o&&!o(e)||(yield n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(s,i)&&s.add(t)}}}stream(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:r=!1,filter:o,walkFilter:i}=t,s=new f.Minipass({objectMode:!0});o&&!o(e)||s.write(n?e:e.fullpath());const a=new Set,c=[e];let l=0;const u=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===l&&s.end());l++,a.add(t);const d=(t,f,p=!1)=>{if(t)return s.emit("error",t);if(r&&!p){const e=[];for(const t of f)t.isSymbolicLink()&&e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)));if(e.length)return void Promise.all(e).then((()=>d(null,f,!0)))}for(const t of f)!t||o&&!o(t)||s.write(n?t:t.fullpath())||(e=!0);l--;for(const e of f){const t=e.realpathCached()||e;t.shouldWalk(a,i)&&c.push(t)}e&&!s.flowing?s.once("drain",u):h||u()};let h=!0;t.readdirCB(d,!0),h=!1}};return u(),s}streamSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:r=!1,filter:o,walkFilter:i}=t,s=new f.Minipass({objectMode:!0}),a=new Set;o&&!o(e)||s.write(n?e:e.fullpath());const c=[e];let l=0;const u=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===l&&s.end());l++,a.add(t);const u=t.readdirSync();for(const t of u)o&&!o(t)||s.write(n?t:t.fullpath())||(e=!0);l--;for(const e of u){let t=e;if(e.isSymbolicLink()){if(!r||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,i)&&c.push(t)}}e&&!s.flowing&&s.once("drain",u)};return u(),s}chdir(e=this.cwd){const t=this.cwd;this.cwd="string"==typeof e?this.cwd.resolve(e):e,this.cwd[I](t)}}t.PathScurryBase=F;class O extends F{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,a.win32,"\\",{...t,nocase:n}),this.nocase=n;for(let e=this.cwd;e;e=e.parent)e.nocase=this.nocase}parseRootPath(e){return a.win32.parse(e).root.toUpperCase()}newRoot(e){return new R(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}t.PathScurryWin32=O;class L extends F{sep="/";constructor(e=process.cwd(),t={}){const{nocase:n=!1}=t;super(e,a.posix,"/",{...t,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new A(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}t.PathScurryPosix=L;class M extends L{constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,{...t,nocase:n})}}t.PathScurryDarwin=M,t.Path="win32"===process.platform?R:A,t.PathScurry="win32"===process.platform?O:"darwin"===process.platform?M:L},9950:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,r=new Set,o="object"==typeof process&&process?process:{},i=(e,t,n,r)=>{"function"==typeof o.emitWarning?o.emitWarning(e,t,n,r):console.error(`[${n}] ${t}: ${e}`)};let s=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===s){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},s=class{constructor(){t()}signal=new a;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==o.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const c=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),l=e=>c(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?u:null:null;class u extends Array{constructor(e){super(e),this.fill(0)}}class d{heap;length;static#Ee=!1;static create(e){const t=l(e);if(!t)return[];d.#Ee=!0;const n=new d(e,t);return d.#Ee=!1,n}constructor(e,t){if(!d.#Ee)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class h{#Pe;#Te;#ke;#Ie;#xe;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#N;#Re;#Ae;#Fe;#Oe;#Le;#Me;#$e;#Be;#Ne;#Ue;#He;#je;#We;#ze;#qe;#Ve;static unsafeExposeInternals(e){return{starts:e.#je,ttls:e.#We,sizes:e.#He,keyMap:e.#Ae,keyList:e.#Fe,valList:e.#Oe,next:e.#Le,prev:e.#Me,get head(){return e.#$e},get tail(){return e.#Be},free:e.#Ne,isBackgroundFetch:t=>e.#Ge(t),backgroundFetch:(t,n,r,o)=>e.#Ke(t,n,r,o),moveToTail:t=>e.#Je(t),indexes:t=>e.#Xe(t),rindexes:t=>e.#Ze(t),isStale:t=>e.#Ye(t)}}get max(){return this.#Pe}get maxSize(){return this.#Te}get calculatedSize(){return this.#Re}get size(){return this.#N}get fetchMethod(){return this.#xe}get dispose(){return this.#ke}get disposeAfter(){return this.#Ie}constructor(e){const{max:t=0,ttl:n,ttlResolution:o=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:u,allowStale:f,dispose:p,disposeAfter:m,noDisposeOnSet:g,noUpdateTTL:v,maxSize:y=0,maxEntrySize:w=0,sizeCalculation:S,fetchMethod:b,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:D,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:E,ignoreFetchAbort:P}=e;if(0!==t&&!c(t))throw new TypeError("max option must be a nonnegative integer");const T=t?l(t):Array;if(!T)throw new Error("invalid max value: "+t);if(this.#Pe=t,this.#Te=y,this.maxEntrySize=w||this.#Te,this.sizeCalculation=S,this.sizeCalculation){if(!this.#Te&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==b&&"function"!=typeof b)throw new TypeError("fetchMethod must be a function if specified");if(this.#xe=b,this.#qe=!!b,this.#Ae=new Map,this.#Fe=new Array(t).fill(void 0),this.#Oe=new Array(t).fill(void 0),this.#Le=new T(t),this.#Me=new T(t),this.#$e=0,this.#Be=0,this.#Ne=d.create(t),this.#N=0,this.#Re=0,"function"==typeof p&&(this.#ke=p),"function"==typeof m?(this.#Ie=m,this.#Ue=[]):(this.#Ie=void 0,this.#Ue=void 0),this.#ze=!!this.#ke,this.#Ve=!!this.#Ie,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!v,this.noDeleteOnFetchRejection=!!_,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!E,this.ignoreFetchAbort=!!P,0!==this.maxEntrySize){if(0!==this.#Te&&!c(this.#Te))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Qe()}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!D,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!u,this.ttlResolution=c(o)||0===o?o:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#et()}if(0===this.#Pe&&0===this.ttl&&0===this.#Te)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#Pe&&!this.#Te){const e="LRU_CACHE_UNBOUNDED";(e=>!r.has(e))(e)&&(r.add(e),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,h))}}getRemainingTTL(e){return this.#Ae.has(e)?1/0:0}#et(){const e=new u(this.#Pe),t=new u(this.#Pe);this.#We=e,this.#je=t,this.#tt=(r,o,i=n.now())=>{if(t[r]=0!==o?i:0,e[r]=o,0!==o&&this.ttlAutopurge){const e=setTimeout((()=>{this.#Ye(r)&&this.delete(this.#Fe[r])}),o+1);e.unref&&e.unref()}},this.#nt=r=>{t[r]=0!==e[r]?n.now():0},this.#rt=(n,i)=>{if(e[i]){const s=e[i],a=t[i];if(!s||!a)return;n.ttl=s,n.start=a,n.now=r||o();const c=n.now-a;n.remainingTTL=s-c}};let r=0;const o=()=>{const e=n.now();if(this.ttlResolution>0){r=e;const t=setTimeout((()=>r=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=n=>{const i=this.#Ae.get(n);if(void 0===i)return 0;const s=e[i],a=t[i];return s&&a?s-((r||o())-a):1/0},this.#Ye=n=>{const i=t[n],s=e[n];return!!s&&!!i&&(r||o())-i>s}}#nt=()=>{};#rt=()=>{};#tt=()=>{};#Ye=()=>!1;#Qe(){const e=new u(this.#Pe);this.#Re=0,this.#He=e,this.#ot=t=>{this.#Re-=e[t],e[t]=0},this.#it=(e,t,n,r)=>{if(this.#Ge(t))return 0;if(!c(n)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(t,e),!c(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#st=(t,n,r)=>{if(e[t]=n,this.#Te){const n=this.#Te-e[t];for(;this.#Re>n;)this.#at(!0)}this.#Re+=e[t],r&&(r.entrySize=n,r.totalCalculatedSize=this.#Re)}}#ot=e=>{};#st=(e,t,n)=>{};#it=(e,t,n,r)=>{if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#Xe({allowStale:e=this.allowStale}={}){if(this.#N)for(let t=this.#Be;this.#ct(t)&&(!e&&this.#Ye(t)||(yield t),t!==this.#$e);)t=this.#Me[t]}*#Ze({allowStale:e=this.allowStale}={}){if(this.#N)for(let t=this.#$e;this.#ct(t)&&(!e&&this.#Ye(t)||(yield t),t!==this.#Be);)t=this.#Le[t]}#ct(e){return void 0!==e&&this.#Ae.get(this.#Fe[e])===e}*entries(){for(const e of this.#Xe())void 0===this.#Oe[e]||void 0===this.#Fe[e]||this.#Ge(this.#Oe[e])||(yield[this.#Fe[e],this.#Oe[e]])}*rentries(){for(const e of this.#Ze())void 0===this.#Oe[e]||void 0===this.#Fe[e]||this.#Ge(this.#Oe[e])||(yield[this.#Fe[e],this.#Oe[e]])}*keys(){for(const e of this.#Xe()){const t=this.#Fe[e];void 0===t||this.#Ge(this.#Oe[e])||(yield t)}}*rkeys(){for(const e of this.#Ze()){const t=this.#Fe[e];void 0===t||this.#Ge(this.#Oe[e])||(yield t)}}*values(){for(const e of this.#Xe())void 0===this.#Oe[e]||this.#Ge(this.#Oe[e])||(yield this.#Oe[e])}*rvalues(){for(const e of this.#Ze())void 0===this.#Oe[e]||this.#Ge(this.#Oe[e])||(yield this.#Oe[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of this.#Xe()){const r=this.#Oe[n],o=this.#Ge(r)?r.__staleWhileFetching:r;if(void 0!==o&&e(o,this.#Fe[n],this))return this.get(this.#Fe[n],t)}}forEach(e,t=this){for(const n of this.#Xe()){const r=this.#Oe[n],o=this.#Ge(r)?r.__staleWhileFetching:r;void 0!==o&&e.call(t,o,this.#Fe[n],this)}}rforEach(e,t=this){for(const n of this.#Ze()){const r=this.#Oe[n],o=this.#Ge(r)?r.__staleWhileFetching:r;void 0!==o&&e.call(t,o,this.#Fe[n],this)}}purgeStale(){let e=!1;for(const t of this.#Ze({allowStale:!0}))this.#Ye(t)&&(this.delete(this.#Fe[t]),e=!0);return e}info(e){const t=this.#Ae.get(e);if(void 0===t)return;const r=this.#Oe[t],o=this.#Ge(r)?r.__staleWhileFetching:r;if(void 0===o)return;const i={value:o};if(this.#We&&this.#je){const e=this.#We[t],r=this.#je[t];if(e&&r){const t=e-(n.now()-r);i.ttl=t,i.start=Date.now()}}return this.#He&&(i.size=this.#He[t]),i}dump(){const e=[];for(const t of this.#Xe({allowStale:!0})){const r=this.#Fe[t],o=this.#Oe[t],i=this.#Ge(o)?o.__staleWhileFetching:o;if(void 0===i||void 0===r)continue;const s={value:i};if(this.#We&&this.#je){s.ttl=this.#We[t];const e=n.now()-this.#je[t];s.start=Math.floor(Date.now()-e)}this.#He&&(s.size=this.#He[t]),e.unshift([r,s])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=n.now()-e}this.set(t,r.value,r)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:r=this.ttl,start:o,noDisposeOnSet:i=this.noDisposeOnSet,sizeCalculation:s=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const l=this.#it(e,t,n.size||0,s);if(this.maxEntrySize&&l>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let u=0===this.#N?void 0:this.#Ae.get(e);if(void 0===u)u=0===this.#N?this.#Be:0!==this.#Ne.length?this.#Ne.pop():this.#N===this.#Pe?this.#at(!1):this.#N,this.#Fe[u]=e,this.#Oe[u]=t,this.#Ae.set(e,u),this.#Le[this.#Be]=u,this.#Me[u]=this.#Be,this.#Be=u,this.#N++,this.#st(u,l,a),a&&(a.set="add"),c=!1;else{this.#Je(u);const n=this.#Oe[u];if(t!==n){if(this.#qe&&this.#Ge(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0===t||i||(this.#ze&&this.#ke?.(t,e,"set"),this.#Ve&&this.#Ue?.push([t,e,"set"]))}else i||(this.#ze&&this.#ke?.(n,e,"set"),this.#Ve&&this.#Ue?.push([n,e,"set"]));if(this.#ot(u),this.#st(u,l,a),this.#Oe[u]=t,a){a.set="replace";const e=n&&this.#Ge(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===r||this.#We||this.#et(),this.#We&&(c||this.#tt(u,r,o),a&&this.#rt(a,u)),!i&&this.#Ve&&this.#Ue){const e=this.#Ue;let t;for(;t=e?.shift();)this.#Ie?.(...t)}return this}pop(){try{for(;this.#N;){const e=this.#Oe[this.#$e];if(this.#at(!0),this.#Ge(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#Ve&&this.#Ue){const e=this.#Ue;let t;for(;t=e?.shift();)this.#Ie?.(...t)}}}#at(e){const t=this.#$e,n=this.#Fe[t],r=this.#Oe[t];return this.#qe&&this.#Ge(r)?r.__abortController.abort(new Error("evicted")):(this.#ze||this.#Ve)&&(this.#ze&&this.#ke?.(r,n,"evict"),this.#Ve&&this.#Ue?.push([r,n,"evict"])),this.#ot(t),e&&(this.#Fe[t]=void 0,this.#Oe[t]=void 0,this.#Ne.push(t)),1===this.#N?(this.#$e=this.#Be=0,this.#Ne.length=0):this.#$e=this.#Le[t],this.#Ae.delete(n),this.#N--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:r}=t,o=this.#Ae.get(e);if(void 0!==o){const e=this.#Oe[o];if(this.#Ge(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#Ye(o))return n&&this.#nt(o),r&&(r.has="hit",this.#rt(r,o)),!0;r&&(r.has="stale",this.#rt(r,o))}else r&&(r.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,r=this.#Ae.get(e);if(void 0===r||!n&&this.#Ye(r))return;const o=this.#Oe[r];return this.#Ge(o)?o.__staleWhileFetching:o}#Ke(e,t,n,r){const o=void 0===t?void 0:this.#Oe[t];if(this.#Ge(o))return o;const i=new s,{signal:a}=n;a?.addEventListener("abort",(()=>i.abort(a.reason)),{signal:i.signal});const c={signal:i.signal,options:n,context:r},l=(r,o=!1)=>{const{aborted:s}=i.signal,a=n.ignoreFetchAbort&&void 0!==r;if(n.status&&(s&&!o?(n.status.fetchAborted=!0,n.status.fetchError=i.signal.reason,a&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),s&&!a&&!o)return u(i.signal.reason);const l=d;return this.#Oe[t]===d&&(void 0===r?l.__staleWhileFetching?this.#Oe[t]=l.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,r,c.options))),r},u=r=>{const{aborted:o}=i.signal,s=o&&n.allowStaleOnFetchAbort,a=s||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,l=d;if(this.#Oe[t]===d&&(c&&void 0!==l.__staleWhileFetching?s||(this.#Oe[t]=l.__staleWhileFetching):this.delete(e)),a)return n.status&&void 0!==l.__staleWhileFetching&&(n.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw r};n.status&&(n.status.fetchDispatched=!0);const d=new Promise(((t,r)=>{const s=this.#xe?.(e,o,c);s&&s instanceof Promise&&s.then((e=>t(void 0===e?void 0:e)),r),i.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>l(e,!0)))}))})).then(l,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),u(e)))),h=Object.assign(d,{__abortController:i,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,h,{...c.options,status:void 0}),t=this.#Ae.get(e)):this.#Oe[t]=h,h}#Ge(e){if(!this.#qe)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof s}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:s=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:h=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:v}=t;if(!this.#qe)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,status:g});const y={allowStale:n,updateAgeOnGet:r,noDeleteOnStaleGet:o,ttl:i,noDisposeOnSet:s,size:a,sizeCalculation:c,noUpdateTTL:l,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:f,ignoreFetchAbort:h,status:g,signal:v};let w=this.#Ae.get(e);if(void 0===w){g&&(g.fetch="miss");const t=this.#Ke(e,w,y,p);return t.__returned=t}{const t=this.#Oe[w];if(this.#Ge(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const o=this.#Ye(w);if(!m&&!o)return g&&(g.fetch="hit"),this.#Je(w),r&&this.#nt(w),g&&this.#rt(g,w),t;const i=this.#Ke(e,w,y,p),s=void 0!==i.__staleWhileFetching&&n;return g&&(g.fetch=o?"stale":"refresh",s&&o&&(g.returnedStale=!0)),s?i.__staleWhileFetching:i.__returned=i}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:i}=t,s=this.#Ae.get(e);if(void 0!==s){const t=this.#Oe[s],a=this.#Ge(t);return i&&this.#rt(i,s),this.#Ye(s)?(i&&(i.get="stale"),a?(i&&n&&void 0!==t.__staleWhileFetching&&(i.returnedStale=!0),n?t.__staleWhileFetching:void 0):(o||this.delete(e),i&&n&&(i.returnedStale=!0),n?t:void 0)):(i&&(i.get="hit"),a?t.__staleWhileFetching:(this.#Je(s),r&&this.#nt(s),t))}i&&(i.get="miss")}#lt(e,t){this.#Me[t]=e,this.#Le[e]=t}#Je(e){e!==this.#Be&&(e===this.#$e?this.#$e=this.#Le[e]:this.#lt(this.#Me[e],this.#Le[e]),this.#lt(this.#Be,e),this.#Be=e)}delete(e){let t=!1;if(0!==this.#N){const n=this.#Ae.get(e);if(void 0!==n)if(t=!0,1===this.#N)this.clear();else{this.#ot(n);const t=this.#Oe[n];if(this.#Ge(t)?t.__abortController.abort(new Error("deleted")):(this.#ze||this.#Ve)&&(this.#ze&&this.#ke?.(t,e,"delete"),this.#Ve&&this.#Ue?.push([t,e,"delete"])),this.#Ae.delete(e),this.#Fe[n]=void 0,this.#Oe[n]=void 0,n===this.#Be)this.#Be=this.#Me[n];else if(n===this.#$e)this.#$e=this.#Le[n];else{const e=this.#Me[n];this.#Le[e]=this.#Le[n];const t=this.#Le[n];this.#Me[t]=this.#Me[n]}this.#N--,this.#Ne.push(n)}}if(this.#Ve&&this.#Ue?.length){const e=this.#Ue;let t;for(;t=e?.shift();)this.#Ie?.(...t)}return t}clear(){for(const e of this.#Ze({allowStale:!0})){const t=this.#Oe[e];if(this.#Ge(t))t.__abortController.abort(new Error("deleted"));else{const n=this.#Fe[e];this.#ze&&this.#ke?.(t,n,"delete"),this.#Ve&&this.#Ue?.push([t,n,"delete"])}}if(this.#Ae.clear(),this.#Oe.fill(void 0),this.#Fe.fill(void 0),this.#We&&this.#je&&(this.#We.fill(0),this.#je.fill(0)),this.#He&&this.#He.fill(0),this.#$e=0,this.#Be=0,this.#Ne.length=0,this.#Re=0,this.#N=0,this.#Ve&&this.#Ue){const e=this.#Ue;let t;for(;t=e?.shift();)this.#Ie?.(...t)}}}t.LRUCache=h},621:(e,t,n)=>{"use strict";function r(e,t){return t?t.aborted?Promise.resolve(void 0):new Promise((n=>{const r=o(e,(e=>{t.removeEventListener("abort",i),n(e)})),i=()=>{r.dispose(),t.removeEventListener("abort",i),n(void 0)};t.addEventListener("abort",i)})):new Promise((t=>o(e,t)))}n.r(t),n.d(t,{EventEmitter:()=>i,once:()=>o,toPromise:()=>r});const o=(e,t)=>{const n=e((e=>{t(e),n.dispose()}));return n};class i{constructor(){this.event=(e,t,n)=>{const r=this.add(t?e.bind(t):e);return n?.push(r),r}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}},3986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DataViewIndexOutOfBoundsError:()=>j,DecodeError:()=>S,Decoder:()=>q,EXT_TIMESTAMP:()=>b,Encoder:()=>A,ExtData:()=>y,ExtensionCodec:()=>x,decode:()=>G,decodeArrayStream:()=>ne,decodeAsync:()=>te,decodeMulti:()=>K,decodeMultiStream:()=>re,decodeStream:()=>oe,decodeTimestampExtension:()=>k,decodeTimestampToTimeSpec:()=>T,encode:()=>O,encodeDateToTimeSpec:()=>E,encodeTimeSpecToTimestamp:()=>C,encodeTimestampExtension:()=>P});var r,o,i,s=4294967295;function a(e,t,n){var r=Math.floor(n/4294967296),o=n;e.setUint32(t,r),e.setUint32(t+4,o)}function c(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var l=("undefined"==typeof process||"never"!==(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function u(e){for(var t=e.length,n=0,r=0;r<t;){var o=e.charCodeAt(r++);if(4294967168&o)if(4294965248&o){if(o>=55296&&o<=56319&&r<t){var i=e.charCodeAt(r);56320==(64512&i)&&(++r,o=((1023&o)<<10)+(1023&i)+65536)}n+=4294901760&o?4:3}else n+=2;else n++}return n}var d=l?new TextEncoder:void 0,h=l?"undefined"!=typeof process&&"force"!==(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.TEXT_ENCODING)?200:0:s,f=(null==d?void 0:d.encodeInto)?function(e,t,n){d.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(d.encode(e),n)};function p(e,t,n){for(var r=t,o=r+n,i=[],s="";r<o;){var a=e[r++];if(128&a)if(192==(224&a)){var c=63&e[r++];i.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[r++];var l=63&e[r++];i.push((31&a)<<12|c<<6|l)}else if(240==(248&a)){var u=(7&a)<<18|(c=63&e[r++])<<12|(l=63&e[r++])<<6|63&e[r++];u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u)}else i.push(a);else i.push(a);i.length>=4096&&(s+=String.fromCharCode.apply(String,i),i.length=0)}return i.length>0&&(s+=String.fromCharCode.apply(String,i)),s}var m,g=l?new TextDecoder:null,v=l?"undefined"!=typeof process&&"force"!==(null===(i=null===process||void 0===process?void 0:process.env)||void 0===i?void 0:i.TEXT_DECODER)?200:0:s,y=function(e,t){this.type=e,this.data=t},w=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),S=function(e){function t(n){var r=e.call(this,n)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(r,o),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return w(t,e),t}(Error),b=-1,_=4294967295,D=17179869183;function C(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=D){if(0===r&&n<=_){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,n),o}var i=n/4294967296,s=4294967295&n;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,r<<2|3&i),t.setUint32(4,s),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,r),a(t,4,n),o}function E(e){var t=e.getTime(),n=Math.floor(t/1e3),r=1e6*(t-1e3*n),o=Math.floor(r/1e9);return{sec:n+o,nsec:r-1e9*o}}function P(e){return e instanceof Date?C(E(e)):null}function T(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:c(t,4),nsec:t.getUint32(0)};default:throw new S("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function k(e){var t=T(e);return new Date(1e3*t.sec+t.nsec/1e6)}var I={type:b,encode:P,decode:k},x=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(I)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var o=1+t;this.builtInEncoders[o]=n,this.builtInDecoders[o]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(o=r(e,t)))return new y(-1-n,o);for(n=0;n<this.encoders.length;n++){var r,o;if(null!=(r=this.encoders[n])&&null!=(o=r(e,t)))return new y(n,o)}return e instanceof y?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new y(t,e)},e.defaultCodec=new e,e}();function R(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var A=function(){function e(e,t,n,r,o,i,s,a){void 0===e&&(e=x.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=o,this.forceFloat32=i,this.ignoreUndefined=s,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>h){var t=u(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),f(e,this.bytes,this.pos),this.pos+=t}else t=u(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,o=n,i=0;i<r;){var s=e.charCodeAt(i++);if(4294967168&s){if(4294965248&s){if(s>=55296&&s<=56319&&i<r){var a=e.charCodeAt(i);56320==(64512&a)&&(++i,s=((1023&s)<<10)+(1023&a)+65536)}4294901760&s?(t[o++]=s>>18&7|240,t[o++]=s>>12&63|128,t[o++]=s>>6&63|128):(t[o++]=s>>12&15|224,t[o++]=s>>6&63|128)}else t[o++]=s>>6&31|192;t[o++]=63&s|128}else t[o++]=s}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=R(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,o=e;r<o.length;r++){var i=o[r];this.doEncode(i,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,o=t;r<o.length;r++)void 0!==e[o[r]]&&n++;return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var o=0,i=n;o<i.length;o++){var s=i[o],a=e[s];this.ignoreUndefined&&void 0===a||(this.encodeString(s),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,o=n;e.setUint32(t,r),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a(this.view,this.pos,e),this.pos+=8},e}(),F={};function O(e,t){return void 0===t&&(t=F),new A(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}function L(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var M=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,o=this.caches[n-1];r<o.length;r++){for(var i=o[r],s=i.bytes,a=0;a<n;a++)if(s[a]!==e[t+a])continue e;return i.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var o=p(e,t,n),i=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(i,o),o},e}(),$=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},B=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}},N=function(e){return this instanceof N?(this.v=e,this):new N(e)},U=new DataView(new ArrayBuffer(0)),H=new Uint8Array(U.buffer),j=function(){try{U.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),W=new j("Insufficient data"),z=new M,q=function(){function e(e,t,n,r,o,i,a,c){void 0===e&&(e=x.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=s),void 0===r&&(r=s),void 0===o&&(o=s),void 0===i&&(i=s),void 0===a&&(a=s),void 0===c&&(c=z),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=o,this.maxMapLength=i,this.maxExtLength=a,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=U,this.bytes=H,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=R(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=R(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=R(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return $(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,o,i,s,a,c;return i=this,s=void 0,c=function(){var i,s,a,c,l,u,d,h;return $(this,(function(f){switch(f.label){case 0:i=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),t=B(e),f.label=2;case 2:return[4,t.next()];case 3:if((n=f.sent()).done)return[3,5];if(a=n.value,i)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{s=this.doDecodeSync(),i=!0}catch(e){if(!(e instanceof j))throw e}this.totalPos+=this.pos,f.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=f.sent(),r={error:c},[3,12];case 7:return f.trys.push([7,,10,11]),n&&!n.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(i){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,s]}throw u=(l=this).headByte,d=l.pos,h=l.totalPos,new RangeError("Insufficient data in parsing ".concat(L(u)," at ").concat(h," (").concat(d," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(c.next(e))}catch(e){t(e)}}function r(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((c=c.apply(i,s||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof N?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var n,r,o,i,s,a,c,l,u;return $(this,(function(d){switch(d.label){case 0:n=t,r=-1,d.label=1;case 1:d.trys.push([1,13,14,19]),o=B(e),d.label=2;case 2:return[4,N(o.next())];case 3:if((i=d.sent()).done)return[3,12];if(s=i.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(r=this.readArraySize(),n=!1,this.complete()),d.label=4;case 4:d.trys.push([4,9,,10]),d.label=5;case 5:return[4,N(this.doDecodeSync())];case 6:return[4,d.sent()];case 7:return d.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=d.sent())instanceof j))throw a;return[3,10];case 10:this.totalPos+=this.pos,d.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=d.sent(),l={error:c},[3,19];case 14:return d.trys.push([14,,17,18]),i&&!i.done&&(u=o.return)?[4,N(u.call(o))]:[3,16];case 15:d.sent(),d.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new S("Unrecognized type byte: ".concat(L(e)));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var o=this.stack;o.length>0;){var i=o[o.length-1];if(0===i.type){if(i.array[i.position]=t,i.position++,i.position!==i.size)continue e;o.pop(),t=i.array}else{if(1===i.type){if(void 0,"string"!=(s=typeof t)&&"number"!==s)throw new S("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new S("The key __proto__ is not allowed");i.key=t,i.type=2;continue e}if(i.map[i.key]=t,i.readCount++,i.readCount!==i.size){i.key=null,i.type=1;continue e}o.pop(),t=i.map}}return t}var s},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new S("Unrecognized array type byte: ".concat(L(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new S("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new S("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new S("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw W;var r,o=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>v?function(e,t,n){var r=e.subarray(t,t+n);return g.decode(r)}(this.bytes,o,e):p(this.bytes,o,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new S("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw W;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new S("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=c(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),V={};function G(e,t){return void 0===t&&(t=V),new q(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function K(e,t){return void 0===t&&(t=V),new q(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var J=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},X=function(e){return this instanceof X?(this.v=e,this):new X(e)},Z=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof X?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}};function Y(e){return null!=e[Symbol.asyncIterator]?e:function(e){return Z(this,arguments,(function(){var t,n,r,o;return J(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,X(t.read())];case 3:return n=i.sent(),r=n.done,o=n.value,r?[4,X(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(o),[4,X(o)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}var Q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},ee=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};function te(e,t){return void 0===t&&(t=V),Q(this,void 0,void 0,(function(){var n;return ee(this,(function(r){return n=Y(e),[2,new q(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(n)]}))}))}function ne(e,t){void 0===t&&(t=V);var n=Y(e);return new q(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(n)}function re(e,t){void 0===t&&(t=V);var n=Y(e);return new q(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}function oe(e,t){return void 0===t&&(t=V),re(e,t)}},7288:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(3720);const o=class extends r.A{#ut=0;#dt="";constructor(e,t,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),null===n&&(n={});const r=void 0===n.lastModified?Date.now():Number(n.lastModified);Number.isNaN(r)||(this.#ut=r),this.#dt=String(t)}get name(){return this.#dt}get lastModified(){return this.#ut}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof r.A&&/^(File)$/.test(e[Symbol.toStringTag])}}},9730:(e,t,n)=>{"use strict";n.d(t,{YQ:()=>a.A,ZH:()=>s.A,k4:()=>u,F8:()=>l,NX:()=>d,_M:()=>h});const r=require("node:fs"),o=require("node:path");var i=n(5157),s=n(7288),a=n(3720);const{stat:c}=r.promises,l=(e,t)=>f((0,r.statSync)(e),e,t),u=(e,t)=>c(e).then((n=>f(n,e,t))),d=(e,t)=>c(e).then((n=>p(n,e,t))),h=(e,t)=>p((0,r.statSync)(e),e,t),f=(e,t,n="")=>new a.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:n}),p=(e,t,n="")=>new s.A([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:n,lastModified:e.mtimeMs});class m{#ht;#ft;constructor(e){this.#ht=e.path,this.#ft=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new m({path:this.#ht,lastModified:this.lastModified,size:t-e,start:this.#ft+e})}async*stream(){const{mtimeMs:e}=await c(this.#ht);if(e>this.lastModified)throw new i("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,r.createReadStream)(this.#ht,{start:this.#ft,end:this.#ft+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},3720:(e,t,n)=>{"use strict";async function*r(e,t=!0){for(const n of e)if("stream"in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(t){let e=n.byteOffset;const t=n.byteOffset+n.byteLength;for(;e!==t;){const r=Math.min(t-e,65536),o=n.buffer.slice(e,e+r);e+=o.byteLength,yield new Uint8Array(o)}}else yield n;else{let e=0,t=n;for(;e!==t.size;){const n=t.slice(e,Math.min(t.size,e+65536)),r=await n.arrayBuffer();e+=r.byteLength,yield new Uint8Array(r)}}}n.d(t,{A:()=>i}),n(3328);const o=class e{#y=[];#te="";#N=0;#pt="transparent";constructor(t=[],n={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof n&&"function"!=typeof n)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===n&&(n={});const r=new TextEncoder;for(const n of t){let t;t=ArrayBuffer.isView(n)?new Uint8Array(n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)):n instanceof ArrayBuffer?new Uint8Array(n.slice(0)):n instanceof e?n:r.encode(`${n}`),this.#N+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#y.push(t)}this.#pt=`${void 0===n.endings?"transparent":n.endings}`;const o=void 0===n.type?"":String(n.type);this.#te=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#N}get type(){return this.#te}async text(){const e=new TextDecoder;let t="";for await(const n of r(this.#y,!1))t+=e.decode(n,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const n of r(this.#y,!1))e.set(n,t),t+=n.length;return e.buffer}stream(){const e=r(this.#y,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const n=await e.next();n.done?t.close():t.enqueue(n.value)},async cancel(){await e.return()}})}slice(t=0,n=this.size,r=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),s=n<0?Math.max(o+n,0):Math.min(n,o);const a=Math.max(s-i,0),c=this.#y,l=[];let u=0;for(const e of c){if(u>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,s-=t;else{let n;ArrayBuffer.isView(e)?(n=e.subarray(i,Math.min(t,s)),u+=n.byteLength):(n=e.slice(i,Math.min(t,s)),u+=n.size),s-=t,l.push(n),i=0}}const d=new e([],{type:String(r).toLowerCase()});return d.#N=a,d.#y=l,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const i=o},8435:(e,t,n)=>{"use strict";n.d(t,{$n:()=>p,fS:()=>f});var r=n(3720),o=n(7288),{toStringTag:i,iterator:s,hasInstance:a}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,n)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(n=void 0!==n?n+"":"File"==t[i]?t.name:"blob",e),t.name!==n||"blob"==t[i]?new o.A([t],n,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),h=(e,t,n)=>{if(t.length<n)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${n} arguments required, but only ${t.length} present.`)};const f=class{#mt=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[s](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){h("append",arguments,2),this.#mt.push(u(...e))}delete(e){h("delete",arguments,1),e+="",this.#mt=this.#mt.filter((([t])=>t!==e))}get(e){h("get",arguments,1),e+="";for(var t=this.#mt,n=t.length,r=0;r<n;r++)if(t[r][0]===e)return t[r][1];return null}getAll(e,t){return h("getAll",arguments,1),t=[],e+="",this.#mt.forEach((n=>n[0]===e&&t.push(n[1]))),t}has(e){return h("has",arguments,1),e+="",this.#mt.some((t=>t[0]===e))}forEach(e,t){for(var[n,r]of(h("forEach",arguments,1),this))e.call(t,r,n,this)}set(...e){h("set",arguments,2);var t=[],n=!0;e=u(...e),this.#mt.forEach((r=>{r[0]===e[0]?n&&(n=!t.push(e)):t.push(r)})),n&&t.push(e),this.#mt=t}*entries(){yield*this.#mt}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function p(e,t=r.A){var n=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${n}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(i+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${n}--`),new t(o,{type:"multipart/form-data; boundary="+n})}},2065:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AbortError:()=>z,Blob:()=>q.YQ,FetchError:()=>f,File:()=>q.ZH,FormData:()=>d.fS,Headers:()=>I,Request:()=>j,Response:()=>F,blobFrom:()=>q.k4,blobFromSync:()=>q.F8,default:()=>G,fileFrom:()=>q.NX,fileFromSync:()=>q._M,isRedirect:()=>R});const r=require("node:http"),o=require("node:https"),i=require("node:zlib"),s=require("node:stream"),a=require("node:buffer"),c=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const n=e.substring(5,t).split(";");let r="",o=!1;const i=n[0]||"text/plain";let s=i;for(let e=1;e<n.length;e++)"base64"===n[e]?o=!0:n[e]&&(s+=`;${n[e]}`,0===n[e].indexOf("charset=")&&(r=n[e].substring(8)));n[0]||r.length||(s+=";charset=US-ASCII",r="US-ASCII");const a=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,a);return l.type=i,l.typeFull=s,l.charset=r,l},l=require("node:util");var u=n(3720),d=n(8435);class h extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class f extends h{constructor(e,t,n){super(e,t),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}}const p=Symbol.toStringTag,m=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[p],g=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[p]),v=(e,t)=>{const n=new URL(t).hostname,r=new URL(e).hostname;return n===r||n.endsWith(`.${r}`)},y=(e,t)=>new URL(t).protocol===new URL(e).protocol,w=(0,l.promisify)(s.pipeline),S=Symbol("Body internals");class b{constructor(e,{size:t=0}={}){let n=null;null===e?e=null:m(e)?e=a.Buffer.from(e.toString()):g(e)||a.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof s||(e instanceof d.fS?n=(e=(0,d.$n)(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let r=e;a.Buffer.isBuffer(e)?r=s.Readable.from(e):g(e)&&(r=s.Readable.from(e.stream())),this[S]={body:e,stream:r,boundary:n,disturbed:!1,error:null},this.size=t,e instanceof s&&e.on("error",(e=>{const t=e instanceof h?e:new f(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[S].error=t}))}get body(){return this[S].stream}get bodyUsed(){return this[S].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:n}=await _(this);return e.slice(t,t+n)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new d.fS,t=new URLSearchParams(await this.text());for(const[n,r]of t)e.append(n,r);return e}const{toFormData:t}=await n.e(460).then(n.bind(n,5079));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[S].body&&this[S].body.type||"",t=await this.arrayBuffer();return new u.A([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await _(this);return(new TextDecoder).decode(e)}buffer(){return _(this)}}async function _(e){if(e[S].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[S].disturbed=!0,e[S].error)throw e[S].error;const{body:t}=e;if(null===t)return a.Buffer.alloc(0);if(!(t instanceof s))return a.Buffer.alloc(0);const n=[];let r=0;try{for await(const o of t){if(e.size>0&&r+o.length>e.size){const n=new f(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(n),n}r+=o.length,n.push(o)}}catch(t){throw t instanceof h?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new f(`Premature close of server response while trying to fetch ${e.url}`);try{return n.every((e=>"string"==typeof e))?a.Buffer.from(n.join("")):a.Buffer.concat(n,r)}catch(t){throw new f(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}b.prototype.buffer=(0,l.deprecate)(b.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(b.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,l.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const D=(e,t)=>{let n,r,{body:o}=e[S];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof s&&"function"!=typeof o.getBoundary&&(n=new s.PassThrough({highWaterMark:t}),r=new s.PassThrough({highWaterMark:t}),o.pipe(n),o.pipe(r),e[S].stream=n,o=r),o},C=(0,l.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),E=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":m(e)?"application/x-www-form-urlencoded;charset=UTF-8":g(e)?e.type||null:a.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof d.fS?`multipart/form-data; boundary=${t[S].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${C(e)}`:e instanceof s?null:"text/plain;charset=UTF-8",P=async(e,{body:t})=>{null===t?e.end():await w(t,e)},T="function"==typeof r.validateHeaderName?r.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},k="function"==typeof r.validateHeaderValue?r.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class I extends URLSearchParams{constructor(e){let t=[];if(e instanceof I){const n=e.raw();for(const[e,r]of Object.entries(n))t.push(...r.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const n=e[Symbol.iterator];if(null==n)t.push(...Object.entries(e));else{if("function"!=typeof n)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(T(e),k(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,n){switch(t){case"append":case"set":return(n,r)=>(T(n),k(n,String(r)),URLSearchParams.prototype[t].call(e,String(n).toLowerCase(),String(r)));case"delete":case"has":case"getAll":return n=>(T(n),URLSearchParams.prototype[t].call(e,String(n).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,n)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let n=t.join(", ");return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,t=void 0){for(const n of this.keys())Reflect.apply(e,t,[this.get(n),n,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const n=this.getAll(t);return e[t]="host"===t?n[0]:n.length>1?n:n[0],e}),{})}}Object.defineProperties(I.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const x=new Set([301,302,303,307,308]),R=e=>x.has(e),A=Symbol("Response internals");class F extends b{constructor(e=null,t={}){super(e,t);const n=null!=t.status?t.status:200,r=new I(t.headers);if(null!==e&&!r.has("Content-Type")){const t=E(e,this);t&&r.append("Content-Type",t)}this[A]={type:"default",url:t.url,status:n,statusText:t.statusText||"",headers:r,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[A].type}get url(){return this[A].url||""}get status(){return this[A].status}get ok(){return this[A].status>=200&&this[A].status<300}get redirected(){return this[A].counter>0}get statusText(){return this[A].statusText}get headers(){return this[A].headers}get highWaterMark(){return this[A].highWaterMark}clone(){return new F(D(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!R(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new F(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new F(null,{status:0,statusText:""});return e[A].type="error",e}static json(e=void 0,t={}){const n=JSON.stringify(e);if(void 0===n)throw new TypeError("data is not JSON serializable");const r=new I(t&&t.headers);return r.has("content-type")||r.set("content-type","application/json"),new F(n,{...t,headers:r})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(F.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const O=require("node:url"),L=require("node:net");function M(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const $=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function B(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),n=(0,L.isIP)(t);return!(4!==n||!/^127\./.test(t))||!(6!==n||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const N=Symbol("Request internals"),U=e=>"object"==typeof e&&"object"==typeof e[N],H=(0,l.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class j extends b{constructor(e,t={}){let n;if(U(e)?n=new URL(e.url):(n=new URL(e),e={}),""!==n.username||""!==n.password)throw new TypeError(`${n} is an url with embedded credentials.`);let r=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(r)&&(r=r.toUpperCase()),!U(t)&&"data"in t&&H(),(null!=t.body||U(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:U(e)&&null!==e.body?D(e):null;super(o,{size:t.size||e.size||0});const i=new I(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=E(o,this);e&&i.set("Content-Type",e)}let s=U(e)?e.signal:null;if("signal"in t&&(s=t.signal),null!=s&&("object"!=typeof(a=s)||"AbortSignal"!==a[p]&&"EventTarget"!==a[p]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[N]={method:r,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:n,signal:s,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[N].method}get url(){return(0,O.format)(this[N].parsedURL)}get headers(){return this[N].headers}get redirect(){return this[N].redirect}get signal(){return this[N].signal}get referrer(){return"no-referrer"===this[N].referrer?"":"client"===this[N].referrer?"about:client":this[N].referrer?this[N].referrer.toString():void 0}get referrerPolicy(){return this[N].referrerPolicy}set referrerPolicy(e){this[N].referrerPolicy=function(e){if(!$.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new j(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(j.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const W=e=>{const{parsedURL:t}=e[N],n=new I(e[N].headers);n.has("Accept")||n.set("Accept","*/*");let r=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(r="0"),null!==e.body){const t=(e=>{const{body:t}=e[S];return null===t?0:g(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(r=String(t))}r&&n.set("Content-Length",r),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[N].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:n}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const r=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=M(o),s=M(o,!0);i.toString().length>4096&&(i=s),t&&(i=t(i)),n&&(s=n(s));const a=new URL(e.url);switch(r){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return i;case"strict-origin":return B(i)&&!B(a)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return i.origin===a.origin?i:B(i)&&!B(a)?"no-referrer":s;case"same-origin":return i.origin===a.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===a.origin?i:s;case"no-referrer-when-downgrade":return B(i)&&!B(a)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${r}`)}}(e):e[N].referrer="no-referrer",e[N].referrer instanceof URL&&n.set("Referer",e.referrer),n.has("User-Agent")||n.set("User-Agent","node-fetch"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),n.has("Connection")||o||n.set("Connection","close");const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,n=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-n.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:n[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class z extends h{constructor(e,t="aborted"){super(e,t)}}var q=n(9730);const V=new Set(["data:","http:","https:"]);async function G(e,t){return new Promise(((n,l)=>{const u=new j(e,t),{parsedURL:d,options:h}=W(u);if(!V.has(d.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${d.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===d.protocol){const e=c(u.url),t=new F(e,{headers:{"Content-Type":e.typeFull}});return void n(t)}const p=("https:"===d.protocol?o:r).request,{signal:m}=u;let g=null;const w=()=>{const e=new z("The operation was aborted.");l(e),u.body&&u.body instanceof s.Readable&&u.body.destroy(e),g&&g.body&&g.body.emit("error",e)};if(m&&m.aborted)return void w();const S=()=>{w(),_()},b=p(d.toString(),h);m&&m.addEventListener("abort",S);const _=()=>{b.abort(),m&&m.removeEventListener("abort",S)};b.on("error",(e=>{l(new f(`request to ${u.url} failed, reason: ${e.message}`,"system",e)),_()})),function(e){const t=a.Buffer.from("0\r\n\r\n");let n,r=!1,o=!1;e.on("response",(e=>{const{headers:t}=e;r="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(i=>{const s=()=>{if(r&&!o){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{g&&g.body&&g.body.destroy(e)})(e)}},c=e=>{o=0===a.Buffer.compare(e.slice(-5),t),!o&&n&&(o=0===a.Buffer.compare(n.slice(-3),t.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),t.slice(3))),n=e};i.prependListener("close",s),i.on("data",c),e.on("close",(()=>{i.removeListener("close",s),i.removeListener("data",c)}))}))}(b),process.version<"v14"&&b.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(n=>{if(g&&t<e._eventsCount&&!n){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",e)}}))})),b.on("response",(e=>{b.setTimeout(0);const r=function(e=[]){return new I(e.reduce(((e,t,n,r)=>(n%2==0&&e.push(r.slice(n,n+2)),e)),[]).filter((([e,t])=>{try{return T(e),k(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(R(e.statusCode)){const o=r.get("Location");let i=null;try{i=null===o?null:new URL(o,u.url)}catch{if("manual"!==u.redirect)return l(new f(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),void _()}switch(u.redirect){case"error":return l(new f(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect")),void _();case"manual":break;case"follow":{if(null===i)break;if(u.counter>=u.follow)return l(new f(`maximum redirect reached at: ${u.url}`,"max-redirect")),void _();const o={headers:new I(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:D(u),signal:u.signal,size:u.size,referrer:u.referrer,referrerPolicy:u.referrerPolicy};if(!v(u.url,i)||!y(u.url,i))for(const e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&u.body&&t.body instanceof s.Readable)return l(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==u.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length"));const a=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let n="";for(const e of t)e&&$.has(e)&&(n=e);return n}(r);return a&&(o.referrerPolicy=a),n(G(new j(i,o))),void _()}default:return l(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}m&&e.once("end",(()=>{m.removeEventListener("abort",S)}));let o=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&l(e)}));process.version<"v12.10"&&e.on("aborted",S);const a={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:r,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark},c=r.get("Content-Encoding");if(!u.compress||"HEAD"===u.method||null===c||204===e.statusCode||304===e.statusCode)return g=new F(o,a),void n(g);const d={flush:i.Z_SYNC_FLUSH,finishFlush:i.Z_SYNC_FLUSH};if("gzip"===c||"x-gzip"===c)return o=(0,s.pipeline)(o,i.createGunzip(d),(e=>{e&&l(e)})),g=new F(o,a),void n(g);if("deflate"===c||"x-deflate"===c){const t=(0,s.pipeline)(e,new s.PassThrough,(e=>{e&&l(e)}));return t.once("data",(e=>{o=8==(15&e[0])?(0,s.pipeline)(o,i.createInflate(),(e=>{e&&l(e)})):(0,s.pipeline)(o,i.createInflateRaw(),(e=>{e&&l(e)})),g=new F(o,a),n(g)})),void t.once("end",(()=>{g||(g=new F(o,a),n(g))}))}if("br"===c)return o=(0,s.pipeline)(o,i.createBrotliDecompress(),(e=>{e&&l(e)})),g=new F(o,a),void n(g);g=new F(o,a),n(g)})),P(b,u).catch(l)}))}},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"remote-ssh","displayName":"Remote - SSH","description":"%description%","version":"0.116.1","publisher":"ms-vscode-remote","icon":"resources/remote-ssh.png","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-remote-release.git"},"bugs":{"url":"https://github.com/Microsoft/vscode-remote-release/issues"},"license":"SEE LICENSE IN LICENSE.txt","engines":{"vscode":"^1.96.0"},"extensionKind":["ui"],"enabledApiProposals":["resolvers","tunnels","terminalDataWriteEvent","contribViewsRemote","telemetry","contribRemoteHelp"],"extensionPack":["ms-vscode-remote.remote-ssh-edit","ms-vscode.remote-explorer"],"categories":["Other"],"keywords":["remote development","remote","ssh"],"api":"none","activationEvents":["onCommand:remote-internal.getSshFoldersHistory","onCommand:remote-internal.deleteSshFolderFromHistory","onCommand:remote-internal.getActiveSshRemote","onCommand:remote-internal.getConfiguredHostnames","onCommand:remote-internal.openRemoteSshTarget","onResolveRemoteAuthority:ssh-remote","onUri"],"l10n":"./l10n","main":"./out/extension","aiKey":"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255","capabilities":{"untrustedWorkspaces":{"supported":true}},"contributes":{"chatParticipants":[{"name":"remote-ssh","fullName":"Remote - SSH","id":"remote-ssh","description":"%chatParticipants.description%","isSticky":true,"when":"config.remote.SSH.experimental.chat"}],"remoteHelp":{"getStarted":"https://aka.ms/vscode-remote/ssh/getting-started","feedback":"https://aka.ms/vscode-remote/ssh/provide-feedback","documentation":"https://aka.ms/vscode-remote/ssh","issues":"https://aka.ms/vscode-remote/ssh/issues","remoteName":["ssh-remote"]},"configuration":{"title":"Remote - SSH","properties":{"remote.SSH.configFile":{"type":"string","description":"%setting.configFile.description%","default":"","scope":"application"},"remote.SSH.showLoginTerminal":{"type":"boolean","description":"%setting.showLoginTerminal.description%","scope":"application","default":false},"remote.SSH.defaultForwardedPorts":{"type":"array","items":{"type":"object","required":["remotePort"],"properties":{"name":{"type":"string"},"remotePort":{"type":"number"},"localPort":{"type":"number"}}},"description":"%setting.defaultForwardedPorts.description%","default":[]},"remote.SSH.defaultExtensions":{"type":"array","items":{"type":"string"},"description":"%setting.defaultExtensions.description%","scope":"application"},"remote.SSH.path":{"type":"string","description":"%setting.path.description%","default":"","scope":"application"},"remote.SSH.serverInstallPath":{"type":"object","description":"%setting.serverInstallPath.description%","scope":"application","additionalProperties":{"type":"string"}},"remote.SSH.lockfilesInTmp":{"type":"boolean","markdownDescription":"%setting.lockfilesInTmp.description%","scope":"application","default":false},"remote.SSH.useFlock":{"type":"boolean","markdownDescription":"%setting.useFlock.description%","scope":"application","default":true},"remote.SSH.enableDynamicForwarding":{"type":"boolean","description":"%setting.enableDynamicForwarding.description%","scope":"application","default":true},"remote.SSH.enableAgentForwarding":{"type":"boolean","markdownDescription":"%setting.enableAgentForwarding.description%","scope":"application","default":true},"remote.SSH.enableX11Forwarding":{"type":"boolean","markdownDescription":"%setting.enableX11Forwarding.description%","scope":"application","default":true},"remote.SSH.permitPtyAllocation":{"type":"boolean","markdownDescription":"%setting.permitPtyAllocation.description%","scope":"application","default":false},"remote.SSH.useCurlAndWgetConfigurationFiles":{"type":"boolean","markdownDescription":"%setting.useCurlAndWgetConfigurationFiles.description%","scope":"application","default":false},"remote.SSH.useExecServer":{"type":"boolean","markdownDescription":"%setting.useExecServer.description%","scope":"application","default":true},"remote.SSH.enableRemoteCommand":{"type":"boolean","markdownDescription":"%setting.enableRemoteCommand.description%","scope":"application","default":false},"remote.SSH.externalSSH_ASKPASS":{"type":"boolean","markdownDescription":"%setting.externalSSH_ASKPASS.description%","scope":"application","default":false},"remote.SSH.allowLocalServerDownload":{"type":"boolean","description":"%setting.allowLocalServerDownload.description%","markdownDeprecationMessage":"%setting.allowLocalServerDownload.deprecationMessage%","scope":"application","default":true},"remote.SSH.localServerDownload":{"type":"string","description":"%setting.localServerDownload.description%","enum":["auto","always","off"],"enumDescriptions":["%setting.localServerDownload.auto.description%","%setting.localServerDownload.always.description%","%setting.localServerDownload.off.description%"],"scope":"application","default":"auto"},"remote.SSH.windowsRemotes":{"type":"array","markdownDescription":"%setting.windowsRemotes.description%","deprecationMessage":"%setting.windowsRemotes.deprecationMessage%","default":[],"items":{"type":"string"},"scope":"application"},"remote.SSH.useLocalServer":{"type":"boolean","markdownDescription":"%setting.useLocalServer.description%","scope":"application","default":true},"remote.SSH.connectTimeout":{"type":"number","description":"%setting.connectTimeout.description%","default":15,"scope":"application","minimum":1},"remote.SSH.logLevel":{"type":"string","description":"%setting.logLevel.description%","default":"debug","scope":"application","enum":["debug","trace"]},"remote.SSH.maxReconnectionAttempts":{"type":["number","null"],"markdownDescription":"%setting.maxReconnectionAttempts.description%","default":null,"scope":"application","maximum":8,"minimum":0},"remote.SSH.suppressWindowsSshWarning":{"type":"boolean","description":"%setting.suppressWindowsSshWarning.description%","default":false,"scope":"application"},"remote.SSH.remotePlatform":{"type":"object","markdownDescription":"%setting.remotePlatform.description%","scope":"application","additionalProperties":{"type":"string","enum":["macOS","windows","linux"]}},"remote.SSH.remoteServerListenOnSocket":{"type":"boolean","default":false,"markdownDescription":"%setting.remoteServerListenOnSocket.description%"},"remote.SSH.serverPickPortsFromRange":{"type":"object","markdownDescription":"%setting.serverPickPortsFromRange.description%","scope":"application","additionalProperties":{"type":"string","pattern":"^\\\\d+-\\\\d+$"}},"remote.SSH.preferredLocalPortRange":{"type":"string","default":"","markdownDescription":"%setting.preferredLocalPortRange.description%","scope":"application","pattern":"^\\\\d+-\\\\d+$|^$"},"remote.SSH.bindHost":{"type":"object","markdownDescription":"%setting.bindHost.description%","scope":"application","examples":[{"example.com":"127.0.0.1"}],"additionalProperties":{"type":"string","default":"127.0.0.1"}},"remote.SSH.experimental.chat":{"type":"boolean","markdownDescription":"%setting.experimental.chat.description%","scope":"application","default":true,"tags":["experimental"]},"remote.SSH.experimental.enhancedSessionLogs":{"type":"boolean","markdownDescription":"%setting.experimental.enhancedSessionLogs.description%","scope":"application","default":true,"tags":["experimental"]}}},"commands":[{"command":"opensshremotes.openWebUI","title":"%commands.openWebUI.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindow","title":"%commands.openEmptyWindow,title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","title":"%commands.openEmptyWindowOnCurrentHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","title":"%commands.openEmptyWindowInCurrentWindow.title%","category":"Remote-SSH"},{"command":"opensshremotes.openConfigFile","title":"%commands.openConfigFile.title%","category":"Remote-SSH"},{"command":"opensshremotes.addNewSshHost","title":"%commands.addNewSshHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanDevBox","title":"%commands.cleanDevBox.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanRemoteServer","title":"%commands.cleanRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanCurrentRemoteServer","title":"%commands.cleanCurrentRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanLocalServer","title":"%commands.cleanLocalServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.getHelp","title":"%commands.getHelp.title%","category":"Remote-SSH"},{"command":"opensshremotes.getStarted","title":"%commands.getStarted.title%","category":"Remote-SSH"},{"command":"opensshremotes.reportIssue","title":"%commands.reportIssue.title%","category":"Remote-SSH"},{"command":"opensshremotes.settings","title":"%commands.settings.title%","category":"Remote-SSH"},{"command":"opensshremotes.provideFeedback","title":"%commands.provideFeedback.title%","category":"Remote-SSH"},{"command":"opensshremotes.showLog","title":"%commands.showLog.title%","category":"Remote-SSH"},{"command":"opensshremotes.clearAllSessionHints","title":"%commands.clearAllSessionHints.title%","category":"Remote-SSH","enablement":"config.remote.SSH.experimental.chat"}],"resourceLabelFormatters":[{"scheme":"vscode-remote","authority":"ssh-remote+*","formatting":{"label":"${path}","separator":"/","tildify":true,"workspaceSuffix":"SSH"}}],"menus":{"statusBar/remoteIndicator":[{"command":"opensshremotes.openEmptyWindow","group":"remote_20_ssh-remote_1general@1"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","group":"remote_20_ssh-remote_1general@2"}],"commandPalette":[{"command":"opensshremotes.getStarted","when":"!remoteName && !virtualWorkspace || remoteName =~ /^ssh-remote$/ && remoteConnectionState == disconnected"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.provideFeedback","when":"remoteName =~ /^ssh-remote$/"},{"command":"opensshremotes.cleanCurrentRemoteServer","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.cleanLocalServer","when":"config.remote.SSH.useLocalServer"},{"command":"opensshremotes.openWebUI","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected && config.remote.SSH.enableWebAccess"}]}},"scripts":{"lint:eslint":"eslint \\"src/**/*.ts\\"","lint:shellcheck":"node scripts/shellcheck.js","lint":"npm-run-all lint:eslint lint:shellcheck","preinstall":"npm exec ado-npm-auth","postinstall":"npm run downloadapi","downloadapi":"vscode-dts dev","vscode:prepublish":"webpack --mode production","compile":"webpack --mode development","watch":"webpack --mode development --watch","package":"vsce package --yarn","pretest":"npm run compile","test":"vscode-test --label unit","test:baseline":"vscode-test --label baseline","baseline":"npm-run-all pretest test:baseline"},"devDependencies":{"@devcontainers/cli":"latest","@types/glob":"^8.1.0","@types/lockfile":"^1.0.4","@types/minimist":"^1.2.5","@types/mocha":"^10.0.6","@types/node":"^20.10.3","@types/shell-quote":"^1.7.5","@types/sinon":"^17.0.2","@types/vscode":"1.90.0","@types/webpack":"^5.28.5","@typescript-eslint/eslint-plugin":"^6.13.2","@typescript-eslint/parser":"^6.13.2","@vscode/test-cli":"^0.0.10","@vscode/test-electron":"^2.4.1","@vscode/vsce":"^2.22.0","ado-npm-auth":"^0.1.2","copy-webpack-plugin":"^11.0.0","copyfiles":"^2.4.1","eslint":"^8.55.0","mocha":"^10.2.0","npm-run-all2":"^7.0.1","shellcheck":"^3.0.0","sinon":"^17.0.1","ts-loader":"^9.5.1","ts-sinon":"^2.0.2","typescript":"^5.3.2","vscode-dts":"^0.3.3","webpack":"^5.94.0","webpack-cli":"^5.1.4"},"dependencies":{"@enonic/fnv-plus":"^1.3.0","@microsoft/dev-tunnels-contracts":"^1.0.7463","@vscode-internal/remote-web-rpc":"^2.1.9","@vscode/chat-extension-utils":"^0.0.0-alpha.4","@vscode/extension-telemetry":"^0.9.0","@vscode/prompt-tsx":"^0.3.0-alpha.13","glob":"^10.3.10","https-proxy-agent":"^7.0.2","lockfile":"^1.0.4","minimist":"^1.2.8","posix-getopt":"^1.2.1","shell-quote":"^1.8.1","socks":"^2.7.3","ssh-config":"^4.4.4","table":"^6.8.2"},"resolutions":{"strip-ansi":"6.0.1"}}')},9707:e=>{"use strict";e.exports=JSON.parse('{"description":"Open any folder on a remote machine using SSH and take advantage of VS Code\'s full feature set.","chatParticipants.description":"Learn about Remote - SSH and diagnose connection issues","setting.configFile.description":"The absolute file path to a custom SSH config file.","setting.showLoginTerminal.description":"Always reveal the SSH login terminal.","setting.defaultForwardedPorts.description":"A list of ports to forward when the connection is established.","setting.defaultExtensions.description":"List of extensions that should be installed automatically on all SSH hosts.","setting.path.description":"An absolute path to the SSH executable. When empty, it will use \\"ssh\\" on the path or in common install locations.","setting.serverInstallPath.description":{"message":"A map of remote host to absolute path where the VS Code server will be installed. By default the server is installed in the home directory of every remote. **Note**: By changing this setting you may need to clean up other installations of `.vscode-server` on your remote that isn\'t in the path you\'ve configured.","comment":["{Locked=\'`.vscode-server`\'}","Do not translate .vscode-server. It is a specific folder name."]},"setting.lockfilesInTmp.description":"Whether to keep lockfiles in `/tmp` instead of in the server\'s install folder. Useful for connecting to hosts which have issues with locking, such as hosts with a home directory using NFS or another distributed filesystem.","setting.useFlock.description":"Whether to use `flock` for creating lockfiles on Linux remotes instead of `ln`. By default, we use `flock` on Linux remotes and `ln` on macOS.","setting.enableDynamicForwarding.description":"Whether to use SSH dynamic forwarding to allow setting up new port tunnels over an existing SSH connection. When this is used, a password only needs to be entered once for each remote window.","setting.enableAgentForwarding.description":"Enable fixing the remote environment so that the SSH config option `ForwardAgent` will take effect as expected from VS Code\'s remote extension host.","setting.enableX11Forwarding.description":"Enable fixing the remote environment so that the SSH config option `ForwardX11` will take effect as expected from VS Code\'s remote extension host.","setting.permitPtyAllocation.description":"Permits the system to allocate a pseudo-terminal for the SSH connection (by omitting the \'-T\' SSH connection flag). This setting is disabled by default and may be enabled to support specific use-cases.","setting.useCurlAndWgetConfigurationFiles.description":"Respect configuration from remote environment\'s \'curlrc\' and \'wgetrc\' files (placed in their respective default locations).  Enabling this setting may be useful in certain cases (i.e: proxy configuration) but can interfere with this extension\'s operation. Setting may be ignored on platforms that do not support the necessary flags (i.e: busybox).","setting.useExecServer.description":"Uses the a new bootstrapping mode when connecting to a server. Can be toggled off in the event of connection issues.","setting.bindHost.description":"Configures the host the VS Code server will bind to on the remote server. It defaults to IPv4 localhost and should only need modification in advanced cases.","setting.enableRemoteCommand.description":{"message":"**Experimental:** Enable using RemoteCommands from ssh config entries. This is only enabled if `#remote.SSH.useLocalServer#` is enabled as well and the remote you are trying to connect to is not listed under the `#remote.SSH.remotePlatform#` setting.","comment":["{Locked=\'`#remote.SSH.useLocalServer#`\'}","{Locked=\'`#remote.SSH.remotePlatform#`\'}","Do not translate what is in `#...#`. It\'s syntax needed by VS Code."]},"setting.externalSSH_ASKPASS.description":{"message":"**Experimental:** In local server mode (enabled with `#remote.SSH.useLocalServer#`) Remote - SSH uses SSH_ASKPASS to set VS Code as the application to handle authentication requests; this makes prompts for input show up inside VS Code. However, if you have an external application to handle authentication, such as an YubiKey, you may want to set SSH_ASKPASS to your application instead. If you enable this setting then Remote - SSH won\'t override your existing SSH_ASKPASS value if one exists.","comment":["{Locked=\'`#remote.SSH.useLocalServer#`\'}","Do not translate what is in `#...#`. It\'s syntax needed by VS Code."]},"setting.allowLocalServerDownload.description":"If downloading the VS Code server fails on the host, this allows the extension to fall back to downloading on the client and transferring it to the host with scp.","setting.allowLocalServerDownload.deprecationMessage":{"message":"Deprecated, please use `#remote.SSH.localServerDownload#`","comment":["{Locked=\'`#remote.SSH.localServerDownload#`\'}","Do not translate what is in `#...#`. It\'s syntax needed by VS Code."]},"setting.localServerDownload.description":"Whether the extension can download the VS Code Server on the client and transfer it to the host with scp, instead of downloading it on the host.","setting.localServerDownload.auto.description":"The server will first be downloaded on the host, and if that fails, will fall back to downloading locally","setting.localServerDownload.always.description":"The server will only be downloaded locally and transferred to the host","setting.localServerDownload.off.description":"The server will only be downloaded on the host","setting.windowsRemotes.description":"**Deprecated**: Enables experimental support for connecting to Windows remotes. Add the names of windows remotes to this list.","setting.windowsRemotes.deprecationMessage":{"message":"Deprecated: Please use `#remote.SSH.remotePlatorm#` instead","comment":["{Locked=\'`#remote.SSH.remotePlatorm#`\'}","Do not translate what is in `#...#`. It\'s syntax needed by VS Code."]},"setting.useLocalServer.description":"Enables a mode for connecting using a single connection shared between windows and across window reloads. This makes it faster to open new windows and reduces the number of times a password needs to be entered.","setting.connectTimeout.description":"Specifies the timeout in seconds used for the SSH command that connects to the remote.","setting.logLevel.description":"The log level for the extension.","setting.maxReconnectionAttempts.description":"The maximum number of times to attempt reconnection. Use 0 to disallow reconnection, and `null` to use the maximum of 8.","setting.suppressWindowsSshWarning.description":"Due to a bug with password handling in some versions of the SSH client bundled with Windows, the extension prefers a non-Windows SSH client, such as the one bundled with Git, and will show a warning when another one can\'t be found. This setting disables that warning.","setting.remotePlatform.description":{"message":"A map of the remote hostname to the platform for that remote. The hostname may include a star \'*\' to wildcard match. Valid values: `linux`, `macOS`, `windows`. Note - this setting will soon be required when `#remote.SSH.useLocalServer#` is disabled, so it is currently being autopopulated for successful connections, but is not currently used.","comment":["{Locked=\'`#remote.SSH.useLocalServer#`\'}","Do not translate what is in `#...#`. It\'s syntax needed by VS Code."]},"setting.remoteServerListenOnSocket.description":"When true, the remote VS Code server will listen on a socket path instead of opening a port. Only valid for Linux and macOS remotes. After toggling this setting, run the command \\"Kill VS Code Server on Host...\\" for it to take effect. Requires OpenSSH 6.7+. Disables the \\"local server\\" connection multiplexing mode. Requires `AllowStreamLocalForwarding` to be enabled for the SSH server.","setting.serverPickPortsFromRange.description":"A map of the remote hostname to a range of ports you\'d prefer the server to connect to on launch on the **remote** machine. If no free port is found in range, an error will be thrown. Valid ranges of the form `number-number` such as `4000-5000`; it\'s expected the first number will be lower than the next.","setting.preferredLocalPortRange.description":"A range of **local** ports preferred to utilize for the SSH tunnel connection. If no free port is found in range, an error will be thrown. Valid ranges of the form `number-number` such as `4000-5000`; it\'s expected the first number will be lower than the next.","setting.experimental.chat.description":"Enables an experimental Copilot Chat Participant.  Use natural language to learn about Remote - SSH and diagnose connection issues.  For the best experience, use VS Code Insiders and ensure you have the latest Copilot Chat extension installed.","setting.experimental.enhancedSessionLogs.description":"Generates a summarized table of issues detected from the previous session.","commands.openWebUI.title":"Open Web UI","commands.openEmptyWindow,title":"Connect to Host...","commands.openEmptyWindowOnCurrentHost.title":"New Window on Active Host","commands.openEmptyWindowInCurrentWindow.title":"Connect Current Window to Host...","commands.openConfigFile.title":"Open SSH Configuration File...","commands.addNewSshHost.title":"Add New SSH Host...","commands.cleanDevBox.title":"Uninstall VS Code Server from Host...","commands.cleanRemoteServer.title":"Kill VS Code Server on Host...","commands.cleanCurrentRemoteServer.title":"Kill Current VS Code Server","commands.cleanLocalServer.title":"Kill Local Connection Server For Host...","commands.getHelp.title":"Help","commands.getStarted.title":"Get Started with SSH","commands.reportIssue.title":"Report Issue...","commands.settings.title":"Settings","commands.provideFeedback.title":"Provide Feedback","commands.showLog.title":"Show Log","commands.clearAllSessionHints.title":"Clear previous session metadata (used for enhanced error reporting)"}')}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e={606:1,921:1},r.f.require=(t,n)=>{e[t]||(t=>{var n=t.modules,o=t.ids,i=t.runtime;for(var s in n)r.o(n,s)&&(r.m[s]=n[s]);i&&i(r);for(var a=0;a<o.length;a++)e[o[a]]=1})(require("./"+r.u(t)))};var o={};(()=>{"use strict";var e=o;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=e.Resolver=void 0;const t=r(1398),n=r(1535),i=r(5187),s=r(7166),a=r(3411),c=r(26),l=r(1566),u=r(712),d=r(1680),h=r(4111),f=r(4847),p=r(4417),m=r(3378),g=r(8805),v=r(1990),y=r(3039),w=r(5880),S=r(7154),b=r(1872),_=r(4800),D=r(96),C=r(2869),E=r(2137),P=r(6710);class T{constructor(e,n,r,o,i){this.folderHistoryManager=e,this.workspaceFolderDescriptors=n,this.logger=r,this.telemetryReporter=o,this.extensionContext=i,this.candidatePortSource=t.CandidatePortSource.Output,this.disposables=i.subscriptions,this.serverDataPath=i.globalStoragePath}logAllSettings(){[["useLocalServer",(0,a.useLocalServer)(),!0],["useExecServer",(0,a.useExecServer)(),!0],["showLoginTerminal",(0,a.showLoginTerminal)(),!(0,a.useLocalServer)()],["remotePlatform",JSON.stringify((0,a.remotePlatform)()),!(0,a.useLocalServer)()],["path",(0,a.sshPath)(),!0],["configFile",(0,a.sshConfigurationFile)(),!0],["useFlock",(0,a.useFlock)(),!0],["lockfilesInTmp",(0,a.lockfilesInTmp)(),!0],["localServerDownload",(0,a.localDownload)(),!0],["remoteServerListenOnSocket",(0,a.remoteServerListenOnSocket)(),!0],["defaultExtensions",JSON.stringify((0,a.getSshDefaultExtensions)()),!0],["loglevel",(0,a.logLevel)(),!0],["maxReconnectionAttempts",JSON.stringify((0,a.maxReconnectionAttempts)()),(0,a.maxReconnectionAttempts)()<Number.MAX_SAFE_INTEGER],["enableDynamicForwarding",(0,a.enableDynamicForwarding)(),!0],["enableRemoteCommand",(0,a.enableRemoteCommand)(),!0],["serverPickPortsFromRange",JSON.stringify((0,a.remotePortRanges)()),!0],["serverInstallPath",JSON.stringify((0,a.serverInstallPath)()),!0],["permitPtyAllocation",(0,a.permitPtyAllocation)(),!0],["preferredLocalPortRange",JSON.stringify((0,a.preferredLocalPortRange)(this.logger)),!0],["useCurlAndWgetConfigurationFiles",(0,a.useCurlAndWgetConfigurationFiles)(),!0],["experimental.chat",(0,a.useExperimentalChat)(),!0],["experimental.enhancedSessionLogs",(0,a.useExperimentalEnhancedSessionLogs)(),!0]].forEach((e=>{if(!e[2])return;let t;if(this.logger.debug(`remote.SSH.${e[0]} = ${e[1]}`),D.HintManager.Instance()){const n=(0,m.getPackageNlsJson)()[`setting.${e[0]}.description`];n&&("string"==typeof n?t=n:"object"==typeof n&&"message"in n&&(t=n.message)),D.HintManager.Instance()?.captureHint({type:"environment",message:`Extension setting '${e[0]}' is set to value '${e[1]}'`,details:t})}}))}async resolveExecServer(e,t){const[n,r]=e.split("+");if(s.ResolverType!==n)throw new Error(`SSH Resolver called for invalid protocol "${n}"`);this.logger.info(`Opening exec server for ${e}`);const o=await v.HostInfo.parseWithConfig(k,r),i=new w.Telemetry(await this.telemetryReporter,t.resolveAttempt,k),a=new S.Timer,c={host:o,useExecServer:!0,deps:{logger:this.logger,progress:{report:()=>{}},serverDataPath:this.serverDataPath,timer:a,telemetry:i},isReconnection:t.resolveAttempt>1};try{return await(0,h.resolveExecServer)(c,e,this.extensionContext)}catch(t){throw this.logger.error(`Error opening exec server for ${e}: ${t}`),t}finally{D.HintManager.Instance()?.logRecentSession(k)}}async resolve(e,n){const r=new S.Timer;r.mark(0),t.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);const o=n.resolveAttempt>1;o&&this.logger.debug("------\n\n\n\n"),this.logger.debug(`SSH Resolver called for "${e}", attempt ${n.resolveAttempt}${o?", (Reconnection)":""}`),o||this.logAllSettings();const[i,c]=e.split("+");if(s.ResolverType!==i)throw new Error(`SSH Resolver called for invalid protocol "${i}"`);const l=await v.HostInfo.parseWithConfig(k,c);this.logger.debug(`SSH Resolver called for host: ${l}`),this.logger.info(`Setting up SSH remote "${l.hostName}"`);const u=new w.Telemetry(await this.telemetryReporter,n.resolveAttempt,k);try{return(0,p.assertValidHost)(l),await t.window.withProgress({location:t.ProgressLocation.Notification,title:t.l10n.t("Setting up SSH Host {0}",l.hostName),cancellable:!1},(async i=>{const s=this.lastResolverResult?.serverInstallationResult,c={host:l,useExecServer:void 0!==s?!!s.execServer:(0,a.useExecServer)(),deps:{logger:this.logger,progress:i,serverDataPath:this.serverDataPath,timer:r,telemetry:u},isReconnection:1!==n.resolveAttempt},f=await(0,h.resolve)(c,e,this.extensionContext,this.disposables),p=f.serverInstallationResult;return o||(0,d.guessRemoteCloud)(e,p.installScriptResult.serverConfiguration.platform,l).then((e=>{u.reportExtraInfo(e)})).finally((()=>{(0,a.defaultForwardedPorts)().forEach((e=>{t.workspace.openTunnel({remoteAddress:{host:"localhost",port:e.remotePort},localAddressPort:e.localPort,label:e.name})}))})),r.mark(4),u.success(p,r),this.folderHistoryManager.addFolders(this.workspaceFolderDescriptors),this.lastResolverResult=f,p.installScriptResult.storePlatform&&(0,h.storePlatform)(p.installScriptResult.serverConfiguration.platform,l,this.extensionContext,k),f.resolvedAuthority}))}catch(e){throw r.mark(4),k.error("Resolver error: "+(e.stack||e.message)),await this.handleResolverFailure(e,l,n,u,r)}finally{this.logger.info("------\n\n\n\n"),D.HintManager.Instance()?.captureHint({type:"log",message:this.logger.dumpLog()}),D.HintManager.Instance()?.logRecentSession(k)}}async handleResolverFailure(e,n,r,o,i){if(e instanceof f.SshNotFoundError)return(0,f.handleSshNotFoundError)(),o.failure(C.UnifiedStatusCode.SshInstall,i,!1),D.HintManager.Instance()?.captureStatus(C.UnifiedStatusCode.SshInstall,e.message),t.RemoteAuthorityResolverError.NotAvailable(e.message,!0);if(1===r.resolveAttempt){let r;k.showLog(),r=e.message?t.l10n.t('Could not establish connection to "{0}": {1}',n.hostName,e.message):t.l10n.t('Could not establish connection to "{0}"',n.hostName),e.handled=!0,(0,l.showConnectionError)(r,k);const o=e instanceof u.SshResolverError?e.failureReason:C.UnifiedStatusCode.UnclassifiedError;(e=u.SshResolverError.Create(o,e.message)).handled=!0}else e instanceof u.SshResolverError&&(e.handled=!1);const s=(0,a.maxReconnectionAttempts)();if(r.resolveAttempt>1&&r.resolveAttempt-1>=s){k.debug(`maxReconnectionAttempts: ${s}. Reconnection attempt count reached`);const t=e instanceof u.SshResolverError?e.failureReason:C.UnifiedStatusCode.UnclassifiedError;e=u.SshResolverError.Create(t,e.message)}const c=!!await(0,p.getConfigurationForHost)(k,n);return e instanceof u.SshResolverError?(D.HintManager.Instance()?.captureStatus(e.failureReason,e.message),o.failure(e.failureReason,i,e.wasExecServer,e.installErrorDetails,e.retries,e.usedAuthMethods,c),e.toRemoteAuthorityResolverError()):(D.HintManager.Instance()?.captureStatus(C.UnifiedStatusCode.UnclassifiedError,e.message),o.failure(C.UnifiedStatusCode.UnclassifiedError,i,void 0,void 0,void 0,void 0,c),e)}}let k;e.Resolver=T,e.activate=function(e){k=new y.Logger("Remote - SSH"),e.subscriptions.push(t.Disposable.from(k));const r=new c.FolderHistoryManager(e),o=function(){if(t.workspace.workspaceFile){const e=(0,g.nonFalsy)([c.FolderDescriptor.fromUri(t.workspace.workspaceFile)]);return t.commands.executeCommand("remote-internal.setActiveFolders",e),e}const e=t.workspace.workspaceFolders;if(e){const n=(0,g.nonFalsy)(e.map((e=>c.FolderDescriptor.fromUri(e.uri))));return t.commands.executeCommand("remote-internal.setActiveFolders",n),n}return[]}(),a=new T(r,o,k,(0,w.createTelemetryReporter)(e),e);t.workspace.registerRemoteAuthorityResolver(s.ResolverType,a);const l=new n.RemoteCleanService(e.globalStoragePath,k),u=new i.CommandService(k,r,l,a,e.globalStoragePath);e.subscriptions.push(u);const d=new D.HintManager(e,k);e.subscriptions.push(d),(0,_.registerChatParticipant)(e,k),(0,E.registerTerminalStatusCodeLinkProvider)(e),(0,P.registerUriHandler)(e),async function(e){const t=(await(0,b.getProductInfo)()).version,{name:n,version:r}=(0,m.getPackageJson)();[`VS Code version: ${t}`,`Remote-SSH version: ${n}@${r}`,`${process.platform} ${process.arch}`].forEach((t=>{D.HintManager.Instance()?.captureHint({type:"environment",message:t}),e.info(t)}))}(k)},e.deactivate=function(){(0,h.shutdown)()}})();var i=exports;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=extension.js.map