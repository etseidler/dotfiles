/*! For license information please see resolver.js.LICENSE.txt */
(()=>{var e,t={5677:e=>{var t=function(){var e,t,r,n,o,s,i,a,c=[],l=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],h="1a",u=!1,d="chongo <Landon Curt Noll> /\\../\\",f=52,p={32:{offset:0},64:{offset:[0,0,0,0]},128:{offset:[0,0,0,0,0,0,0,0]},256:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},512:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},1024:{offset:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}};for(e=0;e<256;e++)c[e]=(e>>4&15).toString(16)+(15&e).toString(16);function m(e,t){var r,n,o,s=[0],i="";for(n=0;n<e.length;n+=2){for(r=parseInt(e.substr(n,2),16),o=0;o<s.length;o++)r+=s[o]<<8,s[o]=r%t,r=r/t|0;for(;r>0;)s.push(r%t),r=r/t|0}for(n=s.length-1;n>=0;--n)i+="0123456789abcdefghijklmnopqrstuvwxyz"[s[n]];return i}function g(e,t){return{bits:t,value:e,dec:function(){return m(e,10)},hex:function(){return e},str:function(){return m(e,36)}}}function w(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return c[e>>>24]+c[e>>>16&255]+c[e>>>8&255]+c[255&e]},str:function(){return e.toString(36)}}}function y(e,t){return{bits:t,value:e,dec:function(){return e.toString()},hex:function(){return("0000000000000000"+e.toString(16)).substr(-13)},str:function(){return e.toString(36)}}}function S(e,c){var l="object"==typeof e?JSON.stringify(e):e;switch(c||f){case 32:return t(l);case 64:return n(l);case 128:return o(l);case 256:return s(l);case 512:return i(l);case 1024:return a(l);default:return r(l)}}function v(e){if("1a"===e)h=e,t=u?T:E,r=u?P:I,n=u?$:A,o=u?N:L,s=u?U:M,i=u?z:W,a=u?Z:G;else{if("1"!==e)throw new Error("Supported FNV versions: 1, 1a");h=e,t=u?k:C,r=u?x:R,n=u?D:O,o=u?B:F,s=u?j:H,i=u?V:q,a=u?Y:K}}function b(e){e?(u=!0,t="1a"==h?T:k,r="1a"==h?P:x,n="1a"==h?$:D,o="1a"==h?N:B,s="1a"==h?U:j,i="1a"==h?z:V,a="1a"==h?Z:Y):(u=!1,t="1a"==h?E:C,r="1a"==h?I:R,n="1a"==h?A:O,o="1a"==h?L:F,s="1a"==h?M:H,i="1a"==h?W:q,a="1a"==h?G:K)}function _(e){var t,r,n=h;for(var o in(e=e||0===e?e:d)===d&&v("1"),p){for(p[o].offset=[],r=0;r<o/16;r++)p[o].offset[r]=0;for(t=S(e,parseInt(o,10)).hex(),r=0;r<o/16;r++)p[o].offset[r]=parseInt(t.substr(4*r,4),16)}v(n)}function E(e){var t,r=e.length-3,n=p[32].offset,o=0,s=0|n[1],i=0,a=0|n[0];for(t=0;t<r;)i=403*a,i+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=e.charCodeAt(t++))<<8)+((o=403*s)>>>16)&65535,s=65535&o;for(;t<r+3;)i=403*a,a=(i+=(s^=e.charCodeAt(t++))<<8)+((o=403*s)>>>16)&65535,s=65535&o;return w((a<<16>>>0)+s,32)}function C(e){var t,r=e.length-3,n=p[32].offset,o=0,s=0|n[1],i=0,a=0|n[0];for(t=0;t<r;)i=403*a,i+=s<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=e.charCodeAt(t++))<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=e.charCodeAt(t++);for(;t<r+3;)i=403*a,a=(i+=s<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=e.charCodeAt(t++);return w((a<<16>>>0)+s,32)}function T(e){var t,r,n=e.length,o=p[32].offset,s=0,i=0|o[1],a=0,c=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=403*c,c=(a+=(i^=t>>6|192)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=403*c,a+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),a+=(i^=t>>12&63|128)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),c=(a+=(i^=t>>6&63|128)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128):(a=403*c,a+=(i^=t>>12|224)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),c=(a+=(i^=t>>6&63|128)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128),a=403*c,c=(a+=i<<8)+((s=403*i)>>>16)&65535,i=65535&s;return w((c<<16>>>0)+i,32)}function k(e){var t,r,n=e.length,o=p[32].offset,s=0,i=0|o[1],a=0,c=0|o[0];for(r=0;r<n;r++)a=403*c,c=(a+=i<<8)+((s=403*i)>>>16)&65535,i=65535&s,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=403*c,c=(a+=(i^=t>>6|192)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=403*c,a+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),a+=(i^=t>>12&63|128)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),c=(a+=(i^=t>>6&63|128)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128):(a=403*c,a+=(i^=t>>12|224)<<8,i=65535&(s=403*i),a=403*(c=a+(s>>>16)&65535),c=(a+=(i^=t>>6&63|128)<<8)+((s=403*i)>>>16)&65535,i=65535&s,i^=63&t|128);return w((c<<16>>>0)+i,32)}function I(e){var t,r=e.length-3,n=p[64].offset,o=0,s=0|n[3],i=0,a=0|n[2],c=0,l=0|n[1],h=0,u=0|n[0];for(t=0;t<r;)i=435*a,c=435*l,h=435*u,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c;for(;t<r+3;)i=435*a,c=435*l,h=435*u,c+=(s^=e.charCodeAt(t++))<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c;return y(281474976710656*(15&u)+4294967296*l+65536*a+(s^u>>4),52)}function R(e){var t,r=e.length-3,n=p[64].offset,o=0,s=0|n[3],i=0,a=0|n[2],c=0,l=0|n[1],h=0,u=0|n[0];for(t=0;t<r;)i=435*a,c=435*l,h=435*u,c+=s<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=e.charCodeAt(t++))<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c,s^=e.charCodeAt(t++);for(;t<r+3;)i=435*a,c=435*l,h=435*u,c+=s<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c,s^=e.charCodeAt(t++);return y(281474976710656*(15&u)+4294967296*l+65536*a+(s^u>>4),52)}function P(e){var t,r,n=e.length,o=p[64].offset,s=0,i=0|o[3],a=0,c=0|o[2],l=0,h=0|o[1],u=0,d=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=435*c,l=435*h,u=435*d,l+=(i^=t>>6|192)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*c,l=435*h,u=435*d,l+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>12&63|128)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>6&63|128)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128):(a=435*c,l=435*h,u=435*d,l+=(i^=t>>12|224)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>6&63|128)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128),a=435*c,l=435*h,u=435*d,l+=i<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l;return y(281474976710656*(15&d)+4294967296*h+65536*c+(i^d>>4),52)}function x(e){var t,r,n=e.length,o=p[64].offset,s=0,i=0|o[3],a=0,c=0|o[2],l=0,h=0|o[1],u=0,d=0|o[0];for(r=0;r<n;r++)a=435*c,l=435*h,u=435*d,l+=i<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=435*c,l=435*h,u=435*d,l+=(i^=t>>6|192)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*c,l=435*h,u=435*d,l+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>12&63|128)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>6&63|128)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128):(a=435*c,l=435*h,u=435*d,l+=(i^=t>>12|224)<<8,i=65535&(s=435*i),d=(u+=c<<8)+((l+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(c=65535&a),l=435*(h=65535&l),u=435*d,l+=(i^=t>>6&63|128)<<8,u+=c<<8,i=65535&(s=435*i),c=65535&(a+=s>>>16),d=u+((l+=a>>>16)>>>16)&65535,h=65535&l,i^=63&t|128);return y(281474976710656*(15&d)+4294967296*h+65536*c+(i^d>>4),52)}function A(e){var t,r=e.length-3,n=p[64].offset,o=0,s=0|n[3],i=0,a=0|n[2],l=0,h=0|n[1],u=0,d=0|n[0];for(t=0;t<r;)i=435*a,l=435*h,u=435*d,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l;for(;t<r+3;)i=435*a,l=435*h,u=435*d,l+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l;return g(c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],64)}function O(e){var t,r=e.length-3,n=p[64].offset,o=0,s=0|n[3],i=0,a=0|n[2],l=0,h=0|n[1],u=0,d=0|n[0];for(t=0;t<r;)i=435*a,l=435*h,u=435*d,l+=s<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=e.charCodeAt(t++))<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l,s^=e.charCodeAt(t++);for(;t<r+3;)i=435*a,l=435*h,u=435*d,l+=s<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l,s^=e.charCodeAt(t++);return g(c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],64)}function $(e){var t,r,n=e.length,o=p[64].offset,s=0,i=0|o[3],a=0,l=0|o[2],h=0,u=0|o[1],d=0,f=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=435*l,h=435*u,d=435*f,h+=(i^=t>>6|192)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*l,h=435*u,d=435*f,h+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>12&63|128)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>6&63|128)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128):(a=435*l,h=435*u,d=435*f,h+=(i^=t>>12|224)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>6&63|128)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128),a=435*l,h=435*u,d=435*f,h+=i<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h;return g(c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],64)}function D(e){var t,r,n=e.length,o=p[64].offset,s=0,i=0|o[3],a=0,l=0|o[2],h=0,u=0|o[1],d=0,f=0|o[0];for(r=0;r<n;r++)a=435*l,h=435*u,d=435*f,h+=i<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=435*l,h=435*u,d=435*f,h+=(i^=t>>6|192)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=435*l,h=435*u,d=435*f,h+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>12&63|128)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>6&63|128)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128):(a=435*l,h=435*u,d=435*f,h+=(i^=t>>12|224)<<8,i=65535&(s=435*i),f=(d+=l<<8)+((h+=(a+=s>>>16)>>>16)>>>16)&65535,a=435*(l=65535&a),h=435*(u=65535&h),d=435*f,h+=(i^=t>>6&63|128)<<8,d+=l<<8,i=65535&(s=435*i),l=65535&(a+=s>>>16),f=d+((h+=a>>>16)>>>16)&65535,u=65535&h,i^=63&t|128);return g(c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],64)}function L(e){var t,r=e.length-3,n=p[128].offset,o=0,s=0|n[7],i=0,a=0|n[6],l=0,h=0|n[5],u=0,d=0|n[4],f=0,m=0|n[3],w=0,y=0|n[2],S=0,v=0|n[1],b=0,_=0|n[0];for(t=0;t<r;)i=315*a,l=315*h,u=315*d,f=315*m,w=315*y,S=315*v,b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,b+=h<<8,s=65535&(o=315*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),_=b+((S+=w>>>16)>>>16)&65535,v=65535&S;for(;t<r+3;)i=315*a,l=315*h,u=315*d,f=315*m,w=315*y,S=315*v,b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,b+=h<<8,s=65535&(o=315*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),_=b+((S+=w>>>16)>>>16)&65535,v=65535&S;return g(c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],128)}function F(e){var t,r=e.length-3,n=p[128].offset,o=0,s=0|n[7],i=0,a=0|n[6],l=0,h=0|n[5],u=0,d=0|n[4],f=0,m=0|n[3],w=0,y=0|n[2],S=0,v=0|n[1],b=0,_=0|n[0];for(t=0;t<r;)i=315*a,l=315*h,u=315*d,f=315*m,w=315*y,S=315*v,b=315*_,w+=s<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,s=65535&(o=315*s),_=(b+=h<<8)+((S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=315*(a=65535&i),l=315*(h=65535&l),u=315*(d=65535&u),f=315*(m=65535&f),w=315*(y=65535&w),S=315*(v=65535&S),b=315*_,w+=(s^=e.charCodeAt(t++))<<8,S+=a<<8,b+=h<<8,s=65535&(o=315*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),_=b+((S+=w>>>16)>>>16)&65535,v=65535&S,s^=e.charCodeAt(t++);for(;t<r+3;)i=315*a,l=315*h,u=315*d,f=315*m,w=315*y,S=315*v,b=315*_,w+=s<<8,S+=a<<8,b+=h<<8,s=65535&(o=315*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),_=b+((S+=w>>>16)>>>16)&65535,v=65535&S,s^=e.charCodeAt(t++);return g(c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],128)}function N(e){var t,r,n=e.length,o=p[128].offset,s=0,i=0|o[7],a=0,l=0|o[6],h=0,u=0|o[5],d=0,f=0|o[4],m=0,w=0|o[3],y=0,S=0|o[2],v=0,b=0|o[1],_=0,E=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=t>>6|192)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>12&63|128)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>6&63|128)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128):(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=t>>12|224)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>6&63|128)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128),a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=i<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v;return g(c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],128)}function B(e){var t,r,n=e.length,o=p[128].offset,s=0,i=0|o[7],a=0,l=0|o[6],h=0,u=0|o[5],d=0,f=0|o[4],m=0,w=0|o[3],y=0,S=0|o[2],v=0,b=0|o[1],_=0,E=0|o[0];for(r=0;r<n;r++)a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=i<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=t>>6|192)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>12&63|128)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>6&63|128)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128):(a=315*l,h=315*u,d=315*f,m=315*w,y=315*S,v=315*b,_=315*E,y+=(i^=t>>12|224)<<8,v+=l<<8,i=65535&(s=315*i),E=(_+=u<<8)+((v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=315*(l=65535&a),h=315*(u=65535&h),d=315*(f=65535&d),m=315*(w=65535&m),y=315*(S=65535&y),v=315*(b=65535&v),_=315*E,y+=(i^=t>>6&63|128)<<8,v+=l<<8,_+=u<<8,i=65535&(s=315*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),E=_+((v+=y>>>16)>>>16)&65535,b=65535&v,i^=63&t|128);return g(c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],128)}function M(e){var t,r=e.length-3,n=p[256].offset,o=0,s=0|n[15],i=0,a=0|n[14],l=0,h=0|n[13],u=0,d=0|n[12],f=0,m=0|n[11],w=0,y=0|n[10],S=0,v=0|n[9],b=0,_=0|n[8],E=0,C=0|n[7],T=0,k=0|n[6],I=0,R=0|n[5],P=0,x=0|n[4],A=0,O=0|n[3],$=0,D=0|n[2],L=0,F=0|n[1],N=0,B=0|n[0];for(t=0;t<r;)i=355*a,l=355*h,u=355*d,f=355*m,w=355*y,S=355*v,b=355*_,E=355*C,T=355*k,I=355*R,P=355*x,A=355*O,$=355*D,L=355*F,N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,N+=y<<8,s=65535&(o=355*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),B=N+((L+=$>>>16)>>>16)&65535,F=65535&L;for(;t<r+3;)i=355*a,l=355*h,u=355*d,f=355*m,w=355*y,S=355*v,b=355*_,E=355*C,T=355*k,I=355*R,P=355*x,A=355*O,$=355*D,L=355*F,N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,N+=y<<8,s=65535&(o=355*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),B=N+((L+=$>>>16)>>>16)&65535,F=65535&L;return g(c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],256)}function H(e){var t,r=e.length-3,n=p[256].offset,o=0,s=0|n[15],i=0,a=0|n[14],l=0,h=0|n[13],u=0,d=0|n[12],f=0,m=0|n[11],w=0,y=0|n[10],S=0,v=0|n[9],b=0,_=0|n[8],E=0,C=0|n[7],T=0,k=0|n[6],I=0,R=0|n[5],P=0,x=0|n[4],A=0,O=0|n[3],$=0,D=0|n[2],L=0,F=0|n[1],N=0,B=0|n[0];for(t=0;t<r;)i=355*a,l=355*h,u=355*d,f=355*m,w=355*y,S=355*v,b=355*_,E=355*C,T=355*k,I=355*R,P=355*x,A=355*O,$=355*D,L=355*F,N=355*B,I+=s<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,s=65535&(o=355*s),B=(N+=y<<8)+((L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=355*(a=65535&i),l=355*(h=65535&l),u=355*(d=65535&u),f=355*(m=65535&f),w=355*(y=65535&w),S=355*(v=65535&S),b=355*(_=65535&b),E=355*(C=65535&E),T=355*(k=65535&T),I=355*(R=65535&I),P=355*(x=65535&P),A=355*(O=65535&A),$=355*(D=65535&$),L=355*(F=65535&L),N=355*B,I+=(s^=e.charCodeAt(t++))<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,N+=y<<8,s=65535&(o=355*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),B=N+((L+=$>>>16)>>>16)&65535,F=65535&L,s^=e.charCodeAt(t++);for(;t<r+3;)i=355*a,l=355*h,u=355*d,f=355*m,w=355*y,S=355*v,b=355*_,E=355*C,T=355*k,I=355*R,P=355*x,A=355*O,$=355*D,L=355*F,N=355*B,I+=s<<8,P+=a<<8,A+=h<<8,$+=d<<8,L+=m<<8,N+=y<<8,s=65535&(o=355*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),B=N+((L+=$>>>16)>>>16)&65535,F=65535&L,s^=e.charCodeAt(t++);return g(c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],256)}function U(e){var t,r,n=e.length,o=p[256].offset,s=0,i=0|o[15],a=0,l=0|o[14],h=0,u=0|o[13],d=0,f=0|o[12],m=0,w=0|o[11],y=0,S=0|o[10],v=0,b=0|o[9],_=0,E=0|o[8],C=0,T=0|o[7],k=0,I=0|o[6],R=0,P=0|o[5],x=0,A=0|o[4],O=0,$=0|o[3],D=0,L=0|o[2],F=0,N=0|o[1],B=0,M=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=t>>6|192)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>12&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>6&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128):(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=t>>12|224)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>6&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128),a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=i<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F;return g(c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],256)}function j(e){var t,r,n=e.length,o=p[256].offset,s=0,i=0|o[15],a=0,l=0|o[14],h=0,u=0|o[13],d=0,f=0|o[12],m=0,w=0|o[11],y=0,S=0|o[10],v=0,b=0|o[9],_=0,E=0|o[8],C=0,T=0|o[7],k=0,I=0|o[6],R=0,P=0|o[5],x=0,A=0|o[4],O=0,$=0|o[3],D=0,L=0|o[2],F=0,N=0|o[1],B=0,M=0|o[0];for(r=0;r<n;r++)a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=i<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=t>>6|192)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>12&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>6&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128):(a=355*l,h=355*u,d=355*f,m=355*w,y=355*S,v=355*b,_=355*E,C=355*T,k=355*I,R=355*P,x=355*A,O=355*$,D=355*L,F=355*N,B=355*M,R+=(i^=t>>12|224)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,i=65535&(s=355*i),M=(B+=S<<8)+((F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=355*(l=65535&a),h=355*(u=65535&h),d=355*(f=65535&d),m=355*(w=65535&m),y=355*(S=65535&y),v=355*(b=65535&v),_=355*(E=65535&_),C=355*(T=65535&C),k=355*(I=65535&k),R=355*(P=65535&R),x=355*(A=65535&x),O=355*($=65535&O),D=355*(L=65535&D),F=355*(N=65535&F),B=355*M,R+=(i^=t>>6&63|128)<<8,x+=l<<8,O+=u<<8,D+=f<<8,F+=w<<8,B+=S<<8,i=65535&(s=355*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),M=B+((F+=D>>>16)>>>16)&65535,N=65535&F,i^=63&t|128);return g(c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],256)}function W(e){var t,r=e.length-3,n=p[512].offset,o=0,s=0|n[31],i=0,a=0|n[30],l=0,h=0|n[29],u=0,d=0|n[28],f=0,m=0|n[27],w=0,y=0|n[26],S=0,v=0|n[25],b=0,_=0|n[24],E=0,C=0|n[23],T=0,k=0|n[22],I=0,R=0|n[21],P=0,x=0|n[20],A=0,O=0|n[19],$=0,D=0|n[18],L=0,F=0|n[17],N=0,B=0|n[16],M=0,H=0|n[15],U=0,j=0|n[14],W=0,q=0|n[13],z=0,V=0|n[12],G=0,K=0|n[11],Z=0,Y=0|n[10],X=0,J=0|n[9],Q=0,ee=0|n[8],te=0,re=0|n[7],ne=0,oe=0|n[6],se=0,ie=0|n[5],ae=0,ce=0|n[4],le=0,he=0|n[3],ue=0,de=0|n[2],fe=0,pe=0|n[1],me=0,ge=0|n[0];for(t=0;t<r;)i=343*a,l=343*h,u=343*d,f=343*m,w=343*y,S=343*v,b=343*_,E=343*C,T=343*k,I=343*R,P=343*x,A=343*O,$=343*D,L=343*F,N=343*B,M=343*H,U=343*j,W=343*q,z=343*V,G=343*K,Z=343*Y,X=343*J,Q=343*ee,te=343*re,ne=343*oe,se=343*ie,ae=343*ce,le=343*he,ue=343*de,fe=343*pe,me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,me+=R<<8,s=65535&(o=343*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),ge=me+((fe+=ue>>>16)>>>16)&65535,pe=65535&fe;for(;t<r+3;)i=343*a,l=343*h,u=343*d,f=343*m,w=343*y,S=343*v,b=343*_,E=343*C,T=343*k,I=343*R,P=343*x,A=343*O,$=343*D,L=343*F,N=343*B,M=343*H,U=343*j,W=343*q,z=343*V,G=343*K,Z=343*Y,X=343*J,Q=343*ee,te=343*re,ne=343*oe,se=343*ie,ae=343*ce,le=343*he,ue=343*de,fe=343*pe,me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,me+=R<<8,s=65535&(o=343*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),ge=me+((fe+=ue>>>16)>>>16)&65535,pe=65535&fe;return g(c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[he>>8]+c[255&he]+c[ce>>8]+c[255&ce]+c[ie>>8]+c[255&ie]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[q>>8]+c[255&q]+c[j>>8]+c[255&j]+c[H>>8]+c[255&H]+c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],512)}function q(e){var t,r=e.length-3,n=p[512].offset,o=0,s=0|n[31],i=0,a=0|n[30],l=0,h=0|n[29],u=0,d=0|n[28],f=0,m=0|n[27],w=0,y=0|n[26],S=0,v=0|n[25],b=0,_=0|n[24],E=0,C=0|n[23],T=0,k=0|n[22],I=0,R=0|n[21],P=0,x=0|n[20],A=0,O=0|n[19],$=0,D=0|n[18],L=0,F=0|n[17],N=0,B=0|n[16],M=0,H=0|n[15],U=0,j=0|n[14],W=0,q=0|n[13],z=0,V=0|n[12],G=0,K=0|n[11],Z=0,Y=0|n[10],X=0,J=0|n[9],Q=0,ee=0|n[8],te=0,re=0|n[7],ne=0,oe=0|n[6],se=0,ie=0|n[5],ae=0,ce=0|n[4],le=0,he=0|n[3],ue=0,de=0|n[2],fe=0,pe=0|n[1],me=0,ge=0|n[0];for(t=0;t<r;)i=343*a,l=343*h,u=343*d,f=343*m,w=343*y,S=343*v,b=343*_,E=343*C,T=343*k,I=343*R,P=343*x,A=343*O,$=343*D,L=343*F,N=343*B,M=343*H,U=343*j,W=343*q,z=343*V,G=343*K,Z=343*Y,X=343*J,Q=343*ee,te=343*re,ne=343*oe,se=343*ie,ae=343*ce,le=343*he,ue=343*de,fe=343*pe,me=343*ge,Z+=s<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,s=65535&(o=343*s),ge=(me+=R<<8)+((fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=343*(a=65535&i),l=343*(h=65535&l),u=343*(d=65535&u),f=343*(m=65535&f),w=343*(y=65535&w),S=343*(v=65535&S),b=343*(_=65535&b),E=343*(C=65535&E),T=343*(k=65535&T),I=343*(R=65535&I),P=343*(x=65535&P),A=343*(O=65535&A),$=343*(D=65535&$),L=343*(F=65535&L),N=343*(B=65535&N),M=343*(H=65535&M),U=343*(j=65535&U),W=343*(q=65535&W),z=343*(V=65535&z),G=343*(K=65535&G),Z=343*(Y=65535&Z),X=343*(J=65535&X),Q=343*(ee=65535&Q),te=343*(re=65535&te),ne=343*(oe=65535&ne),se=343*(ie=65535&se),ae=343*(ce=65535&ae),le=343*(he=65535&le),ue=343*(de=65535&ue),fe=343*(pe=65535&fe),me=343*ge,Z+=(s^=e.charCodeAt(t++))<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,me+=R<<8,s=65535&(o=343*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),ge=me+((fe+=ue>>>16)>>>16)&65535,pe=65535&fe,s^=e.charCodeAt(t++);for(;t<r+3;)i=343*a,l=343*h,u=343*d,f=343*m,w=343*y,S=343*v,b=343*_,E=343*C,T=343*k,I=343*R,P=343*x,A=343*O,$=343*D,L=343*F,N=343*B,M=343*H,U=343*j,W=343*q,z=343*V,G=343*K,Z=343*Y,X=343*J,Q=343*ee,te=343*re,ne=343*oe,se=343*ie,ae=343*ce,le=343*he,ue=343*de,fe=343*pe,me=343*ge,Z+=s<<8,X+=a<<8,Q+=h<<8,te+=d<<8,ne+=m<<8,se+=y<<8,ae+=v<<8,le+=_<<8,ue+=C<<8,fe+=k<<8,me+=R<<8,s=65535&(o=343*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),ge=me+((fe+=ue>>>16)>>>16)&65535,pe=65535&fe,s^=e.charCodeAt(t++);return g(c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[he>>8]+c[255&he]+c[ce>>8]+c[255&ce]+c[ie>>8]+c[255&ie]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[q>>8]+c[255&q]+c[j>>8]+c[255&j]+c[H>>8]+c[255&H]+c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],512)}function z(e){var t,r,n=e.length,o=p[512].offset,s=0,i=0|o[31],a=0,l=0|o[30],h=0,u=0|o[29],d=0,f=0|o[28],m=0,w=0|o[27],y=0,S=0|o[26],v=0,b=0|o[25],_=0,E=0|o[24],C=0,T=0|o[23],k=0,I=0|o[22],R=0,P=0|o[21],x=0,A=0|o[20],O=0,$=0|o[19],D=0,L=0|o[18],F=0,N=0|o[17],B=0,M=0|o[16],H=0,U=0|o[15],j=0,W=0|o[14],q=0,z=0|o[13],V=0,G=0|o[12],K=0,Z=0|o[11],Y=0,X=0|o[10],J=0,Q=0|o[9],ee=0,te=0|o[8],re=0,ne=0|o[7],oe=0,se=0|o[6],ie=0,ae=0|o[5],ce=0,le=0|o[4],he=0,ue=0|o[3],de=0,fe=0|o[2],pe=0,me=0|o[1],ge=0,we=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=t>>6|192)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>12&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>6&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128):(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=t>>12|224)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>6&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128),a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=i<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe;return g(c[we>>8]+c[255&we]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[ue>>8]+c[255&ue]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[Z>>8]+c[255&Z]+c[G>>8]+c[255&G]+c[z>>8]+c[255&z]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],512)}function V(e){var t,r,n=e.length,o=p[512].offset,s=0,i=0|o[31],a=0,l=0|o[30],h=0,u=0|o[29],d=0,f=0|o[28],m=0,w=0|o[27],y=0,S=0|o[26],v=0,b=0|o[25],_=0,E=0|o[24],C=0,T=0|o[23],k=0,I=0|o[22],R=0,P=0|o[21],x=0,A=0|o[20],O=0,$=0|o[19],D=0,L=0|o[18],F=0,N=0|o[17],B=0,M=0|o[16],H=0,U=0|o[15],j=0,W=0|o[14],q=0,z=0|o[13],V=0,G=0|o[12],K=0,Z=0|o[11],Y=0,X=0|o[10],J=0,Q=0|o[9],ee=0,te=0|o[8],re=0,ne=0|o[7],oe=0,se=0|o[6],ie=0,ae=0|o[5],ce=0,le=0|o[4],he=0,ue=0|o[3],de=0,fe=0|o[2],pe=0,me=0|o[1],ge=0,we=0|o[0];for(r=0;r<n;r++)a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=i<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=t>>6|192)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>12&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>6&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128):(a=343*l,h=343*u,d=343*f,m=343*w,y=343*S,v=343*b,_=343*E,C=343*T,k=343*I,R=343*P,x=343*A,O=343*$,D=343*L,F=343*N,B=343*M,H=343*U,j=343*W,q=343*z,V=343*G,K=343*Z,Y=343*X,J=343*Q,ee=343*te,re=343*ne,oe=343*se,ie=343*ae,ce=343*le,he=343*ue,de=343*fe,pe=343*me,ge=343*we,Y+=(i^=t>>12|224)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,i=65535&(s=343*i),we=(ge+=P<<8)+((pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=343*(l=65535&a),h=343*(u=65535&h),d=343*(f=65535&d),m=343*(w=65535&m),y=343*(S=65535&y),v=343*(b=65535&v),_=343*(E=65535&_),C=343*(T=65535&C),k=343*(I=65535&k),R=343*(P=65535&R),x=343*(A=65535&x),O=343*($=65535&O),D=343*(L=65535&D),F=343*(N=65535&F),B=343*(M=65535&B),H=343*(U=65535&H),j=343*(W=65535&j),q=343*(z=65535&q),V=343*(G=65535&V),K=343*(Z=65535&K),Y=343*(X=65535&Y),J=343*(Q=65535&J),ee=343*(te=65535&ee),re=343*(ne=65535&re),oe=343*(se=65535&oe),ie=343*(ae=65535&ie),ce=343*(le=65535&ce),he=343*(ue=65535&he),de=343*(fe=65535&de),pe=343*(me=65535&pe),ge=343*we,Y+=(i^=t>>6&63|128)<<8,J+=l<<8,ee+=u<<8,re+=f<<8,oe+=w<<8,ie+=S<<8,ce+=b<<8,he+=E<<8,de+=T<<8,pe+=I<<8,ge+=P<<8,i=65535&(s=343*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),we=ge+((pe+=de>>>16)>>>16)&65535,me=65535&pe,i^=63&t|128);return g(c[we>>8]+c[255&we]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[ue>>8]+c[255&ue]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[Z>>8]+c[255&Z]+c[G>>8]+c[255&G]+c[z>>8]+c[255&z]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],512)}function G(e){var t,r=e.length-3,n=p[1024].offset,o=0,s=0|n[63],i=0,a=0|n[62],l=0,h=0|n[61],u=0,d=0|n[60],f=0,m=0|n[59],w=0,y=0|n[58],S=0,v=0|n[57],b=0,_=0|n[56],E=0,C=0|n[55],T=0,k=0|n[54],I=0,R=0|n[53],P=0,x=0|n[52],A=0,O=0|n[51],$=0,D=0|n[50],L=0,F=0|n[49],N=0,B=0|n[48],M=0,H=0|n[47],U=0,j=0|n[46],W=0,q=0|n[45],z=0,V=0|n[44],G=0,K=0|n[43],Z=0,Y=0|n[42],X=0,J=0|n[41],Q=0,ee=0|n[40],te=0,re=0|n[39],ne=0,oe=0|n[38],se=0,ie=0|n[37],ae=0,ce=0|n[36],le=0,he=0|n[35],ue=0,de=0|n[34],fe=0,pe=0|n[33],me=0,ge=0|n[32],we=0,ye=0|n[31],Se=0,ve=0|n[30],be=0,_e=0|n[29],Ee=0,Ce=0|n[28],Te=0,ke=0|n[27],Ie=0,Re=0|n[26],Pe=0,xe=0|n[25],Ae=0,Oe=0|n[24],$e=0,De=0|n[23],Le=0,Fe=0|n[22],Ne=0,Be=0|n[21],Me=0,He=0|n[20],Ue=0,je=0|n[19],We=0,qe=0|n[18],ze=0,Ve=0|n[17],Ge=0,Ke=0|n[16],Ze=0,Ye=0|n[15],Xe=0,Je=0|n[14],Qe=0,et=0|n[13],tt=0,rt=0|n[12],nt=0,ot=0|n[11],st=0,it=0|n[10],at=0,ct=0|n[9],lt=0,ht=0|n[8],ut=0,dt=0|n[7],ft=0,pt=0|n[6],mt=0,gt=0|n[5],wt=0,yt=0|n[4],St=0,vt=0|n[3],bt=0,_t=0|n[2],Et=0,Ct=0|n[1],Tt=0,kt=0|n[0];for(t=0;t<r;)i=397*a,l=397*h,u=397*d,f=397*m,w=397*y,S=397*v,b=397*_,E=397*C,T=397*k,I=397*R,P=397*x,A=397*O,$=397*D,L=397*F,N=397*B,M=397*H,U=397*j,W=397*q,z=397*V,G=397*K,Z=397*Y,X=397*J,Q=397*ee,te=397*re,ne=397*oe,se=397*ie,ae=397*ce,le=397*he,ue=397*de,fe=397*pe,me=397*ge,we=397*ye,Se=397*ve,be=397*_e,Ee=397*Ce,Te=397*ke,Ie=397*Re,Pe=397*xe,Ae=397*Oe,$e=397*De,Le=397*Fe,Ne=397*Be,Me=397*He,Ue=397*je,We=397*qe,ze=397*Ve,Ge=397*Ke,Ze=397*Ye,Xe=397*Je,Qe=397*et,tt=397*rt,nt=397*ot,st=397*it,at=397*ct,lt=397*ht,ut=397*dt,ft=397*pt,mt=397*gt,wt=397*yt,St=397*vt,bt=397*_t,Et=397*Ct,Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,Tt+=Y<<8,s=65535&(o=397*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),pe=65535&(fe+=ue>>>16),ge=65535&(me+=fe>>>16),ye=65535&(we+=me>>>16),ve=65535&(Se+=we>>>16),_e=65535&(be+=Se>>>16),Ce=65535&(Ee+=be>>>16),ke=65535&(Te+=Ee>>>16),Re=65535&(Ie+=Te>>>16),xe=65535&(Pe+=Ie>>>16),Oe=65535&(Ae+=Pe>>>16),De=65535&($e+=Ae>>>16),Fe=65535&(Le+=$e>>>16),Be=65535&(Ne+=Le>>>16),He=65535&(Me+=Ne>>>16),je=65535&(Ue+=Me>>>16),qe=65535&(We+=Ue>>>16),Ve=65535&(ze+=We>>>16),Ke=65535&(Ge+=ze>>>16),Ye=65535&(Ze+=Ge>>>16),Je=65535&(Xe+=Ze>>>16),et=65535&(Qe+=Xe>>>16),rt=65535&(tt+=Qe>>>16),ot=65535&(nt+=tt>>>16),it=65535&(st+=nt>>>16),ct=65535&(at+=st>>>16),ht=65535&(lt+=at>>>16),dt=65535&(ut+=lt>>>16),pt=65535&(ft+=ut>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(wt+=mt>>>16),vt=65535&(St+=wt>>>16),_t=65535&(bt+=St>>>16),kt=Tt+((Et+=bt>>>16)>>>16)&65535,Ct=65535&Et;for(;t<r+3;)i=397*a,l=397*h,u=397*d,f=397*m,w=397*y,S=397*v,b=397*_,E=397*C,T=397*k,I=397*R,P=397*x,A=397*O,$=397*D,L=397*F,N=397*B,M=397*H,U=397*j,W=397*q,z=397*V,G=397*K,Z=397*Y,X=397*J,Q=397*ee,te=397*re,ne=397*oe,se=397*ie,ae=397*ce,le=397*he,ue=397*de,fe=397*pe,me=397*ge,we=397*ye,Se=397*ve,be=397*_e,Ee=397*Ce,Te=397*ke,Ie=397*Re,Pe=397*xe,Ae=397*Oe,$e=397*De,Le=397*Fe,Ne=397*Be,Me=397*He,Ue=397*je,We=397*qe,ze=397*Ve,Ge=397*Ke,Ze=397*Ye,Xe=397*Je,Qe=397*et,tt=397*rt,nt=397*ot,st=397*it,at=397*ct,lt=397*ht,ut=397*dt,ft=397*pt,mt=397*gt,wt=397*yt,St=397*vt,bt=397*_t,Et=397*Ct,Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,Tt+=Y<<8,s=65535&(o=397*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),pe=65535&(fe+=ue>>>16),ge=65535&(me+=fe>>>16),ye=65535&(we+=me>>>16),ve=65535&(Se+=we>>>16),_e=65535&(be+=Se>>>16),Ce=65535&(Ee+=be>>>16),ke=65535&(Te+=Ee>>>16),Re=65535&(Ie+=Te>>>16),xe=65535&(Pe+=Ie>>>16),Oe=65535&(Ae+=Pe>>>16),De=65535&($e+=Ae>>>16),Fe=65535&(Le+=$e>>>16),Be=65535&(Ne+=Le>>>16),He=65535&(Me+=Ne>>>16),je=65535&(Ue+=Me>>>16),qe=65535&(We+=Ue>>>16),Ve=65535&(ze+=We>>>16),Ke=65535&(Ge+=ze>>>16),Ye=65535&(Ze+=Ge>>>16),Je=65535&(Xe+=Ze>>>16),et=65535&(Qe+=Xe>>>16),rt=65535&(tt+=Qe>>>16),ot=65535&(nt+=tt>>>16),it=65535&(st+=nt>>>16),ct=65535&(at+=st>>>16),ht=65535&(lt+=at>>>16),dt=65535&(ut+=lt>>>16),pt=65535&(ft+=ut>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(wt+=mt>>>16),vt=65535&(St+=wt>>>16),_t=65535&(bt+=St>>>16),kt=Tt+((Et+=bt>>>16)>>>16)&65535,Ct=65535&Et;return g(c[kt>>8]+c[255&kt]+c[Ct>>8]+c[255&Ct]+c[_t>>8]+c[255&_t]+c[vt>>8]+c[255&vt]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[ht>>8]+c[255&ht]+c[ct>>8]+c[255&ct]+c[it>>8]+c[255&it]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[et>>8]+c[255&et]+c[Je>>8]+c[255&Je]+c[Ye>>8]+c[255&Ye]+c[Ke>>8]+c[255&Ke]+c[Ve>>8]+c[255&Ve]+c[qe>>8]+c[255&qe]+c[je>>8]+c[255&je]+c[He>>8]+c[255&He]+c[Be>>8]+c[255&Be]+c[Fe>>8]+c[255&Fe]+c[De>>8]+c[255&De]+c[Oe>>8]+c[255&Oe]+c[xe>>8]+c[255&xe]+c[Re>>8]+c[255&Re]+c[ke>>8]+c[255&ke]+c[Ce>>8]+c[255&Ce]+c[_e>>8]+c[255&_e]+c[ve>>8]+c[255&ve]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[he>>8]+c[255&he]+c[ce>>8]+c[255&ce]+c[ie>>8]+c[255&ie]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[q>>8]+c[255&q]+c[j>>8]+c[255&j]+c[H>>8]+c[255&H]+c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],1024)}function K(e){var t,r=e.length-3,n=p[1024].offset,o=0,s=0|n[63],i=0,a=0|n[62],l=0,h=0|n[61],u=0,d=0|n[60],f=0,m=0|n[59],w=0,y=0|n[58],S=0,v=0|n[57],b=0,_=0|n[56],E=0,C=0|n[55],T=0,k=0|n[54],I=0,R=0|n[53],P=0,x=0|n[52],A=0,O=0|n[51],$=0,D=0|n[50],L=0,F=0|n[49],N=0,B=0|n[48],M=0,H=0|n[47],U=0,j=0|n[46],W=0,q=0|n[45],z=0,V=0|n[44],G=0,K=0|n[43],Z=0,Y=0|n[42],X=0,J=0|n[41],Q=0,ee=0|n[40],te=0,re=0|n[39],ne=0,oe=0|n[38],se=0,ie=0|n[37],ae=0,ce=0|n[36],le=0,he=0|n[35],ue=0,de=0|n[34],fe=0,pe=0|n[33],me=0,ge=0|n[32],we=0,ye=0|n[31],Se=0,ve=0|n[30],be=0,_e=0|n[29],Ee=0,Ce=0|n[28],Te=0,ke=0|n[27],Ie=0,Re=0|n[26],Pe=0,xe=0|n[25],Ae=0,Oe=0|n[24],$e=0,De=0|n[23],Le=0,Fe=0|n[22],Ne=0,Be=0|n[21],Me=0,He=0|n[20],Ue=0,je=0|n[19],We=0,qe=0|n[18],ze=0,Ve=0|n[17],Ge=0,Ke=0|n[16],Ze=0,Ye=0|n[15],Xe=0,Je=0|n[14],Qe=0,et=0|n[13],tt=0,rt=0|n[12],nt=0,ot=0|n[11],st=0,it=0|n[10],at=0,ct=0|n[9],lt=0,ht=0|n[8],ut=0,dt=0|n[7],ft=0,pt=0|n[6],mt=0,gt=0|n[5],wt=0,yt=0|n[4],St=0,vt=0|n[3],bt=0,_t=0|n[2],Et=0,Ct=0|n[1],Tt=0,kt=0|n[0];for(t=0;t<r;)i=397*a,l=397*h,u=397*d,f=397*m,w=397*y,S=397*v,b=397*_,E=397*C,T=397*k,I=397*R,P=397*x,A=397*O,$=397*D,L=397*F,N=397*B,M=397*H,U=397*j,W=397*q,z=397*V,G=397*K,Z=397*Y,X=397*J,Q=397*ee,te=397*re,ne=397*oe,se=397*ie,ae=397*ce,le=397*he,ue=397*de,fe=397*pe,me=397*ge,we=397*ye,Se=397*ve,be=397*_e,Ee=397*Ce,Te=397*ke,Ie=397*Re,Pe=397*xe,Ae=397*Oe,$e=397*De,Le=397*Fe,Ne=397*Be,Me=397*He,Ue=397*je,We=397*qe,ze=397*Ve,Ge=397*Ke,Ze=397*Ye,Xe=397*Je,Qe=397*et,tt=397*rt,nt=397*ot,st=397*it,at=397*ct,lt=397*ht,ut=397*dt,ft=397*pt,mt=397*gt,wt=397*yt,St=397*vt,bt=397*_t,Et=397*Ct,Tt=397*kt,Ne+=s<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,s=65535&(o=397*s),kt=(Tt+=Y<<8)+((Et+=(bt+=(St+=(wt+=(mt+=(ft+=(ut+=(lt+=(at+=(st+=(nt+=(tt+=(Qe+=(Xe+=(Ze+=(Ge+=(ze+=(We+=(Ue+=(Me+=(Ne+=(Le+=($e+=(Ae+=(Pe+=(Ie+=(Te+=(Ee+=(be+=(Se+=(we+=(me+=(fe+=(ue+=(le+=(ae+=(se+=(ne+=(te+=(Q+=(X+=(Z+=(G+=(z+=(W+=(U+=(M+=(N+=(L+=($+=(A+=(P+=(I+=(T+=(E+=(b+=(S+=(w+=(f+=(u+=(l+=(i+=o>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,i=397*(a=65535&i),l=397*(h=65535&l),u=397*(d=65535&u),f=397*(m=65535&f),w=397*(y=65535&w),S=397*(v=65535&S),b=397*(_=65535&b),E=397*(C=65535&E),T=397*(k=65535&T),I=397*(R=65535&I),P=397*(x=65535&P),A=397*(O=65535&A),$=397*(D=65535&$),L=397*(F=65535&L),N=397*(B=65535&N),M=397*(H=65535&M),U=397*(j=65535&U),W=397*(q=65535&W),z=397*(V=65535&z),G=397*(K=65535&G),Z=397*(Y=65535&Z),X=397*(J=65535&X),Q=397*(ee=65535&Q),te=397*(re=65535&te),ne=397*(oe=65535&ne),se=397*(ie=65535&se),ae=397*(ce=65535&ae),le=397*(he=65535&le),ue=397*(de=65535&ue),fe=397*(pe=65535&fe),me=397*(ge=65535&me),we=397*(ye=65535&we),Se=397*(ve=65535&Se),be=397*(_e=65535&be),Ee=397*(Ce=65535&Ee),Te=397*(ke=65535&Te),Ie=397*(Re=65535&Ie),Pe=397*(xe=65535&Pe),Ae=397*(Oe=65535&Ae),$e=397*(De=65535&$e),Le=397*(Fe=65535&Le),Ne=397*(Be=65535&Ne),Me=397*(He=65535&Me),Ue=397*(je=65535&Ue),We=397*(qe=65535&We),ze=397*(Ve=65535&ze),Ge=397*(Ke=65535&Ge),Ze=397*(Ye=65535&Ze),Xe=397*(Je=65535&Xe),Qe=397*(et=65535&Qe),tt=397*(rt=65535&tt),nt=397*(ot=65535&nt),st=397*(it=65535&st),at=397*(ct=65535&at),lt=397*(ht=65535&lt),ut=397*(dt=65535&ut),ft=397*(pt=65535&ft),mt=397*(gt=65535&mt),wt=397*(yt=65535&wt),St=397*(vt=65535&St),bt=397*(_t=65535&bt),Et=397*(Ct=65535&Et),Tt=397*kt,Ne+=(s^=e.charCodeAt(t++))<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,Tt+=Y<<8,s=65535&(o=397*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),pe=65535&(fe+=ue>>>16),ge=65535&(me+=fe>>>16),ye=65535&(we+=me>>>16),ve=65535&(Se+=we>>>16),_e=65535&(be+=Se>>>16),Ce=65535&(Ee+=be>>>16),ke=65535&(Te+=Ee>>>16),Re=65535&(Ie+=Te>>>16),xe=65535&(Pe+=Ie>>>16),Oe=65535&(Ae+=Pe>>>16),De=65535&($e+=Ae>>>16),Fe=65535&(Le+=$e>>>16),Be=65535&(Ne+=Le>>>16),He=65535&(Me+=Ne>>>16),je=65535&(Ue+=Me>>>16),qe=65535&(We+=Ue>>>16),Ve=65535&(ze+=We>>>16),Ke=65535&(Ge+=ze>>>16),Ye=65535&(Ze+=Ge>>>16),Je=65535&(Xe+=Ze>>>16),et=65535&(Qe+=Xe>>>16),rt=65535&(tt+=Qe>>>16),ot=65535&(nt+=tt>>>16),it=65535&(st+=nt>>>16),ct=65535&(at+=st>>>16),ht=65535&(lt+=at>>>16),dt=65535&(ut+=lt>>>16),pt=65535&(ft+=ut>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(wt+=mt>>>16),vt=65535&(St+=wt>>>16),_t=65535&(bt+=St>>>16),kt=Tt+((Et+=bt>>>16)>>>16)&65535,Ct=65535&Et,s^=e.charCodeAt(t++);for(;t<r+3;)i=397*a,l=397*h,u=397*d,f=397*m,w=397*y,S=397*v,b=397*_,E=397*C,T=397*k,I=397*R,P=397*x,A=397*O,$=397*D,L=397*F,N=397*B,M=397*H,U=397*j,W=397*q,z=397*V,G=397*K,Z=397*Y,X=397*J,Q=397*ee,te=397*re,ne=397*oe,se=397*ie,ae=397*ce,le=397*he,ue=397*de,fe=397*pe,me=397*ge,we=397*ye,Se=397*ve,be=397*_e,Ee=397*Ce,Te=397*ke,Ie=397*Re,Pe=397*xe,Ae=397*Oe,$e=397*De,Le=397*Fe,Ne=397*Be,Me=397*He,Ue=397*je,We=397*qe,ze=397*Ve,Ge=397*Ke,Ze=397*Ye,Xe=397*Je,Qe=397*et,tt=397*rt,nt=397*ot,st=397*it,at=397*ct,lt=397*ht,ut=397*dt,ft=397*pt,mt=397*gt,wt=397*yt,St=397*vt,bt=397*_t,Et=397*Ct,Tt=397*kt,Ne+=s<<8,Me+=a<<8,Ue+=h<<8,We+=d<<8,ze+=m<<8,Ge+=y<<8,Ze+=v<<8,Xe+=_<<8,Qe+=C<<8,tt+=k<<8,nt+=R<<8,st+=x<<8,at+=O<<8,lt+=D<<8,ut+=F<<8,ft+=B<<8,mt+=H<<8,wt+=j<<8,St+=q<<8,bt+=V<<8,Et+=K<<8,Tt+=Y<<8,s=65535&(o=397*s),a=65535&(i+=o>>>16),h=65535&(l+=i>>>16),d=65535&(u+=l>>>16),m=65535&(f+=u>>>16),y=65535&(w+=f>>>16),v=65535&(S+=w>>>16),_=65535&(b+=S>>>16),C=65535&(E+=b>>>16),k=65535&(T+=E>>>16),R=65535&(I+=T>>>16),x=65535&(P+=I>>>16),O=65535&(A+=P>>>16),D=65535&($+=A>>>16),F=65535&(L+=$>>>16),B=65535&(N+=L>>>16),H=65535&(M+=N>>>16),j=65535&(U+=M>>>16),q=65535&(W+=U>>>16),V=65535&(z+=W>>>16),K=65535&(G+=z>>>16),Y=65535&(Z+=G>>>16),J=65535&(X+=Z>>>16),ee=65535&(Q+=X>>>16),re=65535&(te+=Q>>>16),oe=65535&(ne+=te>>>16),ie=65535&(se+=ne>>>16),ce=65535&(ae+=se>>>16),he=65535&(le+=ae>>>16),de=65535&(ue+=le>>>16),pe=65535&(fe+=ue>>>16),ge=65535&(me+=fe>>>16),ye=65535&(we+=me>>>16),ve=65535&(Se+=we>>>16),_e=65535&(be+=Se>>>16),Ce=65535&(Ee+=be>>>16),ke=65535&(Te+=Ee>>>16),Re=65535&(Ie+=Te>>>16),xe=65535&(Pe+=Ie>>>16),Oe=65535&(Ae+=Pe>>>16),De=65535&($e+=Ae>>>16),Fe=65535&(Le+=$e>>>16),Be=65535&(Ne+=Le>>>16),He=65535&(Me+=Ne>>>16),je=65535&(Ue+=Me>>>16),qe=65535&(We+=Ue>>>16),Ve=65535&(ze+=We>>>16),Ke=65535&(Ge+=ze>>>16),Ye=65535&(Ze+=Ge>>>16),Je=65535&(Xe+=Ze>>>16),et=65535&(Qe+=Xe>>>16),rt=65535&(tt+=Qe>>>16),ot=65535&(nt+=tt>>>16),it=65535&(st+=nt>>>16),ct=65535&(at+=st>>>16),ht=65535&(lt+=at>>>16),dt=65535&(ut+=lt>>>16),pt=65535&(ft+=ut>>>16),gt=65535&(mt+=ft>>>16),yt=65535&(wt+=mt>>>16),vt=65535&(St+=wt>>>16),_t=65535&(bt+=St>>>16),kt=Tt+((Et+=bt>>>16)>>>16)&65535,Ct=65535&Et,s^=e.charCodeAt(t++);return g(c[kt>>8]+c[255&kt]+c[Ct>>8]+c[255&Ct]+c[_t>>8]+c[255&_t]+c[vt>>8]+c[255&vt]+c[yt>>8]+c[255&yt]+c[gt>>8]+c[255&gt]+c[pt>>8]+c[255&pt]+c[dt>>8]+c[255&dt]+c[ht>>8]+c[255&ht]+c[ct>>8]+c[255&ct]+c[it>>8]+c[255&it]+c[ot>>8]+c[255&ot]+c[rt>>8]+c[255&rt]+c[et>>8]+c[255&et]+c[Je>>8]+c[255&Je]+c[Ye>>8]+c[255&Ye]+c[Ke>>8]+c[255&Ke]+c[Ve>>8]+c[255&Ve]+c[qe>>8]+c[255&qe]+c[je>>8]+c[255&je]+c[He>>8]+c[255&He]+c[Be>>8]+c[255&Be]+c[Fe>>8]+c[255&Fe]+c[De>>8]+c[255&De]+c[Oe>>8]+c[255&Oe]+c[xe>>8]+c[255&xe]+c[Re>>8]+c[255&Re]+c[ke>>8]+c[255&ke]+c[Ce>>8]+c[255&Ce]+c[_e>>8]+c[255&_e]+c[ve>>8]+c[255&ve]+c[ye>>8]+c[255&ye]+c[ge>>8]+c[255&ge]+c[pe>>8]+c[255&pe]+c[de>>8]+c[255&de]+c[he>>8]+c[255&he]+c[ce>>8]+c[255&ce]+c[ie>>8]+c[255&ie]+c[oe>>8]+c[255&oe]+c[re>>8]+c[255&re]+c[ee>>8]+c[255&ee]+c[J>>8]+c[255&J]+c[Y>>8]+c[255&Y]+c[K>>8]+c[255&K]+c[V>>8]+c[255&V]+c[q>>8]+c[255&q]+c[j>>8]+c[255&j]+c[H>>8]+c[255&H]+c[B>>8]+c[255&B]+c[F>>8]+c[255&F]+c[D>>8]+c[255&D]+c[O>>8]+c[255&O]+c[x>>8]+c[255&x]+c[R>>8]+c[255&R]+c[k>>8]+c[255&k]+c[C>>8]+c[255&C]+c[_>>8]+c[255&_]+c[v>>8]+c[255&v]+c[y>>8]+c[255&y]+c[m>>8]+c[255&m]+c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s],1024)}function Z(e){var t,r,n=e.length,o=p[1024].offset,s=0,i=0|o[63],a=0,l=0|o[62],h=0,u=0|o[61],d=0,f=0|o[60],m=0,w=0|o[59],y=0,S=0|o[58],v=0,b=0|o[57],_=0,E=0|o[56],C=0,T=0|o[55],k=0,I=0|o[54],R=0,P=0|o[53],x=0,A=0|o[52],O=0,$=0|o[51],D=0,L=0|o[50],F=0,N=0|o[49],B=0,M=0|o[48],H=0,U=0|o[47],j=0,W=0|o[46],q=0,z=0|o[45],V=0,G=0|o[44],K=0,Z=0|o[43],Y=0,X=0|o[42],J=0,Q=0|o[41],ee=0,te=0|o[40],re=0,ne=0|o[39],oe=0,se=0|o[38],ie=0,ae=0|o[37],ce=0,le=0|o[36],he=0,ue=0|o[35],de=0,fe=0|o[34],pe=0,me=0|o[33],ge=0,we=0|o[32],ye=0,Se=0|o[31],ve=0,be=0|o[30],_e=0,Ee=0|o[29],Ce=0,Te=0|o[28],ke=0,Ie=0|o[27],Re=0,Pe=0|o[26],xe=0,Ae=0|o[25],Oe=0,$e=0|o[24],De=0,Le=0|o[23],Fe=0,Ne=0|o[22],Be=0,Me=0|o[21],He=0,Ue=0|o[20],je=0,We=0|o[19],qe=0,ze=0|o[18],Ve=0,Ge=0|o[17],Ke=0,Ze=0|o[16],Ye=0,Xe=0|o[15],Je=0,Qe=0|o[14],et=0,tt=0|o[13],rt=0,nt=0|o[12],ot=0,st=0|o[11],it=0,at=0|o[10],ct=0,lt=0|o[9],ht=0,ut=0|o[8],dt=0,ft=0|o[7],pt=0,mt=0|o[6],gt=0,wt=0|o[5],yt=0,St=0|o[4],vt=0,bt=0|o[3],_t=0,Et=0|o[2],Ct=0,Tt=0|o[1],kt=0,It=0|o[0];for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=t>>6|192)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>12&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>6&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128):(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=t>>12|224)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>6&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128),a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=i<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct;return g(c[It>>8]+c[255&It]+c[Tt>>8]+c[255&Tt]+c[Et>>8]+c[255&Et]+c[bt>>8]+c[255&bt]+c[St>>8]+c[255&St]+c[wt>>8]+c[255&wt]+c[mt>>8]+c[255&mt]+c[ft>>8]+c[255&ft]+c[ut>>8]+c[255&ut]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[st>>8]+c[255&st]+c[nt>>8]+c[255&nt]+c[tt>>8]+c[255&tt]+c[Qe>>8]+c[255&Qe]+c[Xe>>8]+c[255&Xe]+c[Ze>>8]+c[255&Ze]+c[Ge>>8]+c[255&Ge]+c[ze>>8]+c[255&ze]+c[We>>8]+c[255&We]+c[Ue>>8]+c[255&Ue]+c[Me>>8]+c[255&Me]+c[Ne>>8]+c[255&Ne]+c[Le>>8]+c[255&Le]+c[$e>>8]+c[255&$e]+c[Ae>>8]+c[255&Ae]+c[Pe>>8]+c[255&Pe]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[Ee>>8]+c[255&Ee]+c[be>>8]+c[255&be]+c[Se>>8]+c[255&Se]+c[we>>8]+c[255&we]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[ue>>8]+c[255&ue]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[Z>>8]+c[255&Z]+c[G>>8]+c[255&G]+c[z>>8]+c[255&z]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],1024)}function Y(e){var t,r,n=e.length,o=p[1024].offset,s=0,i=0|o[63],a=0,l=0|o[62],h=0,u=0|o[61],d=0,f=0|o[60],m=0,w=0|o[59],y=0,S=0|o[58],v=0,b=0|o[57],_=0,E=0|o[56],C=0,T=0|o[55],k=0,I=0|o[54],R=0,P=0|o[53],x=0,A=0|o[52],O=0,$=0|o[51],D=0,L=0|o[50],F=0,N=0|o[49],B=0,M=0|o[48],H=0,U=0|o[47],j=0,W=0|o[46],q=0,z=0|o[45],V=0,G=0|o[44],K=0,Z=0|o[43],Y=0,X=0|o[42],J=0,Q=0|o[41],ee=0,te=0|o[40],re=0,ne=0|o[39],oe=0,se=0|o[38],ie=0,ae=0|o[37],ce=0,le=0|o[36],he=0,ue=0|o[35],de=0,fe=0|o[34],pe=0,me=0|o[33],ge=0,we=0|o[32],ye=0,Se=0|o[31],ve=0,be=0|o[30],_e=0,Ee=0|o[29],Ce=0,Te=0|o[28],ke=0,Ie=0|o[27],Re=0,Pe=0|o[26],xe=0,Ae=0|o[25],Oe=0,$e=0|o[24],De=0,Le=0|o[23],Fe=0,Ne=0|o[22],Be=0,Me=0|o[21],He=0,Ue=0|o[20],je=0,We=0|o[19],qe=0,ze=0|o[18],Ve=0,Ge=0|o[17],Ke=0,Ze=0|o[16],Ye=0,Xe=0|o[15],Je=0,Qe=0|o[14],et=0,tt=0|o[13],rt=0,nt=0|o[12],ot=0,st=0|o[11],it=0,at=0|o[10],ct=0,lt=0|o[9],ht=0,ut=0|o[8],dt=0,ft=0|o[7],pt=0,mt=0|o[6],gt=0,wt=0|o[5],yt=0,St=0|o[4],vt=0,bt=0|o[3],_t=0,Et=0|o[2],Ct=0,Tt=0|o[1],kt=0,It=0|o[0];for(r=0;r<n;r++)a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=i<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,(t=e.charCodeAt(r))<128?i^=t:t<2048?(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=t>>6|192)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>12&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>6&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128):(a=397*l,h=397*u,d=397*f,m=397*w,y=397*S,v=397*b,_=397*E,C=397*T,k=397*I,R=397*P,x=397*A,O=397*$,D=397*L,F=397*N,B=397*M,H=397*U,j=397*W,q=397*z,V=397*G,K=397*Z,Y=397*X,J=397*Q,ee=397*te,re=397*ne,oe=397*se,ie=397*ae,ce=397*le,he=397*ue,de=397*fe,pe=397*me,ge=397*we,ye=397*Se,ve=397*be,_e=397*Ee,Ce=397*Te,ke=397*Ie,Re=397*Pe,xe=397*Ae,Oe=397*$e,De=397*Le,Fe=397*Ne,Be=397*Me,He=397*Ue,je=397*We,qe=397*ze,Ve=397*Ge,Ke=397*Ze,Ye=397*Xe,Je=397*Qe,et=397*tt,rt=397*nt,ot=397*st,it=397*at,ct=397*lt,ht=397*ut,dt=397*ft,pt=397*mt,gt=397*wt,yt=397*St,vt=397*bt,_t=397*Et,Ct=397*Tt,kt=397*It,Be+=(i^=t>>12|224)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,i=65535&(s=397*i),It=(kt+=X<<8)+((Ct+=(_t+=(vt+=(yt+=(gt+=(pt+=(dt+=(ht+=(ct+=(it+=(ot+=(rt+=(et+=(Je+=(Ye+=(Ke+=(Ve+=(qe+=(je+=(He+=(Be+=(Fe+=(De+=(Oe+=(xe+=(Re+=(ke+=(Ce+=(_e+=(ve+=(ye+=(ge+=(pe+=(de+=(he+=(ce+=(ie+=(oe+=(re+=(ee+=(J+=(Y+=(K+=(V+=(q+=(j+=(H+=(B+=(F+=(D+=(O+=(x+=(R+=(k+=(C+=(_+=(v+=(y+=(m+=(d+=(h+=(a+=s>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)>>>16)&65535,a=397*(l=65535&a),h=397*(u=65535&h),d=397*(f=65535&d),m=397*(w=65535&m),y=397*(S=65535&y),v=397*(b=65535&v),_=397*(E=65535&_),C=397*(T=65535&C),k=397*(I=65535&k),R=397*(P=65535&R),x=397*(A=65535&x),O=397*($=65535&O),D=397*(L=65535&D),F=397*(N=65535&F),B=397*(M=65535&B),H=397*(U=65535&H),j=397*(W=65535&j),q=397*(z=65535&q),V=397*(G=65535&V),K=397*(Z=65535&K),Y=397*(X=65535&Y),J=397*(Q=65535&J),ee=397*(te=65535&ee),re=397*(ne=65535&re),oe=397*(se=65535&oe),ie=397*(ae=65535&ie),ce=397*(le=65535&ce),he=397*(ue=65535&he),de=397*(fe=65535&de),pe=397*(me=65535&pe),ge=397*(we=65535&ge),ye=397*(Se=65535&ye),ve=397*(be=65535&ve),_e=397*(Ee=65535&_e),Ce=397*(Te=65535&Ce),ke=397*(Ie=65535&ke),Re=397*(Pe=65535&Re),xe=397*(Ae=65535&xe),Oe=397*($e=65535&Oe),De=397*(Le=65535&De),Fe=397*(Ne=65535&Fe),Be=397*(Me=65535&Be),He=397*(Ue=65535&He),je=397*(We=65535&je),qe=397*(ze=65535&qe),Ve=397*(Ge=65535&Ve),Ke=397*(Ze=65535&Ke),Ye=397*(Xe=65535&Ye),Je=397*(Qe=65535&Je),et=397*(tt=65535&et),rt=397*(nt=65535&rt),ot=397*(st=65535&ot),it=397*(at=65535&it),ct=397*(lt=65535&ct),ht=397*(ut=65535&ht),dt=397*(ft=65535&dt),pt=397*(mt=65535&pt),gt=397*(wt=65535&gt),yt=397*(St=65535&yt),vt=397*(bt=65535&vt),_t=397*(Et=65535&_t),Ct=397*(Tt=65535&Ct),kt=397*It,Be+=(i^=t>>6&63|128)<<8,He+=l<<8,je+=u<<8,qe+=f<<8,Ve+=w<<8,Ke+=S<<8,Ye+=b<<8,Je+=E<<8,et+=T<<8,rt+=I<<8,ot+=P<<8,it+=A<<8,ct+=$<<8,ht+=L<<8,dt+=N<<8,pt+=M<<8,gt+=U<<8,yt+=W<<8,vt+=z<<8,_t+=G<<8,Ct+=Z<<8,kt+=X<<8,i=65535&(s=397*i),l=65535&(a+=s>>>16),u=65535&(h+=a>>>16),f=65535&(d+=h>>>16),w=65535&(m+=d>>>16),S=65535&(y+=m>>>16),b=65535&(v+=y>>>16),E=65535&(_+=v>>>16),T=65535&(C+=_>>>16),I=65535&(k+=C>>>16),P=65535&(R+=k>>>16),A=65535&(x+=R>>>16),$=65535&(O+=x>>>16),L=65535&(D+=O>>>16),N=65535&(F+=D>>>16),M=65535&(B+=F>>>16),U=65535&(H+=B>>>16),W=65535&(j+=H>>>16),z=65535&(q+=j>>>16),G=65535&(V+=q>>>16),Z=65535&(K+=V>>>16),X=65535&(Y+=K>>>16),Q=65535&(J+=Y>>>16),te=65535&(ee+=J>>>16),ne=65535&(re+=ee>>>16),se=65535&(oe+=re>>>16),ae=65535&(ie+=oe>>>16),le=65535&(ce+=ie>>>16),ue=65535&(he+=ce>>>16),fe=65535&(de+=he>>>16),me=65535&(pe+=de>>>16),we=65535&(ge+=pe>>>16),Se=65535&(ye+=ge>>>16),be=65535&(ve+=ye>>>16),Ee=65535&(_e+=ve>>>16),Te=65535&(Ce+=_e>>>16),Ie=65535&(ke+=Ce>>>16),Pe=65535&(Re+=ke>>>16),Ae=65535&(xe+=Re>>>16),$e=65535&(Oe+=xe>>>16),Le=65535&(De+=Oe>>>16),Ne=65535&(Fe+=De>>>16),Me=65535&(Be+=Fe>>>16),Ue=65535&(He+=Be>>>16),We=65535&(je+=He>>>16),ze=65535&(qe+=je>>>16),Ge=65535&(Ve+=qe>>>16),Ze=65535&(Ke+=Ve>>>16),Xe=65535&(Ye+=Ke>>>16),Qe=65535&(Je+=Ye>>>16),tt=65535&(et+=Je>>>16),nt=65535&(rt+=et>>>16),st=65535&(ot+=rt>>>16),at=65535&(it+=ot>>>16),lt=65535&(ct+=it>>>16),ut=65535&(ht+=ct>>>16),ft=65535&(dt+=ht>>>16),mt=65535&(pt+=dt>>>16),wt=65535&(gt+=pt>>>16),St=65535&(yt+=gt>>>16),bt=65535&(vt+=yt>>>16),Et=65535&(_t+=vt>>>16),It=kt+((Ct+=_t>>>16)>>>16)&65535,Tt=65535&Ct,i^=63&t|128);return g(c[It>>8]+c[255&It]+c[Tt>>8]+c[255&Tt]+c[Et>>8]+c[255&Et]+c[bt>>8]+c[255&bt]+c[St>>8]+c[255&St]+c[wt>>8]+c[255&wt]+c[mt>>8]+c[255&mt]+c[ft>>8]+c[255&ft]+c[ut>>8]+c[255&ut]+c[lt>>8]+c[255&lt]+c[at>>8]+c[255&at]+c[st>>8]+c[255&st]+c[nt>>8]+c[255&nt]+c[tt>>8]+c[255&tt]+c[Qe>>8]+c[255&Qe]+c[Xe>>8]+c[255&Xe]+c[Ze>>8]+c[255&Ze]+c[Ge>>8]+c[255&Ge]+c[ze>>8]+c[255&ze]+c[We>>8]+c[255&We]+c[Ue>>8]+c[255&Ue]+c[Me>>8]+c[255&Me]+c[Ne>>8]+c[255&Ne]+c[Le>>8]+c[255&Le]+c[$e>>8]+c[255&$e]+c[Ae>>8]+c[255&Ae]+c[Pe>>8]+c[255&Pe]+c[Ie>>8]+c[255&Ie]+c[Te>>8]+c[255&Te]+c[Ee>>8]+c[255&Ee]+c[be>>8]+c[255&be]+c[Se>>8]+c[255&Se]+c[we>>8]+c[255&we]+c[me>>8]+c[255&me]+c[fe>>8]+c[255&fe]+c[ue>>8]+c[255&ue]+c[le>>8]+c[255&le]+c[ae>>8]+c[255&ae]+c[se>>8]+c[255&se]+c[ne>>8]+c[255&ne]+c[te>>8]+c[255&te]+c[Q>>8]+c[255&Q]+c[X>>8]+c[255&X]+c[Z>>8]+c[255&Z]+c[G>>8]+c[255&G]+c[z>>8]+c[255&z]+c[W>>8]+c[255&W]+c[U>>8]+c[255&U]+c[M>>8]+c[255&M]+c[N>>8]+c[255&N]+c[L>>8]+c[255&L]+c[$>>8]+c[255&$]+c[A>>8]+c[255&A]+c[P>>8]+c[255&P]+c[I>>8]+c[255&I]+c[T>>8]+c[255&T]+c[E>>8]+c[255&E]+c[b>>8]+c[255&b]+c[S>>8]+c[255&S]+c[w>>8]+c[255&w]+c[f>>8]+c[255&f]+c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i],1024)}return t=E,r=I,n=A,o=L,s=M,i=W,a=G,v("1a"),b(!1),_(),{hash:S,setKeyspace:function(e){if(52!==e&&!p[e])throw new Error("Supported FNV keyspacs: 32, 52, 64, 128, 256, 512, and 1024 bit");f=e},version:v,useUTF8:b,seed:_,fast1a32:function(e){var t,r=e.length-3,n=0,o=40389,s=0,i=33052;for(t=0;t<r;)s=403*i,s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),i=(s+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;for(;t<r+3;)s=403*i,i=(s+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;return(i<<16>>>0)+o},fast1a32hex:function(e){var t,r=e.length-3,n=0,o=40389,s=0,i=33052;for(t=0;t<r;)s=403*i,s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),s+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=403*o),s=403*(i=s+(n>>>16)&65535),i=(s+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;for(;t<r+3;)s=403*i,i=(s+=(o^=e.charCodeAt(t++))<<8)+((n=403*o)>>>16)&65535,o=65535&n;return c[i>>>8&255]+c[255&i]+c[o>>>8&255]+c[255&o]},fast1a52:function(e){var t,r=e.length-3,n=0,o=8997,s=0,i=33826,a=0,c=40164,l=0,h=52210;for(t=0;t<r;)s=435*i,a=435*c,l=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),h=(l+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(c=65535&a),l=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),h=(l+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(c=65535&a),l=435*h,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),h=(l+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(c=65535&a),l=435*h,a+=(o^=e.charCodeAt(t++))<<8,l+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),h=l+((a+=s>>>16)>>>16)&65535,c=65535&a;for(;t<r+3;)s=435*i,a=435*c,l=435*h,a+=(o^=e.charCodeAt(t++))<<8,l+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),h=l+((a+=s>>>16)>>>16)&65535,c=65535&a;return 281474976710656*(15&h)+4294967296*c+65536*i+(o^h>>4)},fast1a52hex:function(e){var t,r=e.length-3,n=0,o=8997,s=0,i=33826,a=0,h=40164,u=0,d=52210;for(t=0;t<r;)s=435*i,a=435*h,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(h=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(h=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),d=(u+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(h=65535&a),u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),d=u+((a+=s>>>16)>>>16)&65535,h=65535&a;for(;t<r+3;)s=435*i,a=435*h,u=435*d,a+=(o^=e.charCodeAt(t++))<<8,u+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),d=u+((a+=s>>>16)>>>16)&65535,h=65535&a;return l[15&d]+c[h>>8]+c[255&h]+c[i>>8]+c[255&i]+c[o>>8^d>>12]+c[255&(o^d>>4)]},fast1a64:function(e){var t,r=e.length-3,n=0,o=8997,s=0,i=33826,a=0,l=40164,h=0,u=52210;for(t=0;t<r;)s=435*i,a=435*l,h=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(h+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(l=65535&a),h=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(h+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(l=65535&a),h=435*u,a+=(o^=e.charCodeAt(t++))<<8,o=65535&(n=435*o),u=(h+=i<<8)+((a+=(s+=n>>>16)>>>16)>>>16)&65535,s=435*(i=65535&s),a=435*(l=65535&a),h=435*u,a+=(o^=e.charCodeAt(t++))<<8,h+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),u=h+((a+=s>>>16)>>>16)&65535,l=65535&a;for(;t<r+3;)s=435*i,a=435*l,h=435*u,a+=(o^=e.charCodeAt(t++))<<8,h+=i<<8,o=65535&(n=435*o),i=65535&(s+=n>>>16),u=h+((a+=s>>>16)>>>16)&65535,l=65535&a;return c[u>>8]+c[255&u]+c[l>>8]+c[255&l]+c[i>>8]+c[255&i]+c[o>>8]+c[255&o]},fast1a32utf:function(e){var t,r,n=e.length,o=0,s=40389,i=0,a=33052;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(i=403*a,a=(i+=(s^=t>>6|192)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(i=403*a,i+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=t>>12&63|128)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):(i=403*a,i+=(s^=t>>12|224)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128),i=403*a,a=(i+=s<<8)+((o=403*s)>>>16)&65535,s=65535&o;return(a<<16>>>0)+s},fast1a32hexutf:function(e){var t,r,n=e.length,o=0,s=40389,i=0,a=33052;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(i=403*a,a=(i+=(s^=t>>6|192)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(i=403*a,i+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),i+=(s^=t>>12&63|128)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128):(i=403*a,i+=(s^=t>>12|224)<<8,s=65535&(o=403*s),i=403*(a=i+(o>>>16)&65535),a=(i+=(s^=t>>6&63|128)<<8)+((o=403*s)>>>16)&65535,s=65535&o,s^=63&t|128),i=403*a,a=(i+=s<<8)+((o=403*s)>>>16)&65535,s=65535&o;return c[a>>>8&255]+c[255&a]+c[s>>>8&255]+c[255&s]},fast1a52utf:function(e){var t,r,n=e.length,o=0,s=8997,i=0,a=33826,c=0,l=40164,h=0,u=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(i=435*a,c=435*l,h=435*u,c+=(s^=t>>6|192)<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(i=435*a,c=435*l,h=435*u,c+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=t>>6&63|128)<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c,s^=63&t|128):(i=435*a,c=435*l,h=435*u,c+=(s^=t>>12|224)<<8,s=65535&(o=435*s),u=(h+=a<<8)+((c+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),c=435*(l=65535&c),h=435*u,c+=(s^=t>>6&63|128)<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c,s^=63&t|128),i=435*a,c=435*l,h=435*u,c+=s<<8,h+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),u=h+((c+=i>>>16)>>>16)&65535,l=65535&c;return 281474976710656*(15&u)+4294967296*l+65536*a+(s^u>>4)},fast1a52hexutf:function(e){var t,r,n=e.length,o=0,s=8997,i=0,a=33826,h=0,u=40164,d=0,f=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(i=435*a,h=435*u,d=435*f,h+=(s^=t>>6|192)<<8,d+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),f=d+((h+=i>>>16)>>>16)&65535,u=65535&h,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(i=435*a,h=435*u,d=435*f,h+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(o=435*s),f=(d+=a<<8)+((h+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),h=435*(u=65535&h),d=435*f,h+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),f=(d+=a<<8)+((h+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),h=435*(u=65535&h),d=435*f,h+=(s^=t>>6&63|128)<<8,d+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),f=d+((h+=i>>>16)>>>16)&65535,u=65535&h,s^=63&t|128):(i=435*a,h=435*u,d=435*f,h+=(s^=t>>12|224)<<8,s=65535&(o=435*s),f=(d+=a<<8)+((h+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),h=435*(u=65535&h),d=435*f,h+=(s^=t>>6&63|128)<<8,d+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),f=d+((h+=i>>>16)>>>16)&65535,u=65535&h,s^=63&t|128),i=435*a,h=435*u,d=435*f,h+=s<<8,d+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),f=d+((h+=i>>>16)>>>16)&65535,u=65535&h;return l[15&f]+c[u>>8]+c[255&u]+c[a>>8]+c[255&a]+c[s>>8^f>>12]+c[255&(s^f>>4)]},fast1a64utf:function(e){var t,r,n=e.length,o=0,s=8997,i=0,a=33826,l=0,h=40164,u=0,d=52210;for(r=0;r<n;r++)(t=e.charCodeAt(r))<128?s^=t:t<2048?(i=435*a,l=435*h,u=435*d,l+=(s^=t>>6|192)<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l,s^=63&t|128):55296==(64512&t)&&r+1<n&&56320==(64512&e.charCodeAt(r+1))?(i=435*a,l=435*h,u=435*d,l+=(s^=(t=65536+((1023&t)<<10)+(1023&e.charCodeAt(++r)))>>18|240)<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=t>>12&63|128)<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=t>>6&63|128)<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l,s^=63&t|128):(i=435*a,l=435*h,u=435*d,l+=(s^=t>>12|224)<<8,s=65535&(o=435*s),d=(u+=a<<8)+((l+=(i+=o>>>16)>>>16)>>>16)&65535,i=435*(a=65535&i),l=435*(h=65535&l),u=435*d,l+=(s^=t>>6&63|128)<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l,s^=63&t|128),i=435*a,l=435*h,u=435*d,l+=s<<8,u+=a<<8,s=65535&(o=435*s),a=65535&(i+=o>>>16),d=u+((l+=i>>>16)>>>16)&65535,h=65535&l;return c[d>>8]+c[255&d]+c[h>>8]+c[255&h]+c[a>>8]+c[255&a]+c[s>>8]+c[255&s]}}}();void 0!==e.exports&&(e.exports=t)},7597:(e,t,r)=>{(()=>{"use strict";var e=[,(e,t,r)=>{r.r(t),r.d(t,{CallHandlers:()=>n.CallHandlers,Connection:()=>n.Connection,ConnectionBearer:()=>n.ConnectionBearer,ConnectionManager:()=>o.ConnectionManager,DeferredPromise:()=>s.DeferredPromise,ExecServer:()=>a.ExecServer,FileSystemProviderErrorCode:()=>a.FileSystemProviderErrorCode,FileType:()=>a.FileType,NetworkError:()=>i.NetworkError,RPCError:()=>n.RPCError,RemoteVersion:()=>c.RemoteVersion,ServerWebSocket:()=>l.ServerWebSocket,TimeoutError:()=>i.TimeoutError,closedDuplexStream:()=>h.closedDuplexStream,msgPackEncode:()=>n.msgPackEncode});var n=r(2),o=r(6),s=r(5),i=r(10),a=r(11),c=r(7),l=r(14),h=r(12)},(e,t,r)=>{r.r(t),r.d(t,{CallHandlers:()=>h,Connection:()=>c,ConnectionBearer:()=>u,RPCError:()=>a,msgPackEncode:()=>l});var n=r(3),o=r(4),s=r(5);let i=0;class a extends Error{constructor(e,t){super(`json rpc error ${e}: message`),this.code=e,this.message=t}}class c{constructor(e,t=o.encode,r=new h){this.tunnel=e,this.globalHandlers=r,this.callbacks=new Map,this.streams=new Map,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.ownHandlers=new h,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.ownHandlers.register,this.encode=t,(async()=>{try{for await(const t of(0,o.decodeMultiStream)(e)){const e=t;"result"in e||"error"in e?this.callbacks.get(e.id)?.resolve(e):"id"in e&&"number"==typeof e.id?this.handleRequest(e):this.notifyEmitter.fire(e)}}catch(t){e.end(),this.closeEmitter.fire(t)}})(),e.once("close",(()=>{this.rejectAllCalls(new a(0,"Connection closed")),this.closeEmitter.fire(void 0)})),e.once("error",(e=>{const t=new a(0,e.message);this.rejectAllCalls(t),this.closeEmitter.fire(t)})),this.onNotification("stream_data",(e=>{this.streams.get(e.stream)?.pushData(e.segment)})),this.onNotification("stream_ended",(e=>{this.streams.get(e.stream)?.markEnded(),this.streams.delete(e.stream)})),this.onNotification("streams_started",(e=>{const t=e.stream_ids,r=this.callbacks.get(e.for_request_id);if(r?.onStream)for(const e of t){const t=new d(e,this);this.streams.set(e,t),r.onStream(t)}}))}static fromDuplexStreams(e,t){const r={once:(t,r)=>{"close"===t&&e.onEnd.then(r)},write:(e,r)=>t.write(e,r),async*[Symbol.asyncIterator](){let t=new s.DeferredPromise,r=t;for(e.onDidReceiveMessage((e=>{const r=new s.DeferredPromise;t.complete({data:e,next:r}),t=r})),e.onEnd.then((()=>{t.complete(void 0)}));;){const e=await r.p;if(!e)return;yield e.data,r=e.next}},end:()=>t.end()};return new c(r,o.encode)}dispose(){this.tunnel.end()}async call(e,t,r,n){const o=i++;return new Promise(((s,i)=>{this.callbacks.set(o,{onStream:n,resolve:e=>{"error"in e?i(new a(e.error?.code,e.error?.message)):s(e.result)},reject:i}),r?.addEventListener("abort",(()=>i(new a(0,"Operation cancelled")))),this.write(this.encode({id:o,method:e,params:t}))})).finally((()=>this.callbacks.delete(o)))}onNotification(e,t){return this.notifyEmitter.event((r=>{r.method===e&&t(r.params)}))}notify(e,t,r){this.write(this.encode({method:e,params:t}),r)}async handleRequest(e){const t=this.ownHandlers.map.get(e.method)||this.globalHandlers.map.get(e.method);if(!t){const t={id:e.id,error:{message:`Unknown method ${e.method}. Cannot resolve request`,code:36}};return void this.write(this.encode(t))}let r;try{r={id:e.id,result:await t(e.params,e.id)}}catch(t){t instanceof a?r={id:e.id,error:{code:t.code,message:t.message}}:(console.warn("Unexpected error handling request",e,t),r={id:e.id,error:{code:-1,message:String(t)}})}this.write(this.encode(r))}write(e,t){this.tunnel.write(e,t)}rejectAllCalls(e){for(const{reject:t}of this.callbacks.values())t(e);this.callbacks.clear()}}function l(e){const t=(0,o.encode)(e),r=new Uint8Array(4+t.length);return new DataView(r.buffer).setUint32(0,t.length),r.set(t,4),r}class h{constructor(){this.map=new Map,this.register=(e,t)=>{this.map.has(e)&&console.warn("Overriding previous handler for method: ",e),this.map.set(e,t)}}}class u{constructor(e){this.callHandlers=new h,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.notifyEmitter=new n.EventEmitter,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.registerRequestHandler=this.callHandlers.register,this.BEARER_TYPE=e}async checkedAcquire(){if(this.streamPromise){const e=await this.streamPromise;if(await this.isStreamValid(e))return e;e.dispose()}this.streamPromise=this.acquireNow();try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async acquire(){this.streamPromise??(this.streamPromise=this.acquireNow());try{return await this.streamPromise}catch(e){throw this.streamPromise=void 0,e}}async isStreamValid(e){return!0}async close(){this.streamPromise?.then((e=>e.dispose())),this.streamPromise=void 0}async acquireNow(){const e=await this.getConnectionTunnel(),t=new c(e,(e=>this.encodeMessage(e)),this.callHandlers);return t.onClose((e=>{this.streamPromise=void 0,this.closeEmitter.fire(e)})),this.startEmitter.fire(t),t}}class d{constructor(e,t){this.id=e,this.connection=t,this.queue=[],this.dataEmitter=new n.EventEmitter,this.endDeferred=new s.DeferredPromise,this.onDidReceiveMessage=(...e)=>(this.queue&&setTimeout((()=>this.dequeue())),this.dataEmitter.event(...e))}get onData(){return this.onDidReceiveMessage}get onEnd(){return this.queue&&setTimeout((()=>this.dequeue())),this.endDeferred.p}write(e){this.connection.notify("stream_data",{stream:this.id,segment:e})}end(){this.connection.notify("stream_ended",{stream:this.id})}pushData(e){this.queue?this.queue.push(e):this.dataEmitter.fire(e)}markEnded(){this.queue?this.queue.push(null):this.endDeferred.complete()}dequeue(){if(!this.queue)return;const e=this.queue;this.queue=void 0;for(const t of e)null===t?this.endDeferred.complete():this.dataEmitter.fire(t)}}},e=>{e.exports=r(7923)},e=>{e.exports=r(9676)},(e,t,r)=>{r.r(t),r.d(t,{DeferredPromise:()=>n});class n{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}},(e,t,r)=>{r.r(t),r.d(t,{ConnectionManager:()=>a});var n=r(3),o=r(8),s=r(5),i=r(7);class a{constructor({bearer:e}){this.socketId=0,this.connectingEmitter=new n.EventEmitter,this.onStartConnecting=this.connectingEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this.versionPromise=new s.DeferredPromise,this.bearer=e,this.bearer.onStartConnecting((e=>{e.onNotification("version",(({version:e,protocol_version:t})=>{this.versionPromise.isSettled&&(this.versionPromise=new s.DeferredPromise),this.versionPromise.complete(new i.RemoteVersion(e,t))}))})),this.onClose=this.bearer.onClose;let t=!0;this.bearer.onStartConnecting((e=>{if(this.connectingEmitter.fire(),e.onNotification("serverlog",(e=>{this.logEmitter.fire(e)})),e.onNotification("makehttpreq",(async({url:t,method:r,req_id:n})=>{this.makeHttpCall(e,t,r,n)})),t){const r=e.onNotification("servermsg",(()=>{t&&(this.connectedEmitter.fire(),r.dispose(),t=!1)}))}}))}get version(){return this.versionPromise.p}async makeHttpCall(e,t,r,n){let s;try{s=await(0,o.fetchFn)(t,{method:r})}catch(t){return e.notify("httpheaders",{headers:[],status_code:503,req_id:n}),void e.notify("httpbody",{segment:(new TextEncoder).encode(String(t)),complete:!0,req_id:n})}e.notify("httpheaders",{headers:[...s.headers],status_code:s.status,req_id:n});const i=()=>e.notify("httpbody",{segment:new Uint8Array,complete:!0,req_id:n});if(s.body&&"function"==typeof s.body.on){const t=s.body;return t.on("data",(t=>e.notify("httpbody",{segment:t,complete:!1,req_id:n}))),t.on("end",i),t.on("error",i),void t.resume()}const a=s.body;if(a)try{const t=a.getReader();for(;;){const{done:r,value:o}=await t.read();if(e.notify("httpbody",{segment:o||new Uint8Array,complete:r,req_id:n}),r)break}}catch(e){throw i(),e}else i()}nextSocketId(){return this.socketId++}async checkForUpdates(e){return(await this.bearer.acquire()).call("update",{do_update:e?.doUpdate??!1})}async call(e,t,r,n){const o=await this.bearer.acquire();return await o.call(e,t,r,n)}}},(e,t,r)=>{r.r(t),r.d(t,{RemoteVersion:()=>n});class n{constructor(e,t=0){this.cliVersion=e,this.protocolVerson=t}shouldWarnOutdated(){return this.protocolVerson<=2}canPing(){return this.protocolVerson>=1}canCompressServerMsg(){return this.protocolVerson>=2}usesConnectionToken(){return this.protocolVerson>=3}shouldLengthPrefixMessages(){return this.protocolVerson<4}}},(e,t,r)=>{r.r(t),r.d(t,{fetchFn:()=>o});var n=r(9);const o=r.n(n)()},e=>{e.exports=r(4126)},(e,t,r)=>{r.r(t),r.d(t,{NetworkError:()=>n,TimeoutError:()=>o});class n extends Error{constructor(e,t="ECONNREFUSED"){super(e.message),this.code=t,this.syscall="connect",this.stack=e.stack}}class o extends Error{constructor(){super("Operation timed out")}}},(e,t,r)=>{r.r(t),r.d(t,{ExecServer:()=>c,FileSystemProviderErrorCode:()=>u,FileType:()=>d});var n=r(3),o=r(13),s=r(2),i=r(5),a=r(12);class c{constructor(e){this.connection=e,this.fs={stat:async e=>{const t=await this.connection.call("fs_stat",{path:e});if(!t.exists)throw new h(`File not found: ${e}`,u.FileNotFound);return{ctime:0,mtime:0,size:0,type:l(t.type)}},mkdirp:async e=>{await this.connection.call("fs_mkdirp",{path:e})},rm:async e=>{await this.connection.call("fs_rm",{path:e})},rename:async(e,t)=>{await this.connection.call("fs_rename",{from_path:e,to_path:t})},readdir:async e=>{const{contents:t}=await this.connection.call("fs_readdir",{path:e});return t.map((({name:e,type:t})=>({name:e,type:l(t)})))},read:e=>{const t=new i.DeferredPromise;return this.connection.call("fs_read",{path:e},void 0,(e=>t.complete(e))).catch((e=>t.error(e))),t.p},write:async e=>{const t=new i.DeferredPromise,r=this.connection.call("fs_write",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:r}},connect:async e=>{const t=new i.DeferredPromise,r=this.connection.call("fs_connect",{path:e},void 0,(e=>t.complete(e))).then((()=>{}),(e=>{if(t.complete)throw e;t.error(e)}));return{stream:await t.p,done:r}}}}async kill(e){await this.connection.call("sys_kill",{pid:e})}async spawn(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new i.DeferredPromise)),s=Promise.all(o.map((e=>e.p))),c=this.connection.call("spawn",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[l,h,u]=await s;return{stdin:l,stdout:h,stderr:u,onExit:c}}async spawnRemoteServerConnector(e,t,r={}){const{connection:o,logs:s,onExit:i}=await this.spawnCli(e,t,r),a=new c(o);return{logs:s,onExit:i,connect:async e=>{const t=await a.serve(e),r=new n.EventEmitter,o=new n.EventEmitter;return t.onEnd.then((()=>r.fire())),{send:e=>t.write(e),end:()=>t.end(),onDidEnd:r.event,onDidClose:o.event,onDidReceiveMessage:t.onDidReceiveMessage}}}}async spawnCli(e,t,{env:r={},cwd:n}={}){const o=Array.from({length:3},(()=>new i.DeferredPromise)),c=Promise.all(o.map((e=>e.p))),l=this.connection.call("spawn_cli",{command:e,args:t,env:r,cwd:n},void 0,(e=>{o.shift()?.complete(e)})).then((e=>(o.forEach((e=>e.complete(a.closedDuplexStream))),{status:e.exit_code,message:e.message}))),[h,u,d]=await c;return{connection:s.Connection.fromDuplexStreams(u,h),logs:d,onExit:l}}async downloadCliExecutable(e,t,r,n){return this.connection.call("acquire_cli",{command:t,args:r,platform:e.buildTarget,quality:e.quality,commit_id:e.commit,env:n?.env}).then((e=>({status:e.exit_code,message:e.message})))}async acquireCli(e){return this.connection.call("acquire_cli",{command:e.command,args:e.args,platform:e.buildTarget??e.platform,quality:e.quality,commit_id:e.commit??e.commit_id,env:e.env}).then((e=>({status:e.exit_code,message:e.message})))}async serve(e){const t=e.socketId??e.socket_id;return await this.connection.call("serve",{socket_id:t,commit_id:e.commit??e.commit_id,extensions:e.extensions,quality:e.quality,archive_path:e.archivePath??e.archive_path,compress:e.compress,connection_token:e.connectionToken??e.connection_token}),new f(t,this.connection,!!e.compress)}async env(){const e=await this.connection.call("get_env",{});return{env:e.env,osRelease:e.os_release,osPlatform:e.os_platform}}async fsStat(e){const t=await this.connection.call("fs_stat",{path:e});return t.exists?{exists:!0,size:t.size,type:t.type}:{exists:!1}}async tcpConnect(e,t){const r=new i.DeferredPromise,n=this.connection.call("net_connect",{host:e,port:t},void 0,(e=>r.complete(e))).then((()=>{}),(e=>{if(r.complete)throw e;r.error(e)}));return{stream:await r.p,done:n}}}const l=e=>{switch(e){case"file":return d.File;case"dir":return d.Directory;case"link":return d.SymbolicLink;default:return d.Unknown}};class h extends Error{constructor(e,t){super(e),this.code=t}}var u,d;!function(e){e.FileNotFound="EntryNotFound"}(u||(u={})),function(e){e[e.Unknown=0]="Unknown",e[e.File=1]="File",e[e.Directory=2]="Directory",e[e.SymbolicLink=64]="SymbolicLink"}(d||(d={}));class f{constructor(e,t,r){this.socketId=e,this.connection=t,this.id=0,this.drains=new p,this.disposables=[],this.onDataEmitter=new n.EventEmitter,this.onDidReceiveMessage=this.onDataEmitter.event,this.onData=this.onDidReceiveMessage,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onEndDeferred=new i.DeferredPromise,this.onEnd=this.onEndDeferred.p;let s=Promise.resolve();if(r){const r=this.zip={deflate:(0,o.createDeflateRaw)(),inflate:(0,o.createInflateRaw)()};r.inflate.on("data",(e=>this.onDataEmitter.fire(e))),r.deflate.on("data",(r=>{t.notify("servermsg",{i:e,body:r},this.drains.add())})),this.disposables.push({dispose:()=>{r.deflate.close(),r.inflate.close()}})}this.disposables.push(t.onNotification("serverclose",(({i:t})=>{t===e&&(this.zip?s.then((()=>{this.zip.inflate.close((()=>this.onDidClose()))})):this.onDidClose())})),t.onNotification("servermsg",(({i:t,body:r})=>{if(t===e)if(this.zip){const e=new Promise((e=>this.zip.inflate.write(r,e)));s=s.then((()=>e))}else this.onDataEmitter.fire(r)})))}write(e,t){const r=this.socketId,n=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength),o=this.drains.add(),s=()=>{o(),t?.()};this.zip?this.zip.deflate.write(n,void 0,(()=>{this.zip.deflate.flush(2,s)})):this.connection.notify("servermsg",{i:r,body:n},s)}end(){this.disposables.forEach((e=>e.dispose()))}drain(){return this.drains.wait()}onDidClose(){this.onCloseEmitter.fire(),this.onEndDeferred.complete()}}class p{constructor(){this.queue=0,this.drainWaiters=[]}add(){this.queue++;let e=!1;return()=>{e||(e=!0,this.queue--,0===this.queue&&(this.drainWaiters.forEach((e=>e())),this.drainWaiters.length=0))}}wait(){return 0===this.queue?Promise.resolve():new Promise((e=>{this.drainWaiters.push(e)}))}}},(e,t,r)=>{r.r(t),r.d(t,{closedDuplexStream:()=>n});const n={id:0,onData:()=>({dispose:()=>{}}),onDidReceiveMessage:()=>({dispose:()=>{}}),onEnd:Promise.resolve(void 0),write:()=>{},end:()=>{}}},e=>{e.exports=r(9796)},(e,t,r)=>{r.r(t),r.d(t,{ServerWebSocket:()=>i});var n=r(3),o=r(10),s=r(11);class i{constructor(e,t){this.options=e,this.version=t,this.SOCKET_TYPE="Local Proxy Server Socket",this.dispose=[],this.onDataEmitter=new n.EventEmitter,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new n.EventEmitter,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new n.EventEmitter,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new n.EventEmitter,this.onError=this.onErrorEmitter.event}send(e){const t=e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength);this.stream?this.stream.write(t):console.warn(new Error("attempted to send data before socket was open").stack)}close(){this.dispose.forEach((e=>e.dispose()))}onMessage(e){this.onDataEmitter.fire(e)}upgradeToWebSocketConnection(){}async initialize(){const e=await this.options.bearer.checkedAcquire(),t=!!(await this.version).canCompressServerMsg()&&(this.options.compress??!0),r=this.stream=await new s.ExecServer(e).serve({socketId:this.options.socketId,extensions:this.options.extensions||[],quality:this.options.product.quality,commit:this.options.product.commit,archivePath:this.options.archivePath,connectionToken:this.options.connectionToken,compress:t});this.dispose.push(r.onDidReceiveMessage(this.onMessage,this)),this.dispose.push(e.onClose((e=>{e&&this.onErrorEmitter.fire(new o.NetworkError(e)),this.onCloseEmitter.fire()}))),this.upgradeToWebSocketConnection()}}},(e,t,r)=>{r.r(t),r.d(t,{ProxyConnection:()=>w,State:()=>g});var n=r(3),o=r(4),s=r(16),i=r(17),a=r(18),c=r(19),l=r(20),h=r(21),u=r(2),d=r(5),f=r(22),p=r(23);const m=!process.env.VSCODE_TUNNELS_DISABLE_PROCESS_REUSE;var g;!function(e){e[e.Idle=0]="Idle",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Closed=3]="Closed"}(g||(g={}));class w{constructor(e,t){this.args=e,this.logger=t,this.extraHandlers=new u.CallHandlers,this.registerRequestHandler=this.extraHandlers.register.bind(this.extraHandlers),this.bearerPromise=new d.DeferredPromise,this.bearer=this.bearerPromise.p,this.localPortPromise=new d.DeferredPromise,this.localPort=this.localPortPromise.p,this.startEmitter=new n.EventEmitter,this.onStartConnecting=this.startEmitter.event,this.closeEmitter=new n.EventEmitter,this.onClose=this.closeEmitter.event,this.connectedEmitter=new n.EventEmitter,this.onConnected=this.connectedEmitter.event,this.logEmitter=new n.EventEmitter,this.onLog=this.logEmitter.event,this._state=g.Idle,this.initialize(),this.bearer.catch((e=>{this.closeEmitter.fire(e)}))}get state(){return this._state}static async create(e){const t=w.getPathForRunningProxyInTmpDir(e.nonce),r={args:e.args,productInfo:e.productInfo,runningProxyInfoFile:t,extensions:e.extensions},n=await w.getValidProxySocket(t);if(n){e.logger.log(3,`Found running server in ${n}`);try{const t=new S({...r,proxySocketPath:n},e.logger);return e.setup?.(t),await(0,f.timeoutPromise)(5e3,t.callOnProxy("greet",{})),t}catch(t){e.logger.log(3,`Error greeting the server, starting a new instance (${t})`)}}e.logger.log(3,"Creating new tunnel proxy server");const o=function(e,t){const r=(0,i.createHash)("sha256").update(e).update("\0").update(t).digest("hex").slice(0,16);return"win32"===process.platform?`\\\\.\\pipe\\vscode-tunneling-${r}-sock`:process.env.XDG_RUNTIME_DIR?h.join(process.env.XDG_RUNTIME_DIR,`vscode-tunneling-${r}.sock`):h.join(l.tmpdir(),`vscode-tunneling-${r}.sock`)}(e.nonce,(0,i.randomBytes)(20).toString("hex")),s=new y({...r,proxySocketPath:o},e.logger,e.serverPath);return e.setup?.(s),s}static async getValidProxySocket(e){try{const t=JSON.parse(await a.promises.readFile(e,"utf-8"));if(t.at>Date.now()-p.proxyFileTimeout)return await a.promises.stat(t.socket),t.socket}catch{}}static getPathForRunningProxyInTmpDir(e){const t=`vscode-server-proxy-${(0,i.createHash)("sha256").update(e).digest("hex").slice(0,16)}-daemon`;return h.join(l.tmpdir(),t)}async callOnProxy(e,t){return(await this.bearer).call(e,t)}async call(e,t,r,n){return(await this.bearer).call("calltunnel",{method:e,params:t,stream:!!n},r,n)}async initialize(){this.connectToProxyServer();const e=await this.bearer;e.onNotification("serverlog",(e=>{this.logger.log(e.level,`[server] ${e.line}`),this.logEmitter.fire(e)})),e.onNotification("proxylog",(e=>this.logger.log(e.level,`[proxy] ${e.message}`,...e.args))),e.onNotification("statechange",(e=>{switch(e.state){case"connecting":this._state=g.Connecting,this.startEmitter.fire();break;case"connected":this._state=g.Connected,this.connectedEmitter.fire();break;case"closed":let t;this._state=g.Closed,e.reason&&(t=new Error(e.reason.message),t.stack=e.reason.stack||t.stack),this.closeEmitter.fire(t)}})),e.onClose((e=>{this.closeEmitter.fire(e)}))}connectToProxyServer(){let e,t=!1;const r=()=>{t=!1,e?.destroy(),e=void 0},n=()=>{t||(r(),e=c.connect(this.args.proxySocketPath),e.on("connect",(async()=>{t=!0,this.bearerPromise.complete(new u.Connection(e,o.encode,this.extraHandlers)),this.getPortOfTunnelProxyServer()})),e.on("error",(e=>{r()})))};let s;const i=()=>{n(),s&&clearTimeout(s),s=setTimeout((async()=>{t||i()}),500)};i()}async getPortOfTunnelProxyServer(){const e=await this.bearer,t=(await e.call("getlocalport",{})).value;this.localPortPromise.complete(t)}async dispose(){(await this.bearer).dispose()}}w.State=g;class y extends w{constructor(e,t,r){const n=s.spawn(process.execPath,[r],{detached:m,stdio:m?"ignore":"pipe",env:{...process.env,VSCODE_TUNNEL_ARGS:JSON.stringify(e)}});n.stdout?.on("data",(e=>console.log("Proxy process stdout:",e.toString().trim()))),n.stderr?.on("data",(e=>console.log("Proxy process stderr:",e.toString().trim()))),m&&n.unref(),super(e,t)}}class S extends w{}},e=>{e.exports=r(2081)},e=>{e.exports=r(6113)},e=>{e.exports=r(7147)},e=>{e.exports=r(1808)},e=>{e.exports=r(2037)},e=>{e.exports=r(1017)},(e,t,r)=>{r.r(t),r.d(t,{timeoutPromise:()=>n});const n=(e,t)=>new Promise(((r,n)=>{const o=setTimeout((()=>{n(new Error("Operation timed out"))}),e);t.finally((()=>clearTimeout(o))).then(r,n)}))},(e,t,r)=>{r.r(t),r.d(t,{proxyFileTimeout:()=>n});const n=6e3},(e,t,r)=>{r.r(t),r.d(t,{ProxyServer:()=>h});var n=r(4),o=r(18),s=r(19),i=r(5),a=r(2),c=r(14),l=r(25);class h{constructor(e){this._options=e,this.serverConnections=new Set,this.disposables=[],this.setupPromise=new i.DeferredPromise,this.setup=this.setupPromise.p,this.didSetup=!1,this.connectionCount=0,this.connectionIdCounter=0,this.args=e.args,this.proxyServer=s.createServer((async e=>{await this.onProxyConnection(e)})),this.disposables.push({dispose:()=>this.proxyServer.close()}),this.controlServer=s.createServer((async e=>{await this.onServerConnection(e)})),this.disposables.push({dispose:()=>this.controlServer.close()}),this.initialize().catch((e=>{this.log(5,`Failed to initialize proxy server: ${e}}`),console.error(e),process.exit(1)})),this.startSavingRunningInfo(),this.delayShutdown(9e4)}incrementConnectionCount(){this.connectionCount+=1,this.shutdownTimer&&(clearTimeout(this.shutdownTimer),this.shutdownTimer=void 0)}decrementConnectionCount(){this.connectionCount-=1,0===this.connectionCount&&this.delayShutdown(3e4)}static readArgsFromEnvironment(){return JSON.parse(process.env.VSCODE_TUNNEL_ARGS)}getWebSocket(e,t){return new c.ServerWebSocket(t,e.version)}onDidSetUpServerConnection(e){}async initialize(){await Promise.all([new Promise(((e,t)=>{this.proxyServer.listen(0,"127.0.0.1",(()=>e())),this.proxyServer.on("error",t)})),new Promise(((e,t)=>{this.controlServer.listen(this._options.proxySocketPath,e),this.controlServer.on("error",t)}))])}delayShutdown(e=3e4){this.shutdownTimer&&clearTimeout(this.shutdownTimer),this.shutdownTimer=setTimeout((()=>{this.dispose(),this.log(2,"Timed out, shutting down"),process.exit(0)}),e)}async onServerConnection(e){this.log(2,"Server connection from:  ",e.localAddress," ",e.localPort),this.incrementConnectionCount();const t=new a.Connection(e,n.encode);this.didSetup||this.acquireTunnel(t),this.serverConnections.add(t),t.onClose((e=>{this.log(2,`Server connection closed (err: ${e})`),this.serverConnections.delete(t),this.decrementConnectionCount()})),t.registerRequestHandler("greet",(()=>(this.log(2,"Server greeted"),Promise.resolve({})))),t.registerRequestHandler("getlocalport",(async()=>({value:this.proxyServer.address().port}))),t.onNotification("stream_data",(e=>t.notify("stream_data",e))),t.onNotification("stream_ended",(e=>t.notify("stream_ended",e))),t.registerRequestHandler("calltunnel",(async({method:e,params:r,stream:n},o)=>(await this.setup).call(e,r,void 0,n?e=>{t.notify("streams_started",{for_request_id:o,stream_ids:[e.id]}),e.onDidReceiveMessage((r=>t.notify("stream_data",{segment:r,stream:e.id}))),e.onEnd.then((()=>t.notify("stream_ended",{stream:e.id})))}:void 0))),this.onDidSetUpServerConnection(t),this.lastState&&t.notify("statechange",this.lastState)}async onProxyConnection(e){const t=`[connection.${this.connectionIdCounter++}]`;this.log(2,`${t} connection from:  ${e.localAddress} ${e.localPort}`),this.incrementConnectionCount();const r=(0,l.writeBuffer)();let n;e.on("data",(e=>r.write(e))),e.on("close",(()=>{n?.close(),this.decrementConnectionCount()}));try{const e=await this.setup,t=this.getWebSocket(e,{bearer:e.bearer,product:this._options.productInfo,extensions:this._options.extensions,socketId:e.nextSocketId(),compress:!0});await t.initialize(),n=t}catch(e){return this.log(5,`${t} error setting up websocket: ${e}`),void this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}r.connect((e=>n.send(e))),this.disposables.push(n.onData((t=>e.write(new Uint8Array(t)))),n.onError((e=>{this.log(5,`${t} tunnel connection error: ${e}`)})),n.onClose((()=>{this.log(5,`${t} tunnel connection ended`),e.end()}))),this.log(3,`${t} tunnel connection established`)}async acquireTunnel(e){let t;try{t=await this.createConnectionManager(e)}catch(e){return this.log(5,e.message),this.setState({state:"closed",reason:{message:e.message,stack:e.stack}})}this.setupPromise.complete(t),t.onLog((e=>{this.serverConnections.forEach((t=>{t.notify("serverlog",e)}))})),t.onStartConnecting((()=>{this.log(2,"Tunnel started connecting"),this.setState({state:"connecting"})})),t.onConnected((()=>{this.log(3,"Tunnel connection successful"),this.setState({state:"connected"})})),t.onClose((e=>{this.log(5,`Tunnel connection closed with: ${e?.message}`),this.setState({state:"closed",reason:{message:e?.message||"Remote server disconnected"}})}))}setState(e){if(e.state!==this.lastState?.state){this.lastState=e;for(const t of this.serverConnections)t.notify("statechange",e);"closed"===e.state&&process.exit(1)}}startSavingRunningInfo(){this.log(2,`Saving socket path "${this._options.proxySocketPath}" to daemon in: ${this._options.runningProxyInfoFile}`);const e=()=>JSON.stringify({at:Date.now(),socket:this._options.proxySocketPath,pid:process.pid});o.writeFileSync(this._options.runningProxyInfoFile,e());const t=setInterval((()=>o.writeFile(this._options.runningProxyInfoFile,e(),(()=>{}))),3e3);this.disposables.push({dispose:()=>{clearInterval(t);try{o.rmSync(this._options.runningProxyInfoFile)}catch{}}})}log(e,t,...r){for(const n of this.serverConnections)n.notify("proxylog",{level:e,message:t,args:r})}dispose(){this.serverConnections.forEach((e=>{e.notify("statechange",{state:"closed",reason:new Error("Disposing proxy server.")}),e.dispose()})),this.disposables.forEach((e=>e.dispose()))}}},(e,t,r)=>{r.r(t),r.d(t,{writeBuffer:()=>n});const n=()=>{let e=[];return{write:t=>{e.push(t)},connect(t){for(const r of e)t(r);this.write=t,e=void 0}}}}],n={};function o(t){var r=n[t];if(void 0!==r)return r.exports;var s=n[t]={exports:{}};return e[t](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{o.r(s),o.d(s,{CallHandlers:()=>e.CallHandlers,Connection:()=>e.Connection,ConnectionBearer:()=>e.ConnectionBearer,ConnectionManager:()=>e.ConnectionManager,DeferredPromise:()=>e.DeferredPromise,ExecServer:()=>e.ExecServer,FileSystemProviderErrorCode:()=>e.FileSystemProviderErrorCode,FileType:()=>e.FileType,NetworkError:()=>e.NetworkError,ProxyConnection:()=>t.ProxyConnection,ProxyServer:()=>r.ProxyServer,RPCError:()=>e.RPCError,RemoteVersion:()=>e.RemoteVersion,ServerWebSocket:()=>e.ServerWebSocket,State:()=>t.State,TimeoutError:()=>e.TimeoutError,closedDuplexStream:()=>e.closedDuplexStream,msgPackEncode:()=>e.msgPackEncode});var e=o(1),t=o(15),r=o(24)})();var i=t;for(var a in s)i[a]=s[a];s.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()},3701:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;const i=s(r(3685)),a=s(r(5687));async function c(e){let t=0;const r=[];for await(const n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}t.toBuffer=c,t.json=async function(e){const t=(await c(e)).toString("utf8");try{return JSON.parse(t)}catch(e){const r=e;throw r.message+=` (input: ${t})`,r}},t.req=function(e,t={}){const r=(("string"==typeof e?e:e.href).startsWith("https:")?a:i).request(e,t),n=new Promise(((e,t)=>{r.once("response",e).once("error",t).end()}));return r.then=n.then.bind(n),r}},2917:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;const a=s(r(3685));i(r(3701),t);const c=Symbol("AgentBaseInternalState");class l extends a.Agent{constructor(e){super(e),this[c]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,r){const n={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,n))).then((o=>{if(o instanceof a.Agent)return o.addRequest(e,n);this[c].currentSocket=o,super.createSocket(e,t,r)}),r)}createConnection(){const e=this[c].currentSocket;if(this[c].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[c].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[c]&&(this[c].defaultPort=e)}get protocol(){return this[c].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[c]&&(this[c].protocol=e)}}t.Agent=l},5623:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=r(e,o)),t instanceof RegExp&&(t=r(t,o));var s=n(e,t,o);return s&&{start:s[0],end:s[1],pre:o.slice(0,s[0]),body:o.slice(s[0]+e.length,s[1]),post:o.slice(s[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function n(e,t,r){var n,o,s,i,a,c=r.indexOf(e),l=r.indexOf(t,c+1),h=c;if(c>=0&&l>0){if(e===t)return[c,l];for(n=[],s=r.length;h>=0&&!a;)h==c?(n.push(h),c=r.indexOf(e,h+1)):1==n.length?a=[n.pop(),l]:((o=n.pop())<s&&(s=o,i=l),l=r.indexOf(t,h+1)),h=c<l&&c>=0?c:l;n.length&&(a=[s,i])}return a}e.exports=t,t.range=n},3644:(e,t,r)=>{var n=r(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(i).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(h)):[]};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",i="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(s).join("{").split(i).join("}").split(a).join(",").split(c).join(".")}function u(e){if(!e)return[""];var t=[],r=n("{","}",e);if(!r)return e.split(",");var o=r.pre,s=r.body,i=r.post,a=o.split(",");a[a.length-1]+="{"+s+"}";var c=u(i);return i.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function d(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var r=[],o=n("{","}",e);if(!o)return[e];var s=o.pre,a=o.post.length?g(o.post,!1):[""];if(/\$$/.test(o.pre))for(var c=0;c<a.length;c++){var h=s+"{"+o.body+"}"+a[c];r.push(h)}else{var w,y,S=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body),v=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body),b=S||v,_=o.body.indexOf(",")>=0;if(!b&&!_)return o.post.match(/,.*\}/)?g(e=o.pre+"{"+o.body+i+o.post):[e];if(b)w=o.body.split(/\.\./);else if(1===(w=u(o.body)).length&&1===(w=g(w[0],!1).map(d)).length)return a.map((function(e){return o.pre+w[0]+e}));if(b){var E=l(w[0]),C=l(w[1]),T=Math.max(w[0].length,w[1].length),k=3==w.length?Math.abs(l(w[2])):1,I=p;C<E&&(k*=-1,I=m);var R=w.some(f);y=[];for(var P=E;I(P,C);P+=k){var x;if(v)"\\"===(x=String.fromCharCode(P))&&(x="");else if(x=String(P),R){var A=T-x.length;if(A>0){var O=new Array(A+1).join("0");x=P<0?"-"+O+x.slice(1):O+x}}y.push(x)}}else{y=[];for(var $=0;$<w.length;$++)y.push.apply(y,g(w[$],!1))}for($=0;$<y.length;$++)for(c=0;c<a.length;c++)h=s+y[$]+a[c],(!t||b||h)&&r.push(h)}return r}},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},6018:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;const a=s(r(1808)),c=s(r(4404)),l=i(r(9491)),h=i(r(7050)),u=r(2917),d=r(9829),f=(0,h.default)("https-proxy-agent");class p extends u.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?g(t,"headers"):null,host:r,port:n}}async connect(e,t){const{proxy:r}=this;if(!t.host)throw new TypeError('No "host" provided');let n;if("https:"===r.protocol){f("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;n=c.connect({...this.connectOpts,servername:e&&a.isIP(e)?void 0:e})}else f("Creating `net.Socket`: %o",this.connectOpts),n=a.connect(this.connectOpts);const o="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},s=a.isIPv6(t.host)?`[${t.host}]`:t.host;let i=`CONNECT ${s}:${t.port} HTTP/1.1\r\n`;if(r.username||r.password){const e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;o["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}o.Host=`${s}:${t.port}`,o["Proxy-Connection"]||(o["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(o))i+=`${e}: ${o[e]}\r\n`;const h=(0,d.parseProxyResponse)(n);n.write(`${i}\r\n`);const{connect:u,buffered:p}=await h;if(e.emit("proxyConnect",u),this.emit("proxyConnect",u,e),200===u.statusCode){if(e.once("socket",m),t.secureEndpoint){f("Upgrading socket connection to TLS");const e=t.servername||t.host;return c.connect({...g(t,"host","path","port"),socket:n,servername:a.isIP(e)?void 0:e})}return n}n.destroy();const w=new a.Socket({writable:!1});return w.readable=!0,e.once("socket",(e=>{f("Replaying proxy buffer for failed request"),(0,l.default)(e.listenerCount("data")>0),e.push(p),e.push(null)})),w}}function m(e){e.resume()}function g(e,...t){const r={};let n;for(n in e)t.includes(n)||(r[n]=e[n]);return r}p.protocols=["http","https"],t.HttpsProxyAgent=p},9829:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;const o=(0,n(r(7050)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise(((t,r)=>{let n=0;const s=[];function i(){const c=e.read();c?function(c){s.push(c),n+=c.length;const l=Buffer.concat(s,n),h=l.indexOf("\r\n\r\n");if(-1===h)return o("have not received end of HTTP headers yet..."),void i();const u=l.slice(0,h).toString("ascii").split("\r\n"),d=u.shift();if(!d)return e.destroy(),r(new Error("No header received from proxy CONNECT response"));const f=d.split(" "),p=+f[1],m=f.slice(2).join(" "),g={};for(const t of u){if(!t)continue;const n=t.indexOf(":");if(-1===n)return e.destroy(),r(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const o=t.slice(0,n).toLowerCase(),s=t.slice(n+1).trimStart(),i=g[o];"string"==typeof i?g[o]=[i,s]:Array.isArray(i)?i.push(s):g[o]=s}o("got proxy server response: %o %o",d,g),a(),t({connect:{statusCode:p,statusText:m,headers:g},buffered:l})}(c):e.once("readable",i)}function a(){e.removeListener("end",c),e.removeListener("error",l),e.removeListener("readable",i)}function c(){a(),o("onend"),r(new Error("Proxy connection ended before receiving CONNECT response"))}function l(e){a(),o("onerror %o",e),r(e)}e.on("error",l),e.on("end",c),i()}))}},2942:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(86)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},86:(e,t,r)=>{e.exports=function(e){function t(e){let r,o,s,i=null;function a(...e){if(!a.enabled)return;const n=a,o=Number(new Date),s=o-(r||o);n.diff=s,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";i++;const s=t.formatters[o];if("function"==typeof s){const t=e[i];r=s.call(n,t),e.splice(i,1),i--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(o!==t.namespaces&&(o=t.namespaces,s=t.enabled(e)),s),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(9550),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},7050:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(2942):e.exports=r(127)},127:(e,t,r)=>{const n=r(6224),o=r(3837);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),s=`  ${o};1m${n} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e}),{}),e.exports=r(86)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},3920:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddressError=void 0;class r extends Error{constructor(e,t){super(e),this.name="AddressError",null!==t&&(this.parseMessage=t)}}t.AddressError=r},2619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isCorrect=t.isInSubnet=void 0,t.isInSubnet=function(e){return!(this.subnetMask<e.subnetMask)&&this.mask(e.subnetMask)===e.mask()},t.isCorrect=function(e){return function(){return this.addressMinusSuffix===this.correctForm()&&(this.subnetMask===e&&!this.parsedSubnet||this.parsedSubnet===String(this.subnetMask))}}},33:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.v6=t.AddressError=t.Address6=t.Address4=void 0;const i=r(2357);Object.defineProperty(t,"Address4",{enumerable:!0,get:function(){return i.Address4}});const a=r(3245);Object.defineProperty(t,"Address6",{enumerable:!0,get:function(){return a.Address6}});const c=r(3920);Object.defineProperty(t,"AddressError",{enumerable:!0,get:function(){return c.AddressError}});const l=s(r(1570));t.v6={helpers:l}},2357:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address4=void 0;const i=s(r(2619)),a=s(r(3481)),c=r(3920),l=r(6077),h=r(8975);class u{constructor(e){this.groups=a.GROUPS,this.parsedAddress=[],this.parsedSubnet="",this.subnet="/32",this.subnetMask=32,this.v4=!0,this.isCorrect=i.isCorrect(a.BITS),this.isInSubnet=i.isInSubnet,this.address=e;const t=a.RE_SUBNET_STRING.exec(e);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,this.subnetMask<0||this.subnetMask>a.BITS)throw new c.AddressError("Invalid subnet mask.");e=e.replace(a.RE_SUBNET_STRING,"")}this.addressMinusSuffix=e,this.parsedAddress=this.parse(e)}static isValid(e){try{return new u(e),!0}catch(e){return!1}}parse(e){const t=e.split(".");if(!e.match(a.RE_ADDRESS))throw new c.AddressError("Invalid IPv4 address.");return t}correctForm(){return this.parsedAddress.map((e=>parseInt(e,10))).join(".")}static fromHex(e){const t=e.replace(/:/g,"").padStart(8,"0"),r=[];let n;for(n=0;n<8;n+=2){const e=t.slice(n,n+2);r.push(parseInt(e,16))}return new u(r.join("."))}static fromInteger(e){return u.fromHex(e.toString(16))}static fromArpa(e){const t=e.replace(/(\.in-addr\.arpa)?\.$/,"").split(".").reverse().join(".");return new u(t)}toHex(){return this.parsedAddress.map((e=>(0,h.sprintf)("%02x",parseInt(e,10)))).join(":")}toArray(){return this.parsedAddress.map((e=>parseInt(e,10)))}toGroup6(){const e=[];let t;for(t=0;t<a.GROUPS;t+=2){const r=(0,h.sprintf)("%02x%02x",parseInt(this.parsedAddress[t],10),parseInt(this.parsedAddress[t+1],10));e.push((0,h.sprintf)("%x",parseInt(r,16)))}return e.join(":")}bigInteger(){return new l.BigInteger(this.parsedAddress.map((e=>(0,h.sprintf)("%02x",parseInt(e,10)))).join(""),16)}_startAddress(){return new l.BigInteger(this.mask()+"0".repeat(a.BITS-this.subnetMask),2)}startAddress(){return u.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new l.BigInteger("1");return u.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new l.BigInteger(this.mask()+"1".repeat(a.BITS-this.subnetMask),2)}endAddress(){return u.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new l.BigInteger("1");return u.fromBigInteger(this._endAddress().subtract(e))}static fromBigInteger(e){return u.fromInteger(parseInt(e.toString(),10))}mask(e){return void 0===e&&(e=this.subnetMask),this.getBitsBase2(0,e)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}reverseForm(e){e||(e={});const t=this.correctForm().split(".").reverse().join(".");return e.omitSuffix?t:(0,h.sprintf)("%s.in-addr.arpa.",t)}isMulticast(){return this.isInSubnet(new u("224.0.0.0/4"))}binaryZeroPad(){return this.bigInteger().toString(2).padStart(a.BITS,"0")}groupForV6(){const e=this.parsedAddress;return this.address.replace(a.RE_ADDRESS,(0,h.sprintf)('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',e.slice(0,2).join("."),e.slice(2,4).join(".")))}}t.Address4=u},3245:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Address6=void 0;const i=s(r(2619)),a=s(r(3481)),c=s(r(5750)),l=s(r(1570)),h=r(2357),u=r(9482),d=r(3920),f=r(6077),p=r(8975);function m(e){if(!e)throw new Error("Assertion failed.")}function g(e){return(e=e.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2')).replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2')}function w(e){return(0,p.sprintf)("%04x",parseInt(e,16))}function y(e){return 255&e}class S{constructor(e,t){this.addressMinusSuffix="",this.parsedSubnet="",this.subnet="/128",this.subnetMask=128,this.v4=!1,this.zone="",this.isInSubnet=i.isInSubnet,this.isCorrect=i.isCorrect(c.BITS),this.groups=void 0===t?c.GROUPS:t,this.address=e;const r=c.RE_SUBNET_STRING.exec(e);if(r){if(this.parsedSubnet=r[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet=`/${this.subnetMask}`,Number.isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>c.BITS)throw new d.AddressError("Invalid subnet mask.");e=e.replace(c.RE_SUBNET_STRING,"")}else if(/\//.test(e))throw new d.AddressError("Invalid subnet mask.");const n=c.RE_ZONE_STRING.exec(e);n&&(this.zone=n[0],e=e.replace(c.RE_ZONE_STRING,"")),this.addressMinusSuffix=e,this.parsedAddress=this.parse(this.addressMinusSuffix)}static isValid(e){try{return new S(e),!0}catch(e){return!1}}static fromBigInteger(e){const t=e.toString(16).padStart(32,"0"),r=[];let n;for(n=0;n<c.GROUPS;n++)r.push(t.slice(4*n,4*(n+1)));return new S(r.join(":"))}static fromURL(e){let t,r,n=null;if(-1!==e.indexOf("[")&&-1!==e.indexOf("]:")){if(r=c.RE_URL_WITH_PORT.exec(e),null===r)return{error:"failed to parse address with port",address:null,port:null};t=r[1],n=r[2]}else if(-1!==e.indexOf("/")){if(e=e.replace(/^[a-z0-9]+:\/\//,""),r=c.RE_URL.exec(e),null===r)return{error:"failed to parse address from URL",address:null,port:null};t=r[1]}else t=e;return n?(n=parseInt(n,10),(n<0||n>65536)&&(n=null)):n=null,{address:new S(t),port:n}}static fromAddress4(e){const t=new h.Address4(e),r=c.BITS-(a.BITS-t.subnetMask);return new S(`::ffff:${t.correctForm()}/${r}`)}static fromArpa(e){let t=e.replace(/(\.ip6\.arpa)?\.$/,"");if(63!==t.length)throw new d.AddressError("Invalid 'ip6.arpa' form.");const r=t.split(".").reverse();for(let e=7;e>0;e--){const t=4*e;r.splice(t,0,":")}return t=r.join(""),new S(t)}microsoftTranscription(){return(0,p.sprintf)("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))}mask(e=this.subnetMask){return this.getBitsBase2(0,e)}possibleSubnets(e=128){const t=c.BITS-this.subnetMask-Math.abs(e-c.BITS);return t<0?"0":function(e){const t=/(\d+)(\d{3})/;for(;t.test(e);)e=e.replace(t,"$1,$2");return e}(new f.BigInteger("2",10).pow(t).toString(10))}_startAddress(){return new f.BigInteger(this.mask()+"0".repeat(c.BITS-this.subnetMask),2)}startAddress(){return S.fromBigInteger(this._startAddress())}startAddressExclusive(){const e=new f.BigInteger("1");return S.fromBigInteger(this._startAddress().add(e))}_endAddress(){return new f.BigInteger(this.mask()+"1".repeat(c.BITS-this.subnetMask),2)}endAddress(){return S.fromBigInteger(this._endAddress())}endAddressExclusive(){const e=new f.BigInteger("1");return S.fromBigInteger(this._endAddress().subtract(e))}getScope(){let e=c.SCOPES[this.getBits(12,16).intValue()];return"Global unicast"===this.getType()&&"Link local"!==e&&(e="Global"),e||"Unknown"}getType(){for(const e of Object.keys(c.TYPES))if(this.isInSubnet(new S(e)))return c.TYPES[e];return"Global unicast"}getBits(e,t){return new f.BigInteger(this.getBitsBase2(e,t),2)}getBitsBase2(e,t){return this.binaryZeroPad().slice(e,t)}getBitsBase16(e,t){const r=t-e;if(r%4!=0)throw new Error("Length of bits to retrieve must be divisible by four");return this.getBits(e,t).toString(16).padStart(r/4,"0")}getBitsPastSubnet(){return this.getBitsBase2(this.subnetMask,c.BITS)}reverseForm(e){e||(e={});const t=Math.floor(this.subnetMask/4),r=this.canonicalForm().replace(/:/g,"").split("").slice(0,t).reverse().join(".");return t>0?e.omitSuffix?r:(0,p.sprintf)("%s.ip6.arpa.",r):e.omitSuffix?"":"ip6.arpa."}correctForm(){let e,t=[],r=0;const n=[];for(e=0;e<this.parsedAddress.length;e++){const t=parseInt(this.parsedAddress[e],16);0===t&&r++,0!==t&&r>0&&(r>1&&n.push([e-r,e-1]),r=0)}r>1&&n.push([this.parsedAddress.length-r,this.parsedAddress.length-1]);const o=n.map((e=>e[1]-e[0]+1));if(n.length>0){const e=o.indexOf(Math.max(...o));t=function(e,t){const r=[],n=[];let o;for(o=0;o<e.length;o++)o<t[0]?r.push(e[o]):o>t[1]&&n.push(e[o]);return r.concat(["compact"]).concat(n)}(this.parsedAddress,n[e])}else t=this.parsedAddress;for(e=0;e<t.length;e++)"compact"!==t[e]&&(t[e]=parseInt(t[e],16).toString(16));let s=t.join(":");return s=s.replace(/^compact$/,"::"),s=s.replace(/^compact|compact$/,":"),s=s.replace(/compact/,""),s}binaryZeroPad(){return this.bigInteger().toString(2).padStart(c.BITS,"0")}parse4in6(e){const t=e.split(":"),r=t.slice(-1)[0].match(a.RE_ADDRESS);if(r){this.parsedAddress4=r[0],this.address4=new h.Address4(this.parsedAddress4);for(let t=0;t<this.address4.groups;t++)if(/^0[0-9]+/.test(this.address4.parsedAddress[t]))throw new d.AddressError("IPv4 addresses can't have leading zeroes.",e.replace(a.RE_ADDRESS,this.address4.parsedAddress.map(g).join(".")));this.v4=!0,t[t.length-1]=this.address4.toGroup6(),e=t.join(":")}return e}parse(e){const t=(e=this.parse4in6(e)).match(c.RE_BAD_CHARACTERS);if(t)throw new d.AddressError((0,p.sprintf)("Bad character%s detected in address: %s",t.length>1?"s":"",t.join("")),e.replace(c.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'));const r=e.match(c.RE_BAD_ADDRESS);if(r)throw new d.AddressError((0,p.sprintf)("Address failed regex: %s",r.join("")),e.replace(c.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'));let n=[];const o=e.split("::");if(2===o.length){let e=o[0].split(":"),t=o[1].split(":");1===e.length&&""===e[0]&&(e=[]),1===t.length&&""===t[0]&&(t=[]);const r=this.groups-(e.length+t.length);if(!r)throw new d.AddressError("Error parsing groups");this.elidedGroups=r,this.elisionBegin=e.length,this.elisionEnd=e.length+this.elidedGroups,n=n.concat(e);for(let e=0;e<r;e++)n.push("0");n=n.concat(t)}else{if(1!==o.length)throw new d.AddressError("Too many :: groups found");n=e.split(":"),this.elidedGroups=0}if(n=n.map((e=>(0,p.sprintf)("%x",parseInt(e,16)))),n.length!==this.groups)throw new d.AddressError("Incorrect number of groups found");return n}canonicalForm(){return this.parsedAddress.map(w).join(":")}decimal(){return this.parsedAddress.map((e=>(0,p.sprintf)("%05d",parseInt(e,16)))).join(":")}bigInteger(){return new f.BigInteger(this.parsedAddress.map(w).join(""),16)}to4(){const e=this.binaryZeroPad().split("");return h.Address4.fromHex(new f.BigInteger(e.slice(96,128).join(""),2).toString(16))}to4in6(){const e=this.to4(),t=new S(this.parsedAddress.slice(0,6).join(":"),6).correctForm();let r="";return/:$/.test(t)||(r=":"),t+r+e.address}inspectTeredo(){const e=this.getBitsBase16(0,32),t=this.getBits(80,96).xor(new f.BigInteger("ffff",16)).toString(),r=h.Address4.fromHex(this.getBitsBase16(32,64)),n=h.Address4.fromHex(this.getBits(96,128).xor(new f.BigInteger("ffffffff",16)).toString(16)),o=this.getBits(64,80),s=this.getBitsBase2(64,80),i=o.testBit(15),a=o.testBit(14),c=o.testBit(8),l=o.testBit(9),u=new f.BigInteger(s.slice(2,6)+s.slice(8,16),2).toString(10);return{prefix:(0,p.sprintf)("%s:%s",e.slice(0,4),e.slice(4,8)),server4:r.address,client4:n.address,flags:s,coneNat:i,microsoft:{reserved:a,universalLocal:l,groupIndividual:c,nonce:u},udpPort:t}}inspect6to4(){const e=this.getBitsBase16(0,16),t=h.Address4.fromHex(this.getBitsBase16(16,48));return{prefix:(0,p.sprintf)("%s",e.slice(0,4)),gateway:t.address}}to6to4(){if(!this.is4())return null;const e=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new S(e)}toByteArray(){const e=this.bigInteger().toByteArray();return 17===e.length&&0===e[0]?e.slice(1):e}toUnsignedByteArray(){return this.toByteArray().map(y)}static fromByteArray(e){return this.fromUnsignedByteArray(e.map(y))}static fromUnsignedByteArray(e){const t=new f.BigInteger("256",10);let r=new f.BigInteger("0",10),n=new f.BigInteger("1",10);for(let o=e.length-1;o>=0;o--)r=r.add(n.multiply(new f.BigInteger(e[o].toString(10),10))),n=n.multiply(t);return S.fromBigInteger(r)}isCanonical(){return this.addressMinusSuffix===this.canonicalForm()}isLinkLocal(){return"1111111010000000000000000000000000000000000000000000000000000000"===this.getBitsBase2(0,64)}isMulticast(){return"Multicast"===this.getType()}is4(){return this.v4}isTeredo(){return this.isInSubnet(new S("2001::/32"))}is6to4(){return this.isInSubnet(new S("2002::/16"))}isLoopback(){return"Loopback"===this.getType()}href(e){return e=void 0===e?"":(0,p.sprintf)(":%s",e),(0,p.sprintf)("http://[%s]%s/",this.correctForm(),e)}link(e){e||(e={}),void 0===e.className&&(e.className=""),void 0===e.prefix&&(e.prefix="/#address="),void 0===e.v4&&(e.v4=!1);let t=this.correctForm;return e.v4&&(t=this.to4in6),e.className?(0,p.sprintf)('<a href="%1$s%2$s" class="%3$s">%2$s</a>',e.prefix,t.call(this),e.className):(0,p.sprintf)('<a href="%1$s%2$s">%2$s</a>',e.prefix,t.call(this))}group(){if(0===this.elidedGroups)return l.simpleGroup(this.address).join(":");m("number"==typeof this.elidedGroups),m("number"==typeof this.elisionBegin);const e=[],[t,r]=this.address.split("::");t.length?e.push(...l.simpleGroup(t)):e.push("");const n=["hover-group"];for(let e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)n.push((0,p.sprintf)("group-%d",e));return e.push((0,p.sprintf)('<span class="%s"></span>',n.join(" "))),r.length?e.push(...l.simpleGroup(r,this.elisionEnd)):e.push(""),this.is4()&&(m(this.address4 instanceof h.Address4),e.pop(),e.push(this.address4.groupForV6())),e.join(":")}regularExpressionString(e=!1){let t=[];const r=new S(this.correctForm());if(0===r.elidedGroups)t.push((0,u.simpleRegularExpression)(r.parsedAddress));else if(r.elidedGroups===c.GROUPS)t.push((0,u.possibleElisions)(c.GROUPS));else{const e=r.address.split("::");e[0].length&&t.push((0,u.simpleRegularExpression)(e[0].split(":"))),m("number"==typeof r.elidedGroups),t.push((0,u.possibleElisions)(r.elidedGroups,0!==e[0].length,0!==e[1].length)),e[1].length&&t.push((0,u.simpleRegularExpression)(e[1].split(":"))),t=[t.join(":")]}return e||(t=["(?=^|",u.ADDRESS_BOUNDARY,"|[^\\w\\:])(",...t,")(?=[^\\w\\:]|",u.ADDRESS_BOUNDARY,"|$)"]),t.join("")}regularExpression(e=!1){return new RegExp(this.regularExpressionString(e),"i")}}t.Address6=S},3481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_SUBNET_STRING=t.RE_ADDRESS=t.GROUPS=t.BITS=void 0,t.BITS=32,t.GROUPS=4,t.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g,t.RE_SUBNET_STRING=/\/\d{1,2}$/},5750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RE_URL_WITH_PORT=t.RE_URL=t.RE_ZONE_STRING=t.RE_SUBNET_STRING=t.RE_BAD_ADDRESS=t.RE_BAD_CHARACTERS=t.TYPES=t.SCOPES=t.GROUPS=t.BITS=void 0,t.BITS=128,t.GROUPS=8,t.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"},t.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"},t.RE_BAD_CHARACTERS=/([^0-9a-f:/%])/gi,t.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/gi,t.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/,t.RE_ZONE_STRING=/%.*$/,t.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/),t.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)},1570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleGroup=t.spanLeadingZeroes=t.spanAll=t.spanAllZeroes=void 0;const n=r(8975);function o(e){return e.replace(/(0+)/g,'<span class="zero">$1</span>')}function s(e){return e.replace(/^(0+)/,'<span class="zero">$1</span>')}t.spanAllZeroes=o,t.spanAll=function(e,t=0){return e.split("").map(((e,r)=>(0,n.sprintf)('<span class="digit value-%s position-%d">%s</span>',e,r+t,o(e)))).join("")},t.spanLeadingZeroes=function(e){return e.split(":").map((e=>s(e))).join(":")},t.simpleGroup=function(e,t=0){return e.split(":").map(((e,r)=>/group-v4/.test(e)?e:(0,n.sprintf)('<span class="hover-group group-%d">%s</span>',r+t,s(e))))}},9482:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.possibleElisions=t.simpleRegularExpression=t.ADDRESS_BOUNDARY=t.padGroup=t.groupPossibilities=void 0;const i=s(r(5750)),a=r(8975);function c(e){return(0,a.sprintf)("(%s)",e.join("|"))}function l(e){return e.length<4?(0,a.sprintf)("0{0,%d}%s",4-e.length,e):e}t.groupPossibilities=c,t.padGroup=l,t.ADDRESS_BOUNDARY="[^A-Fa-f0-9:]",t.simpleRegularExpression=function(e){const t=[];e.forEach(((e,r)=>{0===parseInt(e,16)&&t.push(r)}));const r=t.map((t=>e.map(((e,r)=>{if(r===t){const t=0===r||r===i.GROUPS-1?":":"";return c([l(e),t])}return l(e)})).join(":")));return r.push(e.map(l).join(":")),c(r)},t.possibleElisions=function(e,t,r){const n=t?"":":",o=r?"":":",s=[];t||r||s.push("::"),t&&r&&s.push(""),(r&&!t||!r&&t)&&s.push(":"),s.push((0,a.sprintf)("%s(:0{1,4}){1,%d}",n,e-1)),s.push((0,a.sprintf)("(0{1,4}:){1,%d}%s",e-1,o)),s.push((0,a.sprintf)("(0{1,4}:){%d}0{1,4}",e-1));for(let t=1;t<e-1;t++)for(let r=1;r<e-t;r++)s.push((0,a.sprintf)("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",r,e-r-t-1));return c(s)}},6077:function(e,t){(function(){var t;function r(e,t,r){null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function n(){return new r(null)}var o="undefined"!=typeof navigator;o&&"Microsoft Internet Explorer"==navigator.appName?(r.prototype.am=function(e,t,r,n,o,s){for(var i=32767&t,a=t>>15;--s>=0;){var c=32767&this[e],l=this[e++]>>15,h=a*c+l*i;o=((c=i*c+((32767&h)<<15)+r[n]+(1073741823&o))>>>30)+(h>>>15)+a*l+(o>>>30),r[n++]=1073741823&c}return o},t=30):o&&"Netscape"!=navigator.appName?(r.prototype.am=function(e,t,r,n,o,s){for(;--s>=0;){var i=t*this[e++]+r[n]+o;o=Math.floor(i/67108864),r[n++]=67108863&i}return o},t=26):(r.prototype.am=function(e,t,r,n,o,s){for(var i=16383&t,a=t>>14;--s>=0;){var c=16383&this[e],l=this[e++]>>14,h=a*c+l*i;o=((c=i*c+((16383&h)<<14)+r[n]+o)>>28)+(h>>14)+a*l,r[n++]=268435455&c}return o},t=28),r.prototype.DB=t,r.prototype.DM=(1<<t)-1,r.prototype.DV=1<<t,r.prototype.FV=Math.pow(2,52),r.prototype.F1=52-t,r.prototype.F2=2*t-52;var s,i,a=new Array;for(s="0".charCodeAt(0),i=0;i<=9;++i)a[s++]=i;for(s="a".charCodeAt(0),i=10;i<36;++i)a[s++]=i;for(s="A".charCodeAt(0),i=10;i<36;++i)a[s++]=i;function c(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function l(e,t){var r=a[e.charCodeAt(t)];return null==r?-1:r}function h(e){var t=n();return t.fromInt(e),t}function u(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function d(e){this.m=e}function f(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function p(e,t){return e&t}function m(e,t){return e|t}function g(e,t){return e^t}function w(e,t){return e&~t}function y(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function S(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function v(){}function b(e){return e}function _(e){this.r2=n(),this.q3=n(),r.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}d.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},d.prototype.revert=function(e){return e},d.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},d.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},d.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},f.prototype.convert=function(e){var t=n();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(r.ZERO)>0&&this.m.subTo(t,t),t},f.prototype.revert=function(e){var t=n();return e.copyTo(t),this.reduce(t),t},f.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[r=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},f.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},f.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},r.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},r.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},r.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var o=e.length,s=!1,i=0;--o>=0;){var a=8==n?255&e[o]:l(e,o);a<0?"-"==e.charAt(o)&&(s=!0):(s=!1,0==i?this[this.t++]=a:i+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-i)-1)<<i,this[this.t++]=a>>this.DB-i):this[this.t-1]|=a<<i,(i+=n)>=this.DB&&(i-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,i>0&&(this[this.t-1]|=(1<<this.DB-i)-1<<i)),this.clamp(),s&&r.ZERO.subTo(this,this)},r.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},r.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},r.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},r.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,o=this.DB-n,s=(1<<o)-1,i=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+i+1]=this[r]>>o|a,a=(this[r]&s)<<n;for(r=i-1;r>=0;--r)t[r]=0;t[i]=a,t.t=this.t+i+1,t.s=this.s,t.clamp()},r.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,o=this.DB-n,s=(1<<n)-1;t[0]=this[r]>>n;for(var i=r+1;i<this.t;++i)t[i-r-1]|=(this[i]&s)<<o,t[i-r]=this[i]>>n;n>0&&(t[this.t-r-1]|=(this.s&s)<<o),t.t=this.t-r,t.clamp()}},r.prototype.subTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},r.prototype.multiplyTo=function(e,t){var n=this.abs(),o=e.abs(),s=n.t;for(t.t=s+o.t;--s>=0;)t[s]=0;for(s=0;s<o.t;++s)t[s+n.t]=n.am(0,o[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&r.ZERO.subTo(t,t)},r.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},r.prototype.divRemTo=function(e,t,o){var s=e.abs();if(!(s.t<=0)){var i=this.abs();if(i.t<s.t)return null!=t&&t.fromInt(0),void(null!=o&&this.copyTo(o));null==o&&(o=n());var a=n(),c=this.s,l=e.s,h=this.DB-u(s[s.t-1]);h>0?(s.lShiftTo(h,a),i.lShiftTo(h,o)):(s.copyTo(a),i.copyTo(o));var d=a.t,f=a[d-1];if(0!=f){var p=f*(1<<this.F1)+(d>1?a[d-2]>>this.F2:0),m=this.FV/p,g=(1<<this.F1)/p,w=1<<this.F2,y=o.t,S=y-d,v=null==t?n():t;for(a.dlShiftTo(S,v),o.compareTo(v)>=0&&(o[o.t++]=1,o.subTo(v,o)),r.ONE.dlShiftTo(d,v),v.subTo(a,a);a.t<d;)a[a.t++]=0;for(;--S>=0;){var b=o[--y]==f?this.DM:Math.floor(o[y]*m+(o[y-1]+w)*g);if((o[y]+=a.am(0,b,o,S,0,d))<b)for(a.dlShiftTo(S,v),o.subTo(v,o);o[y]<--b;)o.subTo(v,o)}null!=t&&(o.drShiftTo(d,t),c!=l&&r.ZERO.subTo(t,t)),o.t=d,o.clamp(),h>0&&o.rShiftTo(h,o),c<0&&r.ZERO.subTo(o,o)}}},r.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},r.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},r.prototype.exp=function(e,t){if(e>4294967295||e<1)return r.ONE;var o=n(),s=n(),i=t.convert(this),a=u(e)-1;for(i.copyTo(o);--a>=0;)if(t.sqrTo(o,s),(e&1<<a)>0)t.mulTo(s,i,o);else{var c=o;o=s,s=c}return t.revert(o)},r.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,o=!1,s="",i=this.t,a=this.DB-i*this.DB%t;if(i-- >0)for(a<this.DB&&(r=this[i]>>a)>0&&(o=!0,s=c(r));i>=0;)a<t?(r=(this[i]&(1<<a)-1)<<t-a,r|=this[--i]>>(a+=this.DB-t)):(r=this[i]>>(a-=t)&n,a<=0&&(a+=this.DB,--i)),r>0&&(o=!0),o&&(s+=c(r));return o?s:"0"},r.prototype.negate=function(){var e=n();return r.ZERO.subTo(this,e),e},r.prototype.abs=function(){return this.s<0?this.negate():this},r.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},r.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+u(this[this.t-1]^this.s&this.DM)},r.prototype.mod=function(e){var t=n();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(r.ZERO)>0&&e.subTo(t,t),t},r.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new d(t):new f(t),this.exp(e,r)},r.ZERO=h(0),r.ONE=h(1),v.prototype.convert=b,v.prototype.revert=b,v.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},v.prototype.sqrTo=function(e,t){e.squareTo(t)},_.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=n();return e.copyTo(t),this.reduce(t),t},_.prototype.revert=function(e){return e},_.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},_.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},_.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var E,C,T,k=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],I=(1<<26)/k[k.length-1];function R(){var e;e=(new Date).getTime(),C[T++]^=255&e,C[T++]^=e>>8&255,C[T++]^=e>>16&255,C[T++]^=e>>24&255,T>=L&&(T-=L)}if(r.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},r.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),o=h(r),s=n(),i=n(),a="";for(this.divRemTo(o,s,i);s.signum()>0;)a=(r+i.intValue()).toString(e).substr(1)+a,s.divRemTo(o,s,i);return i.intValue().toString(e)+a},r.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),o=Math.pow(t,n),s=!1,i=0,a=0,c=0;c<e.length;++c){var h=l(e,c);h<0?"-"==e.charAt(c)&&0==this.signum()&&(s=!0):(a=t*a+h,++i>=n&&(this.dMultiply(o),this.dAddOffset(a,0),i=0,a=0))}i>0&&(this.dMultiply(Math.pow(t,i)),this.dAddOffset(a,0)),s&&r.ZERO.subTo(this,this)},r.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(r.ONE.shiftLeft(e-1),m,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(r.ONE.shiftLeft(e-1),this);else{var o=new Array,s=7&e;o.length=1+(e>>3),t.nextBytes(o),s>0?o[0]&=(1<<s)-1:o[0]=0,this.fromString(o,256)}},r.prototype.bitwiseTo=function(e,t,r){var n,o,s=Math.min(e.t,this.t);for(n=0;n<s;++n)r[n]=t(this[n],e[n]);if(e.t<this.t){for(o=e.s&this.DM,n=s;n<this.t;++n)r[n]=t(this[n],o);r.t=this.t}else{for(o=this.s&this.DM,n=s;n<e.t;++n)r[n]=t(o,e[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},r.prototype.changeBit=function(e,t){var n=r.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},r.prototype.addTo=function(e,t){for(var r=0,n=0,o=Math.min(e.t,this.t);r<o;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},r.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},r.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},r.prototype.multiplyLowerTo=function(e,t,r){var n,o=Math.min(this.t+e.t,t);for(r.s=0,r.t=o;o>0;)r[--o]=0;for(n=r.t-this.t;o<n;++o)r[o+this.t]=this.am(0,e[o],r,o,0,this.t);for(n=Math.min(e.t,t);o<n;++o)this.am(0,e[o],r,o,0,t-o);r.clamp()},r.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r[this.t+n-t]=this.am(t-n,e[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},r.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this[n])%e;return r},r.prototype.millerRabin=function(e){var t=this.subtract(r.ONE),o=t.getLowestSetBit();if(o<=0)return!1;var s=t.shiftRight(o);(e=e+1>>1)>k.length&&(e=k.length);for(var i=n(),a=0;a<e;++a){i.fromInt(k[Math.floor(Math.random()*k.length)]);var c=i.modPow(s,this);if(0!=c.compareTo(r.ONE)&&0!=c.compareTo(t)){for(var l=1;l++<o&&0!=c.compareTo(t);)if(0==(c=c.modPowInt(2,this)).compareTo(r.ONE))return!1;if(0!=c.compareTo(t))return!1}}return!0},r.prototype.clone=function(){var e=n();return this.copyTo(e),e},r.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},r.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},r.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},r.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},r.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,o=0;if(e-- >0)for(n<this.DB&&(r=this[e]>>n)!=(this.s&this.DM)>>n&&(t[o++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this[e]&(1<<n)-1)<<8-n,r|=this[--e]>>(n+=this.DB-8)):(r=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==o&&(128&this.s)!=(128&r)&&++o,(o>0||r!=this.s)&&(t[o++]=r);return t},r.prototype.equals=function(e){return 0==this.compareTo(e)},r.prototype.min=function(e){return this.compareTo(e)<0?this:e},r.prototype.max=function(e){return this.compareTo(e)>0?this:e},r.prototype.and=function(e){var t=n();return this.bitwiseTo(e,p,t),t},r.prototype.or=function(e){var t=n();return this.bitwiseTo(e,m,t),t},r.prototype.xor=function(e){var t=n();return this.bitwiseTo(e,g,t),t},r.prototype.andNot=function(e){var t=n();return this.bitwiseTo(e,w,t),t},r.prototype.not=function(){for(var e=n(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},r.prototype.shiftLeft=function(e){var t=n();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},r.prototype.shiftRight=function(e){var t=n();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},r.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+y(this[e]);return this.s<0?this.t*this.DB:-1},r.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=S(this[r]^t);return e},r.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},r.prototype.setBit=function(e){return this.changeBit(e,m)},r.prototype.clearBit=function(e){return this.changeBit(e,w)},r.prototype.flipBit=function(e){return this.changeBit(e,g)},r.prototype.add=function(e){var t=n();return this.addTo(e,t),t},r.prototype.subtract=function(e){var t=n();return this.subTo(e,t),t},r.prototype.multiply=function(e){var t=n();return this.multiplyTo(e,t),t},r.prototype.divide=function(e){var t=n();return this.divRemTo(e,t,null),t},r.prototype.remainder=function(e){var t=n();return this.divRemTo(e,null,t),t},r.prototype.divideAndRemainder=function(e){var t=n(),r=n();return this.divRemTo(e,t,r),new Array(t,r)},r.prototype.modPow=function(e,t){var r,o,s=e.bitLength(),i=h(1);if(s<=0)return i;r=s<18?1:s<48?3:s<144?4:s<768?5:6,o=s<8?new d(t):t.isEven()?new _(t):new f(t);var a=new Array,c=3,l=r-1,p=(1<<r)-1;if(a[1]=o.convert(this),r>1){var m=n();for(o.sqrTo(a[1],m);c<=p;)a[c]=n(),o.mulTo(m,a[c-2],a[c]),c+=2}var g,w,y=e.t-1,S=!0,v=n();for(s=u(e[y])-1;y>=0;){for(s>=l?g=e[y]>>s-l&p:(g=(e[y]&(1<<s+1)-1)<<l-s,y>0&&(g|=e[y-1]>>this.DB+s-l)),c=r;0==(1&g);)g>>=1,--c;if((s-=c)<0&&(s+=this.DB,--y),S)a[g].copyTo(i),S=!1;else{for(;c>1;)o.sqrTo(i,v),o.sqrTo(v,i),c-=2;c>0?o.sqrTo(i,v):(w=i,i=v,v=w),o.mulTo(v,a[g],i)}for(;y>=0&&0==(e[y]&1<<s);)o.sqrTo(i,v),w=i,i=v,v=w,--s<0&&(s=this.DB-1,--y)}return o.revert(i)},r.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return r.ZERO;for(var n=e.clone(),o=this.clone(),s=h(1),i=h(0),a=h(0),c=h(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&i.isEven()||(s.addTo(this,s),i.subTo(e,i)),s.rShiftTo(1,s)):i.isEven()||i.subTo(e,i),i.rShiftTo(1,i);for(;o.isEven();)o.rShiftTo(1,o),t?(a.isEven()&&c.isEven()||(a.addTo(this,a),c.subTo(e,c)),a.rShiftTo(1,a)):c.isEven()||c.subTo(e,c),c.rShiftTo(1,c);n.compareTo(o)>=0?(n.subTo(o,n),t&&s.subTo(a,s),i.subTo(c,i)):(o.subTo(n,o),t&&a.subTo(s,a),c.subTo(i,c))}return 0!=o.compareTo(r.ONE)?r.ZERO:c.compareTo(e)>=0?c.subtract(e):c.signum()<0?(c.addTo(e,c),c.signum()<0?c.add(e):c):c},r.prototype.pow=function(e){return this.exp(e,new v)},r.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var o=t.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return t;for(o<s&&(s=o),s>0&&(t.rShiftTo(s,t),r.rShiftTo(s,r));t.signum()>0;)(o=t.getLowestSetBit())>0&&t.rShiftTo(o,t),(o=r.getLowestSetBit())>0&&r.rShiftTo(o,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r},r.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r[0]<=k[k.length-1]){for(t=0;t<k.length;++t)if(r[0]==k[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<k.length;){for(var n=k[t],o=t+1;o<k.length&&n<I;)n*=k[o++];for(n=r.modInt(n);t<o;)if(n%k[t++]==0)return!1}return r.millerRabin(e)},r.prototype.square=function(){var e=n();return this.squareTo(e),e},r.prototype.Barrett=_,null==C){var P;if(C=new Array,T=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var x=new Uint8Array(32);for(window.crypto.getRandomValues(x),P=0;P<32;++P)C[T++]=x[P]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var A=window.crypto.random(32);for(P=0;P<A.length;++P)C[T++]=255&A.charCodeAt(P)}for(;T<L;)P=Math.floor(65536*Math.random()),C[T++]=P>>>8,C[T++]=255&P;T=0,R()}function O(){if(null==E){for(R(),(E=new D).init(C),T=0;T<C.length;++T)C[T]=0;T=0}return E.next()}function $(){}function D(){this.i=0,this.j=0,this.S=new Array}$.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=O()},D.prototype.init=function(e){var t,r,n;for(t=0;t<256;++t)this.S[t]=t;for(r=0,t=0;t<256;++t)r=r+this.S[t]+e[t%e.length]&255,n=this.S[t],this.S[t]=this.S[r],this.S[r]=n;this.i=0,this.j=0},D.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]};var L=256;e.exports={default:r,BigInteger:r,SecureRandom:$}}).call(this)},578:(e,t,r)=>{var n=r(7147),o="wx";if(process.version.match(/^v0\.[0-6]/)){var s=r(2057);o=s.O_TRUNC|s.O_CREAT|s.O_WRONLY|s.O_EXCL}var i,a=r(2037);t.filetime="ctime","win32"==a.platform()&&(t.filetime="mtime");var c=r(3837);i=c.debuglog?c.debuglog("LOCKFILE"):/\blockfile\b/i.test(process.env.NODE_DEBUG)?function(){var e=c.format.apply(c,arguments);console.error("LOCKFILE %d %s",process.pid,e)}:function(){};var l={};r(7908)((function(){i("exit listener"),Object.keys(l).forEach(t.unlockSync)})),/^v0\.[0-8]\./.test(process.version)&&(i("uncaughtException, version = %s",process.version),process.on("uncaughtException",(function e(r){if(i("uncaughtException"),!process.listeners("uncaughtException").filter((function(t){return t!==e})).length){try{Object.keys(l).forEach(t.unlockSync)}catch(e){}throw process.removeListener("uncaughtException",e),r}}))),t.unlock=function(e,t){i("unlock",e),delete l[e],n.unlink(e,(function(e){t&&t()}))},t.unlockSync=function(e){i("unlockSync",e);try{n.unlinkSync(e)}catch(e){}delete l[e]},t.check=function(e,r,o){"function"==typeof r&&(o=r,r={}),i("check",e,r),n.open(e,"r",(function(e,s){return e?"ENOENT"!==e.code?o(e):o(null,!1):r.stale?void n.fstat(s,(function(e,i){if(e)return n.close(s,(function(t){return o(e)}));n.close(s,(function(e){var n=Date.now()-i[t.filetime].getTime();return o(e,n<=r.stale)}))})):n.close(s,(function(e){return o(e,!0)}))}))},t.checkSync=function(e,r){if(i("checkSync",e,r=r||{}),r.wait)throw new Error("opts.wait not supported sync for obvious reasons");try{var o=n.openSync(e,"r")}catch(e){if("ENOENT"!==e.code)throw e;return!1}if(!r.stale){try{n.closeSync(o)}catch(e){}return!0}if(r.stale){try{var s=n.fstatSync(o)}finally{n.closeSync(o)}return Date.now()-s[t.filetime].getTime()<=r.stale}};var h=1;function u(e,r,o,s,a){n.stat(r,(function(c,l){return c?"ENOENT"===c.code?(o.stale=!1,i("lock stale enoent retry",r,o),void t.lock(r,o,a)):a(c):Date.now()-l[t.filetime].getTime()<=o.stale?d(e,r,o,a):(i("lock stale",r,o),void(s?t.unlock(r,(function(e){if(e)return a(e);i("lock stale retry",r,o),n.link(r+".STALE",r,(function(e){n.unlink(r+".STALE",(function(){a(e)}))}))})):(i("acquire .STALE file lock",o),t.lock(r+".STALE",o,(function(t){if(t)return a(t);u(e,r,o,!0,a)})))))}))}function d(e,r,n,o){if(i("notStale",r,n),"number"!=typeof n.wait||n.wait<=0)return i("notStale, wait is not a number"),o(e);var s=Date.now(),a=n.start||s,c=a+n.wait;if(c<=s)return o(e);i("now=%d, wait until %d (delta=%d)",a,c,c-a);var l=Math.min(c-a,n.pollPeriod||100);setTimeout((function(){i("notStale, polling",r,n),t.lock(r,n,o)}),l)}function f(e,r,n){if("number"==typeof r.retries&&r.retries>0){var o=r.retries-1;return i("retryThrow",e,r,o),r.retries=o,t.lockSync(e,r)}throw n}t.lock=function(e,r,s){if("function"==typeof r&&(s=r,r={}),r.req=r.req||h++,i("lock",e,r),r.start=r.start||Date.now(),"number"==typeof r.retries&&r.retries>0){i("has retries",r.retries);var a=r.retries;r.retries=0,c=s,s=function n(o,s){if(i("retry-mutated callback"),a-=1,!o||a<0)return c(o,s);function l(){r.start=Date.now(),i("retrying",r.start),t.lock(e,r,n)}i("lock retry",e,r),r.retryWait?setTimeout(l,r.retryWait):l()}}var c;n.open(e,o,(function(t,o){return t?(i("failed to acquire lock",t),"EEXIST"!==t.code?(i("not EEXIST error",t),s(t)):r.stale?u(t,e,r,!1,s):d(t,e,r,s)):(i("locked",e,o),l[e]=o,n.close(o,(function(){return s()})))})),i("lock return")},t.lockSync=function(e,r){if((r=r||{}).req=r.req||h++,i("lockSync",e,r),r.wait||r.retryWait)throw new Error("opts.wait not supported sync for obvious reasons");try{var s=n.openSync(e,o);l[e]=s;try{n.closeSync(s)}catch(e){}return void i("locked sync!",e,s)}catch(o){if("EEXIST"!==o.code)return f(e,r,o);if(r.stale){var a=n.statSync(e)[t.filetime].getTime();!(a%1e3)&&r.stale%1e3&&(r.stale=1e3*Math.ceil(r.stale/1e3));var c=Date.now()-a;if(c>r.stale)return i("lockSync stale",e,r,c),t.unlockSync(e),t.lockSync(e,r)}return i("failed to lock",e,r,o),f(e,r,o)}}},9550:e=>{var t=1e3,r=60*t,n=60*r,o=24*n;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,i){i=i||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var i=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*o;case"hours":case"hour":case"hrs":case"hr":case"h":return i*n;case"minutes":case"minute":case"mins":case"min":case"m":return i*r;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===l&&isFinite(e))return i.long?(a=e,(c=Math.abs(a))>=o?s(a,c,o,"day"):c>=n?s(a,c,n,"hour"):c>=r?s(a,c,r,"minute"):c>=t?s(a,c,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=o?Math.round(e/o)+"d":s>=n?Math.round(e/n)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},3414:(e,t,r)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=r(1267),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},9069:(e,t,r)=>{var n=r(9491).ok;function o(e){return new Error("getopt: "+e)}function s(e,t,r){var o;for(n(e||""===e,"optstring is required"),n(e.constructor===String,"optstring must be a string"),n(t,"argv is required"),n(t.constructor===Array,"argv must be an array"),this.gop_argv=new Array(t.length),this.gop_options={},this.gop_aliases={},this.gop_optind=void 0!==r?r:2,this.gop_subind=0,o=0;o<t.length;o++)n(t[o].constructor===String,"argv must be string array"),this.gop_argv[o]=t[o];this.parseOptstr(e)}t.BasicParser=s,s.prototype.parseOptstr=function(e){var t,r,n,s,i;for(i=0,e.length>0&&":"==e[0]?(this.gop_silent=!0,i++):this.gop_silent=!1;i<e.length;){if(t=e[i],s=!1,!/^[\w\d\u1000-\u1100]$/.test(t))throw o("invalid optstring: only alphanumeric characters and unicode characters between \\u1000-\\u1100 may be used as options: "+t);for(i+1<e.length&&":"==e[i+1]&&(s=!0,i++),this.gop_options[t]=s;i+1<e.length&&"("==e[i+1];){if(i++,-1==(r=e.indexOf(")",i+1)))throw o('invalid optstring: missing ")" to match "(" at char '+i);n=e.substring(i+1,r),this.gop_aliases[n]=t,i=r}i++}},s.prototype.optind=function(){return this.gop_optind},s.prototype.getopt=function(){if(!(this.gop_optind>=this.gop_argv.length)){var e=this.gop_argv[this.gop_optind];if(0===this.gop_subind){if("-"==e||""===e||"-"!=e[0])return;if("--"==e)return this.gop_optind++,void(this.gop_subind=0);if("-"==e[1])return this.getoptLong();this.gop_subind++,n(this.gop_subind<e.length)}return this.getoptShort()}},s.prototype.getoptShort=function(){var e,t;return n(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],n(this.gop_subind<e.length),t=e[this.gop_subind],++this.gop_subind>=e.length&&(this.gop_optind++,this.gop_subind=0),t in this.gop_options?this.gop_options[t]?this.getoptArgument(t):{option:t}:this.errInvalidOption(t)},s.prototype.getoptLong=function(){var e,t,r,o;return n(0===this.gop_subind),n(this.gop_optind<this.gop_argv.length),e=this.gop_argv[this.gop_optind],n(e.length>2&&"-"==e[0]&&"-"==e[1]),o=e.indexOf("="),(t=e.substring(2,-1==o?e.length:o))in this.gop_aliases?(r=this.gop_aliases[t],n(r in this.gop_options),this.gop_options[r]?(-1==o?this.gop_optind++:this.gop_subind=o+1,this.getoptArgument(r)):-1!=o?this.errExtraArg(t):(this.gop_optind++,{option:r})):this.errInvalidOption(t)},s.prototype.getoptArgument=function(e){var t;return this.gop_optind>=this.gop_argv.length?this.errMissingArg(e):(t=this.gop_argv[this.gop_optind].substring(this.gop_subind),this.gop_optind++,this.gop_subind=0,{option:e,optarg:t})},s.prototype.errMissingArg=function(e){return this.gop_silent?{option:":",optopt:e}:(process.stderr.write("option requires an argument -- "+e+"\n"),{option:"?",optopt:e,error:!0})},s.prototype.errInvalidOption=function(e){return this.gop_silent||process.stderr.write("illegal option -- "+e+"\n"),{option:"?",optopt:e,error:!0}},s.prototype.errExtraArg=function(e){return this.gop_silent||process.stderr.write("option expects no argument -- "+e+"\n"),{option:"?",optopt:e,error:!0}}},5440:(e,t,r)=>{"use strict";t.quote=r(2809),t.parse=r(5313)},5313:e=>{"use strict";for(var t="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",r=new RegExp("^"+t+"$"),n="|&;()<> \\t",o=/^#$/,s="",i=0;i<4;i++)s+=(4294967296*Math.random()).toString(16);var a=new RegExp("^"+s);e.exports=function(e,i,c){var l=function(e,i,a){a||(a={});var c=a.escape||"\\",l=new RegExp(["("+t+")","((\\"+c+"['\""+n+"]|[^\\s'\""+n+"])+|\"((\\\\\"|[^\"])*?)\"|'((\\\\'|[^'])*?)')+"].join("|"),"g"),h=function(e,t){for(var r,n=t.lastIndex,o=[];r=t.exec(e);)o.push(r),t.lastIndex===r.index&&(t.lastIndex+=1);return t.lastIndex=n,o}(e,l);if(0===h.length)return[];i||(i={});var u=!1;return h.map((function(t){var n=t[0];if(n&&!u){if(r.test(n))return{op:n};var a,l=!1,h=!1,d="",f=!1;for(a=0;a<n.length;a++){var p=n.charAt(a);if(f=f||!l&&("*"===p||"?"===p),h)d+=p,h=!1;else if(l)p===l?l=!1:"'"==l?d+=p:p===c?(a+=1,d+='"'===(p=n.charAt(a))||p===c||"$"===p?p:c+p):d+="$"===p?g():p;else if('"'===p||"'"===p)l=p;else{if(r.test(p))return{op:n};if(o.test(p)){u=!0;var m={comment:e.slice(t.index+a+1)};return d.length?[d,m]:[m]}p===c?h=!0:d+="$"===p?g():p}}return f?{op:"glob",pattern:d}:d}function g(){var e,t;a+=1;var r=n.charAt(a);if("{"===r){if(a+=1,"}"===n.charAt(a))throw new Error("Bad substitution: "+n.slice(a-2,a+1));if((e=n.indexOf("}",a))<0)throw new Error("Bad substitution: "+n.slice(a));t=n.slice(a,e),a=e}else if(/[*@#?$!_-]/.test(r))t=r,a+=1;else{var o=n.slice(a);(e=o.match(/[^\w\d_]/))?(t=o.slice(0,e.index),a+=e.index-1):(t=o,a=n.length)}return function(e,t,r){var n="function"==typeof e?e(r):e[r];return void 0===n&&""!=r?n="":void 0===n&&(n="$"),"object"==typeof n?""+s+JSON.stringify(n)+s:""+n}(i,0,t)}})).reduce((function(e,t){return void 0===t?e:e.concat(t)}),[])}(e,i,c);return"function"!=typeof i?l:l.reduce((function(e,t){if("object"==typeof t)return e.concat(t);var r=t.split(RegExp("("+s+".*?"+s+")","g"));return 1===r.length?e.concat(r[0]):e.concat(r.filter(Boolean).map((function(e){return a.test(e)?JSON.parse(e.split(s)[1]):e})))}),[])}},2809:e=>{"use strict";e.exports=function(e){return e.map((function(e){return e&&"object"==typeof e?e.op.replace(/(.)/g,"\\$1"):/["\s]/.test(e)&&!/'/.test(e)?"'"+e.replace(/(['\\])/g,"\\$1")+"'":/["'\s]/.test(e)?'"'+e.replace(/(["\\$`!])/g,"\\$1")+'"':String(e).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")})).join(" ")}},7908:(e,t,r)=>{var n,o=r(9491),s=r(5397),i=r(2361);function a(){h&&(h=!1,s.forEach((function(e){try{process.removeListener(e,l[e])}catch(e){}})),process.emit=p,process.reallyExit=d,n.count-=1)}function c(e,t,r){n.emitted[e]||(n.emitted[e]=!0,n.emit(e,t,r))}"function"!=typeof i&&(i=i.EventEmitter),process.__signal_exit_emitter__?n=process.__signal_exit_emitter__:((n=process.__signal_exit_emitter__=new i).count=0,n.emitted={}),n.infinite||(n.setMaxListeners(1/0),n.infinite=!0),e.exports=function(e,t){o.equal(typeof e,"function","a callback must be provided for exit handler"),!1===h&&u();var r="exit";return t&&t.alwaysLast&&(r="afterexit"),n.on(r,e),function(){n.removeListener(r,e),0===n.listeners("exit").length&&0===n.listeners("afterexit").length&&a()}},e.exports.unload=a;var l={};s.forEach((function(e){l[e]=function(){process.listeners(e).length===n.count&&(a(),c("exit",null,e),c("afterexit",null,e),process.kill(process.pid,e))}})),e.exports.signals=function(){return s},e.exports.load=u;var h=!1;function u(){h||(h=!0,n.count+=1,s=s.filter((function(e){try{return process.on(e,l[e]),!0}catch(e){return!1}})),process.emit=m,process.reallyExit=f)}var d=process.reallyExit;function f(e){process.exitCode=e||0,c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),d.call(process,process.exitCode)}var p=process.emit;function m(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var r=p.apply(this,arguments);return c("exit",process.exitCode,null),c("afterexit",process.exitCode,null),r}return p.apply(this,arguments)}},5397:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},3717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4624);class o{constructor(e){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,o.isSmartBufferOptions(e))if(e.encoding&&(n.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(n.isFiniteInteger(e.size)&&e.size>0))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=Buffer.allocUnsafe(e.size)}else if(e.buff){if(!Buffer.isBuffer(e.buff))throw new Error(n.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=Buffer.allocUnsafe(4096);else{if(void 0!==e)throw new Error(n.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){const t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return n.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return n.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return n.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return n.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return n.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let r;"number"==typeof e?(n.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(t=e,r=this.length-this._readOffset),void 0!==t&&n.checkEncoding(t);const o=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,o}insertString(e,t,r){return n.checkOffsetValue(t),this._handleString(e,!0,t,r)}writeString(e,t,r){return this._handleString(e,!1,t,r)}readStringNT(e){void 0!==e&&n.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(e||this._encoding)}insertStringNT(e,t,r){return n.checkOffsetValue(t),this.insertString(e,t,r),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,r){return this.writeString(e,t,r),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&n.checkLengthValue(e);const t="number"==typeof e?e:this.length,r=Math.min(this.length,this._readOffset+t),o=this._buff.slice(this._readOffset,r);return this._readOffset=r,o}insertBuffer(e,t){return n.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return n.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return void 0!==t&&n.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){n.checkOffsetValue(e),n.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){n.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){const t="string"==typeof e?e:this._encoding;return n.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,r,o){let s=this._writeOffset,i=this._encoding;"number"==typeof r?s=r:"string"==typeof r&&(n.checkEncoding(r),i=r),"string"==typeof o&&(n.checkEncoding(o),i=o);const a=Buffer.byteLength(e,i);return t?this.ensureInsertable(a,s):this._ensureWriteable(a,s),this._buff.write(e,s,a,i),t?this._writeOffset+=a:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,s+a):this._writeOffset+=a,this}_handleBuffer(e,t,r){const n="number"==typeof r?r:this._writeOffset;return t?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),t?this._writeOffset+=e.length:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let r=this._readOffset;if(void 0!==t&&(n.checkOffsetValue(t),r=t),r<0||r+e>this.length)throw new Error(n.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){n.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){const r="number"==typeof t?t:this._writeOffset;this._ensureCapacity(r+e),r+e>this.length&&(this.length=r+e)}_ensureCapacity(e){const t=this._buff.length;if(e>t){let r=this._buff,n=3*t/2+1;n<e&&(n=e),this._buff=Buffer.allocUnsafe(n),r.copy(this._buff,0,0,t)}}_readNumberValue(e,t,r){this.ensureReadable(t,r);const n=e.call(this._buff,"number"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=t),n}_insertNumberValue(e,t,r,o){return n.checkOffsetValue(o),this.ensureInsertable(t,o),e.call(this._buff,r,o),this._writeOffset+=t,this}_writeNumberValue(e,t,r,o){if("number"==typeof o){if(o<0)throw new Error(n.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);n.checkOffsetValue(o)}const s="number"==typeof o?o:this._writeOffset;return this._ensureWriteable(t,s),e.call(this._buff,r,s),"number"==typeof o?this._writeOffset=Math.max(this._writeOffset,s+t):this._writeOffset+=t,this}}t.SmartBuffer=o},4624:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4300),o={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function s(e){return"number"==typeof e&&isFinite(e)&&function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}function i(e,t){if("number"!=typeof e)throw new Error(t?o.INVALID_OFFSET_NON_NUMBER:o.INVALID_LENGTH_NON_NUMBER);if(!s(e)||e<0)throw new Error(t?o.INVALID_OFFSET:o.INVALID_LENGTH)}t.ERRORS=o,t.checkEncoding=function(e){if(!n.Buffer.isEncoding(e))throw new Error(o.INVALID_ENCODING)},t.isFiniteInteger=s,t.checkLengthValue=function(e){i(e,!1)},t.checkOffsetValue=function(e){i(e,!0)},t.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw new Error(o.INVALID_TARGET_OFFSET)},t.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw new Error("Platform does not support JS BigInt type.");if(void 0===n.Buffer.prototype[e])throw new Error(`Platform does not support Buffer.prototype.${e}.`)}},6039:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SocksClientError=t.SocksClient=void 0;const o=r(2361),s=r(1808),i=r(3717),a=r(7282),c=r(8209),l=r(2524),h=r(6017);Object.defineProperty(t,"SocksClientError",{enumerable:!0,get:function(){return h.SocksClientError}});const u=r(33);class d extends o.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,c.validateSocksClientOptions)(e),this.setState(a.SocksClientState.Created)}static createConnection(e,t){return new Promise(((r,n)=>{try{(0,c.validateSocksClientOptions)(e,["connect"])}catch(e){return"function"==typeof t?(t(e),r(e)):n(e)}const o=new d(e);o.connect(e.existing_socket),o.once("established",(e=>{o.removeAllListeners(),"function"==typeof t?(t(null,e),r(e)):r(e)})),o.once("error",(e=>{o.removeAllListeners(),"function"==typeof t?(t(e),r(e)):n(e)}))}))}static createConnectionChain(e,t){return new Promise(((r,o)=>n(this,void 0,void 0,(function*(){try{(0,c.validateSocksClientChainOptions)(e)}catch(e){return"function"==typeof t?(t(e),r(e)):o(e)}e.randomizeChain&&(0,h.shuffleArray)(e.proxies);try{let n;for(let t=0;t<e.proxies.length;t++){const r=e.proxies[t],o=t===e.proxies.length-1?e.destination:{host:e.proxies[t+1].host||e.proxies[t+1].ipaddress,port:e.proxies[t+1].port},s=yield d.createConnection({command:"connect",proxy:r,destination:o,existing_socket:n});n=n||s.socket}"function"==typeof t?(t(null,{socket:n}),r({socket:n})):r({socket:n})}catch(e){"function"==typeof t?(t(e),r(e)):o(e)}}))))}static createUDPFrame(e){const t=new i.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),s.isIPv4(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv4),t.writeUInt32BE((0,c.ipv4ToInt32)(e.remoteHost.host))):s.isIPv6(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv6),t.writeBuffer((0,c.ipToBuffer)(e.remoteHost.host))):(t.writeUInt8(a.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){const t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;const r=t.readUInt8(),n=t.readUInt8();let o;return o=n===a.Socks5HostType.IPv4?(0,c.int32ToIpv4)(t.readUInt32BE()):n===a.Socks5HostType.IPv6?u.Address6.fromByteArray(Array.from(t.readBuffer(16))).canonicalForm():t.readString(t.readUInt8()),{frameNumber:r,remoteHost:{host:o,port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==a.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();const t=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||a.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),this.socket=e||new s.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(a.SocksClientState.Connecting),this.receiveBuffer=new l.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(e=>{setImmediate((()=>{if(this.receiveBuffer.length>0){const t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.BoundWaitingForConnection&&this.closeSocket(a.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(a.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(a.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===a.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===a.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===a.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else{if(this.state!==a.SocksClientState.BoundWaitingForConnection){this.closeSocket(a.ERRORS.InternalError);break}4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse()}}onCloseHandler(){this.closeSocket(a.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==a.SocksClientState.Error&&(this.setState(a.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new h.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){const e=this.options.proxy.userId||"",t=new i.SmartBuffer;t.writeUInt8(4),t.writeUInt8(a.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),s.isIPv4(this.options.destination.host)?(t.writeBuffer((0,c.ipToBuffer)(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedConnection} - (${a.Socks4Response[e[1]]})`);else if(a.SocksCommand[this.options.command]===a.SocksCommand.bind){const t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;const r={port:t.readUInt16BE(),host:(0,c.int32ToIpv4)(t.readUInt32BE())};"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress),this.setState(a.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:r,socket:this.socket})}else this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${a.Socks4Response[e[1]]})`);else{const t=i.SmartBuffer.fromBuffer(e);t.readOffset=2;const r={port:t.readUInt16BE(),host:(0,c.int32ToIpv4)(t.readUInt32BE())};this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}sendSocks5InitialHandshake(){const e=new i.SmartBuffer,t=[a.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&t.push(a.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length);for(const r of t)e.writeUInt8(r);this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(a.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===a.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===a.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=a.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===a.Socks5Auth.UserPass?(this.socks5ChosenAuthType=a.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const e=this.options.proxy.userId||"",t=this.options.proxy.password||"",r=new i.SmartBuffer;r.writeUInt8(1),r.writeUInt8(Buffer.byteLength(e)),r.writeString(e),r.writeUInt8(Buffer.byteLength(t)),r.writeString(t),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(r.toBuffer()),this.setState(a.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return n(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(a.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(e){return n(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(e)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return n(this,void 0,void 0,(function*(){return 0===e[1]}))}handleSocks5AuthenticationUserPassHandshakeResponse(e){return n(this,void 0,void 0,(function*(){return 0===e[1]}))}handleInitialSocks5AuthenticationHandshakeResponse(){return n(this,void 0,void 0,(function*(){this.setState(a.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===a.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===a.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(a.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){const e=new i.SmartBuffer;e.writeUInt8(5),e.writeUInt8(a.SocksCommand[this.options.command]),e.writeUInt8(0),s.isIPv4(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv4),e.writeBuffer((0,c.ipToBuffer)(this.options.destination.host))):s.isIPv6(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv6),e.writeBuffer((0,c.ipToBuffer)(this.options.destination.host))):(e.writeUInt8(a.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let r,n;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:(0,c.int32ToIpv4)(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],o=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(t),port:n.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:u.Address6.fromByteArray(Array.from(n.readBuffer(16))).canonicalForm(),port:n.readUInt16BE()}}this.setState(a.SocksClientState.ReceivedFinalResponse),a.SocksCommand[this.options.command]===a.SocksCommand.connect?(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.bind?(this.setState(a.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:r,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.associate&&(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let r,n;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:(0,c.int32ToIpv4)(n.readUInt32BE()),port:n.readUInt16BE()},"0.0.0.0"===r.host&&(r.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],o=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<o)return void(this.nextRequiredPacketBufferSize=o);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(o).slice(5)),r={host:n.readString(t),port:n.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);n=i.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),r={host:u.Address6.fromByteArray(Array.from(n.readBuffer(16))).canonicalForm(),port:n.readUInt16BE()}}this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:r,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}t.SocksClient=d},7282:(e,t)=>{"use strict";var r,n,o,s,i,a;Object.defineProperty(t,"__esModule",{value:!0}),t.SOCKS5_NO_ACCEPTABLE_AUTH=t.SOCKS5_CUSTOM_AUTH_END=t.SOCKS5_CUSTOM_AUTH_START=t.SOCKS_INCOMING_PACKET_SIZES=t.SocksClientState=t.Socks5Response=t.Socks5HostType=t.Socks5Auth=t.Socks4Response=t.SocksCommand=t.ERRORS=t.DEFAULT_TIMEOUT=void 0,t.DEFAULT_TIMEOUT=3e4,t.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},t.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},function(e){e[e.connect=1]="connect",e[e.bind=2]="bind",e[e.associate=3]="associate"}(r||(t.SocksCommand=r={})),function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(n||(t.Socks4Response=n={})),function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(o||(t.Socks5Auth=o={})),t.SOCKS5_CUSTOM_AUTH_START=128,t.SOCKS5_CUSTOM_AUTH_END=254,t.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(s||(t.Socks5Response=s={})),function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(i||(t.Socks5HostType=i={})),function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(a||(t.SocksClientState=a={}))},8209:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ipToBuffer=t.int32ToIpv4=t.ipv4ToInt32=t.validateSocksClientChainOptions=t.validateSocksClientOptions=void 0;const n=r(6017),o=r(7282),s=r(2781),i=r(33),a=r(1808);function c(e,t){if(void 0!==e.custom_auth_method){if(e.custom_auth_method<o.SOCKS5_CUSTOM_AUTH_START||e.custom_auth_method>o.SOCKS5_CUSTOM_AUTH_END)throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthRange,t);if(void 0===e.custom_auth_request_handler||"function"!=typeof e.custom_auth_request_handler)throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_size)throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_handler||"function"!=typeof e.custom_auth_response_handler)throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t)}}function l(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function h(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function u(e){return"number"==typeof e&&e>0}t.validateSocksClientOptions=function(e,t=["connect","bind","associate"]){if(!o.SocksCommand[e.command])throw new n.SocksClientError(o.ERRORS.InvalidSocksCommand,e);if(-1===t.indexOf(e.command))throw new n.SocksClientError(o.ERRORS.InvalidSocksCommandForOperation,e);if(!l(e.destination))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!h(e.proxy))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e);if(c(e.proxy,e),e.timeout&&!u(e.timeout))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof s.Duplex))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},t.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new n.SocksClientError(o.ERRORS.InvalidSocksCommandChain,e);if(!l(e.destination))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach((t=>{if(!h(t))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsProxy,e);c(t,e)})),e.timeout&&!u(e.timeout))throw new n.SocksClientError(o.ERRORS.InvalidSocksClientOptionsTimeout,e)},t.ipv4ToInt32=function(e){return new i.Address4(e).toArray().reduce(((e,t)=>(e<<8)+t),0)},t.int32ToIpv4=function(e){return[e>>>24&255,e>>>16&255,e>>>8&255,255&e].join(".")},t.ipToBuffer=function(e){if(a.isIPv4(e)){const t=new i.Address4(e);return Buffer.from(t.toArray())}if(a.isIPv6(e)){const t=new i.Address6(e);return Buffer.from(t.toByteArray())}throw new Error("Invalid IP address format")}},2524:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReceiveBuffer=void 0,t.ReceiveBuffer=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){const t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}}},6017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shuffleArray=t.SocksClientError=void 0;class r extends Error{constructor(e,t){super(e),this.options=t}}t.SocksClientError=r,t.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}}},7874:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(6039),t)},8975:(e,t,r)=>{var n;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function s(e){return function(e,t){var r,n,i,a,c,l,h,u,d,f=1,p=e.length,m="";for(n=0;n<p;n++)if("string"==typeof e[n])m+=e[n];else if("object"==typeof e[n]){if((a=e[n]).keys)for(r=t[f],i=0;i<a.keys.length;i++){if(null==r)throw new Error(s('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[i],a.keys[i-1]));r=r[a.keys[i]]}else r=a.param_no?t[a.param_no]:t[f++];if(o.not_type.test(a.type)&&o.not_primitive.test(a.type)&&r instanceof Function&&(r=r()),o.numeric_arg.test(a.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(s("[sprintf] expecting number but found %T",r));switch(o.number.test(a.type)&&(u=r>=0),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}o.json.test(a.type)?m+=r:(!o.number.test(a.type)||u&&!a.sign?d="":(d=u?"+":"-",r=r.toString().replace(o.sign,"")),l=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",h=a.width-(d+r).length,c=a.width&&h>0?l.repeat(h):"",m+=a.align?d+r+c:"0"===l?d+c+r:c+d+r)}return m}(function(e){if(a[e])return a[e];for(var t,r=e,n=[],s=0;r;){if(null!==(t=o.text.exec(r)))n.push(t[0]);else if(null!==(t=o.modulo.exec(r)))n.push("%");else{if(null===(t=o.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var i=[],c=t[2],l=[];if(null===(l=o.key.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(i.push(l[1]);""!==(c=c.substring(l[0].length));)if(null!==(l=o.key_access.exec(c)))i.push(l[1]);else{if(null===(l=o.index_access.exec(c)))throw new SyntaxError("[sprintf] failed to parse named argument key");i.push(l[1])}t[2]=i}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return a[e]=n}(e),arguments)}function i(e,t){return s.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=s,t.vsprintf=i,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=i,void 0===(n=function(){return{sprintf:s,vsprintf:i}}.call(t,r,t,e))||(e.exports=n))}()},6200:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=s(r(7241));o(r(7241),t),t.default=i.default},1003:(e,t)=>{"use strict";function r(e,t){return e=function(e,t){for(let t of"\\()[]{}.+^$|")e=e.replace(new RegExp("\\"+t,"g"),"\\"+t);return e}(e),e=e.replace(/\*/g,".*").replace(/\?/g,".?"),new RegExp("^(?:"+e+")$").test(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const n=Array.isArray(e)?e:e.split(/,/);let o=!1;for(const e of n){if("!"==e[0]&&r(e.slice(1),t))return!1;r(e,t)&&(o=!0)}return o}},7241:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.stringify=t.parse=t.LineType=void 0;const o=n(r(1003)),s=r(2081),i=n(r(2037)),a=/\s/,c=/\r|\n/,l=/^(Host|Match)$/i,h=/^(GlobalKnownHostsFile|Host|IPQoS|SendEnv|UserKnownHostsFile|ProxyCommand|Match|CanonicalDomains)$/i,u=/^(?:CertificateFile|IdentityFile|IdentityAgent|User)$/i,d=/^(Include|IdentityFile)$/i;var f;!function(e){e[e.DIRECTIVE=1]="DIRECTIVE",e[e.COMMENT=2]="COMMENT"}(f||(t.LineType=f={}));const p=["IdentityFile","LocalForward","RemoteForward","DynamicForward","CertificateFile"];function m(e,t){return t.hasOwnProperty(e.param)&&t[e.param]===e.value}function g(e){for(const t of e)if(t.type===f.DIRECTIVE&&"config"in t)for(const e of t.config)if(e.before)return e.before;return"  "}function w(e,t){const r=(e,r)=>{switch(e.toLowerCase()){case"all":return!0;case"final":return!!t.inFinalPass||(t.doFinalPass=!0,!1);case"exec":const e=`function main {\n          ${r}\n        }\n        main`;return 0===(0,s.spawnSync)(e,{shell:!0}).status;case"host":return(0,o.default)(r,t.params.HostName);case"originalhost":return(0,o.default)(r,t.params.OriginalHost);case"user":return(0,o.default)(r,t.params.User);case"localuser":return(0,o.default)(r,t.params.LocalUser)}};for(const t in e)if(!r(t,e[t]))return!1;return!0}class y extends Array{static parse(e){return S(e)}static stringify(e){return v(e)}compute(e){let t;"string"==typeof e&&(e={Host:e});try{t=i.default.userInfo()}catch(e){t={username:process.env.USER||process.env.USERNAME||""}}const r={params:{Host:e.Host,HostName:e.Host,OriginalHost:e.Host,User:t.username,LocalUser:t.username},inFinalPass:!1,doFinalPass:!1},n={},a=(e,t)=>{p.includes(e)?(n[e]||(n[e]=[])).push(t):null==n[e]&&("HostName"===e?r.params.HostName=t:"User"===e&&(r.params.User=t),n[e]=t)};void 0!==e.User&&a("User",e.User);const c=()=>{for(const e of this)if(e.type===f.DIRECTIVE)if("Host"===e.param&&(0,o.default)(e.value,r.params.Host)){let t=!1,n=[];a(e.param,e.value);for(const r of e.config)r.type===f.DIRECTIVE&&(a(r.param,r.value),/^CanonicalizeHostName$/i.test(r.param)&&"yes"===r.value&&(t=!0),/^CanonicalDomains$/i.test(r.param)&&Array.isArray(r.value)&&(n=r.value));if(n.length>0&&t&&r.params.Host===r.params.OriginalHost)for(const e of n){const t=`${r.params.OriginalHost}.${e}`,{status:n,stderr:o}=(0,s.spawnSync)("nslookup",[t]);if(0===n&&!/can't find/.test(o.toString())){r.params.Host=t,a("Host",t),c();break}}}else if("Match"===e.param&&"criteria"in e&&w(e.criteria,r))for(const t of e.config)t.type===f.DIRECTIVE&&a(t.param,t.value);else"Host"!==e.param&&"Match"!==e.param&&a(e.param,e.value)};return c(),r.doFinalPass&&(r.inFinalPass=!0,r.params.Host=r.params.HostName,c()),n}find(e){if("function"==typeof e)return super.find(e);if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only find by Host or Match");return super.find((t=>m(t,e)))}remove(e){let t;if("function"==typeof e)t=super.findIndex(e);else{if(!e||!("Host"in e)&&!("Match"in e))throw new Error("Can only remove by Host or Match");t=super.findIndex((t=>m(t,e)))}if(t>=0)return this.splice(t,1)}toString(){return v(this)}append(e){const t=g(this),r=this.length>0?this[this.length-1]:null;let n=r&&r.config||this,o=this,s=n.length>0?n[n.length-1]:r;s&&!s.after&&(s.after="\n");let i=n!==o;for(const r in e){const a=e[r],c={type:f.DIRECTIVE,param:r,separator:" ",value:a,before:i?t:t.replace(/  |\t/,""),after:"\n"};l.test(r)?(i=!0,c.before=t.replace(/  |\t/,""),n=o,s&&"\n"===s.after&&(s.after+="\n"),n.push(c),n=c.config=new y):n.push(c),s=c}return o}prepend(e,t=!1){const r=g(this);let n=this,o=0;if(t){for(;o<this.length&&!("config"in this[o]);)o+=1;if(o>=this.length)return this.append(e)}let s=!1,i=0;for(const t in e){i+=1;const a=e[t],c={type:f.DIRECTIVE,param:t,separator:" ",value:a,before:"",after:"\n"};l.test(t)?(c.before=r.replace(/  |\t/,""),n.splice(o,0,c),n=c.config=new y,s=!0):(i===Object.keys(e).length&&(c.after+="\n"),s?(c.before=r,n.push(c)):(n.splice(o,0,c),o+=1,d.test(t)&&(c.after+="\n")))}return n}}function S(e){let t=0,r=s(),n=new y,o=n;function s(){return e[t++]}function i(){let e="";for(;a.test(r);)e+=r,r=s();return e}function u(){let e=i();return"="===r&&(e+=r,r=s()),e+i()}function d(){let e="",t=!1,n=!1;for(;r&&!c.test(r);){if(n)e+='"'===r?r:`\\${r}`,n=!1;else if('"'!==r||e&&!t)if("\\"===r)n=!0;else{if("#"===r&&!t)break;e+=r}else t=!t;r=s()}if(t||n)throw new Error(`Unexpected line break at ${e}`);return e.trim()}function p(){const e=[];let t="",n=!1,o=!1;for(;r&&!c.test(r);){if(o)t+='"'===r?r:`\\${r}`,o=!1;else if('"'===r)n=!n;else if("\\"===r)o=!0;else if(n)t+=r;else if(/[ \t=]/.test(r))t&&(e.push(t),t="");else{if("#"===r&&e.length>0)break;t+=r}r=s()}if(n||o)throw new Error(`Unexpected line break at ${e.concat(t).join(" ")}`);return t&&e.push(t),e.length>1?e:e[0]}function m(){const e=i(),t="#"===r?function(){const e=f.COMMENT;let t="";for(;r&&!c.test(r);)t+=r,r=s();return{type:e,content:t,before:"",after:""}}():function(){const e=f.DIRECTIVE,t=function(){let e="";for(;r&&/[^ \t=]/.test(r);)e+=r,r=s();return e}(),n=h.test(t),o={type:e,param:t,separator:u(),quoted:!n&&'"'===r,value:n?p():d(),before:"",after:""};if(o.quoted||delete o.quoted,/^Match$/i.test(t)){const e={};"string"==typeof o.value&&(o.value=[o.value]);let t=0;for(;t<o.value.length;){const r=o.value[t];switch(r.toLowerCase()){case"all":case"canonical":case"final":e[r]=[],t+=1;break;default:if(t+1>=o.value.length)throw new Error(`Missing value for match criteria ${r}`);e[r]=o.value[t+1],t+=2}}o.criteria=e}return o}(),n=function(){let e="";for(;c.test(r);)e+=r,r=s();return e}();return t.before=e,t.after=n,t}for(;r;){let e=m();e.type===f.DIRECTIVE&&l.test(e.param)?(n=o,n.push(e),n=e.config=new y):e.type!==f.DIRECTIVE||e.param?n.push(e):0===n.length?o[o.length-1].after+=e.before:n[n.length-1].after+=e.before}return o}function v(e){let t="";function r(e,t){return Array.isArray(e)?e.map((e=>r(e,a.test(e)))).join(" "):t?`"${e}"`:e}function n(e){const t=e.quoted||u.test(e.param)&&a.test(e.value),n=r(e.value,t);return`${e.param}${e.separator}${n}`}const o=e=>{t+=e.before,e.type===f.COMMENT?t+=e.content:e.type===f.DIRECTIVE&&p.includes(e.param)?[].concat(e.value).forEach((function(r,o,s){t+=n({...e,value:r}),o<s.length-1&&(t+=`\n${e.before}`)})):e.type===f.DIRECTIVE&&(t+=n(e)),t+=e.after,e.config&&e.config.forEach(o)};return e.forEach(o),t}y.DIRECTIVE=f.DIRECTIVE,y.COMMENT=f.COMMENT,t.default=y,t.parse=S,t.stringify=v},2130:(e,t,r)=>{"use strict";const n=r(2037),o=r(6224),s=r(6560),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function l(e,t){if(0===a)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const r=a||0;if("dumb"===i.TERM)return r;if("win32"===process.platform){const e=n.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:r;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(l(e,e&&e.isTTY))},stdout:c(l(!0,o.isatty(1))),stderr:c(l(!0,o.isatty(2)))}},1531:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ComposedInteractor=t.getDownloadRequestInteractor=t.RemoteServerProgressInteractor=t.getInstallScriptOutputInteractor=t.getServerErrorLogOutputInteractor=t.getInteractorForMsg=t.getInteractorForInstallWarning=t.DuoTwoFacInteractor=t.TwoFacInteractor=t.PasswordInteractor=t.getExitCode=t.PassphraseInteractor=t.DifferingHostKeyInteractor=t.FingerprintInteractor=t.MitmInteractor=void 0;const n=r(9496),o=r(9763),s=r(5207),i=r(5260),a=r(3725),c=r(810);class l{constructor(){}get id(){return l.ID}async onData(e){if(e.match("Port forwarding is disabled to avoid man-in-the-middle attacks."))throw o.SshResolverError.Create(o.SshResolverFailureReason.MitmPortForwardingDisabled,n.l10n.t("Port forwarding is disabled"));return{}}}t.MitmInteractor=l,l.ID="mitm";class h{constructor(e,t){this.params=e,this.confirmationProvider=t}get id(){return h.ID}async onData(e,t,r){const n={postAction:"keep"};let o;if((e=e.trim()).includes("Are you sure you want to continue connecting")&&(o=e.match(/fingerprint\sis\s(.+)\./))){this.params.deps.logger.debug("Detected fingerprint confirmation message"),n.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const e=await this.confirmationProvider(this.params.host.hostName,o[1],t);e?(this.params.deps.logger.debug("Got fingerprint response: "+e),n.response=e):(this.params.deps.logger.debug("Fingerprint dialog canceled"),n.canceled=!0)}else if(s.isWindows&&(e.includes("The authenticity of host ")||""===e&&r?.detectedServerKey)){this.params.deps.logger.debug("Detected first line fingerprint confirmation message");const e=r?.detectedServerKey||"(unknown)";n.postAction="consume",this.params.deps.logger.debug("Showing fingerprint confirmation dialog");const o=await this.confirmationProvider(this.params.host.hostName,e,t);o?(this.params.deps.logger.debug("Got fingerprint response: "+o),n.response=o):(this.params.deps.logger.debug("Fingerprint dialog canceled"),n.canceled=!0)}return n}}t.FingerprintInteractor=h,h.ID="fingerprint";class u{constructor(e,t){this.confirmationProvider=e,this.logger=t}get id(){return u.ID}async onData(e,t,r){const n={postAction:"keep"};if((e=e.trim()).includes("Are you sure you want to continue connecting")&&e.includes("Offending key for IP in")&&e.includes("Matching host key in")){this.logger.debug('Detected "Offending key for IP in... Matching host key in...." continuation dialog.'),n.postAction="consume";const r=e.substring(e.indexOf("Warning"),e.indexOf("Are")).trim(),o=await this.confirmationProvider(r,t);o?(this.logger.debug("Got continuation response: "+o),n.response=o):(this.logger.debug("Continuation dialog canceled"),n.canceled=!0)}return n}}t.DifferingHostKeyInteractor=u,u.ID="differing host key";class d{constructor(e,t){this.passphraseProvider=e,this.logger=t}get id(){return d.ID}async onData(e,t){const r={postAction:"keep"},n=e.trim().split("\n");if(n.some((e=>e.indexOf("Enter passphrase for")>=0))){this.logger.debug("Detected passphrase message"),r.postAction="consume";const e=await this.passphraseProvider(void 0,void 0,t);"string"==typeof e?(this.logger.debug("Got passphrase response"),r.response=e,r.isPassword=!0):(this.logger.debug("Passphrase dialog canceled"),r.canceled=!0)}else n.some((e=>e.indexOf("Identity added:")>=0))&&(r.postAction="consume");return r}}t.PassphraseInteractor=d,d.ID="passphrase",t.getExitCode=function(e,t){const r=new RegExp(`${t}##([0-9]*)##`).exec(e);if(r)try{const e=parseInt(r[1]);return Number.isNaN(e)?void 0:e}catch(e){return}return 0};class f{constructor(e,t){this.passwordProvider=e,this.logger=t}get id(){return f.ID}async onData(e,t,r){const n={postAction:"keep"},o=function(e,t){if(e.includes("Password:"))return{user:""};const r=(0,a.stripEscapeSequences)(e).match(/([a-zA-Z0-9\-_@\.]*)'s password:/);return r?{user:r[1],message:t?t.detail:void 0}:void 0}(e,r);if(o&&"string"==typeof o.user){this.logger.debug("Showing password prompt"),n.postAction="consume";const e=await this.passwordProvider(o.user,o.message,t);"string"==typeof e?(this.logger.debug("Got password response"),n.response=e,n.isPassword=!0):(this.logger.debug("Password dialog canceled"),n.canceled=!0)}return n}}t.PasswordInteractor=f,f.ID="password";class p{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return p.ID}async onData(e,t){const r={postAction:"keep"};if(e.includes("Verification code:")){this.logger.debug("Detected verification code prompt"),r.postAction="consume";const e=await this.verificationCodeProvider("Enter verification code",t);"string"==typeof e?(this.logger.debug("Got verification code response"),r.response=e,r.isPassword=!0):(this.logger.debug("Verification code dialog canceled"),r.canceled=!0)}return r}}t.TwoFacInteractor=p,p.ID="2fa";class m{constructor(e,t){this.verificationCodeProvider=e,this.logger=t}get id(){return m.ID}async onData(e,t){const r={postAction:"keep"};if(e.includes("Passcode:")){this.logger.debug("Detected passcode prompt"),r.postAction="consume";const e=await this.verificationCodeProvider("Enter passcode",t);"string"==typeof e?(this.logger.debug("Got passcode response"),r.response=e,r.isPassword=!0):(this.logger.debug("passcode dialog canceled"),r.canceled=!0)}return r}}function g(e,t="consume"){const r="string"==typeof e?new RegExp((0,a.escapeRegExpCharacters)(e)):e;let n;const o=new Promise((e=>{n=e}));let s=!1;return{interactor:new class{get id(){return"anonymous"}async onData(e){if(s)return{};let o;return(o=(e=(0,a.stripEscapeSequences)(e)).match(r))?(s=!0,n(o),{postAction:t}):{}}},result:o}}t.DuoTwoFacInteractor=m,m.ID="duo-2fa",t.getInteractorForInstallWarning=function(e,t,r="consume"){return g(`${e}$$${t}$$`,r)},t.getInteractorForMsg=g,t.getServerErrorLogOutputInteractor=function(){const e=g(/'Server did not start successfully([\s\S]*?)End of server log/m,"keep");return{interactor:e.interactor,result:e.result.then((e=>{const t=e[0];return t&&(0,a.stripEscapeSequences)(t)}))}},t.getInstallScriptOutputInteractor=function(e){const t=g(new RegExp(`${e}: start([\\s\\S]*?)${e}: end|(${e}##[0-9]*##)`,"m"));return{interactor:t.interactor,result:t.result.then((e=>{const t=e[1]||e[2];return t&&(0,a.stripEscapeSequences)(t)}))}},t.RemoteServerProgressInteractor=class{constructor(e,t){this.progress=t,this.progressCodeRegex=new RegExp(`${e}%%([0-9]+)%%`)}get id(){return"anonymous"}updateProgress(e){const t=i.RemoteProgressMessages[e];t&&this.progress.report({message:t})}async onData(e){let t;if((t=(e=(0,a.stripEscapeSequences)(e)).match(this.progressCodeRegex))&&t[1]){const e=parseInt(t[1]);return this.updateProgress(e),{postAction:"consume"}}return{}}},t.getDownloadRequestInteractor=function(e,t){const r=function(e,t,r){const n=g(new RegExp(`${e}([\\s\\S]*?)${t}`,"m"));return{interactor:n.interactor,result:n.result.then((e=>{const t=e[1]&&(0,a.stripEscapeSequences)(e[1]);return(0,a.parseStringMap)(t,void 0,r)}))}}((0,c.getDownloadServerStartTrigger)(e),(0,c.getDownloadServerEndTrigger)(e),t);return{interactor:r.interactor,result:r.result.then((e=>{const{artifact:r,destFolder:s,destFolder2:i}=e;if(!r||!s)throw t.error("Got malformed request to download on client, missing data: "+JSON.stringify(e)),o.SshResolverError.Create(o.SshResolverFailureReason.BadLocalDownloadRequest,n.l10n.t("Client-side server download failed"));return{artifact:r,destPath:s+(i||"")}}))}},t.ComposedInteractor=class{constructor(e){this.interactors=e}get id(){return"composed"}async onData(e){for(const t of this.interactors){const r=await t.onData(e);if("consume"===r.postAction)return r}return{postAction:"keep"}}}},2017:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,s=arguments.length,i=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,r,i):o(t,r))||i);return s>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(t,"__esModule",{value:!0}),t.openEmptyWindowOnSshHost=t.CommandService=void 0;const o=r(9496),s=r(9705),i=r(9173),a=r(2480),c=r(4938),l=r(415),h=r(8691),u=r(2386),d=r(3958),f=[];function p(e){return(t,r,n)=>{if("function"!=typeof n.value)throw new Error("not supported");f.push({commandId:e,method:n.value})}}function m(e){return!!e&&"string"==typeof e.host}class g{constructor(e,t,r,n,s){this.folderHistoryManager=t,this.cleanSvc=r,this.resolver=n,this.deps={logger:e,timer:new d.Timer,serverDataPath:s},this.disposables=f.map((({commandId:e,method:t})=>o.commands.registerCommand(e,((...e)=>t.apply(this,e)))))}showLog(){this.deps.logger.showLog()}openWebUI(){if(this.resolver.lastResolverResult&&"port"in this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn){const e=this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.remoteListeningOn.port;let t=o.Uri.parse("http://localhost"+(e?`:${e}`:""));this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken&&(t=t.with({query:`${a.webUITokenParameter}=${this.resolver.lastResolverResult.serverInstallationResult.installScriptResult.serverConfiguration.webUiAccessToken}`})),o.env.openExternal(t)}}async openEmptyWindow(e){const t=m(e)?new u.HostInfo(e.host,e.userName,e.port):await(0,i.interactivelyPickSshHost)(this.deps.logger);t&&y(t)}async openEmptyWindowOnCurrentHost(){const e=(0,l.getActiveRemote)();e&&y(e)}async openEmptyWindowInCurrentWindow(e){const t=m(e)?new u.HostInfo(e.host,e.userName,e.port):await(0,i.interactivelyPickSshHost)(this.deps.logger);t&&y(t,!0)}async openConfigFile(){await(0,h.configureSshHosts)(this.deps.logger)}async cleanDevBox(){const e=await(0,i.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServerAndUserData(e)}async cleanCurrentRemoteServer(){const e=(0,l.getActiveRemote)();if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanRemoteServer(){const e=await(0,i.interactivelyPickSshHost)(this.deps.logger);if(e)return this.cleanSvc.cleanRemoteServer(e)}async cleanLocalServer(){const e=await(0,i.interactivelyPickSshHost)(this.deps.logger);e&&await(0,c.killLocalServer)({deps:this.deps,host:e})}async getHelp(){return(0,s.getHelp)()}async getStarted(){return(0,s.getStarted)()}async reportIssue(){return(0,s.reportIssue)()}async settings(){return(0,s.openSettings)()}async provideFeedback(){return(0,s.provideFeedback)()}async addNewSshHost(){return(0,h.addSshHost)()}getActiveSshRemote(){return(0,l.getActiveRemote)()}async getConfiguredHostnames(){return await(0,h.getConfiguredSshHostNames)()}async openRemoteSshTarget(e,t){await y(e,!t)}async getFolderHistory(e){return this.folderHistoryManager.getFolders(e)}async deleteFolderFromHistory(e){this.folderHistoryManager.removeFolder(e)}dispose(){this.disposables.forEach((e=>e.dispose()))}}function w(e){return`ssh-remote+${u.HostInfo.toAuthorityString(e)}`}async function y(e,t=!1){await o.commands.executeCommand("vscode.newWindow",{remoteAuthority:w(e),reuseWindow:t})}t.CommandService=g,n([p("opensshremotes.showLog")],g.prototype,"showLog",null),n([p("opensshremotes.openWebUI")],g.prototype,"openWebUI",null),n([p("opensshremotes.openEmptyWindow")],g.prototype,"openEmptyWindow",null),n([p("opensshremotes.openEmptyWindowOnCurrentHost")],g.prototype,"openEmptyWindowOnCurrentHost",null),n([p("opensshremotes.openEmptyWindowInCurrentWindow")],g.prototype,"openEmptyWindowInCurrentWindow",null),n([p("opensshremotes.openConfigFile")],g.prototype,"openConfigFile",null),n([p("opensshremotes.cleanDevBox")],g.prototype,"cleanDevBox",null),n([p("opensshremotes.cleanCurrentRemoteServer")],g.prototype,"cleanCurrentRemoteServer",null),n([p("opensshremotes.cleanRemoteServer")],g.prototype,"cleanRemoteServer",null),n([p("opensshremotes.cleanLocalServer")],g.prototype,"cleanLocalServer",null),n([p("opensshremotes.getHelp")],g.prototype,"getHelp",null),n([p("opensshremotes.getStarted")],g.prototype,"getStarted",null),n([p("opensshremotes.reportIssue")],g.prototype,"reportIssue",null),n([p("opensshremotes.settings")],g.prototype,"settings",null),n([p("opensshremotes.provideFeedback")],g.prototype,"provideFeedback",null),n([p("opensshremotes.addNewSshHost")],g.prototype,"addNewSshHost",null),n([p("remote-internal.getActiveSshRemote")],g.prototype,"getActiveSshRemote",null),n([p("remote-internal.getConfiguredHostnames")],g.prototype,"getConfiguredHostnames",null),n([p("remote-internal.openRemoteSshTarget")],g.prototype,"openRemoteSshTarget",null),n([p("remote-internal.getSshFoldersHistory")],g.prototype,"getFolderHistory",null),n([p("remote-internal.deleteSshFolderFromHistory")],g.prototype,"deleteFolderFromHistory",null),t.openEmptyWindowOnSshHost=y},3808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pickSshConfigurationFile=void 0;const n=r(9496),o=r(3170),s=r(8691);class i{constructor(e){this.label=e}}class a{constructor(){this.label=n.l10n.t("Help"),this.description=n.l10n.t("about SSH configuration files"),this.alwaysShow=!0}}class c{constructor(){this.label=n.l10n.t("Settings"),this.description=n.l10n.t("specify a custom configuration file"),this.alwaysShow=!0}}t.pickSshConfigurationFile=async function(e){const t=(0,o.sshConfigurationFile)();return await async function(e){return new Promise(((t,r)=>{const o=function(e){const t=n.window.createQuickPick();return t.ignoreFocusOut=!0,"string"==typeof e?(t.placeholder=n.l10n.t("Edit custom SSH configuration file"),t.items=[new i(e),new c,new a]):(t.placeholder=n.l10n.t("Select SSH configuration file to update"),t.items=[...e.map((e=>new i(e))),new c,new a]),t}(e);let s;o.onDidAccept((()=>{const e=o.selectedItems[0];e instanceof a?s={type:"command",id:"help"}:e instanceof c?s={type:"command",id:"settings"}:e.label&&(s={type:"file",path:e.label}),o.hide()})),o.onDidHide((()=>{t(s||void 0)})),o.show()}))}(t||(0,s.defaultSshConfigurationFiles)())}},9329:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveRemoteUsingExecServer=t.tunnelToExecServer=t.ExecServerCache=void 0;const n=r(9676),o=r(7597),s=r(6113),i=r(5687),a=r(9496),c=r(3170),l=r(9763),h=r(8286),u=r(9783),d=r(8904),f=r(6379);void 0===globalThis.crypto&&(globalThis.crypto=s.webcrypto);let p=0;class m{static get(e){return this.instance||(this.instance=new m(e)),this.instance}constructor(e){this.logger=e,this.servers=new Map}async getOrInsert(e,t){const r=this.servers.get(e);if(!r)return this.insert(e,t);try{const t=await r;if(await Promise.race([t.cnx.call("ping",{}).then((()=>!0)),new Promise((e=>setTimeout((()=>e(!1)),3e3)))]))return this.logger.debug(`Verified and reusing cached exec server for ${e}`),t;this.logger.debug(`Existing exec server for ${e} timed out`)}catch(t){this.logger.debug(`Existing exec server for ${e} errored (${t})`)}return this.insert(e,t)}insert(e,t){const r=t();return r.then((t=>{this.logger.debug(`Exec server for ${e} created and cached`),t.cnx.onClose((t=>{this.servers.get(e)===r&&(this.logger.debug(`Exec server for ${e} closed (${t||"gracefully"})`),this.servers.delete(e))}))}),(t=>{this.servers.get(e)===r&&(this.logger.error(`Exec server for ${e} failed: ${t}`),this.servers.delete(e))})),this.logger.debug(`Initizing new exec server for ${e}`),this.servers.set(e,r),r}}function g(e,t,r,n,o=10){i.get(t,{method:r,agent:(0,u.getAgent)()},(t=>{if(t.statusCode&&t.statusCode>=300&&t.statusCode<400&&t.headers.location&&o>0)return g(e,t.headers.location,r,n,o-1),void t.resume();t.on("data",(t=>e.call("httpbody",{req_id:n,complete:!1,segment:t}))),t.on("end",(()=>e.call("httpbody",{req_id:n,complete:!0,segment:new Uint8Array}))),e.call("httpheaders",{req_id:n,status_code:t.statusCode||503,headers:Object.entries(t.headers).flatMap((([e,t])=>t instanceof Array?t.map((t=>[e,t||""])):[[e,t||""]]))})})).on("error",(t=>{e.call("httpbody",{req_id:n,complete:!0,segment:Buffer.from(t.toString())})}))}async function w(e,t,r){return m.get(t).getOrInsert(e,(async()=>{const{installResult:e,tunnelResult:s}=await r();t.info(`Resolving exec server at ${l.ListenTarget.display(s.localTarget)}`);const i=await new Promise(((e,t)=>{const r=l.ListenTarget.connect(s.localTarget);r.on("connect",(()=>e(new o.Connection(r,n.encode)))),r.on("error",(e=>t(e)))})),a=(0,f.assertVSDA)(),{challenge:c}=await i.call("challenge_issue",{token:e.execServer?.token});return await i.call("challenge_verify",{response:(new a.signer).sign(c)}),i.onNotification("makehttpreq",(({url:e,method:t,req_id:r})=>g(i,e,t,r))),{cnx:i,execServer:new o.ExecServer(i)}}))}t.ExecServerCache=m,t.tunnelToExecServer=w,t.resolveRemoteUsingExecServer=async function(e,t,r,n){const o="remotessh",{cnx:s,execServer:i}=await w(e,t,(()=>Promise.resolve({installResult:r,tunnelResult:n}))),l=await(0,d.getProductInfo)();return function(e,t){let r;e.onNotification("serverlog",(e=>{const n=2===e.level?"debug":5===e.level?"error":3===e.level?"trace":"info";t[n](`[server] ${e.line}`),(e=>{if(e.includes("Installing and setting up"))return r?.promise.resolve(),void a.window.withProgress({title:y,location:a.ProgressLocation.Notification},(e=>{const t=(0,h.getDeferred)();return r={promise:t,handle:e,lastPercent:0},t.promise}));if(!r)return;if(e.includes("Server setup complete")||e.includes("Found running server"))return r.promise.resolve(),void(r=void 0);const t=e.match(/.*server download progress.* \((\d+)\%\)/);if(t){const[,e]=t,n=Number(e);r.handle.report({increment:n-r.lastPercent}),r.lastPercent=n}})(e.line)}))}(s,t),new a.ManagedResolvedAuthority((async()=>{const e=await i.serve({socketId:p++,extensions:(0,c.getSshDefaultExtensions)(),quality:l.quality,commit:l.commit,connectionToken:o,compress:!0}),t=new a.EventEmitter,r=new a.EventEmitter;return e.onEnd.then((()=>t.fire())),s.onClose((e=>r.fire(e))),{send:t=>e.write(t),end:()=>e.end(),drain:()=>Promise.resolve(e.drain?.()),onDidEnd:t.event,onDidClose:r.event,onDidReceiveMessage:e.onData}}),o)};const y=a.l10n.t("Downloading VS Code Server...")},3170:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxReconnectionAttempts=t.logLevel=t.LogLevel=t.suppressWindowsSshWarning=t.connectTimeoutMilliseconds=t.connectTimeoutSetting=t.savePlatformForHost=t.interactivelyPickSshPlatform=t.getPlatformForHost=t.bindAddressForHost=t.remotePlatform=t.remotePortRanges=t.showLoginTerminal=t.useLocalServer=t.remoteServerListenOnSocket=t.defaultForwardedPorts=t.serverInstallPath=t.sshPath=t.preferredLocalPortRange=t.localDownload=t.sshConfigurationFile=t.useFlock=t.lockfilesInTmp=t.getSshDefaultExtensions=t.externalSshAskpass=t.enableRemoteCommand=t.enableDynamicForwarding=t.bindHosts=t.useCurlAndWgetConfigurationFiles=t.permitPtyAllocation=t.enableX11Forwarding=t.enableAgentForwarding=t.useExecServer=t.enableWebAccess=t.CONFIG_FILE_SETTING=void 0;const n=r(9496),o=r(7674),s=r(5207),i=r(3725);function a(){return n.workspace.getConfiguration().get("remote.SSH.bindHost",{})}function c(){return!!n.workspace.getConfiguration().get("remote.SSH.remoteServerListenOnSocket")}function l(){const e=n.workspace.getConfiguration().get("remote.SSH.remotePlatform",{}),t={};return Object.keys(e).forEach((r=>{"macOS"===e[r]?t[r]=o.Platform.MacOS:"windows"===e[r]?t[r]=o.Platform.Windows:"linux"===e[r]&&(t[r]=o.Platform.Linux)})),t}async function h(e){const t=await n.window.showQuickPick([{label:"Linux",platform:o.Platform.Linux},{label:"Windows",platform:o.Platform.Windows},{label:"macOS",platform:o.Platform.MacOS}],{placeHolder:e,ignoreFocusOut:!0});if(t)return t.platform}t.CONFIG_FILE_SETTING="remote.SSH.configFile",t.enableWebAccess=function(){return!!n.workspace.getConfiguration().get("remote.SSH.enableWebAccess")},t.useExecServer=function(){return n.workspace.getConfiguration().get("remote.SSH.useExecServer",!0)},t.enableAgentForwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableAgentForwarding")},t.enableX11Forwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableX11Forwarding")},t.permitPtyAllocation=function(){return n.workspace.getConfiguration().get("remote.SSH.permitPtyAllocation")??!1},t.useCurlAndWgetConfigurationFiles=function(){return n.workspace.getConfiguration().get("remote.SSH.useCurlAndWgetConfigurationFiles")??!1},t.bindHosts=a,t.enableDynamicForwarding=function(){return!1!==n.workspace.getConfiguration().get("remote.SSH.enableDynamicForwarding")},t.enableRemoteCommand=function(){return n.workspace.getConfiguration().get("remote.SSH.enableRemoteCommand")??!1},t.externalSshAskpass=function(){return n.workspace.getConfiguration().get("remote.SSH.externalSSH_ASKPASS")??!1},t.getSshDefaultExtensions=function(){const e=n.workspace.getConfiguration().get("remote.SSH.defaultExtensions"),t=Array.isArray(e)?e:[],r=/^[a-z0-9][a-z0-9\-]*\.[a-z0-9][a-z0-9\-]*$/i;return t.filter((e=>r.test(e)))},t.lockfilesInTmp=function(){return!!n.workspace.getConfiguration().get("remote.SSH.lockfilesInTmp")},t.useFlock=function(){return n.workspace.getConfiguration().get("remote.SSH.useFlock")??!0},t.sshConfigurationFile=function(){return n.workspace.getConfiguration().get(t.CONFIG_FILE_SETTING)},t.localDownload=function(){const e=n.workspace.getConfiguration().get("remote.SSH.allowLocalServerDownload");if("boolean"==typeof e&&!e)return"off";const t=n.workspace.getConfiguration().get("remote.SSH.localServerDownload");return"off"===t?"off":"always"===t?"always":"auto"},t.preferredLocalPortRange=function(e){const t=n.workspace.getConfiguration().get("remote.SSH.preferredLocalPortRange");if(!t)return;if(!/^\d+-\d+$/.test(t))return void e.error(`Ignoring 'preferredLocalPortRange' setting due to invalid value.  Expected format of '[min]-[max]', got '${t}'. `);const[r,o]=t.split("-").map((e=>Number(e)));if(!(r>o||r<1||r>65535||o<1||o>65535))return{start:r,end:o};e.error(`Ignoring 'preferredLocalPortRange' setting due to invalid value.  Port values must be between 1 and 65535, and 'start' must be not be greater than 'end'.  Got '${r}-${o}'. `)},t.sshPath=function(){return n.workspace.getConfiguration().get("remote.SSH.path")},t.serverInstallPath=function(){return n.workspace.getConfiguration().get("remote.SSH.serverInstallPath")??{}},t.defaultForwardedPorts=function(){const e=n.workspace.getConfiguration().get("remote.SSH.defaultForwardedPorts");return Array.isArray(e)?e:[]},t.remoteServerListenOnSocket=c,t.useLocalServer=function(){if(c())return!1;const e=n.workspace.getConfiguration().inspect("remote.SSH.useLocalServer")?.globalValue;return"boolean"==typeof e?e:!s.isWindows},t.showLoginTerminal=function(){return!!n.workspace.getConfiguration().get("remote.SSH.showLoginTerminal")},t.remotePortRanges=function(){const e=n.workspace.getConfiguration().get("remote.SSH.serverPickPortsFromRange",{}),t={};return Object.keys(e).forEach((r=>{const[n,o]=e[r].split("-").map((e=>Number(e)));t[r]={start:n,end:o}})),t},t.remotePlatform=l,t.bindAddressForHost=function(e){const t="127.0.0.1",r=a(),o=r.hasOwnProperty(e.hostName)?r[e.hostName]:t;return/^([A-Z\d-.]+|\[[A-Z0-9:]+\])$/i.test(o)?o:(n.window.showErrorMessage(n.l10n.t("{1} is not a valid host to bind",JSON.stringify(o))),t)},t.getPlatformForHost=async function(e,t=!0){if(function(e){return(n.workspace.getConfiguration().get("remote.SSH.windowsRemotes")||[]).includes(e.hostName)}(e))return o.Platform.Windows;const r=l();if(r.hasOwnProperty(e.hostName))return r[e.hostName];for(const[t,n]of Object.entries(r))if(t.includes("*")&&new RegExp("^"+(0,i.escapeRegExpCharacters)(t).replace(/\\\*/g,".*")+"$","i").test(e.hostName))return n;return t?h(`Select the platform of the remote host "${e.hostName}"`):void 0},t.interactivelyPickSshPlatform=h,t.savePlatformForHost=async function(e,t,r,o){const s=n.workspace.getConfiguration().get("remote.SSH.remotePlatform",{});if(!s||s[e.hostName]!==t.toString()){!function(e,t){const r="Don't Show Again";e.globalState.get(u)||n.window.showInformationMessage(`You selected "${t.toString()}" as the remote platform - this will be stored in the setting "remote.SSH.remotePlatform" and can be changed there if needed.`,r).then((t=>{t===r&&e.globalState.update(u,!0)}))}(r,t);try{await n.workspace.getConfiguration("remote").update("SSH.remotePlatform",{...s,[e.hostName]:t.toString()},n.ConfigurationTarget.Global)}catch(e){o.error(`Failed to write \`remote.SSH.remotePlatform\`: ${e.toString()}`)}}};const u="suppressRemotePlatformNotification";function d(){return n.workspace.getConfiguration().get("remote.SSH.connectTimeout")??15}var f;t.connectTimeoutSetting=d,t.connectTimeoutMilliseconds=function(e,t){let r=d();if(void 0!==e?.config?.ConnectTimeout){const n=parseInt(e.config.ConnectTimeout);if(void 0!==n&&!isNaN(n)){if(0===n)return t.debug("Detected connect timeout of 0. Setting maximum timeout."),2147483647;r=n}}return r<2147483646&&(r+=2),t.debug(`Using connect timeout of ${r} seconds`),1e3*r},t.suppressWindowsSshWarning=function(){return!!n.workspace.getConfiguration().get("remote.SSH.suppressWindowsSshWarning")},function(e){e[e.trace=1]="trace",e[e.debug=2]="debug",e[e.info=3]="info",e[e.warning=4]="warning",e[e.error=5]="error",e[e.critical=6]="critical",e[e.off=7]="off"}(f||(t.LogLevel=f={})),t.logLevel=function(){const e=n.workspace.getConfiguration().get("remote.SSH.logLevel")||"debug";return f[e]},t.maxReconnectionAttempts=function(){const e=n.workspace.getConfiguration().get("remote.SSH.maxReconnectionAttempts");return"number"==typeof e?e:Number.MAX_SAFE_INTEGER}},9705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showConnectionError=t.getHelp=t.getStarted=t.provideFeedback=t.openSettings=t.reportIssue=void 0;const n=r(9496),o=r(8691),s=r(7475);function i(){const{name:e,publisher:t,extensionPack:r}=(0,s.getPackageJson)(),o=[`${t}.${e}`];return r&&r.forEach((e=>o.push(e))),n.commands.executeCommand("workbench.action.openSettings",`@ext:${o.join(",")}`)}function a(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh"))}t.reportIssue=function(){const{name:e,publisher:t}=(0,s.getPackageJson)();return n.commands.executeCommand("vscode.openIssueReporter",`${t}.${e}`)},t.openSettings=i,t.provideFeedback=function(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh/provide-feedback"))},t.getStarted=function(){return n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/ssh/getting-started"))},t.getHelp=a;class c{constructor(){this.title="Reload Window"}async execute(){await n.commands.executeCommand("workbench.action.reloadWindow")}}const l=[new c,new class{constructor(){this.title=n.l10n.t("Open Recent...")}async execute(){await n.commands.executeCommand("workbench.action.openRecent")}},new class{constructor(){this.title=n.l10n.t("Open Documentation")}async execute(){await a()}},new class{constructor(){this.title=n.l10n.t("Open SSH Configuration File")}async execute(e){await(0,o.configureSshHosts)(e)}},new class{constructor(){this.title=n.l10n.t("Open Settings")}async execute(){i()}}],h=[new class{constructor(){this.title=n.l10n.t("Close Remote")}async execute(){await n.commands.executeCommand("workbench.action.remote.close")}},new class{constructor(e){this.moreActions=e,this.title=n.l10n.t("More Actions..."),this.isCloseAffordance=!0}async execute(e){const t=this.moreActions.map((e=>({label:e.title,action:e}))),r=await n.window.showQuickPick(t,{ignoreFocusOut:!0,placeHolder:n.l10n.t("Pick an action to help resolve the problem.")});r&&await r.action.execute(e)}}(l),new class extends c{constructor(){super(...arguments),this.title=n.l10n.t("Retry")}}];t.showConnectionError=async function(e,t){e.endsWith(".")||(e+=".");const r=await n.window.showErrorMessage(e,{modal:!0},...h);r&&await r.execute(t)}},9173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interactivelyPickSshHost=void 0;const n=r(9496),o=r(8691),s=r(2386);class i{constructor(e){this.label=e}}class a{constructor(){this.label=n.l10n.t("Configure SSH Hosts..."),this.alwaysShow=!0}}class c{constructor(){this.label=n.l10n.t("{0} Add New SSH Host...","$(plus)"),this.alwaysShow=!0}}class l{get label(){return` ${this.hostName}`}constructor(){this.hostName="",this.alwaysShow=!0}}t.interactivelyPickSshHost=async function(e){e.info("Picking SSH host");const t=await(0,o.getConfiguredSshHosts)(),r=await async function(e,t){return new Promise(((r,o)=>{const h=function(e){const t=e.map((e=>new i(e))),r=new a,o=new c,s=n.window.createQuickPick();s.ignoreFocusOut=!0,s.placeholder=n.l10n.t({message:"Select configured SSH host or enter user@host",comment:['Translate user@host such that both user and host are translated but joined by an "@" sign.']});const h=new l;let u=!1;const d=()=>{const e=[...t];u&&e.push(h),e.push(o),e.push(r),s.items=e};return d(),s.onDidChangeValue((e=>{h.hostName=e,u="string"==typeof e&&e.length>0,d()})),s}(e);let u;h.onDidAccept((async()=>{h.busy=!0;const e=h.selectedItems[0];if(e instanceof a)return void r({type:"command",id:"configure"});if(e instanceof c)return void r({type:"command",id:"new"});const n=e instanceof l?e.hostName:e.label;u=s.HostInfo.fromString(n),t.info(`Selected ${u.toString()}`),h.busy=!1,h.hide(),h.dispose()})),h.onDidHide((async()=>{r(u?{type:"host",host:u}:null)})),h.show()}))}(t,e);if(r){if("command"===r.type&&"configure"===r.id)return(0,o.configureSshHosts)(e),null;if("command"===r.type&&"new"===r.id)return n.commands.executeCommand("opensshremotes.addNewSshHost");if("host"===r.type)return r.host}return null}},5748:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScriptStartMarker=void 0,t.getScriptStartMarker=function(e){return`${e}: running`}},9763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detectPortForwardingDisabledAndWarn=t.SshResolverError=t.SshResolverErrorCode=t.SshResolverFailureReason=t.parseInstallScriptOutput=t.handleInstallErrorResult=t.handleInstallOutput=t.handleServerErrorOutput=t.ListenTarget=t.InstallUnpackCode=t.InstallExitCode=void 0;const n=r(9496),o=r(3170),s=r(7674),i=r(3725),a=r(1808);var c,l,h;function u(e,t,r){let n=t.match(/(?<=Error: ).*\n/);if(n=n||t.match(/(?=Could not find free port in range: ).+?(?:\(inclusive\).)/),n&&n[0])throw r.error(n[0]),w.ServerInstallError(e,n[0])}function d(e,t,r){if(e.exitCode!==c.AlreadyInProgress){if(e.exitCode===c.ServerDownloadFailed)throw r.error("Server download failed"),w.ServerInstallError(e,n.l10n.t("Downloading VS Code Server failed. Please try again later."));if(e.exitCode===c.NoDownloaderAvailable)throw r.error("Neither curl nor wget is installed - can't download the Server"),w.ServerInstallError(e,n.l10n.t("Downloading VS Code Server failed - please install either curl or wget on the remote."));if(e.exitCode===c.NoDownloaderAvailableForStatusCheck)throw r.error("Neither curl nor wget is installed - can't check VS Code Server status"),w.ServerInstallError(e,n.l10n.t("Checking VS Code Server status failed - please install either curl or wget on the remote."));if(e.exitCode===c.UnsupportedArch)throw r.error("Unsupported architecture"),w.ServerInstallError(e,n.l10n.t("The remote host's architecture is not supported"));if(e.exitCode===c.UnsupportedPlatform)throw r.error("Unsupported platform"),w.ServerInstallError(e,n.l10n.t("The remote host's platform is not supported"));if(e.exitCode!==c.StatusCheckFailed){if(e.exitCode===c.NeedInsidersArch)throw w.ServerInstallError(e,n.l10n.t("The remote host's architecture is only supported on VS Code Insiders"));if(e.exitCode===c.NeedInsidersWindows)throw w.ServerInstallError(e,n.l10n.t("Windows hosts are only supported on VS Code Insiders"));if(e.exitCode===c.ServerFailedToStart)throw w.ServerInstallError(e,n.l10n.t("The VS Code Server failed to start"));if(e.exitCode===c.ServerTerminatedCVE20201416)throw w.ServerInstallError(e,n.l10n.t("The VS Code Server terminated due to presence of CVE-2020-1416. Check the Remote-SSH output channel for more details."));if(e.exitCode===c.CreateInstallDirFailed)throw w.ServerInstallError(e,n.l10n.t("Failed to create the remote server's install directory"));if(e.exitCode===c.UnpackFailed)throw w.ServerInstallError(e,n.l10n.t("Failed to install the VS Code Server"));throw r.error(`Server installation failed with exit code ${e.exitCode} and output ${t}`),w.Create(m.UnhandledExitCode)}r.debug("Server status check failed - waiting and retrying")}else r.error("Server installation process already in progress - waiting and retrying")}!function(e){e[e.AlreadyInProgress=24]="AlreadyInProgress",e[e.ServerDownloadFailed=25]="ServerDownloadFailed",e[e.NoDownloaderAvailable=26]="NoDownloaderAvailable",e[e.NoDownloaderAvailableForStatusCheck=30]="NoDownloaderAvailableForStatusCheck",e[e.UnsupportedArch=27]="UnsupportedArch",e[e.StatusCheckFailed=28]="StatusCheckFailed",e[e.NeedInsidersArch=29]="NeedInsidersArch",e[e.ServerTransferFailed=31]="ServerTransferFailed",e[e.ServerFailedToStart=32]="ServerFailedToStart",e[e.NeedInsidersWindows=33]="NeedInsidersWindows",e[e.CreateInstallDirFailed=34]="CreateInstallDirFailed",e[e.UnsupportedPlatform=35]="UnsupportedPlatform",e[e.ServerTerminatedCVE20201416=36]="ServerTerminatedCVE20201416",e[e.UnpackFailed=37]="UnpackFailed",e[e.ChangeDirFailed=38]="ChangeDirFailed"}(c||(t.InstallExitCode=c={})),function(e){e.Success="success",e.Error="error",e.MissingFiles="missingFiles"}(l||(t.InstallUnpackCode=l={})),function(e){e.display=function(e){return"port"in e?`port ${e.port}`:`socket ${e.socketPath}`},e.listen=function(e,t,r){"port"in t?e.listen(t.port,"127.0.0.1",r):e.listen(t.socketPath,r)},e.connect=function(e,t){return"port"in e?a.connect(e.port,"127.0.0.1",t):a.connect(e.socketPath,t)}}(h||(t.ListenTarget=h={})),t.handleServerErrorOutput=u,t.handleInstallOutput=function(e,t,r){!function(e){if(e.match(/WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!/))throw w.Create(m.MitmPortForwardingDisabled,n.l10n.t("Remote host key has changed, port forwarding is disabled"))}(t);const s=p(t,e.deps.logger);if((i=s)&&"number"==typeof i.exitCode)return r&&s.exitCode===c.ServerFailedToStart&&u(s,r,e.deps.logger),void d(s,t,e.deps.logger);if(s)return e.deps.logger.info(`Remote server is listening on ${h.display(s.serverConfiguration.remoteListeningOn)}`),s;throw function(e){if(e.match(/Network is unreachable/))throw w.Offline(n.l10n.t("Network is unreachable"));if(e.match(/Could not resolve hostname/))throw w.Offline(n.l10n.t("Could not resolve hostname"));if(e.match(/The process tried to write to a nonexistent pipe/))throw w.Offline(n.l10n.t("The process tried to write to a nonexistent pipe"));if(e.match(/Connection timed out/))throw w.Offline(n.l10n.t("The connection timed out"));if(e.match(/Operation timed out/))throw w.Offline(n.l10n.t("The operation timed out"));if(e.match(/No route to host/))throw w.Offline(n.l10n.t("No route to host"));if(e.match(/Can't assign requested address/))throw w.Offline(n.l10n.t("Can't assign requested address"))}(t),function(e,t){if(!t.trim())throw w.Create(m.EmptyOutput,"");const r=t.split("\n").reverse();for(const e of r){let t;if((t=e.match(/Too many authentication failures.*/))||(t=e.match(/Permission denied.*/)))throw w.Create(m.PermissionDenied,t[0])}if(t.match(/bash: (command )?not found/i))throw w.Create(m.NoBash,n.l10n.t("bash not found"));if(t.match(/shell request failed on channel \d/))throw w.Create(m.ShellRequestFailedOnChannel);if(t.match(/client_loop: send disconnect: Broken pipe/))throw w.Create(m.SendDisconnectBrokenPipe);if(t.match(/hostname contains invalid characters/))throw w.Create(m.InvalidHostName,n.l10n.t("Hostname contains invalid characters"));const s=e.host.config;(0,o.enableRemoteCommand)()&&t.match(/Authenticated to .* ssh child died, shutting down/s)&&s&&s.RemoteCommand&&e.deps.logger.error("You have RemoteCommand in your SSH Config for this remote which could be the cause for this crash. Try reconnecting with `enableRemoteCommand` set to `false`.")}(e,t),e.deps.logger.error("Failed to parse remote port from server output"),w.Create(m.UnparsableOutput);var i},t.handleInstallErrorResult=d;const f=/^(?:[0-9.:]+:|\[[0-9a-f:]+]:)?(?<port>[0-9]+)$/;function p(e,t){const r=(0,i.parseStringMap)(e,void 0,t);let n;if(r.platform===s.Platform.Linux||r.platform===s.Platform.MacOS||r.platform===s.Platform.Windows)n=r.platform;else{if(!r.platform)return;n=void 0}const o=r.listeningOn&&f.exec(r.listeningOn),a=o?{port:Number(o.groups.port)}:r.listeningOn?{socketPath:r.listeningOn}:void 0;if(!n||r.exitCode){const e={remoteListeningOn:a,osReleaseId:r.osReleaseId,arch:r.arch,platform:n};return{exitCode:n?parseInt(r.exitCode,10):c.UnsupportedPlatform,serverConfiguration:e}}if(a)return{serverConfiguration:{remoteListeningOn:a,osReleaseId:r.osReleaseId,arch:r.arch,webUiAccessToken:r.webUiAccessToken,sshAuthSock:r.SSH_AUTH_SOCK,display:r.DISPLAY,tmpDir:r.tmpDir,platform:n,connectionToken:r.connectionToken,execServerToken:r.execServerToken},downloadTime:"string"==typeof r.downloadTime&&r.downloadTime?parseInt(r.downloadTime,10):void 0,installTime:"string"==typeof r.installTime&&r.installTime?parseInt(r.installTime,10):void 0,extInstallTime:"string"==typeof r.extInstallTime&&r.extInstallTime?parseInt(r.extInstallTime,10):void 0,serverStartTime:"string"==typeof r.serverStartTime&&r.serverStartTime?parseInt(r.serverStartTime,10):void 0,didLocalDownload:"string"==typeof r.didLocalDownload&&("1"===r.didLocalDownload||"True"===r.didLocalDownload)||void 0,installUnpackCode:"string"==typeof r.unpackResult?r.unpackResult:void 0}}var m,g;t.parseInstallScriptOutput=p,function(e){e.UnparsableOutput="UnparsableOutput",e.EmptyOutput="EmptyOutput",e.ExitCode="ExitCode",e.UnhandledExitCode="UnhandledExitCode",e.OfflineError="OfflineError",e.SshInstall="SshInstall",e.FindLocalPort="FindLocalPort",e.Timeout="Timeout",e.ExhaustedRetries="ExhaustedRetries",e.PermissionDenied="PermissionDenied",e.MitmPortForwardingDisabled="MitmPortForwardingDisabled",e.Canceled="Canceled",e.BadLocalDownloadRequest="BadLocalDownloadRequest",e.LocalDownloadFailed="LocalDownloadFailed",e.LocalLockTimeout="LocalLockTimeout",e.NoBash="NoBash",e.InvalidHostName="InvalidHostName",e.BadInstallScriptResult="BadInstallScriptResult",e.ShellRequestFailedOnChannel="ShellRequestFailed",e.InvalidPortRange="InvalidPortRange",e.SendDisconnectBrokenPipe="SendDisconnectBrokenPipe",e.LocalServerCrashed="LocalServerCrashed",e.Unknown="Unknown"}(m||(t.SshResolverFailureReason=m={})),function(e){e.NotAvailable="NotAvailable",e.TemporarilyNotAvailable="TemporarilyNotAvailable"}(g||(t.SshResolverErrorCode=g={}));class w extends Error{static ServerInstallError(e,t){return new w(t,g.NotAvailable,m.ExitCode,e)}static Create(e,t=""){return new w(t,g.NotAvailable,e)}static Offline(e){return new w(e,g.TemporarilyNotAvailable,m.OfflineError)}static Timeout(e){return new w(e,g.TemporarilyNotAvailable,m.Timeout)}static Canceled(){return new w(n.l10n.t("Connecting was canceled"),g.NotAvailable,m.Canceled)}constructor(e,t,r,n){super(e),this.handled=!1,this._message=e,this._code=t,this.failureReason=r,this.installErrorDetails=n,"function"==typeof Object.setPrototypeOf&&Object.setPrototypeOf(this,w.prototype)}toRemoteAuthorityResolverError(){return this._code===g.NotAvailable?n.RemoteAuthorityResolverError.NotAvailable(this._message,this.handled):n.RemoteAuthorityResolverError.TemporarilyNotAvailable(this._message)}}t.SshResolverError=w;let y=!1;t.detectPortForwardingDisabledAndWarn=function(e,t){y||e.includes("open failed: administratively prohibited")&&(t.error(n.l10n.t("ERROR: TCP port forwarding appears to be disabled on the remote host. Ensure that the sshd_config has `AllowTcpForwarding yes`. Contact your system administrator if needed.")),y=!0)}},7907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSshdParentPid=t.execServerInstallScript=t.serverInstallScript=void 0;const n=r(810),o=r(6737),s=r(1049),i=r(5260),a=r(3725),c=r(4378),l=r(5748),h=r(9763);t.serverInstallScript=function({uuid:e,quality:r,commit:u,telemetryLevel:d,extensionIds:f,basePath:p,serverDataFolderName:m,serverApplicationName:g,enableWebAccess:w,printVars:y,localDownload:S,portRange:v,bindHost:b}){const _=f&&f.length>0?f.map(a.sanitizeExtensionId).map((e=>`"--install-extension", "${e}"`)).join(", "):'""',E="${uuid}",C=`\n$uuid = "${e}"\n"${(0,l.getScriptStartMarker)(E)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${u}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ''\nif ($p -eq 'AMD64' -or $p -eq 'IA64') {\n    $arch = 'x64'\n} elseif ($p -eq 'ARM64') {\n    $arch = 'arm64'\n}\n\nif ($arch -eq '') {\n\t"Unsupported architecture '$p'."\n\tq ${h.InstallExitCode.UnsupportedArch}\n}\n\n$serverRoot = (Join-Path ${p??"(Resolve-Path ~)"} '${m}')\n$log = "$serverRoot\\.$commitId.log"\n$tokenFile = "$serverRoot\\.$commitId.token"\n$sDir = "$serverRoot\\bin\\$commitId"\n$sFile = "$serverRoot\\bin\\$commitId\\bin\\${g}.cmd"\n$quality = '${r}'\n$telemetryFlag = "--telemetry-level ${d}"\n$exts = ${_}\n$allowLocalDownload = ${"off"!==S?"$True":"$False"}\n$forceLocalDownload = ${"always"===S?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n$global:secretToken = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedServerPid) {\n\t\tif (!(gps -Id $launchedServerPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t$webPart = "${w?"-web":""}"\n\t"server-win32-$arch" + $webPart\n}\n\nfunction DownloadServer {\n\t$s = getStopwatch\n\t"Downloading server $arch"\n\t"${(0,i.getProgressOutputString)(E,1)}"\n\t$serverName = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$serverName/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-server.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\nfunction InstallServer {\n\t$global:gotUnpackResult='${h.InstallUnpackCode.Success}'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding server into $tmpDest"\n\t\t"${(0,i.getProgressOutputString)(E,2)}"\n\t\tExpand-Archive "vscode-server.zip" -DestinationPath "$tmpDest"\n\t\tcp -Recurse "$tmpDest\\vscode-*\\*" -Destination .\n\t\tdel -Recurse $tmpDest\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='${h.InstallUnpackCode.Error}'\n\t\t"Failed to unzip server. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${h.InstallExitCode.UnpackFailed}\n\t\tInstallServer\n\t}\n\n\tif(!(Test-Path "$sFile")) {\n\t\t$global:gotUnpackResult='${h.InstallUnpackCode.MissingFiles}'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${h.InstallExitCode.UnpackFailed}\n\t\tInstallServer\n\t}\n}\n\nfunction WriteConnectionToken {\n\t$fulluser = [System.Security.Principal.WindowsIdentity]::GetCurrent().Name\n\t$global:secretToken = "${(0,c.generateUuid)()}"\n\tni -it f $tokenFile -Force\n\ticacls $tokenFile /reset /Q\n\ticacls $tokenFile /setowner "$fulluser" /Q\n\ticacls $tokenFile /grant "$($fulluser):(R,W)" /Q\n\ticacls $tokenFile /inheritance:r /Q\n\t# This should write in UTF-8 with no BOM. Other methods of writing to a file write UTF-16 or UTF-8 with a BOM\n\t[System.IO.File]::WriteAllLines($tokenFile, $global:secretToken)\n}\n\nfunction SetPortFlag {\n    if(${v?"$True":"$False"}) {\n\t\treturn "--port=${v?.start??0}-${v?.end??0}"\n    }\n\n    return "--port=0"\n}\n\nfunction StartServer {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedServerFile=$sFile -replace ' ', '\` '\n\tWriteConnectionToken\n\t$portFlag = SetPortFlag\n\t$args = "--start-server --host=${b} --server-data-dir '$serverRoot' --accept-server-license-terms --enable-remote-auto-shutdown $portFlag --connection-token-file '$tokenFile' $telemetryFlag $exts *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedServerFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting server: & '$sFile' $args"\n\t$global:launchedServerPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$serverName = GetArtifactName\n\t"${(0,n.getDownloadServerStartTrigger)(E)}"\n\t"artifact==$serverName=="\n\t"destFolder==$serverRoot\\bin\\=="\n\t"destFolder2==$commitId\\vscode-server.zip=="\n\t"${(0,n.getDownloadServerEndTrigger)(E)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $sDir\\vscode-server.zip.done and vscode-server.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$sDir\\vscode-server.zip.done") {\n\t\t\tif(!(Test-Path "$sDir\\vscode-server.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${h.InstallExitCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $sDir\\vscode-server.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction InstallExtensions {\n\t# Install extensions if needed\n\tif ($exts -ne "") {\n\t\t$s = getStopwatch\n\t\t# Can't be inlined as a variable\n\t\t& "$sFile" $telemetryFlag @exts\n\t\t$s.Stop()\n\t\t$global:totalExtInstallTime = $s.ElapsedMilliseconds\n\t}\n}\n\nfunction acquireLock() {\n\t# Init lockfile\n\t$lockFilePath = (Join-Path "$sDir" "vscode-remote-lock.$commitId")\n\ttry {\n\t\t$null = ni $lockFilePath -it f -ea si\n\t} catch {\n\t\t"Could not create server lock file. - $($_.ToString())"\n\t\treturn\n\t}\n\n\t# Acquire lock\n\ttry {\n\t\t"Acquiring lock on $lockFilePath"\n\n\t\t# .NET API needs an absolute path\n\t\t$global:file = [System.io.File]::Open($lockFilePath, 'Open', 'Read', 'None')\n\t} catch {\n\t\t"Install already in progress... - $($_.ToString())"\n\t\tq ${h.InstallExitCode.AlreadyInProgress}\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${y.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"connectionToken==$global:secretToken=="\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $sDir)) {\n\t\t$m = "Could not create server directory"\n\t\ttry {\n\t\t\t$null = ni -it d $sDir -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $sDir)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $sDir\n\tacquireLock\n\n\ttry {\n\t\t"Looking for existing server in $sDir"\n\t\tif(Test-Path "$sFile") {\n\t\t\t"Found installed server"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadServer } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${h.InstallExitCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallServer\n\t\t}\n\n\t\t# Find running process by name (node) then commit in path\n\t\tif(!(Get-Process node -ErrorAction SilentlyContinue | Where-Object Path -Like "$sDir\\*")) {\n\t\t\tStartServer\n\t\t} else {\n\t\t\t"Server with $commitId is already running."\n\t\t\tInstallExtensions\n\t\t\tif (Test-Path $tokenFile) {\n\t\t\t\t$global:secretToken = $(cat $tokenFile)\n\t\t\t}\n\t\t}\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Extension host agent listening on (\\d+)"\n\t\t}\n\n\t\t# Do not change this message\n\t\t$failedP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "!!!! Server terminated due to presence of CVE-2020-1416 !!!!"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\n\t\t\t\t$failed = (sls @failedP).Matches.Groups\n\t\t\t\tif($failed) {\n\t\t\t\t\t$serverLogMsg\n\t\t\t\t\tcat $log\n\t\t\t\t\t"<<< End of server log"\n\t\t\t\t\tq ${h.InstallExitCode.ServerTerminatedCVE20201416}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${h.InstallExitCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t# TODO\n\t} finally {\n\t\t$file.Close()\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,s.minifyPwsh)(C,["getSshdParentPid","exitIfNeeded","DownloadServer","InstallServer","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedServerPid","webPart","archPart","serverName","randomDirName","tmpDest","escapedServerDir","lockFilePath","timeoutDate","failedP","listeningP","listeningMatch","winVersion","tokenFile","secretToken","WriteConnectionToken","StartServer","SetPortFlag","InstallExtensions","printDetails","serverLogMsg","fulluser"])},t.execServerInstallScript=function({uuid:e,quality:r,commit:a,basePath:c,serverDataFolderName:u,printVars:d,localDownload:f,token:p,bindHost:m,portRange:g}){const w="${uuid}",y=`\n$uuid = "${e}"\n"${(0,l.getScriptStartMarker)(w)}"\n"${(0,o.getPauseLogMarker)(e)}"\n$ProgressPreference = 'SilentlyContinue'\n$commitId = '${a}'\n\n# https://docs.microsoft.com/en-us/windows/win32/winprog64/wow64-implementation-details?redirectedfrom=MSDN\n$p = $env:PROCESSOR_ARCHITECTURE\n$arch = ''\nif ($p -eq 'AMD64' -or $p -eq 'IA64') {\n    $arch = 'x64'\n} elseif ($p -eq 'ARM64') {\n    $arch = 'arm64'\n}\n\nif ($arch -eq '') {\n\t"Unsupported architecture '$p'."\n\tq ${h.InstallExitCode.UnsupportedArch}\n}\n\n$serverRoot = (Join-Path ${c??"(Resolve-Path ~)"} '${u}')\n$cliDataDir = (Join-Path "$serverRoot" 'cli')\n$env:VSCODE_AGENT_FOLDER=$serverRoot\n$log = New-TemporaryFile\n$cliNameInArchiveWithoutExe = "${"stable"===r?"code":"code-insiders"}"\n$cliNameInArchve = "$cliNameInArchiveWithoutExe.exe"\n$cliNameOnDisk = "$cliNameInArchiveWithoutExe-$commitId.exe"\n$cliPath = "$serverRoot\\$cliNameOnDisk"\n$quality = '${r}'\n$allowLocalDownload = ${"off"!==f?"$True":"$False"}\n$forceLocalDownload = ${"always"===f?"$True":"$False"}\n$global:didLocal = $False\n$global:gotUnpackResult = ''\n$global:totalDownloadTime = ''\n$global:totalInstallTime = ''\n$global:totalExtInstallTime = ''\n$global:totalServerStartTime = ''\n\nfunction printDetails {\n\t"listeningOn==$port=="\n\t"osReleaseId==windows=="\n\t"osVersion==$winVersion=="\n\t"arch==$arch=="\n\t"platform==windows=="\n\t"unpackResult==$gotUnpackResult=="\n\t"didLocalDownload==$didLocal=="\n\t"downloadTime==$totalDownloadTime=="\n\t"installTime==$totalInstallTime=="\n\t"extInstallTime==$totalExtInstallTime=="\n\t"serverStartTime==$totalServerStartTime=="\n\t"execServerToken==${p}=="\n}\n\nfunction getStopwatch {\n\treturn [system.diagnostics.stopwatch]::StartNew();\n}\n\n# failWithExitCode\nfunction q($code) {\n\t"\${uuid}: start"\n\t"exitCode==$code=="\n\tprintDetails\n\t"\${uuid}: end"\n}\n\n${t.getSshdParentPid}\n\nfunction exitIfNeeded {\n\tif ($launchedCli1Pid) {\n\t\tif (!(gps -Id $launchedCliPid)) {\n\t\t\t"server died, exit"\n\t\t\texit 0\n\t\t}\n\t} else {\n\t\tif (!(gps -Id $sshdPID)) {\n\t\t\t"sshd parent died, exit"\n\t\t\texit 0\n\t\t}\n\t}\n}\n\nfunction GetArtifactName {\n\t"cli-win32-$arch"\n}\n\nfunction DownloadCli {\n\t$s = getStopwatch\n\t"Downloading cli $arch"\n\t"${(0,i.getProgressOutputString)(w,1)}"\n\t$an = GetArtifactName\n\t$splat = @{\n\t\tUri="https://update.code.visualstudio.com/commit:$commitId/$an/$quality"\n\t\tTimeoutSec=20\n\t\tOutFile="vscode-cli-$commitId.zip"\n\t\tUseBasicParsing=$True\n\t}\n\n\t# Enable TLS1.2\n\t[Net.ServicePointManager]::SecurityProtocol = 'Tls12'\n\tirm @splat\n\n\t$s.Stop()\n\t$global:totalDownloadTime = $s.ElapsedMilliseconds\n}\n\n\nfunction InstallCli {\n\t$global:gotUnpackResult='${h.InstallUnpackCode.Success}'\n\t$s = getStopwatch\n\n\ttry {\n\t\t# Unzip to tmp then move to destination to avoid "path too long"\n\t\t$randomDirName = [System.IO.Path]::GetRandomFileName()\n\t\t$tmpDest = "$env:TEMP\\$randomDirName"\n\t\t"Expanding cli into $tmpDest"\n\t\t"${(0,i.getProgressOutputString)(w,2)}"\n\t\tExpand-Archive "vscode-cli-$commitId.zip" -DestinationPath "$tmpDest"\n\t\tcp "$tmpDest\\$cliNameInArchve" -Destination $cliPath\n\t\tdel -Recurse $tmpDest\n\t\tdel "vscode-cli-$commitId.zip"\n\t\t$s.Stop()\n\t\t$global:totalInstallTime = $s.ElapsedMilliseconds\n\t} catch {\n\t\t$global:gotUnpackResult='${h.InstallUnpackCode.Error}'\n\t\t"Failed to unzip cli. - $($_.ToString())"\n\t\tDoLocalDownloadOrFail ${h.InstallExitCode.UnpackFailed}\n\t\tInstallCli\n\t}\n\n\tif(!(Test-Path "$cliPath")) {\n\t\t$global:gotUnpackResult='${h.InstallUnpackCode.MissingFiles}'\n\t\t"Downloaded server is incomplete."\n\t\tDoLocalDownloadOrFail ${h.InstallExitCode.UnpackFailed}\n\t\tInstallCli\n\t}\n}\n\nfunction StartCli {\n\t$s = getStopwatch\n\tif(Test-Path $log) {\n\t\tdel $log\n\t}\n\t$escapedCliFile=$cliPath -replace ' ', '\` '\n\t$args = "command-shell --cli-data-dir '$cliDataDir' --parent-process-id $sshdPID --on-host ${m} ${g?`--on-port=${g.start} --on-port=${g.end}`:"--on-port"} --require-token ${p} *> '$log'"\n\t$splat = @{\n\t\tFilePath = "powershell.exe"\n\t\tWindowStyle = "hidden"\n\t\tArgumentList = @(\n\t\t\t"-ExecutionPolicy", "Unrestricted", "-NoLogo", "-NoProfile", "-NonInteractive", "-c", "$escapedCliFile $args"\n\t\t)\n\t\tPassThru = $True\n\t}\n\t"Starting cli: & '$cliPath' $args"\n\t$global:launchedCliPid = (start @splat).ID\n\t$s.Stop()\n\t$global:totalServerStartTime = $s.ElapsedMilliseconds\n}\n\nfunction DoLocalDownload {\n\t$global:didLocal=$True\n\t"Trigger local server download"\n\t$an = GetArtifactName\n\t"${(0,n.getDownloadServerStartTrigger)(w)}"\n\t"artifact==$an=="\n\t"destFolder==$serverRoot=="\n\t"destFolder2==/vscode-cli-$commitId.zip=="\n\t"${(0,n.getDownloadServerEndTrigger)(w)}"\n\n\t"Waiting for client to transfer server archive..."\n\t"Waiting for $serverRoot\\vscode-cli-$commitId.zip.done and vscode-cli-$commitId.zip to exist"\n\n\twhile($True) {\n\t\tif(Test-Path "$serverRoot\\vscode-cli-$commitId.zip.done") {\n\t\t\tif(!(Test-Path "$serverRoot\\vscode-cli-$commitId.zip")) {\n\t\t\t\t"Transfer failed"\n\t\t\t\tq ${h.InstallExitCode.ServerTransferFailed}\n\t\t\t}\n\n\t\t\t"Transfer complete"\n\t\t\tdel $serverRoot\\vscode-cli-$commitId.zip.done\n\t\t\tbreak\n\t\t} else {\n\t\t\tStart-Sleep -Seconds 3\n\t\t\texitIfNeeded\n\t\t}\n\t}\n}\n\nfunction DoLocalDownloadOrFail($code) {\n\tif ($didLocal) {\n\t\t"Already attempted local download, failing"\n\t\tq $code\n\t} elseif($allowLocalDownload) {\n\t\tDoLocalDownload\n\t} else {\n\t\tq $code\n\t}\n}\n\nfunction printResult() {\n\t"\${uuid}: start"\n\t${d.map((e=>`"${e}==$env:${e}=="`)).join("\n")}\n\tprintDetails\n\t"\${uuid}: end"\n}\n\nfunction main() {\n\t$global:sshdPID = getSshdParentPid\n\n\tif(!(Test-Path $serverRoot)) {\n\t\t$m = "Could not create CLI directory"\n\t\ttry {\n\t\t\t$null = ni -it d $serverRoot -f -ea si\n\t\t} catch {\n\t\t\t"$m. - $($_.ToString())"\n\t\t\treturn\n\t\t}\n\n\t\tif(!(Test-Path $serverRoot)) {\n\t\t\t"$m"\n\t\t\treturn\n\t\t}\n\t}\n\n\tcd $serverRoot\n\n\ttry {\n\t\t"Looking for existing CLI in $serverRoot"\n\t\tif(Test-Path "$cliPath") {\n\t\t\t"Found installed CLI"\n\t\t} else {\n\t\t\tif ($forceLocalDownload) {\n\t\t\t\tDoLocalDownload\n\t\t\t} else {\n\t\t\t\ttry { DownloadCli } catch {\n\t\t\t\t\t"Download failed. - $($_.ToString())"\n\t\t\t\t\tDoLocalDownloadOrFail ${h.InstallExitCode.ServerDownloadFailed}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tInstallCli\n\t\t}\n\n\t\tStartCli\n\n\t\t$listeningP = @{\n\t\t\tPath = $log\n\t\t\tPattern = "Listening on .*?:([0-9]+)$"\n\t\t}\n\n\t\t$timeoutDate = (Get-Date).AddSeconds(4)\n\t\t$serverLogMsg = "Server did not start successfully. Full server log at $log >>>"\n\t\twhile ((Get-Date) -lt $timeoutDate) {\n\t\t\tif(Test-Path $log) {\n\t\t\t\t$listeningMatch = (sls @listeningP).Matches.Groups\n\t\t\t\tif($listeningMatch) {\n\t\t\t\t\t$global:port = $listeningMatch[1].Value\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\tsleep -Milliseconds 30\n\t\t}\n\n\t\tif (!$port) {\n\t\t\t$serverLogMsg\n\t\t\tcat $log\n\t\t\t"<<< End of server log"\n\t\t\tq ${h.InstallExitCode.ServerFailedToStart}\n\t\t}\n\t} catch {\n\t\t"Server failed to start. - $($_.ToString())"\n\t\t"$($_.ScriptStackTrace)"\n\t}\n\n\t# Get windows version\n\ttry {\n\t\t$global:winVersion = (gcim Win32_OperatingSystem).Version\n\t} catch {\n\t\t"Failed to find Windows version - $($_.ToString())"\n\t\t$global:winVersion = "unknown"\n\t}\n\n\tprintResult\n\n\t#\n\t# Start infinite loop, quit when orphaned (ssh connection closed)\n\t#\n\n\t"$pid, watching $sshdPID"\n\twhile ($True) {\n\t\texitIfNeeded\n\t\tsleep 30\n\t}\n}\n\n"${(0,o.getResumeLogMarker)(e)}"\nmain\n\n`;return(0,s.minifyPwsh)(y,["getSshdParentPid","exitIfNeeded","cliNameInArchiveWithoutExe","cliNameInArchve","cliNameOnDisk","cliPath","DownloadCli","InstallCli","DoLocalDownload","DoLocalDownloadOrFail","allowLocalDownload","forceLocalDownload","getStopwatch","totalDownloadTime","totalInstallTime","totalExtInstallTime","totalServerStartTime","commitId","serverRoot","quality","telemetryFlag","didLocal","gotUnpackResult","currentPID","parentPID","launchedCliPid","archPart","cliArtifactName","randomDirName","tmpDest","escapedServerDir","timeoutDate","listeningP","listeningMatch","winVersion","StartCli","printDetails","serverLogMsg"])},t.getSshdParentPid="function getSshdParentPid {\n\t$currentPID = $PID\n\twhile ($True) {\n\t\t$parentPID = (gcim win32_process | ? processid -eq $currentPID).parentprocessid\n\t\tif (!$parentPID) {\n\t\t\t\"no sshd parent proc\"\n\t\t\texit 0\n\t\t}\n\n\t\tif ((gps -Id $parentPID).Name -eq 'sshd') {\n\t\t\treturn $parentPID\n\t\t}\n\n\t\t$currentPID = $parentPID\n\t}\n}"},2480:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.execServerInstallScript=t.serverInstallScript=t.webUITokenParameter=t.ignoreWgetConfigFlag=t.ignoreCurlConfigFlag=t.loadInstallerScript=t.INSTALL_SCRIPT_FILE_MARKER_REGEX=void 0;const n=r(1017),o=r(3170),s=r(3292),i=r(2208),a=r(3725),c=r(4378),l=r(5748),h=r(9763),u=r(5260),d=r(810);async function f(e){const t=n.resolve(__dirname,"install-script","scripts",e);let r=await(0,s.readFile)(t);if(!r||!r.length)throw new Error(`Could not load script from '${t}'`);return r.toString()}function p(e){return"off"!==e?"--tries=1":""}function m(){return(0,o.useCurlAndWgetConfigurationFiles)()?" ":" --disable "}function g(){return(0,o.useCurlAndWgetConfigurationFiles)()?" ":" --no-config "}t.INSTALL_SCRIPT_FILE_MARKER_REGEX=/#<<([\w.]+)>>/g,t.loadInstallerScript=f,t.ignoreCurlConfigFlag=m,t.ignoreWgetConfigFlag=g,t.webUITokenParameter="tkn",t.serverInstallScript=function({uuid:e,quality:r,commit:n,telemetryLevel:o,extensionIds:s,basePath:f,serverDataFolderName:w,serverApplicationName:y,preventExit:S,enableWebAccess:v,lockfilesInTmp:b,useFlock:_,printVars:E,localDownload:C,portRange:T,bindHost:k,serverListenOnSocket:I}){const R=s?.map(a.sanitizeExtensionId).map((e=>`--install-extension "${e}"`)).join(" ")??"",P=f?`'${f.replace(/'/g,"")}'`:"$HOME";return`\necho "${(0,l.getScriptStartMarker)(e)}"\n\n#\n# Setup\n#\nVSC_TMP="\${XDG_RUNTIME_DIR:-\`echo /tmp\`}"\nCOMMIT_ID="${n}"\nSERVER_APP_NAME="${y}"\nEXTENSIONS="${R}"\nTELEMETRY="--telemetry-level ${o}"\nVSCODE_AGENT_FOLDER=${P}/${w}\nALLOW_CLIENT_DOWNLOAD="${"off"!==C?1:0}"\nFORCE_CLIENT_DOWNLOAD="${"always"===C?1:0}"\nnow=\`date +%s\`\n\nPORT_FLAG=${I?"":T?`--port=${T.start}-${T.end}`:"--port=0"}\n\nSERVER_LISTEN_FLAG=${I?'--socket-path="$VSC_TMP/vscode-ssh-remote-server-sock-$now"':""}\nUNPACK_RESULT=\nDID_LOCAL_DOWNLOAD=0\nDOWNLOAD_TIME=\nINSTALL_TIME=\nEXT_INSTALL_TIME=\nSERVER_START_TIME=\nCONNECTION_TOKEN=\n\nVSCH_DIR="$VSCODE_AGENT_FOLDER/bin/$COMMIT_ID"\nVSCH_SERVER_SCRIPT="$VSCH_DIR/bin/$SERVER_APP_NAME"\nVSCH_LOGFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.log"\nVSCH_PIDFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.pid"\nVSCH_TOKENFILE="$VSCODE_AGENT_FOLDER/.$COMMIT_ID.token"\n\nfail_with_exitcode() {\n\techo "${e}: start"\n\techo "exitCode==$1=="\n\techo_common_results\n\techo "${e}: end"\n\texit 0\n}\n\necho_common_results() {\n\techo "listeningOn==$LISTENING_ON=="\n\techo "osReleaseId==$OSRELEASEID=="\n\techo "arch==$ARCH=="\n\techo "vscodeArch==$VSCODE_ARCH=="\n\techo "bitness==$BITNESS=="\n\techo "tmpDir==$VSC_TMP=="\n\techo "platform==$PLATFORM=="\n\techo "unpackResult==$UNPACK_RESULT=="\n\techo "didLocalDownload==$DID_LOCAL_DOWNLOAD=="\n\techo "downloadTime==$DOWNLOAD_TIME=="\n\techo "installTime==$INSTALL_TIME=="\n\techo "extInstallTime==$EXT_INSTALL_TIME=="\n\techo "serverStartTime==$SERVER_START_TIME=="\n}\n\n\nmillis() {\n\tif [[ $PLATFORM == linux ]]; then\n\t\techo $(($(date +%s%N)/1000000))\n\telse\n\t\t# Can't get actual millis on mac\n\t\techo $(($(date +%s)*1000))\n\tfi\n}\n\nelapsed() {\n\techo $(($(millis) - $1))\n}\n\nif [[ ! -d "$VSCH_DIR" ]]; then\n\tmkdir -p "$VSCH_DIR"\n\n\tif (( $? > 0 ))\n\tthen\n\t\techo "Creating the server install dir failed..."\n\t\tfail_with_exitcode ${h.InstallExitCode.CreateInstallDirFailed}\n\tfi\nfi\n\nprintenv_indent() {\n\techo "printenv:"\n\tprintenv | sed 's/^/    /'\n}\n\n\n\n#\n# Get OS name\n#\nOSRELEASEID=\`cat /etc/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\nif [[ -z $OSRELEASEID ]]\nthen\n\tOSRELEASEID=\`cat /usr/lib/os-release 2>/dev/null | grep -a -E '^ID=' | sed 's/^[Ii][Dd]=//g' | sed 's/"//g'\`\n\tif [[ -z $OSRELEASEID ]]\n\tthen\n\t\tOSRELEASEID=\`uname -s\`\n\tfi\nfi\n\n\n#\n# Get host platform/architecture\n#\nUNAME=$(uname -s)\ncase $UNAME in\n\tLinux) PLATFORM=linux;;\n\tDarwin) PLATFORM=macOS;;\n\t*)\n\t\techo "Unsupported platform: $UNAME"\n\t\tfail_with_exitcode ${h.InstallExitCode.UnsupportedPlatform}\n\t\t;;\nesac\n\nBITNESS=$(getconf LONG_BIT)\nARCH=$(uname -m)\ncase $ARCH in\n\tx86_64) VSCODE_ARCH="x64";;\n\tarmv7l | armv8l)\n\t\tVSCODE_ARCH="armhf"\n\t\t;;\n\tarm64 | aarch64)\n\t\tif [[ $BITNESS == 32 ]]; then\n\t\t\t# Can have 32-bit userland on 64-bit kernel\n\t\t\tVSCODE_ARCH="armhf"\n\t\telse\n\t\t\tVSCODE_ARCH="arm64"\n\t\tfi\n\t\t;;\n\t*)\n\t\tOSRELEASE=$(uname -r)\n\t\tcase $OSRELEASE in\n\t\t\t*x86_64*) VSCODE_ARCH="x64";;\n\t\t\t*)\n\t\t\t\techo "Unsupported architecture: $ARCH"\n\t\t\t\tfail_with_exitcode ${h.InstallExitCode.UnsupportedArch}\n\t\t\t;;\n\t\tesac\n\t\t;;\nesac\n\nif [[ $PLATFORM == linux ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-linux-$VSCODE_ARCH\nelif [[ $VSCODE_ARCH == "arm64" ]]; then\n\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\nelse\n\tPLATFORM_DOWNLOAD_PATH=server-darwin\nfi\n\n#\n# Verify linux prereqs\n#\nif [[ $PLATFORM == linux ]]; then\n\tif [[ -f /usr/lib64/libstdc++.so.6 ]]; then\n\t\t# Typical path\n\t\tlibstdc_path='/usr/lib64/libstdc++.so.6'\n\telif [[ -f /sbin/ldconfig ]]; then\n\t\t# Look up path\n\t\tlibstdc_path=\`/sbin/ldconfig -p | grep 'libstdc++' | sed 's/^.* => '//i\`\n\telse\n\t\techo "Warning: Can't find libstdc++.so or ldconfig, can't verify libstdc++ version"\n\tfi\n\n\tif [[ ! -z $libstdc_path ]]; then\n\t\t# can't use "strings", not included by default on some distros\n\t\tfound_glibcxx=0\n\t\treqd_glibcxx=304019 # 3.4.19\n\t\tglibcxx_versions=\`cat $libstdc_path | grep -a -o -E 'GLIBCXX_[[:digit:]]+\\.[[:digit:]]+\\.([[:digit:]]+)?' | sed 's/GLIBCXX_'//gi\`\n\t\twhile read -r version; do\n\t\t\tif [[ $version =~ ([[:digit:]]+)\\.([[:digit:]]+)(\\.([[:digit:]]+))? ]]; then\n\t\t\t\tmajor="\${BASH_REMATCH[1]}"\n\t\t\t\tminor="\${BASH_REMATCH[2]}"\n\t\t\t\tpatch="\${BASH_REMATCH[4]}"\n\n\t\t\t\ttotal=$(( $major*100000 + $minor*1000 ))\n\t\t\t\tif [[ ! -z $patch ]]; then\n\t\t\t\t\ttotal=$(( $total + $patch ))\n\t\t\t\tfi\n\n\t\t\t\tif (( $total >= $reqd_glibcxx )); then\n\t\t\t\t\tfound_glibcxx=1\n\t\t\t\t\tbreak\n\t\t\t\tfi\n\t\t\tfi\n\t\tdone <<< "$glibcxx_versions"\n\n\t\tif [[ $found_glibcxx == 0 ]]; then\n\t\t\techo "Missing GLIBCXX >= 3.4.19!"\n\t\t\techo "Found versions $glibcxx_versions"\n\t\tfi\n\tfi\n\treqd_glibc=217 # 2.17\n\tfound_glibc=0\n\tldd_version=\`ldd --version | head -n1\`\n\tif [[ $ldd_version =~ ^ldd.*([[:digit:]]+)\\.([[:digit:]]+) ]]; then\n\t\tmajor="\${BASH_REMATCH[1]}"\n\t\tminor="\${BASH_REMATCH[2]}"\n\n\t\ttotal=$(( $major*100 + $minor ))\n\t\tif (( $total >= $reqd_glibc )); then\n\t\t\tfound_glibc=1\n\t\tfi\n\tfi\n\n\tif [[ $found_glibc == 0 ]]; then\n\t\techo "Missing GLIBC >= 2.17!"\n\t\techo "Found version $ldd_version"\n\tfi\n\n\tif [[ $found_glibc == 0 || $found_glibcxx == 0 ]]; then\n\t\techo '${e}$$1$$'\n\tfi\nfi\n\n#\n# Acquire install lock\n#\nMAIN_LOCKFD=99\nCLEANUP_LOCKFD=98\n${function(e,t){return`\n\n\tuse_flock=${t?"1":"0"}\n\tif [[ $PLATFORM == "macOS" ]]; then\n\t\tuse_flock=0\n\tfi\n\n\t## Copyright (C) 2009 Przemyslaw Pawelczyk <przemoc@gmail.com>\n\t## This script is licensed under the terms of the MIT license.\n\t## https://opensource.org/licenses/MIT\n\n\tget_lockfile() {\n\t\tlockfiles_in_tmp=${e?"1":"0"}\n\t\tlockfile_name=vscode-remote-lock.$USER.$1\n\t\tif [[ $lockfiles_in_tmp == "1" ]]; then\n\t\t\techo "$VSC_TMP/$lockfile_name"\n\t\telse\n\t\t\techo "$VSCODE_AGENT_FOLDER/bin/$1/$lockfile_name"\n\t\tfi\n\t}\n\n\t# PRIVATE\n\t_lock() { flock -$1 $2; }\n\n\t_no_more_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $2\n\t\t\t_lock xn $2 && rm -f $(get_lockfile $1)\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $1)\n\t\t\trm -f "$lockfile_name"\n\t\t\trm -f "$lockfile_name.target"\n\t\tfi\n\t}\n\n\t# PUBLIC - all take lock FD\n\n\tsetup_locking() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\teval "exec $2>\\"$(get_lockfile $1)\\"";\n\t\t\ttrap "_no_more_locking $1 $2" EXIT\n\t\tfi\n\t}\n\n\tsetup_lock_cleanup()  {\n\t\tif [[ $use_flock == "0" ]]; then\n\t\t\ttrap "_no_more_locking $1" EXIT\n\t\tfi\n\t}\n\n\t# obtain an exclusive lock immediately or fail\n\texlock_now() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock xn $1\n\t\telse\n\t\t\tlockfile_name=$(get_lockfile $2)\n\t\t\ttouch "$lockfile_name.target"\n\t\t\techo \\\\ln \\"$lockfile_name.target\\" \\"$lockfile_name\\"\n\t\t\t\\ln "$lockfile_name.target" "$lockfile_name"\n\t\tfi\n\t}\n\n\t# drop a lock\n\tunlock() {\n\t\tif [[ $use_flock == "1" ]]; then\n\t\t\t_lock u $1\n\t\telse\n\t\t\t_no_more_locking $2\n\t\tfi\n\t}\n`}(b,_)}\nsetup_locking $COMMIT_ID $MAIN_LOCKFD\n\necho "Acquiring lock on \`get_lockfile $COMMIT_ID\`"\nexlock_now $MAIN_LOCKFD $COMMIT_ID\nif (( $? > 0 ))\nthen\n\techo "Installation already in progress..."\n\techo "If you continue to see this message, you can try toggling the remote.SSH.useFlock setting"\n\tfail_with_exitcode ${h.InstallExitCode.AlreadyInProgress}\nfi\n\nsetup_lock_cleanup $COMMIT_ID $MAIN_LOCKFD\n\n#\n# Delete old servers if needed\n#\nTO_DELETE=$(ls -1 -t "$VSCODE_AGENT_FOLDER/bin" | tail -n +6)\nfor COMMIT_TO_DELETE in $TO_DELETE; do\n\techo "Found old VS Code install $COMMIT_TO_DELETE, attempting to clean up"\n\n\tsetup_locking $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\texlock_now $CLEANUP_LOCKFD $COMMIT_TO_DELETE\n\tif (( $? == 0 )); then\n\t\tsetup_lock_cleanup $COMMIT_TO_DELETE $CLEANUP_LOCKFD\n\t\tRUNNING="\`ps ax | grep $COMMIT_TO_DELETE | grep -v grep | wc -l | tr -d '[:space:]'\`"\n\t\tif [[ $RUNNING == 0 ]]; then\n\t\t\techo "Deleting old install from $VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE"\n\t\t\trm -rf "$VSCODE_AGENT_FOLDER/bin/$COMMIT_TO_DELETE"\n\n\t\t\techo "Deleting old log file from $VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log"\n\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.log"\n\t\t\tif [[ -f "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid" ]]; then\n\t\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.pid"\n\t\t\tfi\n\t\t\tif [[ -f "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token" ]]; then\n\t\t\t\trm "$VSCODE_AGENT_FOLDER/.$COMMIT_TO_DELETE.token"\n\t\t\tfi\n\t\telse\n\t\t\techo "Install still has running processes, not deleting: $COMMIT_TO_DELETE"\n\t\tfi\n\telse\n\t\techo "Failed to acquire lock for install, not deleting: $COMMIT_TO_DELETE"\n\tfi\ndone\n\ndo_client_download() {\n\tDID_LOCAL_DOWNLOAD=1\n\techo "Trigger local server download"\n\techo ${(0,d.getDownloadServerStartTrigger)(e)}\n\techo artifact==$PLATFORM_DOWNLOAD_PATH==\n\techo destFolder==$VSCODE_AGENT_FOLDER/bin/==\n\techo destFolder2==$COMMIT_ID/vscode-server.tar.gz==\n\techo ${(0,d.getDownloadServerEndTrigger)(e)}\n\techo "Waiting for client to transfer server archive..."\n\techo "Waiting for $VSCH_DIR/vscode-server.tar.gz.done and vscode-server.tar.gz to exist"\n\n\twhile true; do\n\t\tif [[ -f "$VSCH_DIR/vscode-server.tar.gz.done" ]]; then\n\t\t\tif [[ ! -f "$VSCH_DIR/vscode-server.tar.gz" ]]; then\n\t\t\t\techo "Found flag but not server tar - server transfer failed"\n\t\t\t\tfail_with_exitcode ${h.InstallExitCode.ServerTransferFailed}\n\t\t\tfi\n\n\t\t\techo "Found flag and server on host"\n\t\t\trm "$VSCH_DIR/vscode-server.tar.gz.done"\n\t\t\tbreak\n\t\telse\n\t\t\techo -n ' '\n\t\t\tsleep 3\n\t\tfi\n\tdone\n}\n\ndo_client_download_or_fail() {\n\tif [[ $DID_LOCAL_DOWNLOAD == "1" ]]; then\n\t\techo "Already attempted local download, failing"\n\t\tfail_with_exitcode $1\n\telif [[ $ALLOW_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\t\tLOCAL_DOWNLOAD_RESULT=success\n\telse\n\t\tfail_with_exitcode $1\n\tfi\n}\n\ndo_host_download() {\n\tstart=$(millis)\n\techo '${(0,u.getProgressOutputString)(e,1)}'\n\n\tif [[ $PLATFORM == linux ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-linux-legacy-$VSCODE_ARCH\n\telif [[ $VSCODE_ARCH == "arm64" ]]; then\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin-arm64\n\telse\n\t\tPLATFORM_DOWNLOAD_PATH=server-darwin\n\tfi\n\n\tDOWNLOAD_URL=https://update.code.visualstudio.com/commit:$COMMIT_ID/$PLATFORM_DOWNLOAD_PATH${v?"-web":""}/${r}\n\n\twget --version &> /dev/null\n\tif (( $? == 0 ))\n\tthen\n\t\techo "Downloading with wget"\n\t\tWGET_ERRORS=$(2>&1 wget${g()}${p(C)} --connect-timeout=7 --dns-timeout=7 -nv -O vscode-server.tar.gz $DOWNLOAD_URL)\n\t\tif (( $? != 0 ))\n\t\tthen\n\t\t\techo "wget download failed"\n\t\t\techo $WGET_ERRORS\n\t\t\tprintenv_indent\n\n\t\t\tdo_client_download_or_fail ${h.InstallExitCode.ServerDownloadFailed}\n\t\telse\n\t\t\techo "Download complete"\n\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\techo "Downloading with curl"\n\t\t\tCURL_OUTPUT=$(curl${m()}--connect-timeout 7 -L $DOWNLOAD_URL --output vscode-server.tar.gz -w "%{http_code}")\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != 2??) ]]\n\t\t\tthen\n\t\t\t\techo "curl download failed"\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tprintenv_indent\n\n\t\t\t\tdo_client_download_or_fail ${h.InstallExitCode.ServerDownloadFailed}\n\t\t\telse\n\t\t\t\techo "Download complete"\n\t\t\t\tDOWNLOAD_TIME=$(elapsed $start)\n\t\t\tfi\n\t\telse\n\t\t\tprintenv_indent\n\t\t\techo "Neither wget nor curl is installed"\n\n\t\t\tdo_client_download_or_fail ${h.InstallExitCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\n}\n\ndo_install() {\n\tstart=$(millis)\n\techo '${(0,u.getProgressOutputString)(e,2)}'\n\tUNPACK_RESULT=${h.InstallUnpackCode.Success}\n\techo 'tar --version:'\n\ttar --version\n\ttar -xf vscode-server.tar.gz --no-same-owner\n\tTAR_EXIT=$?\n\tINSTALL_TIME=$(elapsed $start)\n\n\tif (( $TAR_EXIT > 0 ))\n\tthen\n\t\techo "ERROR: tar exited with non-0 exit code: $?"\n\t\tUNPACK_RESULT=${h.InstallUnpackCode.Error}\n\t\tdo_client_download_or_fail ${h.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\tmv vscode-server*/* .\n\n\t# cheap sanity check\n\tif [[ ! -f "$VSCH_DIR/node" || ! -f "$VSCH_SERVER_SCRIPT" ]]\n\tthen\n\t\tUNPACK_RESULT=${h.InstallUnpackCode.MissingFiles}\n\t\techo "ERROR: $VSCH_DIR/node or $VSCH_SERVER_SCRIPT don't exist"\n\t\tdo_client_download_or_fail ${h.InstallExitCode.UnpackFailed}\n\t\tdo_install\n\t\treturn\n\tfi\n\n\t# Delete the leftover folder which might have -web prefix, and the .tar.gz\n\trm -rf vscode-server*\n}\n\ndo_extension_install() {\n\t# install extensions\n\tif [[ ! -z $EXTENSIONS ]]\n\tthen\n\t\techo "Installing extensions..."\n\t\tstart=$(millis)\n\t\t"$VSCH_SERVER_SCRIPT" $TELEMETRY $EXTENSIONS\n\t\tEXT_INSTALL_TIME=$(elapsed $start)\n\tfi\n}\n\n#\n# Install if needed\n#\nif [[ ! -f "$VSCH_SERVER_SCRIPT" ]]\nthen\n\techo "Installing to $VSCH_DIR..."\n\tSTASHED_WORKING_DIR="\`pwd\`"\n\tcd "$VSCH_DIR"\n\n\tif [[ $FORCE_CLIENT_DOWNLOAD == "1" ]]; then\n\t\tdo_client_download\n\telse\n\t\tdo_host_download\n\tfi\n\n\tdo_install\n\tcd "$STASHED_WORKING_DIR"\nelse\n\techo "Found existing installation at $VSCH_DIR..."\nfi\n\n\n#\n# Generate a new connection token\n#\nwrite_connection_token() {\n\trm "$VSCH_TOKENFILE"\n\tCONNECTION_TOKEN="${(0,c.generateUuid)()}"\n\ttouch "$VSCH_TOKENFILE"\n\tchmod 0700 "$VSCH_TOKENFILE"\n\techo $CONNECTION_TOKEN > "$VSCH_TOKENFILE"\n}\n\n#\n# Start the server\n#\nstart_server() {\n\techo "Starting VS Code Server... \\"$VSCH_SERVER_SCRIPT\\" --start-server --server-data-dir \\"$VSCODE_AGENT_FOLDER\\" --host=${k} --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS &> \\"$VSCH_LOGFILE\\" < /dev/null"\n\techo "The VS Code Server log file is $VSCH_LOGFILE"\n\tprintenv_indent\n\tstart=$(millis)\n\twrite_connection_token\n\tif [[ -f $VSCH_LOGFILE ]]; then\n\t\techo "Removing old logfile at $VSCH_LOGFILE"\n\t\trm "$VSCH_LOGFILE" # See #6265\n\tfi\n\t"$VSCH_SERVER_SCRIPT" --start-server --server-data-dir "$VSCODE_AGENT_FOLDER" --host=${k} --accept-server-license-terms --enable-remote-auto-shutdown $PORT_FLAG $TELEMETRY $SERVER_LISTEN_FLAG $EXTENSIONS --connection-token-file "$VSCH_TOKENFILE" &> "$VSCH_LOGFILE" < /dev/null &\n\techo $! > "$VSCH_PIDFILE"\n\techo "Spawned remote server: $!"\n\n\tstopTime=$((SECONDS+15))\n\n\twhile (($SECONDS < $stopTime))\n\tdo\n\t\tLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\n\t\tif [[ $LISTENING_ON != '' ]]\n\t\tthen\n\t\t\tbreak\n\t\tfi\n\n\t\techo "Waiting for server log..."\n\t\tsleep .03\n\tdone\n\n\tSERVER_START_TIME=$(elapsed $start)\n}\n\necho "Checking $VSCH_LOGFILE and $VSCH_PIDFILE for a running server"\nif [[ -f "$VSCH_PIDFILE" ]]; then\n\tSERVER_PID=\`cat "$VSCH_PIDFILE"\`\n\techo "Looking for server with pid: $SERVER_PID"\n\tALL_PROCS=\`ps ax | grep "^\\s*$SERVER_PID\\s"\`\nelse\n\tALL_PROCS=\`ps ax\`\nfi\n\nRUNNING="\`echo $ALL_PROCS | grep "$VSCH_SERVER_SCRIPT" | grep -v grep | wc -l | tr -d '[:space:]'\`"\nif [[ $RUNNING == 0 ]]; then\n\tstart_server\nelif [[ ! -f "$VSCH_LOGFILE" ]]; then\n\techo "WARNING: VS Code Server is running but its logfile is missing. Don't delete the VS Code Server manually, run the command 'Uninstall VS Code Server'."\n\tstart_server\nelse\n\techo "Found running server..."\n\tdo_extension_install\n\tif [[ -f "$VSCH_TOKENFILE" ]]; then\n\t\tCONNECTION_TOKEN=\`cat "$VSCH_TOKENFILE"\`\n\tfi\nfi\n\necho " "\n${i.serverLicense.map((e=>`echo "${e}"`)).join("\n")}\necho " "\n\nLISTENING_ON=\`cat "$VSCH_LOGFILE" | grep -a -E 'Extension host agent listening on .+' | grep -v grep | sed 's/Extension host agent listening on //'\`\nWEBUITOKEN=\`cat "$VSCH_LOGFILE" | grep -a -E 'Web UI available at' | grep -o -E '${t.webUITokenParameter}=[0-9a-f-]+' | grep -o -E '[0-9a-f-]+'\`\nif [[ -z $LISTENING_ON ]]\nthen\n\techo "Server did not start successfully. Full server log at $VSCH_LOGFILE >>>"\n\tcat "$VSCH_LOGFILE"\n\techo "<<< End of server log"\n\tfail_with_exitcode ${h.InstallExitCode.ServerFailedToStart}\nfi\n\n#\n# If the server was already running, ensure that it won't shut down in the near future\n#\nif [[ $RUNNING != 0 ]]; then\n\t# In case the server is close to timing out and shutting down, ask it to delay shutdown\n\n\twget --version &> /dev/null\n\tif [[ $? == 0 && $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\tthen\n\t\techo "Checking server status on port $LISTENING_ON with wget"\n\t\tWGET_OUT=$(wget${g()}--no-proxy -nv -O - http://${k}:$LISTENING_ON/delay-shutdown 2>&1)\n\t\tif [[ $? != 0 ]]; then\n\t\t\techo $WGET_OUT\n\t\t\tfail_with_exitcode ${h.InstallExitCode.StatusCheckFailed}\n\t\tfi\n\telse\n\t\tcurl --version &> /dev/null\n\t\tif (( $? == 0 ))\n\t\tthen\n\t\t\tif [[ $LISTENING_ON =~ (^[[:digit:]]+$) ]]\n\t\t\tthen\n\t\t\t\techo "Checking server status on port $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl${m()}--noproxy ${k} -s http://${k}:$LISTENING_ON/delay-shutdown -w " %{http_code}")\n\t\t\telse\n\t\t\t\techo "Checking server status on socket $LISTENING_ON with curl"\n\t\t\t\tCURL_OUTPUT=$(curl${m()}--noproxy ${k} -s --unix-socket $LISTENING_ON http://${k}/delay-shutdown -w " %{http_code}")\n\t\t\tfi\n\n\t\t\tif [[ ($? != 0) || ($CURL_OUTPUT != "OK 200") ]]; then\n\t\t\t\techo $CURL_OUTPUT\n\t\t\t\tfail_with_exitcode ${h.InstallExitCode.StatusCheckFailed}\n\t\t\tfi\n\t\telse\n\t\t\techo "Neither wget nor curl is installed"\n\t\t\tfail_with_exitcode ${h.InstallExitCode.NoDownloaderAvailable}\n\t\tfi\n\tfi\nfi\n\n\n# What we echo below cannot be wider than 80 characters\necho "${e}: start"\n${E.map((e=>`echo ${e}==$${e}==`)).join("\n")}\necho "webUiAccessToken==$WEBUITOKEN=="\necho_common_results\necho "connectionToken==$CONNECTION_TOKEN=="\necho "${e}: end"\n\nunlock $MAIN_LOCKFD $COMMIT_ID\n\n${S?"while true; do sleep 180; echo -n ' '; done":""}\n`},t.execServerInstallScript=async function(e,r){const{basePath:n,portRange:o,serverListenOnSocket:s,bindHost:i}=r,c="linux-exec-server-installer.sh",w=await f(c);if(!w)throw new Error(`Could not find templated script ${c}`);const y=n?`${n.replace(/'/g,"")}`:"$HOME",S=s?"--on-socket":`--on-host=${i} `+(o?`--on-port=${o.start} --on-port=${o.end}`:"--on-port"),v={...Object.fromEntries(Object.entries(h.InstallExitCode).map((([e,t])=>[`InstallExitCode.${e}`,`${t}`]))),...Object.fromEntries(Object.entries(h.InstallUnpackCode).map((([e,t])=>[`InstallUnpackCode.${e}`,`${t}`]))),uuid:r.uuid,startMarker:(0,l.getScriptStartMarker)(r.uuid),commitId:r.commit,quality:r.quality,token:r.token,vscodeAgentFolder:`${y}/${r.serverDataFolderName}`,allowClientDownload:"off"!==r.localDownload?"1":"0",forceClientDownload:"always"===r.localDownload?"1":"0",cliNameInArchive:"stable"===r.quality?"code":"code-insiders",ignoreWgetConfigFlag:g(),ignoreCurlConfigFlag:m(),wgetTriesSegment:p(r.localDownload),listenArgs:S,getDownloadServerStartTrigger:(0,d.getDownloadServerStartTrigger)(r.uuid),getDownloadServerEndTrigger:(0,d.getDownloadServerEndTrigger)(r.uuid),getProgressDownloading:(0,u.getProgressOutputString)(r.uuid,1),getProgressInstalling:(0,u.getProgressOutputString)(r.uuid,2)};return e.debug(`Script variables:\n ${JSON.stringify((0,a.sanitizeCopyofScriptVars)(v),void 0,2)}`),w.replace(t.INSTALL_SCRIPT_FILE_MARKER_REGEX,((e,t)=>v[t]))}},810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.downloadAndCopyToHost=t.getScpFlag=t.getDownloadServerEndTrigger=t.getDownloadServerStartTrigger=void 0;const n=r(7147),o=r(1017),s=r(3837),i=r(9496),a=r(9763),c=r(7174),l=r(6737),h=r(8286),u=r(8904),d=r(463),f=s.promisify(n.exists),p=s.promisify(n.rename),m=s.promisify(n.mkdir);t.getDownloadServerStartTrigger=function(e){return`${e}:trigger_server_download`},t.getDownloadServerEndTrigger=function(e){return`${e}:trigger_server_download_end`},t.getScpFlag=async function(e){const t=e+".done";return await f(t)||await s.promisify(n.writeFile)(t,"finished\n"),o.basename(t)},t.downloadAndCopyToHost=async function(e,t,r,n){const s=e.deps;s.logger.debug(`Got request to download on client for ${JSON.stringify(n)}`);const g=function(e,t){return`https://update.code.visualstudio.com/commit:${t.commit}/${e.artifact}/${t.quality}`}(n,await(0,u.getProductInfo)());s.logger.debug(`server download URL: ${g}`);const w=n.destPath.split(/[\\/]/).pop();s.progress.report({message:i.l10n.t("Downloading VS Code Server locally")}),s.timer.mark(5);const y=await async function(e,t,r){try{r.debug("Downloading VS Code server locally...");const n=await i.commands.executeCommand("_workbench.downloadResource",i.Uri.parse(e));if(!n)throw new Error(i.l10n.t("Failed to download VS Code Server locally"));r.debug("Downloaded VS Code server to "+n.fsPath);const s=o.join(o.dirname(n.fsPath),`vscode_server_${Date.now()}`),a=o.join(s,t);return await f(s)||await m(s),await p(n.fsPath,a),r.debug("Renamed VS Code server to "+a),a}catch(e){throw a.SshResolverError.Create(a.SshResolverFailureReason.LocalDownloadFailed,i.l10n.t("Failed to download VS Code Server ({0})",(0,d.ensureError)(e).message))}}(g,w,s.logger);s.timer.mark(6),s.logger.debug(`Preparing to scp to host ${e.host.hostName}${e.host.port?`:${e.host.port}`:""}`);const S=await(0,c.generateScpCommand)(y,e.host,n.destPath,s.logger);s.progress.report({message:i.l10n.t("Copying VS Code Server to host with scp")}),s.logger.debug(`Copying file to remote with ${S}`);try{s.timer.mark(7),await(0,l.runSshTerminalCommandWithLogin)(e,{systemInteractor:t,command:S,cwd:o.dirname(y),nickname:"Copy server to host",revealTerminal:r}),s.timer.mark(8)}catch(e){if(e instanceof h.CanceledError)throw a.SshResolverError.Canceled();throw e}}},5806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleRequestWithInteractors=t.killCurrentRemoteServer=t.tryInstallWithLocalServer=t.resolveWithLocalServer=void 0;const n=r(578),o=r(1808),s=r(2037),i=r(1017),a=r(9496),c=r(1531),l=r(3170),h=r(9763),u=r(810),d=r(4938),f=r(6723),p=r(7674),m=r(415),g=r(6737),w=r(8691),y=r(36),S=r(8286),v=r(9759),b=r(2386),_=r(132),E=r(3725),C=r(364);async function T(e,t){const r=e.deps,o=await function(e,t,r){const o=setTimeout((()=>{t.report({message:a.l10n.t("Waiting for other windows to connect")})}),1e3),c=function(e){return i.join(s.tmpdir(),`vscode-remote-ssh-${b.HostInfo.toPathString(e)}-install.lock`)}(e);return r.debug("Acquiring local install lock: "+c),new Promise(((e,t)=>{n.lock(c,{retries:240,retryWait:500,stale:24e4},(r=>{if(clearTimeout(o),r)return t(h.SshResolverError.Create(h.SshResolverFailureReason.LocalLockTimeout,"Timed out while waiting for the local startup lock"));e(c)}))}))}(e.host,r.progress,r.logger);let c;try{c=await t()}finally{await function(e,t){return new Promise((r=>{n.unlock(e,(n=>{n&&t.debug(`Failed to unlock ${e}: ${n.message}`),r()}))}))}(o,r.logger)}return c}function k(e){return`auth-prompt-${e.toString()}`}async function I(e,t){const{logger:r}=e.deps,n=function(e,t){const r=k(e.host),n=t.get(r);function o(){throw new Error("Invalid interwindow prompt data: "+n)}if(n){let t;e.deps.logger.debug("Found password prompt in other window: "+n);try{return t=JSON.parse(n),"string"==typeof t.ipcHandlePath&&t.promptMsg&&"string"==typeof t.promptMsg.message||o(),t}catch(e){o()}}return null}(e,t);if(n)return(0,v.withCancellationTokenSource)((async s=>{(async function(e,t,r){const n=k(e.host);let o;for(;!r.isCancellationRequested&&(o=t.get(n));)await(0,S.sleep)(1e3);o||e.deps.logger.debug("Detected password prompt handled in another window")})(e,t,s.token).then((()=>{s.cancel()}));try{const t=await $(e,n.promptMsg,s.token);t?(r.debug("Sending user response to primary window"),o.connect(n.ipcHandlePath).end(t.userResponse)):r.debug("User canceled prompt")}catch(e){if(!(e instanceof S.CanceledError))throw e}}))}const R=new Map,P=e=>`${e.host}-${e.useExecServer}`;t.resolveWithLocalServer=async function(e,t,r){const n=e.deps,o=P(e);R.get(o)?.dispose(),R.delete(o);const s=e.isReconnection?Date.now():void 0;let i=!0;const a=setTimeout((async()=>{for(e.deps.logger.debug("Starting to look for password prompt from another window");i;)await I(e,r),await(0,S.sleep)(1e3)}),1500);return await T(e,(async()=>{i=!1,clearTimeout(a);const c=await(0,d.findRunningServer)(e,s);if(c){const t=!!await(0,w.getConfigurationForHost)(e.host);return n.logger.debug("Found running server - short-circuiting install"),R.set(o,new d.LocalServerConnection(c,n.logger)),{retries:1,execServer:c.execServerToken?{token:c.execServerToken}:void 0,installScriptResult:{serverConfiguration:c},usedAuthMethods:new Set,newSocksPort:c.socksPort,remoteInConfigFile:t}}return await(0,m.installServer)(e,C.defaultSystemInteractor,t,r)})).finally((()=>i=!1))};const x=new Map;async function A(e,t,r,n){const s=e.deps,i=await(0,_.getIPCHandlePath)("askpass"),a=k(e.host);let c;return new Promise(((e,l)=>{c=o.createServer((t=>{let r="";t.on("data",(e=>{r+=e.toString()})),t.on("end",(()=>{s.logger.debug("Got password from another window"),e({userResponse:r,usedInteractors:new Set})}))})).listen(i,(()=>{s.logger.debug("Listening for interwindow password on "+i),s.logger.debug("Writing password prompt to globalState"),r.update(a,JSON.stringify({ipcHandlePath:i,promptMsg:t}))})),c.on("error",(e=>{const t="Failed to start interwindow auth prompt server: "+e.message;s.logger.error(t),l(new Error(t))})),n.onCancellationRequested((()=>{l(new S.CanceledError)}))})).finally((()=>{s.logger.debug("Cleaning up other-window auth server"),O(e.host,r),c.close()}))}function O(e,t){const r=k(e);t.update(r,"")}async function $(e,t,r){const{logger:n}=e.deps,o=new Set,s=function(e){const t=e.deps.logger;return[new c.FingerprintInteractor(e,g.showHostKeyConfirmation),new c.PassphraseInteractor(g.showPassphraseInputBox,t),new c.DifferingHostKeyInteractor(g.showDifferingHostConfirmation,t),new c.PasswordInteractor(g.showPasswordInputBox,t),new c.TwoFacInteractor(g.showVerificationCodeInputBox,t),new c.DuoTwoFacInteractor(g.showVerificationCodeInputBox,t),new f.UnrecognizedRequestInteractor]}(e);for(const e of s){const s=await e.onData(t.message,r,{detail:t.detail,detectedServerKey:t.detectedServerKey});if(s.canceled)return void n.debug("Interactor signaled cancel");if("consume"===s.postAction){o.add(e.id);const t=s.isPassword?s.response.replace(/./g,"*"):s.response;return n.debug("Interactor gave response: "+t),{userResponse:s.response,usedInteractors:o}}}}t.tryInstallWithLocalServer=async function e(t,{systemInteractor:r,linuxInstallScript:n,windowsInstallScript:o,socksPort:s,revealTerminalEvent:i,usedAuthMethods:f,marker:m,globalState:g,platform:w}){const S=t.deps,b=(0,c.getInstallScriptOutputInteractor)(m),_=(0,c.getServerErrorLogOutputInteractor)(),C=(0,c.getDownloadRequestInteractor)(m,S.logger),T=await(0,y.getPrereqsWarningInteractor)(m),k=new c.RemoteServerProgressInteractor(m,S.progress);let I;if("number"!=typeof s)throw new Error("Need socksPort defined to use local server");i((()=>{S.logger.showLog()})),O(t.host,g);const D=new c.ComposedInteractor([_.interactor,b.interactor,C.interactor,T,k]),L=await d.LocalServerManager.create(t,{socksPort:s,marker:m,interactor:D,usedInteractors:f,platform:w,authRequestHandler:(e,t,r)=>async function(e,t,r,n){return(0,v.withCancellationTokenSource)((o=>(r.onCancellationRequested((()=>{o.cancel()})),Promise.race([$(e,t,o.token),A(e,t,n,o.token)]).finally((()=>{o.cancel()})))))}(e,t,r,g)});x.set(P(t),L),I=L.connect(n,o);const F=C.result.then((async e=>{await(0,u.downloadAndCopyToHost)(t,r,void 0,e)}));let N,B=Promise.race([b.result,I]);_.result.then((e=>{N=e}));try{await Promise.race([B,F])}catch(e){throw L.terminate(),e}let M=await B;if("string"!=typeof M&&!M)throw h.SshResolverError.Create(h.SshResolverFailureReason.BadInstallScriptResult,"Got bad result from install script");S.logger.debug(`Received install output: ${(0,E.sanitizeInstallScriptOutput)(M)}`);try{const e=(0,h.handleInstallOutput)(t,M,N);return e?(e.serverConfiguration.platform=L.platform,(0,y.logInstallScriptResult)(e,S.logger),await L.persistConnectionDetails(e.serverConfiguration,s)&&R.set(P(t),new d.LocalServerManagerConnection(L)),e):(L.terminate(),null)}catch(c){if(L.terminate(),c instanceof h.SshResolverError&&c.failureReason===h.SshResolverFailureReason.SendDisconnectBrokenPipe&&!w){S.logger.debug("Error connecting, prompting to select platform. Issue related to remote-release issue #7272, temporary workaround due to OpenSSH regression.");const a=await(0,l.interactivelyPickSshPlatform)(`Error connecting, please select the platform of the remote host: "${t.host}"`);if(!a)throw S.logger.debug("Interactively Pick SSH Platform was canceled."),c;const h=await e(t,{systemInteractor:r,globalState:g,linuxInstallScript:n,windowsInstallScript:o,socksPort:s,marker:m,revealTerminalEvent:i,usedAuthMethods:f,platform:a});return h&&(h.storePlatform=!0),h}if(c instanceof h.SshResolverError&&c.failureReason===h.SshResolverFailureReason.ShellRequestFailedOnChannel&&!w){S.progress.report({message:a.l10n.t("Detected Windows host, need to reconnect")}),S.logger.debug("Detected Windows OpenSSH 7.9+ host, issue #2475. Reconnecting as Windows host.");const c=await e(t,{systemInteractor:r,globalState:g,linuxInstallScript:n,windowsInstallScript:o,socksPort:s,marker:m,revealTerminalEvent:i,usedAuthMethods:f,platform:p.Platform.Windows});return c&&(c.storePlatform=!0),c}throw c}},t.killCurrentRemoteServer=async function(e){let t=!1;for(const r of x.values())t=await r.killRemote(e)||t;return t},t.handleRequestWithInteractors=$},4938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killLocalServer=t.LocalServerManager=t.LocalServerManagerConnection=t.LocalServerConnection=t.findRunningServer=void 0;const n=r(2081),o=r(7147),s=r(1017),i=r(3837),a=r(3170),c=r(5748),l=r(9763),h=r(8049),u=r(6723),d=r(7674),f=r(7174),p=r(7475),m=r(2386),g=r(9783),w=r(132),y=r(5238),S=r(4460),v=r(8904),b=r(3725),_=i.promisify(o.readFile),E=i.promisify(o.exists);async function C(e){const t=e.useExecServer?"es":"tr";return s.join(e.deps.serverDataPath,await async function(e){const t=(0,p.getPackageJson)().version,r=await(0,v.getProductInfo)();return`vscode-ssh-host-${m.HostInfo.toPathString(e)}-${r.commit}-${t}`}(e.host)+"-"+t,h.dataFileName)}async function T(e,t){try{const r=await(0,g.httpGet)(void 0,{socketPath:e,path:"/delay-shutdown"},t);return"OK"===r||t.debug("Got unexpected result from running connection server: "+r),!0}catch(e){return t.debug("Server delay-shutdown request failed: "+e.message),!1}}async function k(e,t){const r=e.deps.logger,n=await async function(e){const t=await C(e);if(e.deps.logger.debug("Looking for existing server data file at "+t),await E(t)){const r=(await _(t)).toString();try{const t=JSON.parse(r);return e.deps.logger.debug("Found existing data file"),t}catch(t){return void e.deps.logger.info("Found data file but it has bad contents: "+r)}}e.deps.logger.debug("No existing data file")}(e);if(!n)return;const o={...n,connectionToken:n.connectionToken&&(0,b.sanitizeConnectionToken)(n.connectionToken)};if(r.debug(`Found local server running: ${JSON.stringify(o)}`),!(t&&n.startupTime+2e3<t))return await T(n.ipcHandlePath,r)?n:void r.debug("Existing server's health check failed, will start a new one");r.debug("Running server is stale. Ignoring")}t.findRunningServer=k,t.LocalServerConnection=class{constructor(e,t){this.serverKeepaliveTimer=x(e.ipcHandlePath,t)}dispose(){clearInterval(this.serverKeepaliveTimer)}},t.LocalServerManagerConnection=class{constructor(e){this.manager=e}dispose(){this.manager.disconnect()}};class I{constructor(e){this.interactor=e,this.stdout="",this.onDataQ=Promise.resolve()}async onData(e){return this.onDataQ=this.onDataQ.finally((()=>this._onData(e)))}async _onData(e){this.stdout+=e,"consume"===(await this.interactor.onData(this.stdout)).postAction&&(this.stdout="")}}var R;!function(e){e[e.Initial=0]="Initial",e[e.Connecting=1]="Connecting",e[e.Running=2]="Running",e[e.Connected=3]="Connected",e[e.Terminated=4]="Terminated"}(R||(R={}));class P{constructor(e,t,r,n,o){this.params=e,this.child=t,this.args=r,this.ipcHandlePath=n,this.askpass=o,this.startupTime=Date.now(),this.sshOutput="",this.stdout="",this.stderr="",this.stdoutHandler=async e=>{const t=(0,b.stripTrailingNewline)(e.toString()),r=(0,b.markLines)((0,b.sanitizeInstallScriptOutput)(t));if(this.deps.logger.debug(r),this.updateSshOutput((0,b.splitLines)(t)),this.stdout+=t,this.commandOutputMatcher&&await this.commandOutputMatcher({stdout:this.stdout}))return this.commandOutputMatcher=void 0,void(this.stdout="");this.state===R.Connecting&&t.includes((0,c.getScriptStartMarker)(this.args.marker))&&(this.params.deps.timer.mark(2),this.state=R.Running),this.interactorBuffer.onData(t)},this.stderrHandler=async e=>{const t=(0,b.stripTrailingNewline)(e.toString()),r=this.parseStderrLines(t);this.updateSshOutput(r.filter((e=>"trace"!==e.type)).map((e=>e.text))),this.stderr+=t,this.commandOutputMatcher&&this.commandOutputMatcher({stderr:this.stderr})?this.stderr="":r.forEach((e=>{this.parseAuthRequestDetail(e.text),"trace"===(e={text:(0,b.markLine)(e.text,"stderr"),type:e.type}).type?this.deps.logger.trace(e.text):this.deps.logger.info(e.text),(0,l.detectPortForwardingDisabledAndWarn)(e.text,this.deps.logger)}))},this.deps=this.params.deps,this.state=R.Initial,this.interactorBuffer=new I(this.args.interactor),this.askpass?.setAuthRequestHandler(this.askpassAuthRequestHandler.bind(this))}get platform(){return this._platform}static async create(e,t){const r=e.deps,{socksPort:o}=t,i="number"==typeof o?["-D",String(o)]:void 0,{serverDataFolderName:c}=await(0,v.getProductInfo)(),l=t.platform===d.Platform.Windows?"powershell":t.platform===d.Platform.Linux||t.platform===d.Platform.MacOS?"bash":void 0,h={serverId:P.NEXT_SERVER_ID++,ipcHandlePath:await(0,w.getIPCHandlePath)("askpass"),sshCommand:await(0,f.getSshCommandPath)(r.logger),sshArgs:["-v",...await(0,f.getSshConnectionArgs)(e,{cmdSegment:i,allowPortForward:!0,allowRemoteCommand:void 0===l}),...l?[l]:[]],serverDataFolderName:c,dataFilePath:e.deps.serverDataPath?await C(e):void 0};let p,m;void 0!==process.env.SSH_ASKPASS&&(0,a.externalSshAskpass)()||(p=new u.Askpass(e),m=await p.getEnv()),r.logger.debug(`Spawning local server with ${JSON.stringify(h)}`),r.logger.debug(`Local server env: ${JSON.stringify({SSH_AUTH_SOCK:process.env.SSH_AUTH_SOCK,SHELL:process.env.SHELL,...m})}`),r.timer.mark(1);const g=n.spawn(process.execPath,[s.join(__dirname,"localServer.js"),JSON.stringify(h)],{detached:!0,stdio:"pipe",env:{...process.env,...m}});return g.unref(),r.logger.debug("Spawned "+g.pid),new P(e,g,t,h.ipcHandlePath,p)}async askpassAuthRequestHandler(e,t,r){const n={message:t,detail:this.authRequestDetail,detectedServerKey:this.serverKey},o=await this.args.authRequestHandler(e,n,r);return o&&(this.serverKey=void 0),o}connect(e,t){return this.state=R.Connecting,this.keepaliveTimer=setTimeout((()=>{this.keepaliveTimer=x(this.ipcHandlePath,this.deps.logger)}),500),new Promise((async(r,n)=>{const o=()=>setTimeout((()=>{this.state===R.Connecting&&(n(l.SshResolverError.Timeout("Connecting with SSH timed out")),this.terminate())}),(0,a.connectTimeoutMilliseconds)(this.params.host,this.deps.logger));let s=o();const i=this.askpass?.onAuthRequestReceived((()=>{clearTimeout(s)})),c=this.askpass?.onAuthRequestHandled((()=>{s=o()}));this.child.on("exit",(e=>{this.state=R.Terminated,this.deps.logger.debug(`Local server exit: ${e}`),r(this.sshOutput),this.cleanup()})),this.child.stdout.on("data",this.stdoutHandler),this.child.stderr.on("data",this.stderrHandler);try{await this._checkPlatformAndRunScript(e,t)}catch(e){n(e)}finally{i?.dispose(),c?.dispose()}})).finally((()=>{setTimeout((()=>{this.state===R.Connecting&&(this.deps.logger.debug("Connecting failed, terminating local server"),this.cleanup())}),10)}))}async killRemote(e){if(!this._platform)return this.deps.logger.error("Unexpectedly did not know platform of remote."),!1;const t={platform:this._platform,cleanRemoteUserData:e};try{const e=await(0,g.httpPost)(void 0,JSON.stringify(t),{socketPath:this.ipcHandlePath,path:"/kill-remote"},this.deps.logger);return this.deps.logger.debug(e),!0}catch(e){return this.deps.logger.debug("Server kill-remote request failed: "+e.message),!1}}async _checkPlatformAndRunScript(e,t){const{logger:r}=this.deps;if(await this.waitForReady(),this._platform=await this.probeServerPlatform(),r.debug("Platform: "+this._platform),this._platform===d.Platform.Windows){const e=(0,f.getEscapedPowershellCommandForLocalServer)(t,this.deps.logger);await this.startPowershellAndWait(),this.execute(e)}else{const t=`mainScriptWrapper() {\n ${e}\n }\n mainScriptWrapper`,n=await this.probeShell();r.debug("Parent Shell: "+n),r.debug("Parent Shell pid: "+this.child.pid),await this.startSubshellAndWait(this.child.pid,r),this.execute(t)}}terminate(){this.state!==R.Terminated&&(this.state=R.Terminated,this.deps.logger.debug("Terminating local server"),this.cleanup())}disconnect(){var e;this.keepaliveTimer&&(e=this.keepaliveTimer,clearInterval(e),this.keepaliveTimer=void 0)}execute(e,t){t&&(this.commandOutputMatcher=t),this.child.stdin.write(`${e}\n`)}updateSshOutput(e){const t=e.filter((e=>!e.startsWith("local-server> "))).join("\n");t&&(this.sshOutput=this.sshOutput+t+"\n")}parseStderrLines(e){return(0,b.splitLines)(e).map((e=>{if(!e.startsWith("debug1:"))return{text:e};const t=e.match(/^debug1: Server host key: (.+)/);if(t){const r=t[1].trim();return this.serverKey=r.split(" ")[1]||r,{text:e}}return e.match(/debug1: Host .* is known and matches/)&&(this.serverKey=void 0),{text:e,type:"trace"}}))}parseAuthRequestDetail(e){e.match(/Permission denied/i)&&(this.authRequestDetail=e)}async probeShell(){return new Promise(((e,t)=>{this.execute("echo $SHELL",(t=>{if("stdout"in t){const r=t.stdout.substring(t.stdout.lastIndexOf("/")+1);return e(r),!0}return!1}))}))}async startPowershellAndWait(){return new Promise(((e,t)=>{this.execute("powershell -NoProfile",(t=>!(!("stdout"in t)||!t.stdout.match(/Windows PowerShell/)||(e(),0))))}))}async startSubshellAndWait(e,t){const r=(0,a.useExecServer)()?"sh":"bash";return new Promise(((n,o)=>{let s=!1,i=0;const a=()=>{i++,s||(this.execute("echo $$",c),i<=100?setTimeout((()=>{a()}),50):(o(l.SshResolverError.Timeout(`Creating '${r}' subshell timed out`)),this.terminate()))},c=o=>{if("stdout"in o){t.debug(`Waiting for pid of spawned '${r}' subshell: '${o.stdout}'...`);const i=o.stdout.match(/\d+/);if(i&&e!==parseInt(i[0],10))return s=!0,n(),!0}return!1};this.execute(r),a()}))}async waitForReady(){const e=`ready: ${this.args.marker}`;return new Promise(((t,r)=>{this.execute(`echo '${e}'`,(r=>!(!("stdout"in r)||!r.stdout.includes(e)||(t(),0))))}))}async probeServerPlatform(){return new Promise(((e,t)=>{this.execute("uname -rsv",(t=>{let r;return"stdout"in t?t.stdout.includes("Darwin")?r=d.Platform.MacOS:t.stdout.toLowerCase().includes("msys")||t.stdout.toLowerCase().includes("windows32")||t.stdout.toLowerCase().includes("cygwin")||t.stdout.toLowerCase().includes("Windows_NT")?r=d.Platform.Windows:(t.stdout.includes("Linux")||t.stdout.toLowerCase().includes("bsd"))&&(r=d.Platform.Linux):t.stderr&&t.stderr.includes("uname")&&(r=d.Platform.Windows),!!r&&(e(r),!0)}))}))}cleanup(){this.disconnect(),this.child.kill()}getServerData(e,t){return{...e,pid:this.child.pid,ipcHandlePath:this.ipcHandlePath,socksPort:t,startupTime:this.startupTime}}async persistConnectionDetails(e,t){if(this.state=R.Connected,this.deps.timer.mark(3),this.deps.serverDataPath)try{this.askpass?.dispose();const r=this.getServerData(e,t),n=await C(this.params);return await(0,y.mkdirp)(s.dirname(n)),this.deps.logger.debug("Persisting server connection details to "+n),i.promisify(o.writeFile)(n,JSON.stringify(r,void 0,2)),r}catch(e){this.deps.logger.debug("Failed to persist local server connection details: "+e.message)}}}function x(e,t){const r=async()=>{await T(e,t)};return r(),setInterval(r,2e3)}t.LocalServerManager=P,P.NEXT_SERVER_ID=1,t.killLocalServer=async function(e){for(const t of[!0,!1]){const r=await k({...e,useExecServer:t},void 0);r&&await(0,S.killTree)(r.pid,e.deps.logger)}}},8049:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataFileName=void 0,t.dataFileName="data.json"},6723:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnrecognizedRequestInteractor=t.Askpass=void 0;const n=r(7147),o=r(3685),s=r(1017),i=r(3837),a=r(9496),c=r(6737),l=r(132),h=r(5207);t.Askpass=class{constructor(e){this.params=e,this._onAuthRequestReceived=new a.EventEmitter,this.onAuthRequestReceived=this._onAuthRequestReceived.event,this._onAuthRequestHandled=new a.EventEmitter,this.onAuthRequestHandled=this._onAuthRequestHandled.event,this._usedInteractors=new Set,this.enabled=!0,this.requestQ=Promise.resolve(),this.isCanceled=!1,this.currentHandlerCancelTokenSource=null,this.authRequestHandler=null,this.server=o.createServer(((e,t)=>this.onRequest(e,t))),this.server.setTimeout(6e5),this.ipcHandlePathPromise=this.setup().catch((e=>(console.error(e),"")))}get usedInteractors(){return this._usedInteractors}setAuthRequestHandler(e){this.authRequestHandler=e}async setup(){this.ipcHandlePath=await(0,l.getIPCHandlePath)("askpass");try{this.params.deps.logger.debug("askpass server listening on "+this.ipcHandlePath),this.server.listen(this.ipcHandlePath),this.server.on("error",(e=>console.error(e)))}catch(e){console.error("Could not launch ssh askpass helper."),this.enabled=!1}return this.ipcHandlePath}onRequest(e,t){this._onAuthRequestReceived.fire(),this.currentHandlerCancelTokenSource&&this.currentHandlerCancelTokenSource.cancel(),this.requestQ=this.requestQ.finally((()=>new Promise(((r,n)=>{const o=[];e.setEncoding("utf8"),e.on("data",(e=>o.push(e))),t.on("timeout",(()=>{this.params.deps.logger.debug("Askpass request timed out"),e.socket.destroy(),this.currentHandlerCancelTokenSource&&(this.currentHandlerCancelTokenSource.cancel(),this.currentHandlerCancelTokenSource=null)})),e.on("end",(async()=>{const e=o.join("");try{const r=await this.handleRequest(e);t.writeHead(200),t.end(JSON.stringify(r)),this._onAuthRequestHandled.fire()}catch(e){this.params.deps.logger.error(e.message),t.writeHead(500),t.end(),n(new Error(e.message))}r()}))}))))}async handleRequest(e){if(this.params.deps.logger.debug("Got askpass request: "+e),this.isCanceled)return{canceled:!0};let t,r;try{if(t=JSON.parse(e).request,"string"!=typeof t)throw new Error('Missing "request" property')}catch(e){throw new Error("Got malformed askpass request: "+e.message)}try{if(this.currentHandlerCancelTokenSource=new a.CancellationTokenSource,!this.authRequestHandler)throw new Error("No authRequestHandler registered");const e=await this.authRequestHandler(this.params,t,this.currentHandlerCancelTokenSource.token);this.currentHandlerCancelTokenSource.dispose(),this.currentHandlerCancelTokenSource=null,void 0===e||void 0===e.userResponse?(this.isCanceled=!0,r={canceled:!0}):(r={response:e.userResponse},this._usedInteractors=e.usedInteractors)}catch(e){throw new Error("Handling auth request failed: "+e.stack)}return r}async getEnv(){if(!this.enabled)return{SSH_ASKPASS:s.join(__dirname,"askpass-empty.sh")};const e=h.isWindows?"askpass.bat":"askpass.sh";return{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:s.join(__dirname,"local-server",e),VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:"",VSCODE_SSH_ASKPASS_MAIN:s.join(__dirname,"askpass-main.js"),VSCODE_SSH_ASKPASS_HANDLE:await this.ipcHandlePathPromise}}async dispose(){this.server.close(),this.ipcHandlePath&&await i.promisify(n.exists)(this.ipcHandlePath)&&"win32"!==process.platform&&await i.promisify(n.unlink)(this.ipcHandlePath)}};class u{get id(){return u.ID}async onData(e){const t={postAction:"keep"},r=await(0,c.showInputBox)(e);return"string"!=typeof r?t.canceled=!0:(t.response=r,t.postAction="consume",t.isPassword=!0),t}}t.UnrecognizedRequestInteractor=u,u.ID="unrecognizedRequest"},7674:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Platform=t.warnForPreviewPlatform=void 0,t.warnForPreviewPlatform=function(e,t){"aarch64"!==e.arch&&"arm64"!==e.arch||t.info(`** Note: Support for architecture "${e.arch}" is in preview **`)},function(e){e.Linux="linux",e.Windows="windows",e.MacOS="macOS"}(r||(t.Platform=r={}))},415:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shutdown=t.getActiveRemote=t.installServer=t.storePlatform=t.resolveExecServer=t.resolve=void 0;const n=r(9496),o=r(3170),s=r(9763),i=r(2480),a=r(7907),c=r(5806),l=r(7674),h=r(5068),u=r(2681),d=r(8691),f=r(5065),p=r(36),m=r(5537),g=r(8904),w=r(364),y=r(4378),S=r(6105),v=r(4608),b=r(6113),_=r(6379),E="remote.sshContext";let C;const T=new Map,k=(e,t)=>`${e}-${t.useExecServer}`;let I=null;async function R(e,t,r){const n=k(t,e);let i,a=T.get(n);if(a||(a={manager:new u.SshAuthSockManager(t,e.deps),port:void 0},T.set(n,a)),!a.port||e.isReconnection)if((0,o.enableDynamicForwarding)()||(0,o.useLocalServer)())try{a.port=await(0,m.findAnyFreePort)()}catch(e){throw s.SshResolverError.Create(s.SshResolverFailureReason.FindLocalPort,"Failed to find a free local port for dynamic forwarding")}else a.port=void 0;(0,o.useLocalServer)()?(i=await(0,c.resolveWithLocalServer)(e,a.port,r.globalState),i.newSocksPort&&(a.port=i.newSocksPort)):i=await x(e,w.defaultSystemInteractor,a.port,r.globalState);const l=await(0,f.createTunnel)(e,{platform:i.installScriptResult.serverConfiguration.platform,socksPort:a.port,name:"VS Code Server",remoteListeningOn:i.installScriptResult.serverConfiguration.remoteListeningOn,preferredLocalPortRange:(0,o.preferredLocalPortRange)(e.deps.logger)});if(!l)throw new Error("Expected to have opened primary tunnel");return e.deps.logger.info(`Resolved "${t}" to "${s.ListenTarget.display(l.localTarget)}"`),{installResult:i,tunnelResult:l}}function P(e,t,r,n){setTimeout((()=>{(0,o.savePlatformForHost)(t,e,r,n)}),4e3)}async function x(e,t,r,u,f=(0,y.insecureRandomString)()){const m=e.deps,w=(0,o.remotePortRanges)()[e.host.hostName];if(w&&w.end<w.start)throw s.SshResolverError.Create(s.SshResolverFailureReason.InvalidPortRange,"Invaid port range set");const v=(0,o.serverInstallPath)()[e.host.hostName],_=m.telemetry.getTelemetryLevel(),E=(0,b.randomUUID)(),C=await async function(e,t,r,n,s,c,l,h){const u=await(0,g.getProductInfo)();h.info(`Using commit id "${u.commit}" and quality "${u.quality}" for server`);const d=(0,o.getSshDefaultExtensions)(),f={uuid:n,basePath:e,serverDataFolderName:u.serverDataFolderName,serverApplicationName:u.serverApplicationName,quality:u.quality,commit:u.commit,telemetryLevel:s,extensionIds:d,bindHost:l,printVars:(0,o.enableAgentForwarding)()&&(0,o.enableDynamicForwarding)()?["SSH_AUTH_SOCK"]:[],localDownload:(0,o.localDownload)(),enableWebAccess:(0,o.enableWebAccess)(),portRange:r},p={...f},m={...f,preventExit:!!t&&!(0,o.useLocalServer)(),lockfilesInTmp:(0,o.lockfilesInTmp)(),useFlock:(0,o.useFlock)(),serverListenOnSocket:(0,o.remoteServerListenOnSocket)()};(0,o.enableX11Forwarding)()&&(m.printVars=[...m.printVars,"DISPLAY"]);return{linuxInstallScript:(0,i.serverInstallScript)(m),linuxExecServerInstallScript:await(0,i.execServerInstallScript)(h,{...m,token:c}),windowsInstallScript:(0,a.serverInstallScript)(p),windowsExecServerInstallScript:(0,a.execServerInstallScript)({...p,token:c})}}(v,r,w,f,_,E,(0,o.bindAddressForHost)(e.host),m.logger);return m.logger.info("Install and start server if needed"),(0,h.withShowDetailsEvent)((async i=>{const a=(g=m.progress,w=`([details](command:${h.SHOW_DETAILS_COMMAND} "Show details")) `,{report(e){e.message?g.report({message:w+e.message}):g.report(e)}});var g,w;a.report({message:n.l10n.t("Initializing VS Code Server")});const y=await(0,o.getPlatformForHost)(e.host,!(0,o.useLocalServer)());let v=0;e:for(;v++<30;){const h=!!await(0,d.getConfigurationForHost)(e.host),g=new Set;try{let d;const w=e.useExecServer?{linux:C.linuxExecServerInstallScript,windows:C.windowsExecServerInstallScript}:{linux:C.linuxInstallScript,windows:C.windowsInstallScript};if((0,o.useLocalServer)())d=await(0,c.tryInstallWithLocalServer)(e,{systemInteractor:t,linuxInstallScript:w.linux,windowsInstallScript:w.windows,socksPort:r,marker:f,revealTerminalEvent:i,usedAuthMethods:g,globalState:u,platform:y});else{if(!y)throw m.logger.debug("getPlatformForHost was canceled"),s.SshResolverError.Canceled();const n=y===l.Platform.Windows?w.windows:w.linux,o=await(0,p.generateSshCommand)(e,y,n,r);e.deps.logger.debug(`Generated SSH command: '${o}'`),d=await(0,p.tryInstall)(e,{systemInteractor:t,command:o,marker:f,platform:y,revealTerminalEvent:i,usedAuthMethods:g})}if(d)return{installScriptResult:d,retries:v,usedAuthMethods:g,remoteInConfigFile:h,execServer:e.useExecServer?{token:E}:void 0};a.report({message:n.l10n.t("Connect to VS Code Server - retry {0}",v)}),await(0,S.wait)(1e3);continue e}catch(t){throw t instanceof s.SshResolverError&&(t.retries=v,t.usedAuthMethods=g,t.remoteInConfigFile=h,t.wasExecServer=e.useExecServer),t}}throw s.SshResolverError.Create(s.SshResolverFailureReason.ExhaustedRetries)}))}t.resolve=async function(e,t,o,s){(0,_.assertVSDA)();const{installResult:i,tunnelResult:a}=await R(e,t,o);let c;if(I??(I=new v.VariablesManager(o.environmentVariableCollection,e.deps)),C=e.host,n.commands.executeCommand("setContext",E,!0),s.push(function(e,t,r){const o=t.port?`:${t.port}`:"",s=`SSH: ${t.hostName}${o}`,i=r===l.Platform.Windows;return n.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:e,formatting:{label:"${path}",separator:i?"\\":"/",workspaceSuffix:s,tildify:!0,normalizeDriveLetter:!0}})}(t,e.host,i.installScriptResult.serverConfiguration.platform)),i.execServer){const{resolveRemoteUsingExecServer:n}=await Promise.resolve().then((()=>r(9329)));c=await n(t,e.deps.logger,i,a)}else{if(!("port"in a.localTarget))throw new Error("Non-exec servers must forward a port, not a socket");c=new n.ResolvedAuthority("127.0.0.1",a.localTarget.port,i.installScriptResult.serverConfiguration.connectionToken||void 0)}const h=T.get(k(t,e))?.manager,u=function(e,t,r,n,o){let s={};const i=t.installScriptResult.serverConfiguration.sshAuthSock||r.sshAuthSock;i&&(s={...s,...e?.update(i,t.installScriptResult.serverConfiguration.tmpDir,n,t.installScriptResult.serverConfiguration.platform)});const a=t.installScriptResult.serverConfiguration.display;return a&&(s={...s,DISPLAY:a}),Object.keys(s).length&&o.info(`Remote extension host environment: ${JSON.stringify(s)}`),s}(h,i,a,e.host,e.deps.logger);return I.update(u),c.extensionHostEnv=u,c.environmentTunnels=(await(0,d.localForwardsForHost)(e.host)).map((e=>({localAddress:e.localAddress+":"+e.localPort,remoteAddress:{host:e.remoteAddress,port:e.remotePort}}))),{serverInstallationResult:i,resolvedAuthority:c}},t.resolveExecServer=async function(e,t,n){const{tunnelToExecServer:o}=await Promise.resolve().then((()=>r(9329))),{execServer:s}=await o(t,e.deps.logger,(async()=>{const r=await R({...e,useExecServer:!0},t,n);return r.installResult.installScriptResult.storePlatform&&P(r.installResult.installScriptResult.serverConfiguration.platform,e.host,n,e.deps.logger),r}));return s},t.storePlatform=P,t.installServer=x,t.getActiveRemote=function(){return C},t.shutdown=function(){n.commands.executeCommand("setContext",E,!1),C=void 0}},5068:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withShowDetailsEvent=t.SHOW_DETAILS_COMMAND=void 0;const n=r(9496);let o;t.SHOW_DETAILS_COMMAND="opensshremotes.showDetails",n.commands.registerCommand(t.SHOW_DETAILS_COMMAND,(()=>{o&&o.fire()})),t.withShowDetailsEvent=async function(e){if(o)throw new Error("withRevealTerminalEvent can only be called once at a time globally within the app");o=new n.EventEmitter;try{return await e(o.event)}finally{o.dispose(),o=void 0}}},2681:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SshAuthSockManager=void 0;const n=r(9496),o=r(6737),s=r(364),i=r(7674);t.SshAuthSockManager=class{constructor(e,t){this.remoteAuthority=e,this.deps=t,this.sessionId=Math.floor(1e9*Math.random())}update(e,t,r,a){const c=a===i.Platform.Windows?`${t}\\vscode-ssh-auth-sock-${this.sessionId}`:`${t}/vscode-ssh-auth-sock-${this.sessionId}`,l=a===i.Platform.Windows?`mklink "${c}" "${e}"`:`ln -f -s "${e}" "${c}"`,h=n.Uri.parse(`vscode-remote://${this.remoteAuthority}/`);return this.deps.logger.debug("Updating $SSH_AUTH_SOCK: "+l),(0,o.runInteractiveSshTerminalCommand)({cwd:h,command:l,logger:this.deps.logger,nickname:"Update SSH_AUTH_SOCK",systemInteractor:s.defaultSystemInteractor,host:r,terminalIsWindows:a===i.Platform.Windows}).then((e=>{e&&this.deps.logger.debug('"Update SSH_AUTH_SOCK" task produced unexpected output, it may have failed')})),{SSH_AUTH_SOCK:c}}}},7174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateScpCommand=t.handleSshNotFoundError=t.ScpNotFoundError=t.SshNotFoundError=t.getSshCommand=t.getSshCommandPath=t.getEscapedPowershellCommandForLocalServer=t.getEncodedPowershellCommand=t.generateMultiLineCommand=t.getSshConnectionArgs=void 0;const n=r(2081),o=r(7147),s=r(1017),i=r(3837),a=r(9496),c=r(3170),l=r(810),h=r(7674),u=r(8691),d=r(5238),f=r(5207),p=r(3725);async function m(e,t){const r=e.host,n=(t&&t.cmdSegment)??[],o=t&&t.allowPortForward?[]:["-o","ClearAllForwardings=true"],s=t?.quoteForShell||!1,i=t?.allowRemoteCommand??!0,a=await(0,u.getConfigurationForHost)(r);return[(0,c.permitPtyAllocation)()?"":"-T",...n,...o,...S(a),...w(a,i,e.deps.logger),...await b(s,r,e.deps.logger),...v(r,"ssh"),y(r,s)].filter((e=>!!e))}async function g(e,t,r){const n=(r&&r.cmdSegment)??[],o=r&&r.allowPortForward?"":"-o ClearAllForwardings=true",s=await(0,u.getConfigurationForHost)(e),i=r?.quoteForShell||!1,a=r?.allowRemoteCommand??!0;return[(0,c.permitPtyAllocation)()?"":"-T",...n,o,...S(s),...w(s,a,t),...await b(i,e,t),...v(e,"ssh"),y(e,i)].filter((e=>!!e))}function w(e,t,r){if((0,c.enableRemoteCommand)()&&(0,c.useLocalServer)()){if(t)return[];e&&e.RemoteCommand&&r.info('Cannot use RemoteCommand if you have this remote in your "remote.SSH.remotePlatform" setting.')}return e&&e.RemoteCommand?["-o","RemoteCommand=none"]:[]}function y(e,t){(0,u.assertValidHost)(e);const r=e.hostName,n=e.user?`${e.user}@${r}`:r;return t?(0,p.quoteForShellIfNeeded)(n,f.isWindows):n}function S(e){return f.isWindows||e&&e.ConnectTimeout?[]:["-o",`ConnectTimeout=${(0,c.connectTimeoutSetting)()}`]}function v(e,t){const r="ssh"===t?"-p":"-P";return e.port?[r,e.port+""]:[]}async function b(e,t,r){let n=[],o=(0,c.sshConfigurationFile)();return!o&&f.isWindows&&(0,c.useLocalServer)()&&(o=await(0,u.getConfigurationFileForHost)(t)),o&&(o=(0,d.untildify)(o),r.info(`Using SSH config file "${o}"`),n=["-F",e?(0,p.quoteForShellIfNeeded)(o,f.isWindows):o]),n}let _,E;async function C(e){return await T(e),_}async function T(e){const t=(0,c.sshPath)();if("string"!=typeof _||t&&t!==E)try{E=await x(t,e),_=f.isWindows&&"ssh"!==E?(0,p.quoteForShell)(E,f.isWindows):(0,p.quoteForShellIfNeeded)(E,f.isWindows)}catch(t){throw e.error("Finding installed ssh failed: "+t.message),t}return _}var k;async function I(e,t){return await R(e,t)!==k.NotFound}async function R(e,t){return new Promise(((r,o)=>{t.debug(`Checking ssh with "${e} -V"`);const s=[],i=[];let a,c=e;f.isWindows&&(c.endsWith(".bat")||c.endsWith(".cmd"))&&(c=`"${c}"`,a={shell:!0});const l=n.spawn(c,["-V"],a);l.stdout.on("data",(e=>{s.push(e),t.debug("stdout> "+e.toString())})),l.stderr.on("data",(e=>{i.push(e),t.debug("> "+e.toString())})),l.on("error",(e=>{t.debug("Got error from ssh: "+e.message),clearTimeout(u),r(k.NotFound)}));let h=!1;const u=setTimeout((()=>{h=!0,t.debug("ssh is not exiting, continuing"),r(k.NotFound),l.kill()}),1e4);l.on("exit",(e=>{if(h)return;if(clearTimeout(u),e)return t.debug("ssh exited with code: "+e),void r(k.NotFound);const n=Buffer.concat(s).toString("utf8").trim(),o=Buffer.concat(i).toString("utf8").trim()||n;o&&(o.match(/OpenSSH_for_Windows/i)?r(k.WindowsSsh):o.match(/OpenSSH/i)?r(k.Other):(t.debug("ssh output did not match /OpenSSH/"),r(k.NotFound)))}))}))}t.getSshConnectionArgs=m,t.generateMultiLineCommand=async function(e,t,r,n){const a=e.deps;let l;if(t===h.Platform.Windows?(l=await async function(e,t,r){return[await C(t),...await g(e,t,r),"powershell"].join(" ")}(e.host,a.logger,n),r=r.replace(/\}\n/g,"}\n\n"),a.logger.debug(`Remote command length: ${r.length}/8192 characters`),r.length>8192&&a.logger.error('Warning: Remote install script may be too long. If it hangs during connecting, try reducing the length of your setting "remote.SSH.defaultExtensions".')):l=[await C(a.logger),...await m(e,n),(0,c.useExecServer)()?"sh":"bash"].join(" "),a.logger.debug("Running script with connection command: "+l),f.isWindows){if(!process.env.TEMP)throw new Error("The TEMP environment variable must be set");const t=Math.floor(1e9*Math.random()),n=s.join(process.env.TEMP,`vscode-linux-multi-line-command-${(0,d.sanitizeFileName)(e.host.hostName)}-${t}.sh`);try{r=r.replace(/\r\n/g,"\n"),await i.promisify(o.writeFile)(n,r)}catch(e){throw new Error(`Failed to write install script to path ${n}. ${e.message}`)}return`type "${n}" | ${l}`}return`${l} << 'EOSSH'\n${r}\nEOSSH`},t.getEncodedPowershellCommand=function(e,t,r){const n=`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand ${t?"":"\\"}$([Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${Buffer.from(e,"utf8").toString("base64")}')))))  # RemoteSSHConfigurationScript`;return r.debug(`Remote command length: ${n.length}/8192 characters`),n},t.getEscapedPowershellCommandForLocalServer=function(e,t){const r=Buffer.from(e,"utf8").toString("base64");return t.debug(`Remote command length: ${r.length}/8192 characters`),`powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -Command "\`$remoteSSHConfigurationScript=[Convert]::ToBase64String([Text.Encoding]::Unicode.GetBytes([Text.Encoding]::UTF8.GetString([Convert]::FromBase64String('${r}')))); powershell -ExecutionPolicy Unrestricted -NoLogo -NoProfile -NonInteractive -EncodedCommand \`$remoteSSHConfigurationScript"`},t.getSshCommandPath=async function(e){return await T(e),E},t.getSshCommand=C,function(e){e[e.NotFound=0]="NotFound",e[e.WindowsSsh=1]="WindowsSsh",e[e.Other=2]="Other"}(k||(k={}));const P=process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432");async function x(e,t){if(e){if(await I(e,t))return e;t.error(`The specified path ${e} is not a valid SSH binary`)}return f.isWindows?async function(e){const t=process.env.PATH;let r=[];if(t&&(r=t.split(";").filter((e=>s.isAbsolute(e))).map((e=>s.join(e,"ssh.exe")))),r.push(s.join(process.env.windir,"System32\\OpenSSH\\ssh.exe"),s.join(process.env.ProgramFiles,"Git\\usr\\bin\\ssh.exe"),s.join(process.env["ProgramFiles(x86)"],"Git\\usr\\bin\\ssh.exe")),P&&r){const e=process.env.SystemRoot||"C:\\WINDOWS",t=s.join(e,"Sysnative","OpenSSH","ssh.exe");r.unshift(t)}if((0,c.useLocalServer)()){for(const t of r){if(await R(t,e)===k.Other)return t;e.trace("Preferring non-windows OpenSSH, skipping")}!function(){if(!(0,c.suppressWindowsSshWarning)()){const e=a.l10n.t("Don't Show Again");a.window.showWarningMessage(a.l10n.t({message:"Failed to find a non-Windows SSH installed. Password prompts may not be displayed properly! Disable `remote.SSH.useLocalServer` if needed.",comment:['{Locked="`remote.SSH.useLocalServer`"}',"Do not translate `remote.SSH.useLocalServer`, it is a VS Code command."]}),e).then((t=>{t===e&&a.workspace.getConfiguration("remote").update("SSH.suppressWindowsSshWarning",!0,!0)}))}}()}for(const t of r)if(await I(t,e))return t;throw new A}(t):async function(e){if(e.debug("PATH: "+process.env.PATH),await I("ssh",e))return"ssh";throw new Error("ssh is not on the PATH")}(t)}class A extends Error{constructor(){super("ssh installation not found")}}t.SshNotFoundError=A;class O extends Error{constructor(){super("scp installation not found")}}t.ScpNotFoundError=O;const $=a.l10n.t("Learn More");async function D(e){const t=await async function(e){const t=await x((0,c.sshPath)(),e),r=f.isWindows?"scp.exe":"scp",o="ssh"===t?"scp":s.join(s.dirname(t),r);"scp"!==o&&e.debug(`Expecting scp to be next to ssh at ${o}`);const i=await async function(e,t){return new Promise(((r,o)=>{t.debug(`Testing scp with "${e}"`);const s=[],i=[],a=n.spawn(e);a.stdout.on("data",(e=>s.push(e))),a.stderr.on("data",(e=>i.push(e))),a.on("error",(e=>{t.debug("Got error from scp: "+e.message),r(!1)})),a.on("exit",(e=>{t.debug("scp exited with code: "+e);const n=Buffer.concat(s).toString("utf8").trim();n&&t.debug("Got stdout from scp: "+n);const o=Buffer.concat(i).toString("utf8").trim();o&&t.debug("Got stderr from scp: "+o);const a=o||n;a&&(a.match(/usage: scp/i)?r(!0):(t.debug("ssh output did not match /usage: scp/"),r(!1)))}))}))}(o,e);if(!i)throw new O;return o}(e);return(0,p.quoteForShellIfNeeded)(t,f.isWindows)}t.handleSshNotFoundError=async function(){const e=await a.window.showErrorMessage(a.l10n.t("An SSH installation couldn't be found"),{modal:!0},{title:$});if(e&&e.title===$)return a.commands.executeCommand("opensshremotes.getStarted")},t.generateScpCommand=async function(e,t,r,n){const o=(0,p.quoteForShellIfNeeded)(await(0,l.getScpFlag)(e),f.isWindows),i=((0,d.isWindowsPath)(r)?s.win32:s.posix).dirname(r),a=(0,d.isWindowsPath)(e)?s.win32:s.posix;e=(0,p.quoteForShellIfNeeded)(a.basename(e),f.isWindows);const c=await(0,u.getConfigurationForHost)(t);return`${[await D(n),...S(c),...v(t,"scp"),...await b(!0,t,n)].filter((e=>!!e)).join(" ")} ${e} ${o} ${y(t,!0)}:${(0,p.quoteForShellIfNeeded)(i,f.isWindows)}`}},6737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runInteractiveSshTerminalCommand=t.getResumeLogMarker=t.getPauseLogMarker=t.runSshTerminalCommandWithLogin=t.showDifferingHostConfirmation=t.showHostKeyConfirmation=t.ConfirmationItem=t.showInputBox=t.showVerificationCodeInputBox=t.showPasswordInputBox=t.showPassphraseInputBox=void 0;const n=r(2037),o=r(1017),s=r(9496),i=r(1531),a=r(3170),c=r(8691),l=r(1163),h=r(8286),u=r(9759),d=r(5207),f=r(3725);function p(e,t,r){const n=e?`"${e}"`:"";return w(s.l10n.t("Enter passphrase for ssh key {0}",n),t,r)}function m(e,t,r){return w(e?s.l10n.t("Enter password for {0}",e):s.l10n.t("Enter password"),t,r)}function g(e,t){return w(e,void 0,t)}async function w(e,t,r){return new Promise(((n,o)=>{const i=s.window.createInputBox();i.placeholder=e,i.prompt=t,i.password=!0,i.ignoreFocusOut=!0;let a=!1;i.onDidAccept((()=>{a=!0;const e=i.value;i.dispose(),n(e)})),i.onDidHide((()=>{a||n(void 0)})),i.show(),r&&r.onCancellationRequested((()=>{o(new h.CanceledError),i.dispose()}))}))}t.showPassphraseInputBox=p,t.showPasswordInputBox=m,t.showVerificationCodeInputBox=g,t.showInputBox=w;class y{constructor(e,t){this.label=e,this.value=t,this.isCloseAffordance=!0,this.title=e}}async function S(e,t,r){return b(s.l10n.t('"{0}" has fingerprint "{1}".',e,t),s.l10n.t("Are you sure you want to continue?"),r)}async function v(e,t){return b(e,s.l10n.t("Are you sure you want to continue connecting?"),t)}async function b(e,t,r){return new Promise(((n,o)=>{const i=s.window.createQuickPick();i.canSelectMany=!1,i.title=e,i.items=[new y(s.l10n.t("Continue"),"yes"),new y(s.l10n.t("Cancel"),"no")],i.placeholder=t;let a=!1;i.onDidAccept((async()=>{a=!0;const e=i.selectedItems[0].value;i.dispose(),n(e)})),i.onDidHide((()=>{a||n(void 0)})),i.show(),r&&r.onCancellationRequested((()=>{i.hide(),o(new h.CanceledError)}))}))}function _(e){return`${e}: pauseLog`}function E(e){return`${e}: resumeLog`}function C(e){const t=[];let{systemInteractor:r,command:o,interactors:i,nickname:c,logger:l,token:p}=e,m=!1;return new Promise((async(g,w)=>{let y,S,v,b,C="";function k(){S&&(S.dispose(),S=void 0),v&&(v.dispose(),v=void 0),y&&(y.dispose(),y=void 0),b&&b.dispose(),(0,u.dispose)(t)}function I(e=!1){if(k(),l.debug(`"${c}" terminal command ${e?"canceled":"done"}`),e)return w(new h.CanceledError);const t=e?"":(0,f.lastNonemptyLine)(C);g(t||"")}function R(e){k(),l.error(`"${c}" process failed: ${e}`),w(e)}p&&(b=p.onCancellationRequested((()=>{I(!0)})));const P=e.cwd&&"vscode-remote"===e.cwd.scheme;if(P&&!e.host)throw new Error("Invalid terminal request, missing host");if(P&&"boolean"!=typeof e.terminalIsWindows)throw new Error("Invalid terminal request, missing terminalIsWindows");const x="boolean"==typeof e.terminalIsWindows?e.terminalIsWindows:d.isWindows;try{let h;h=e.sendText?"":x?`/c (${o}) & exit /b 0`:["-c",o+"\nexit 0"],e.cwd&&l.debug("Using cwd: "+e.cwd);const u={cwd:e.cwd||(x?s.Uri.file(n.homedir()||"c:\\"):s.Uri.file(n.homedir()||"/")),name:c,shellPath:T(x,l),shellArgs:h,hideFromUser:!0,isTransient:!0};let d=Promise.resolve();if(S=r.onDidWriteTerminalData((async t=>{t.terminal===v&&(d=d.finally((()=>async function(t){if(function(t){let r;if(e.marker){const n=_(e.marker),o=t.lastIndexOf(n);o>=0&&(t=t.substring(0,o+n.length),r=!0);const s=t.lastIndexOf(E(e.marker));s>=0&&(t=t.substring(s),r=!1)}m&&(0,a.logLevel)()!==a.LogLevel.trace||function(e,t,r){const n=(e=(0,f.sanitizeInstallScriptOutput)(e)).replace(/\r?\n$/,"");if((0,a.logLevel)()===a.LogLevel.trace)r.debug(`"${t}" terminal received data: "${n}"`);else{if(" "===n)return;const e=n.split(/\n/).map((e=>`> ${e}`)).join("\n");r.debug(e)}}(t,c,l),"boolean"==typeof r&&(m=r)}(t.data),C+=t.data,i)for(const r of i)try{const t=await r.onData(C);if("consume"===t.postAction&&(e.usedInteractors&&e.usedInteractors.add(r.id),C=""),t.canceled)return e.usedInteractors&&e.usedInteractors.add(r.id),void I(!0);if("string"==typeof t.response){e.usedInteractors&&e.usedInteractors.add(r.id),v.sendText(`${t.response}\n`);const n=t.isPassword?t.response.replace(/./g,"*"):t.response;l.debug(`"${c}" wrote data to terminal: "${n}"`)}}catch(t){R(t)}}(t))))})),v=r.createTerminal(u),e.revealTerminal&&t.push(e.revealTerminal((()=>{v&&v.show()}))),e.sendText){const t=x?`(${e.sendText}) & exit /b 0`:e.sendText+"\nexit 0";v.sendText(t),l.debug(`"${c}" wrote data to terminal: "${e.sendText}"`)}e.allowShowTerminal&&(0,a.showLoginTerminal)()&&v.show(),y=r.onDidCloseTerminal((e=>{e===v&&(v=void 0,I())}))}catch(e){R(e)}}))}function T(e,t){if(e){if(process.env.SystemRoot){const e=o.join(process.env.SystemRoot,"System32","cmd.exe");return t.debug("Terminal shell path: "+e),e}return"cmd.exe"}return"/bin/sh"}t.ConfirmationItem=y,t.showHostKeyConfirmation=S,t.showDifferingHostConfirmation=v,t.runSshTerminalCommandWithLogin=async function(e,t){let r;const n=(0,a.showLoginTerminal)();let o=[];t.interactor&&o.push(t.interactor),n||o.push(new i.MitmInteractor,new i.FingerprintInteractor(e,S),new i.PassphraseInteractor((async e=>(r=await p(e),r)),e.deps.logger),new i.DifferingHostKeyInteractor(v,e.deps.logger),new i.PasswordInteractor(m,e.deps.logger),new i.TwoFacInteractor(g,e.deps.logger),new i.DuoTwoFacInteractor(g,e.deps.logger));const h=await C({systemInteractor:t.systemInteractor,command:t.command,interactors:o,usedInteractors:t.usedInteractors,nickname:t.nickname,logger:e.deps.logger,token:t.token,marker:t.marker,revealTerminal:t.revealTerminal,allowShowTerminal:!0,cwd:t.cwd?s.Uri.file(t.cwd):void 0});if(r){e.deps.logger.debug("User entered passphrase");const t=await(0,c.getConfigurationForHost)(e.host);e.deps.logger.debug("Passphrase was entered and ssh config entry was found - adding SSH key to agent");const n=t&&t.IdentityFile&&t.IdentityFile[0]||void 0;await(0,l.addKeyToSshAgent)(n,(async()=>r),e.deps.logger)}return h},t.getPauseLogMarker=_,t.getResumeLogMarker=E,t.runInteractiveSshTerminalCommand=C},7676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sshCommandToConfig=t.CommandParseError=void 0;const n=r(9069),o=r(5440),s={1:e=>e.Protocol="1",2:e=>e.Protocol="2",4:e=>e.AddressFamily="inet",6:e=>e.AddressFamily="inet6",A:e=>e.ForwardAgent="yes",b:(e,t)=>e.BindAddress=t,C:e=>e.Compression="yes",c:(e,t)=>e.Cipher=t,D:(e,t)=>e.DynamicForward=t,e:null,F:null,f:null,g:e=>e.GatewayPorts="yes",I:(e,t)=>e.SmartcardDevice=t,i:(e,t)=>e.IdentityFile=t,J:(e,t)=>e.ProxyJump=t,K:e=>e.GSSAPIAuthentication="yes",k:e=>e.GSSAPIDelegateCredentials="no",L:(e,t)=>{const r=t.match(/^((.*):?\d+)?:(.+?)?$/);if(r){const[,n,,o]=r;if(n&&o)return void(e.LocalForward=`${n} ${o}`);throw new i(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`)}let n=t.indexOf(":");if(-1===n)throw new i(`LocalFoward needs a listener and a destination separate by a colon. ${t} does not match.`);e.LocalForward=`${t.substring(0,n)} ${t.substring(n+1)}`},l:(e,t)=>e.User=t,M:e=>e.ControlMaster="yes",m:(e,t)=>e.MACs=t,N:null,n:null,o:(e,t)=>{const r=t.indexOf("=");if(-1===r)throw new i(`Argument missing for option ${t}`);e[t.slice(0,r)]=t.slice(r+1)},p:(e,t)=>e.Port=t,q:null,R:(e,t)=>e.RemoteForward=t,S:(e,t)=>e.ControlPath=t,s:null,T:null,t:null,V:null,v:e=>e.LogLevel="verbose",W:(e,t)=>e.RemoteForward=t,w:(e,t)=>e.TunnelDevice=t,X:e=>e.ForwardX11="yes",x:e=>e.ForwardX11="no",Y:e=>e.ForwardX11Trusted="yes",y:null};class i extends Error{}function a(e,t){const r=new n.BasicParser(":1246ab:c:e:fgi:kl:m:no:p:qstvxAB:CD:E:F:GI:J:KL:MNO:PQ:R:S:TVw:W:XYy",e,0);for(;;){const e=r.getopt();if(!e)break;if(":"===e.option)throw new i(`Expected flag -${e.optopt} to have an argument but it did not`);if("?"===e.option)throw new i(`Unknown flag ${e.optopt}`);const n=s[e.option];n&&n(t,e.optarg)}return r.optind()}function c(e){let t;try{t=new URL(e)}catch{}if(t&&"ssh:"===t.protocol)return t;const r=e.lastIndexOf("@");if(-1===r)return{hostname:e};let n=e.slice(r+1),o=e.slice(0,r);const s=o.indexOf(":");let i;-1!==s&&(o=o.slice(0,s));const a=n.indexOf(":");return-1!==a&&(i=n.slice(a+1),n=n.slice(0,a)),{hostname:n,username:o,port:i}}t.CommandParseError=i,t.sshCommandToConfig=function(e){const t=(0,o.parse)(e);"ssh"===t[0]&&t.shift();const r={};for(let e=0;e<t.length;e++)if(e+=a(t.slice(e),r),e<t.length&&!r.Host){const{hostname:n,port:o,username:s}=c(t[e]);r.Host=n,r.HostName=n,!r.Port&&o&&(r.Port=o),!r.User&&s&&(r.User=s)}if(!r.Host)throw new i("Missing host in SSH connection string");const{Host:n,HostName:s,...l}=r;return{Host:n,HostName:s,...l}}},8691:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidHost=t.addSshHost=t.configureSshHosts=t.onDidChangeSshConfiguration=t.localForwardsForHost=t.getConfigurationFileForHost=t._getConfigurationForHost=t.getConfigurationForHost=t.getConfiguredSshHostNames=t.getConfiguredSshHosts=t.getSshConfigurationFiles=t.defaultSshConfigurationFiles=void 0;const n=r(7147),o=r(7824),s=r(2037),i=r(1017),a=r(6200),c=r(3837),l=r(9496),h=r(2017),u=r(3808),d=r(3170),f=r(9763),p=r(7676),m=r(7475),g=r(2386),w=r(5238),y=r(5207),S=c.promisify(n.readFile),v=c.promisify(n.writeFile),b=c.promisify(n.exists),_=c.promisify(n.stat),E=c.promisify(n.chmod),C=i.resolve(s.homedir(),".ssh/config"),T=process.env.ALLUSERSPROFILE||process.env.PROGRAMDATA||"C:\\ProgramData",k=y.isWindows?`${T}\\ssh\\ssh_config`:"/etc/ssh/ssh_config";function I(){return[C,k]}function R(){const e=(0,d.sshConfigurationFile)();return e?[e]:I()}async function P(){const e={};for(let t of R()){const r=x(await $(t));Object.keys(r).forEach((t=>e[t]=r[t]))}return e}function x(e){const t=Object.create(null);return function(e){const t=new Set;return e.filter((e=>F(e)||N(e))).forEach((e=>{if(N(e)){const r=function(e){let t=("string"==typeof e.value?e.value:e.value.join(" ")).match(/(".*?"|[^"\s]+)(?=\s*)/g);if(t){const e=t.findIndex((e=>"host"===e.toLowerCase()));if(-1!==e&&e<t.length)return[t[e+1].replace(/['"]+/g,"")]}return"string"==typeof e.value?[e.value]:e.value}(e);H(r).forEach((e=>t.add(e)))}else H(e.value).forEach((e=>t.add(e)))})),Array.from(t.keys())}(e).forEach((r=>{const n=e.compute(r);n.HostName?t[r]=n.HostName:t[r]=r})),t}async function A(e){return O(e,R())}async function O(e,t){for(let r of t){const t=(await $(r)).compute(e.hostName);if(t&&t.HostName)return t.IdentityFile&&(t.IdentityFile=t.IdentityFile.map((e=>(0,w.untildify)(e)))),t}return null}async function $(e,t=!0){const r=await async function(e){return e=(0,w.untildify)(e),await b(e)?(await S(e)).toString("utf8"):""}(e),n=function(e){function t(e){e.param=M.get(e.param.toLowerCase())||e.param}return e.filter(L).forEach((e=>{t(e),F(e)&&e.config.filter(L).forEach(t)})),e}((0,a.parse)(r));return t&&await async function(e,t){const r=new Set;async function n(n){let s=(0,w.untildify)(n.value);y.isWindows&&s.match(/^\/[a-z]:/i)&&(s=s.substring(1)),i.isAbsolute(s)||(s=i.resolve(i.dirname(t),s));try{const t=(await(0,o.glob)(s,{windowsPathsNoEscape:y.isWindows})).filter((e=>!r.has(e)));for(let n of t)(await _(n)).isFile()&&await D(e,n),r.add(n)}catch(e){console.error(`Failed to resolve "${n.param} ${n.value}": ${e.message}`)}}for(let t=0;t<e.length;t++){const r=e[t];if(L(r)&&"include"===r.param.toLowerCase()&&await n(r),F(r)&&r.value.includes("*"))for(const e of r.config)L(e)&&"include"===e.param.toLowerCase()&&await n(e)}}(n,e),n}async function D(e,t){const r=(await S(t)).toString(),n=(0,a.parse)(r);e.push(...n)}function L(e){return 1===e.type}function F(e){return L(e)&&"Host"===e.param&&!!e.value&&!!e.config}function N(e){return L(e)&&"Match"===e.param&&!!e.value&&!!e.config}function B(e){const t=e.split(":");return{address:t[1]?t[0]:"localhost",port:parseInt(t[1]?t[1]:t[0])}}t.defaultSshConfigurationFiles=I,t.getSshConfigurationFiles=R,t.getConfiguredSshHosts=async function(){return Object.keys(await P())},t.getConfiguredSshHostNames=P,t.getConfigurationForHost=A,t._getConfigurationForHost=O,t.getConfigurationFileForHost=async function(e,t=R()){for(let r of t){const t=(await $(r)).compute(e.hostName);if(t&&t.HostName)return r}},t.localForwardsForHost=async function(e){const t=await A(e);return t?.LocalForward?(Array.isArray(t.LocalForward)?t.LocalForward:[t.LocalForward]).map((e=>{const[t,r]=e.split(/[\t ]+/),n=B(t),o=B(r);return{localPort:n.port,localAddress:n.address,remotePort:o.port,remoteAddress:o.address}})):[]};const M=new Map([["host","Host"],["hostname","HostName"],["identityfile","IdentityFile"],["user","User"],["port","Port"],["connecttimeout","ConnectTimeout"],["remotecommand","RemoteCommand"],["localforward","LocalForward"]]);function H(e){return(Array.isArray(e)?e:[e]).filter((e=>!(e.match(/[?*]/)||e.match(/^\s*$/)||e.match(/^!/))))}const U=new l.EventEmitter,j=U.event;t.onDidChangeSshConfiguration=j,j((async()=>{l.extensions.getExtension("ms-vscode.remote-explorer")&&await l.commands.executeCommand("remote-explorer.refresh")})),l.workspace.onDidChangeConfiguration((e=>{e.affectsConfiguration(d.CONFIG_FILE_SETTING)&&U.fire()}));class W{constructor(e){this.logger=e,this.fileBeingWatched=new Set}startWatching(e){this.logger.debug(`ConfigFileWatcher: start watching ${e.toString()}`),this.fileBeingWatched.add(e.toString()),this.saveListener||(this.logger.debug("ConfigFileWatcher: adding save listener"),this.saveListener=l.workspace.onDidSaveTextDocument((e=>this.documentSaved(e)))),this.closeListener||(this.logger.debug("ConfigFileWatcher: adding close listener"),this.closeListener=l.workspace.onDidCloseTextDocument((e=>this.documentClosed(e))))}stopWatching(e){this.logger.debug(`ConfigFileWatcher: stop watching ${e.toString()}`),this.fileBeingWatched.delete(e.toString()),0===this.fileBeingWatched.size&&(this.saveListener&&(this.logger.debug("ConfigFileWatcher: removing save listener"),this.saveListener.dispose(),this.saveListener=void 0),this.closeListener&&(this.logger.debug("ConfigFileWatcher: removing close listener"),this.closeListener.dispose(),this.closeListener=void 0))}documentSaved(e){this.logger.debug(`ConfigFileWatcher: saving ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&(this.logger.debug(`ConfigFileWatcher: firing change event for ${e.uri}`),U.fire())}documentClosed(e){this.logger.debug(`ConfigFileWatcher: closing ${e.uri}`),this.fileBeingWatched.has(e.uri.toString())&&this.stopWatching(e.uri)}}let q;t.configureSshHosts=async function(e){const t=await(0,u.pickSshConfigurationFile)();if(t)if("command"===t.type)"help"===t.id?l.env.openExternal(l.Uri.parse("https://aka.ms/vscode-remote/ssh/config-file")):"settings"===t.id&&async function(){const{name:e,publisher:t,extensionPack:r}=(0,m.getPackageJson)(),n=[`${t}.${e}`];r&&r.forEach((e=>n.push(e))),await l.commands.executeCommand("workbench.action.openSettings",`@ext:${n.join(",")} config file`)}();else if("file"===t.type){let r=t.path;if(r){r=(0,w.untildify)(r);const t=l.Uri.file(r);q||(q=new W(e)),q.startWatching(t),await b(r)?await l.commands.executeCommand("vscode.open",t):await async function(e){const t=i.dirname(e);await b(t)||(await(0,w.mkdirp)(t),y.isWindows||e!==C||await E(t,448)),await v(e,""),y.isWindows||e!==C||await E(e,384);const r=await l.window.showTextDocument(l.Uri.file(e));await r.insertSnippet(new l.SnippetString("# Read more about SSH config files: https://linux.die.net/man/5/ssh_config\nHost ${1:alias}\n    HostName ${2:hostname}\n    User ${3:user}"))}(r)}}},t.addSshHost=async function(){const e=await new Promise(((e,t)=>{const r=l.window.createInputBox();r.title=l.l10n.t("Enter SSH Connection Command"),r.placeholder="E.g. ssh hello@microsoft.com -A",r.ignoreFocusOut=!0,r.onDidAccept((()=>{e(r.value.trim()||void 0),r.dispose()})),r.onDidHide((()=>{e(void 0)})),r.show()}));if(!e)return;let t;try{t=(0,p.sshCommandToConfig)(e)}catch(e){if(!(e instanceof p.CommandParseError))throw e;return void l.window.showErrorMessage(e.message)}const r=await(0,u.pickSshConfigurationFile)(l.l10n.t("Config file to save in"));if(!r||"file"!==r.type)return;const n=await $(r.path,!1);n.prepend(t,!0),await async function(e,t){e=(0,w.untildify)(e),await(0,w.mkdirp)(i.dirname(e)),await v(e,t.toString())}(r.path,n),U.fire();const o=l.l10n.t("Open Config"),s=l.l10n.t("Connect");switch(await l.window.showInformationMessage(l.l10n.t("Host added!"),o,s)){case o:const e=await l.workspace.openTextDocument((0,w.untildify)(r.path));await l.window.showTextDocument(e);break;case s:const n=new g.HostInfo(t.Host);(0,h.openEmptyWindowOnSshHost)(n)}};const z="\\'\"`!%\r\n".split("");t.assertValidHost=function(e){if(e.hostName.startsWith("-"))throw f.SshResolverError.Create(f.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH host name cannot begin with {0}","-"));if(e.user?.startsWith("-"))throw f.SshResolverError.Create(f.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH user name cannot begin with {0}","-"));z.forEach((t=>{if(e.hostName.includes(t))throw f.SshResolverError.Create(f.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH host name cannot include the character {0}",t));if(e.user?.includes(t))throw f.SshResolverError.Create(f.SshResolverFailureReason.InvalidHostName,l.l10n.t("SSH user name cannot include the character {0}",t))}))}},1163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addKeyToSshAgent=void 0;const n=r(7147),o=r(2037),s=r(1017),i=r(3837),a=r(1531),c=r(6737),l=r(5207),h=r(364),u=r(4378),d=i.promisify(n.writeFile);t.addKeyToSshAgent=async function(e,t,r){const n=(0,u.insecureRandomString)(),i=await async function(e,t){return l.isWindows?await async function(e,t){e=e||"";const r=o.tmpdir(),n=s.join(r,"vscode_add_ssh_key_to_agent.ps1"),i=`\n\t\t# Check if it's already in the ssh-agent\n\t\t$KEY = "${e}"\n\t\tif ($KEY -ne "") {\n\t\t\t$KEY = (Resolve-Path "${e}").toString()\n\t\t}\n\n\t\techo 'PS: adding key to ssh-agent'\n\t\techo ssh-add $KEY\n\t\tssh-add $KEY\n\t\tif ($LASTEXITCODE -ne 0) {\n\t\t\techo ${t}##5##\n\t\t}\n\t`;return await d(n,i),{command:"",sendText:`powershell -ExecutionPolicy Bypass ${n}`}}(e,t):function(e,t){return{command:`\nINSTALL_SCRIPT=\`mktemp\`.sh\ncat << 'EOF' > $INSTALL_SCRIPT\n\t# expand the key path to be absolute\n\tKEY="\`echo ${e=e||""}\`"\n\techo SHELL-SCRIPT: KEY=$KEY\n\techo SHELL-SCRIPT: adding key to ssh-agent\n\tssh-add ${e}\n\tif (( $? > 0 ))\n\tthen\n\t\techo ${t}##5##\n\tfi\nEOF\n\nchmod +x $INSTALL_SCRIPT\n\n/bin/bash -ilc $INSTALL_SCRIPT\n`}}(e,t)}(e,n),f=new a.PassphraseInteractor(t,r),p={id:"ssh-add",onData:async e=>{let t=(0,a.getExitCode)(e,n);if(void 0===t)r.error("Malformed exit code from ssh-add script, failed to add key to ssh agent.");else{if(0===t)return f.onData(e);r.error("ssh-add failed"),r.error("Consider setting up the ssh agent: https://aka.ms/vscode-remote/troubleshooting#_setting-up-the-ssh-agent")}return{}}};r.debug("Executing add-ssh-key:\n"+(i.sendText||i.command)),await(0,c.runInteractiveSshTerminalCommand)({systemInteractor:h.defaultSystemInteractor,command:i.command,sendText:i.sendText,interactors:[p],nickname:"add-ssh-key",allowShowTerminal:!0,logger:r})}},5065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTunnel=void 0;const n=r(1808),o=r(7874),s=r(9496),i=r(1531),a=r(3170),c=r(9763),l=r(7907),h=r(7674),u=r(5068),d=r(7174),f=r(6737),p=r(8691),m=r(9759),g=r(5537),w=r(3725),y=r(364),S=r(6105);class v{constructor(e,t,r,n){this.host=e,this.remoteTarget=t,this.localTarget=r,this.name=n}close(){E(this)}}class b extends v{constructor(e,t,r,n,o){super(e,t,r,n),this.tokenSource=o}set sshAuthSock(e){this._sshAuthSock=e}get sshAuthSock(){return this._sshAuthSock}dispose(){this.tokenSource.cancel()}}let _=[];function E(e){_=_.filter((t=>t!==e)),e.dispose()}t.createTunnel=async function(e,{remoteListeningOn:t,platform:r,preferredLocalPortRange:l,name:v,socksPort:k}){try{let I;try{const e=await async function(e){if(e){let t=e.end-e.start+1,r=await g.findFreePortFrom(e.start,t,3e3);if(0===r)throw new Error(s.l10n.t("No free ports in specified range '{0}-{1}'.  Remove or update the 'Preferred Local Port Range' setting and try again.",e.start,e.end));return r}return await g.findAnyFreePort()}(l);I={port:e}}catch(e){throw c.SshResolverError.Create(c.SshResolverFailureReason.FindLocalPort,s.l10n.t("Failed to find a free local port: {0}",e.message))}const R=k&&"port"in t?await async function(e,t,r,i,a){e.deps.progress.report({message:s.l10n.t("Setting up SSH tunnel")});const l=await(0,p.getConfigurationForHost)(e.host),h=l&&n.isIPv6(l.HostName)||"inet6"===l?.AddressFamily?"::1":"127.0.0.1",u=new s.CancellationTokenSource,d=new b(e.host,{port:i},t,a,u);_.push(d);const f=await async function(e,t,r,i,a){const l={proxy:{host:i,port:t,type:5},command:"connect",destination:{host:"127.0.0.1",port:r}};let h=0;return new Promise((i=>{a.debug(`Starting forwarding server. local ${c.ListenTarget.display(e)} -> socksPort ${t} -> remotePort ${r}`);const u=[],d=n.createServer((async t=>{try{h<10&&a.debug(`[Forwarding server ${c.ListenTarget.display(e)}] Got connection ${h++}`);const r=await o.SocksClient.createConnection(l);t.pipe(r.socket),r.socket.pipe(t),u.push({dispose(){t.end(),r.socket.end()}})}catch(e){a.error(`Failed to set up socket for dynamic port forward to remote port ${r}: ${e.message}. TCP port forwarding may be disabled, or the remote server may have crashed. See the VS Code Server log above for details.`),s.window.showErrorMessage('Failed to set up dynamic port forwarding connection over SSH to the VS Code Server. ([Show log](command:opensshremotes.showLog "Show log"))')}}));c.ListenTarget.listen(d,e,(()=>{a.debug("Forwarding server listening on "+c.ListenTarget.display(e)),i({dispose(){d.close(),(0,m.dispose)(u)}})}))}))}(t,r,i,h,e.deps.logger);return u.token.onCancellationRequested((()=>{(0,m.dispose)(f)})),d}(e,I,k,t.port,v):await async function(e,t,r,n,o){const l=e.deps;return(0,u.withShowDetailsEvent)((async p=>{let m;l.progress.report({message:`([details](command:${u.SHOW_DETAILS_COMMAND} "${s.l10n.t("Show details in terminal")}")) ${s.l10n.t("Setting up SSH tunnel")}`});const g=await async function(e,t,r,n){let o;o=t===h.Platform.Windows?`${(0,a.enableAgentForwarding)()?"echo $env:SSH_AUTH_SOCK; ":""}echo '${T}'; ${C}`:`${(0,a.enableAgentForwarding)()?"echo $SSH_AUTH_SOCK && ":""}echo -e '${T}' && while true; do sleep 180; echo -n ' '; done`;const s=e=>"port"in e?`127.0.0.1:${e.port}`:e.socketPath.startsWith("\\\\.\\pipe\\")?"/"+e.socketPath.slice(1):e.socketPath,i=`${s(n)}:${s(r)}`;return(0,d.generateMultiLineCommand)(e,t,o,{cmdSegment:["-L",i],allowPortForward:!0,quoteForShell:!0})}(e,t,r,n);l.logger.debug(`Spawning tunnel with: ${g}`);const S=new s.CancellationTokenSource;m=new b(e.host,r,n,o,S),_.push(m);const v=(0,i.getInteractorForMsg)(new RegExp(`(SSH_AUTH_SOCK=(.*)\\r?\\n)?${T}`));(0,f.runSshTerminalCommandWithLogin)(e,{systemInteractor:y.defaultSystemInteractor,command:g,nickname:"SSH Tunnel",interactor:v.interactor,revealTerminal:p,token:S.token}).then((()=>{l.logger.debug("SSH tunnel command completed unexpectedly")}),(e=>{l.logger.debug("SSH tunnel command completed unexpectedly with error: "+(e&&e.message))})).finally((()=>{E(m)}));const k=await v.result,I=k&&k[2]&&(0,w.stripEscapeSequences)(k[2]);return m.sshAuthSock=I,l.logger.info(`Spawned SSH tunnel between local ${c.ListenTarget.display(n)} and remote target ${c.ListenTarget.display(r)}`),m}))}(e,r,t,I,v);return e.deps.progress.report({message:s.l10n.t("Waiting for port forwarding to be ready")}),e.deps.logger.info("Waiting for ssh tunnel to be ready"),await async function(e,t=1e4){return async function(e,t){let r=0;for(;!await e();){if(r>t)throw new Error(s.l10n.t("Max wait time exhausted"));await(0,S.wait)(100),r+=100}}((async()=>!await g.isFreePort(e)),t)}(I.port),e.deps.logger.info(`Tunneled ${c.ListenTarget.display(t)} to local ${c.ListenTarget.display(I)}`),{localTarget:R.localTarget,sshAuthSock:R.sshAuthSock}}catch(t){const r=t.message||t;throw e.deps.logger.error(`Error establishing tunnel (${r}).`),new Error(s.l10n.t("Error establishing tunnel ({0}).",`${r}`))}};const C=`\n${l.getSshdParentPid}\n\n$sshdPID = getSshdParentPid\n\nwhile ($True) {\n\tif (!(gps -Id $sshdPID)) {\n\t\t"sshd parent died, exit"\n\t\texit 0\n\t}\n\tsleep 30\n}\n`,T="Connected to SSH Host - Please do not close this terminal"},36:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPortForwardingDisabledInteractor=t.getPrereqsWarningInteractor=t.logInstallScriptResult=t.generateSshCommand=t.tryInstall=void 0;const n=r(9496),o=r(1531),s=r(3170),i=r(5748),a=r(9763),c=r(810),l=r(7674),h=r(7174),u=r(6737),d=r(8286),f=r(3725);function p(e,t){const r=(0,o.getInteractorForMsg)((0,i.getScriptStartMarker)(e),"keep");return r.result.then((()=>{t.mark(2)})),r.interactor}function m(e,t){const r={...e,serverConfiguration:{...e.serverConfiguration,connectionToken:e.serverConfiguration.connectionToken&&(0,f.sanitizeConnectionToken)(e.serverConfiguration.connectionToken),execServerToken:e.serverConfiguration.execServerToken&&(0,f.sanitizeConnectionToken)(e.serverConfiguration.execServerToken)}};t.debug(`Parsed server configuration: ${JSON.stringify(r)}`),(0,l.warnForPreviewPlatform)(e.serverConfiguration,t)}async function g(e){const t=(0,o.getInteractorForInstallWarning)(e,1);return t.result.then((async()=>{const e=await n.window.showWarningMessage(n.l10n.t("The remote host may not meet VS Code Server's prerequisites for glibc and libstdc++"),{id:"moreInfo",title:n.l10n.t("More Info")});e&&"moreInfo"===e.id&&await n.env.openExternal(n.Uri.parse("https://aka.ms/vscode-remote/linux-prerequisites"))})),t.interactor}function w(e){const t=(0,o.getInteractorForMsg)("open failed: administratively prohibited");return t.result.then((async t=>{(0,a.detectPortForwardingDisabledAndWarn)(t[0],e)})),t.interactor}t.tryInstall=async function(e,{systemInteractor:t,command:r,revealTerminalEvent:i,usedAuthMethods:l,marker:h}){const y=e.deps,S=(0,o.getInstallScriptOutputInteractor)(h),v=(0,o.getServerErrorLogOutputInteractor)(),b=(0,o.getDownloadRequestInteractor)(h,y.logger),_=new n.CancellationTokenSource,E=new o.RemoteServerProgressInteractor(h,y.progress);let C;const T=await async function(e,t){const r=(0,o.getInteractorForMsg)("","keep"),n=(0,d.getDeferred)(),i=setTimeout((()=>{n.reject(a.SshResolverError.Timeout("Connecting with SSH timed out"))}),(0,s.connectTimeoutMilliseconds)(e,t));return r.result.then((()=>{t.debug("Got some output, clearing connection timeout"),clearTimeout(i)})),{interactor:r.interactor,result:n.promise}}(e.host,y.logger),k=await g(h),I=new o.ComposedInteractor([v.interactor,T.interactor,S.interactor,b.interactor,k,E,p(h,y.timer),w(y.logger)]);y.timer.mark(1),C=(0,u.runSshTerminalCommandWithLogin)(e,{interactor:I,marker:h,systemInteractor:t,command:r,nickname:"install",usedInteractors:l,revealTerminal:i,token:_.token}).catch((e=>{if(e instanceof d.CanceledError)throw a.SshResolverError.Canceled();throw e})),C.then((e=>{y.logger.debug("Install terminal quit with output: "+e)}),(()=>{}));const R=b.result.then((async r=>{await(0,c.downloadAndCopyToHost)(e,t,i,r).catch((e=>{throw e instanceof a.SshResolverError&&e.failureReason===a.SshResolverFailureReason.Canceled&&_.cancel(),e}))}));let P,x;try{let e=Promise.race([S.result,T.result,C]);v.result.then((e=>{x=e})),await Promise.race([e,R]);let t=await e;if(!t)throw a.SshResolverError.Create(a.SshResolverFailureReason.BadInstallScriptResult,"Got bad result from install script");P=t}catch(e){throw y.timer.mark(3),e}y.timer.mark(3),y.logger.debug(`Received install output: ${(0,f.sanitizeInstallScriptOutput)(P)}`);const A=(0,a.handleInstallOutput)(e,P,x);return A?(m(A,y.logger),A.storePlatform=!0,A):null},t.generateSshCommand=async function(e,t,r,n){const o=n?{cmdSegment:["-D",String(n)],allowPortForward:!0}:{};return o.quoteForShell=!0,await(0,h.generateMultiLineCommand)(e,t,r,o)},t.logInstallScriptResult=m,t.getPrereqsWarningInteractor=g,t.getPortForwardingDisabledInteractor=w},8286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanceledError=t.sleep=t.getDeferred=void 0,t.getDeferred=function(){let e,t;const r=new Promise(((r,n)=>{e=r,t=n}));return{resolve:e,reject:t,promise:r}},t.sleep=function(e){return new Promise((t=>{setTimeout(t,e)}))};class r extends Error{constructor(){super("Canceled")}}t.CanceledError=r},9759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withCancellationTokenSource=t.withDisposable=t.dispose=t.addDisposableListener=void 0;const n=r(9496);async function o(e,t){try{return await t()}finally{e.dispose()}}t.addDisposableListener=function(e,t,r){return e.on(t,r),{dispose(){e.removeListener(t,r)}}},t.dispose=function e(t,...r){return Array.isArray(t)?(t.forEach((e=>e&&e.dispose())),[]):0===r.length?t?(t.dispose(),t):void 0:(e(t),e(r),[])},t.withDisposable=o,t.withCancellationTokenSource=function(e){const t=new n.CancellationTokenSource;return o(t,(()=>e(t)))}},463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureError=void 0,t.ensureError=function(e){return e instanceof Error?e:new Error(String(e))}},7475:(e,t,r)=>{"use strict";let n;Object.defineProperty(t,"__esModule",{value:!0}),t.getPackageJson=void 0,t.getPackageJson=function(){return n||(n=r(4147)),n}},2386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HostInfo=void 0;const n=r(5677),o=r(1808),s=r(8691);class i{constructor(e,t,r,n){this.hostName=e,this.user=t,this.port=r,this.config=n}toString(){return this.user?`${this.user}@${this.hostName}`:this.hostName}static toPathString(e){return n.fast1a32hex(e.toString())}static toAuthorityString(e){if(e.user||e.hostName.toLowerCase()!==e.hostName||e.port||e.hostName.match(/[\/\\\+]/)){const t={hostName:e.hostName};e.user&&(t.user=e.user),e.port&&(t.port=e.port);const r=JSON.stringify(t);return Buffer.from(r,"utf8").toString("hex")}return e.hostName}static async parseWithConfig(e){const t=this.parse(e),r=await(0,s.getConfigurationForHost)(t);return r?new i(t.hostName,t.user,t.port,r):t}static parse(e){try{const t=JSON.parse(Buffer.from(e,"hex").toString("utf8"));if(t&&t.hostName)return new i(t.hostName,t.user,t.port)}catch(e){}return i.fromString(e)}static fromString(e){const t=e.match(/^(?:(.*)@)?(.+?)$/);if(t){const[,e,r]=t;let n;if(e&&""!==e&&(n=e),o.isIPv6(r))return new i(r,n,void 0);let s=r.match(/^\[(.+?)\](?::(\d+))?$/);if(s){const[,e,t]=s;if(o.isIPv6(e))return new i(e,n,t?parseInt(t,10):void 0)}if(s=r.match(/^(.+?)(?::(\d+))?$/),s){const[,e,t]=s;return new i(e,n,t?parseInt(t,10):void 0)}}return new i(e)}}t.HostInfo=i},9783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpPost=t.httpGet=t.getAgent=void 0;const n=r(3685),o=r(5687),s=r(7310),i=r(9496),a=r(6018);let c;t.getAgent=()=>{if(!c){const e=i.workspace.getConfiguration("http").get("proxy");c=e?new a.HttpsProxyAgent(e):void 0}return c},t.httpGet=function(e,t={},r){return new Promise(((i,a)=>{t={rejectUnauthorized:!1,...t};let c=n.get;if(e){const r=s.parse(e);t={...r},c="https:"===r.protocol?o.get:n.get}c(t,(e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?i(t):(r.error("HTTP GET failed with: "+e.statusCode+" "+e.statusMessage),a(new Error(t.trim())))}))})).on("error",(e=>{a(e)}))}))},t.httpPost=function(e,t,r={},i){return new Promise(((a,c)=>{r={rejectUnauthorized:!1,method:"POST",...r};const l=e=>{let t="";e.on("data",(e=>t+=e)),e.on("end",(()=>{200===e.statusCode?a(t):(i.error("HTTP POST failed with: "+e.statusCode+" "+e.statusMessage),c(new Error(t.trim())))}))};let h;if(e){const t=s.parse(e);r={...t},"https:"===t.protocol&&(h=o.request(r,l))}else h=n.request(r,l);h.write(t),h.end()}))}},132:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIPCHandlePath=void 0;const n=r(3837),o=r(6113),s=r(1017),i=r(2037);t.getIPCHandlePath=async function(e,t=20){const r=n.promisify(o.randomBytes);return function(e,t){return"win32"===process.platform?`\\\\.\\pipe\\vscode-ssh-${e}-${t}-sock`:process.env.XDG_RUNTIME_DIR?s.join(process.env.XDG_RUNTIME_DIR,`vscode-ssh-${e}-${t}.sock`):s.join(i.tmpdir(),`vscode-ssh-${e}-${t}.sock`)}(e,(await r(t)).toString("hex"))}},5238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindowsPath=t.sanitizeFileName=t.mkdirp=t.untildify=void 0;const n=r(2037),o=r(7147),s=r(1017),i=r(3837),a=i.promisify(o.mkdir),c=i.promisify(o.exists);async function l(e,t,r){if(!(t>=r||await c(e))){const n=s.dirname(e);n!==e&&await l(n,++t,r),await a(e)}}t.untildify=function(e){return e.replace(/^~($|\/|\\)/,`${n.homedir()}$1`)},t.mkdirp=async function(e){return await l(e,0,100)},t.sanitizeFileName=function(e){return e.replace(/[^a-z0-9._]/g,"-")},t.isWindowsPath=function(e){return/^[a-zA-Z]:\\/.test(e)}},5207:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=void 0,t.isWindows="win32"===process.platform},5537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFreePort=t.findAnyFreePort=t.findFreePortFrom=t.randomPort=void 0;const n=r(1808);function o(e,t,r){if(0===t)return r(0);const i=new n.Socket;i.once("connect",(()=>(s(i),o(e+1,t-1,r)))),i.once("data",(()=>{})),i.once("error",(n=>(s(i),"ECONNREFUSED"!==n.code?o(e+1,t-1,r):r(e)))),i.connect(e,"127.0.0.1")}function s(e){try{e.removeAllListeners("connect"),e.removeAllListeners("error"),e.end(),e.destroy(),e.unref()}catch(e){console.error(e)}}t.randomPort=function(){return 1025+Math.floor(64510*Math.random())},t.findFreePortFrom=function(e,t=300,r=3e3){let n=!1;return new Promise((s=>{const i=setTimeout((()=>{if(!n)return n=!0,s(0)}),r);o(e,t,(e=>{if(!n)return n=!0,clearTimeout(i),s(e)}))}))},t.findAnyFreePort=function(){return new Promise(((e,t)=>{const r=n.createServer();r.on("error",t),r.listen(0,"127.0.0.1",(()=>{const{port:t}=r.address();r.close((()=>{e(t)}))}))}))},t.isFreePort=async function(e){return new Promise((t=>{const r=new n.Socket;r.once("connect",(()=>{s(r),t(!1)})),r.once("data",(()=>{})),r.once("error",(e=>{s(r),t("ECONNREFUSED"===e.code)})),r.connect(e,"127.0.0.1")}))}},1049:(e,t)=>{"use strict";function r(e){return n(e)+"_"}function n(e){const t=e%26,r=Math.floor(e/26);return(r>0?n(r-1):"")+String.fromCharCode(t+"a".charCodeAt(0))}function o(e,t){t=[...t].sort(((e,t)=>e[0].length-t[0].length));for(let[r,n]of t)e=e.replace(new RegExp(`\\b${r}\\b`,"g"),n);return e}Object.defineProperty(t,"__esModule",{value:!0}),t.minifyNames=t.minNameForNumber=t.minifyPwsh=void 0,t.minifyPwsh=function(e,t){return e=o(e,t.map(((e,t)=>[e,r(t)]))),(e=(e=(e=e.replace(/^(\s*\$[a-z_]+) = /gim,"$1=")).split("\n").filter((e=>!e.match(/^\s*#/))).join("\n")).split("\n").map((e=>e.replace(/^\s+/,""))).join("\n")).replace(/\n\n+/g,"\n")},t.minNameForNumber=r,t.minifyNames=o},4460:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killTree=void 0;const n=r(1017),o=r(2081),s=r(3837);t.killTree=async function(e,t){let r;if("win32"===process.platform){const t=process.env.WINDIR||"C:\\Windows";r=`${n.join(t,"System32","taskkill.exe")} /F /T /PID ${e}`}else r=`"${n.join(__dirname,"./utils/terminateProcess.sh")}" ${e.toString()}`;try{t.debug(`Killing process with command "${r}"`);const e=await s.promisify(o.exec)(r);e.stdout&&t.debug("stdout: "+e.stdout),e.stderr&&t.debug("stderr: "+e.stderr)}catch(e){t.error("Killing server failed: "+e.message)}}},8904:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductInfo=void 0;const n=r(7147),o=r(1017),s=r(3837),i=r(9496);let a;async function c(){if(!a){const e=await(0,s.promisify)(n.readFile)(o.join(i.env.appRoot,"product.json"),"utf8");a=JSON.parse(e)}return a}t.getProductInfo=async function(){let e=await c();return e.commit&&e.serverDataFolderName||(e={commit:"22e3447b4b410dcf8426bf70743c5dd4030d6122",quality:"insider",serverDataFolderName:".vscode-server-oss",serverApplicationName:"code-server-insiders",version:"dev-insiders"}),e}},5260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProgressOutputString=t.RemoteProgressMessages=void 0;const n=r(9496);t.RemoteProgressMessages={1:n.l10n.t("Downloading VS Code Server"),2:n.l10n.t("Installing VS Code Server")},t.getProgressOutputString=function(e,t){return`${e}%%${t}%%`}},2208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serverLicense=void 0,t.serverLicense=["*","* Visual Studio Code Server","*","* By using the software, you agree to","* the Visual Studio Code Server License Terms (https://aka.ms/vscode-server-license) and","* the Microsoft Privacy Statement (https://privacy.microsoft.com/en-US/privacystatement).","*"]},3725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringMap=t.stripAllNewlines=t.escapeRegExpCharacters=t.splitLines=t.markLine=t.markLines=t.sanitizeCopyofScriptVars=t.sanitizeExtensionId=t.sanitizeConnectionToken=t.sanitizeInstallScriptOutput=t.stripTrailingNewline=t.quoteForShellIfNeeded=t.quoteForShell=t.stripEscapeSequences=t.lastNonemptyLine=void 0;const n=r(5207);function o(e){return e.replace(/\x1b\[\??[0-9]{0,3}(;[0-9]{1,3})?[a-zA-Z]/g,"").replace(/\u0008/g,"").replace(/\r/g,"")}function s(e,t){return t?`"${e}"`:`'${e}'`}function i(e){return e.replace(/\r?\n$/,"")}function a(e){return e.replace(/[a-z]/g,"a").replace(/[A-Z]/g,"A").replace(/[0-9]/g,"1")}t.lastNonemptyLine=function(e){const t=l(e);if(n.isWindows){let e="";for(let r=t.length-1;r>=0;r--){const n=o(t[r]);if(n.match(/The process tried to write to a nonexistent pipe/))e=n;else if(n)return n}if(e)return e}const r=t.filter((e=>!!e));return r[r.length-1]},t.stripEscapeSequences=o,t.quoteForShell=s,t.quoteForShellIfNeeded=function(e,t){return e.match(/[^a-z0-9]/)?s(e,t):e},t.stripTrailingNewline=i,t.sanitizeInstallScriptOutput=function(e){return function(e){return e.replace(/(connectionToken|execServerToken)==(.*)==/,((e,t,r)=>`${t}==${a(r)}==`))}(e)},t.sanitizeConnectionToken=a,t.sanitizeExtensionId=function(e){return e.replace(/[^a-z0-9\.\-_]/gi,"")};const c={token:a};function l(e){return e.split(/\r?\n/g)}t.sanitizeCopyofScriptVars=function(e){const t={};for(const r in e){const n=e[r],o=c[r];t[r]=o?o(n):n}return t},t.markLines=function(e,t=""){return l(i(e)).map((e=>`${t}> ${e}`)).join("\n")},t.markLine=function(e,t=""){return`${t}> ${e}`},t.splitLines=l,t.escapeRegExpCharacters=function(e){return e.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")},t.stripAllNewlines=function(e){return e.replace(/\r?\n/,"")},t.parseStringMap=function(e,t="==",r){e=e.trim().replace(/\r?\n/g,"");const n={};for(let o=0;o<e.length;){const s=e.indexOf(t,o),i=e.indexOf(t,s+t.length);if(-1===s||-1===i)return r.trace("Stopped parsing output early. Remaining text: "+e.substring(o)),n;const a=e.slice(s+t.length,i);n[e.slice(o,s)]=a,o=i+t.length;const c=e.substr(o).match(/^\s+/);c&&c[0]&&(o+=c[0].length)}return n}},364:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultSystemInteractor=void 0;const n=r(9496);t.defaultSystemInteractor={createTerminal:n.window.createTerminal,onDidCloseTerminal:n.window.onDidCloseTerminal,onDidWriteTerminalData:n.window.onDidWriteTerminalData}},3958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawTimer=t.Timer=void 0,t.Timer=class{constructor(){this.timer=new r}mark(e){this.timer.mark(e)}computeStats(){return{totalResolveTime:this.timer.getDuration(0,4),preSshTime:this.timer.getDuration(0,1),establishSshTime:this.timer.getDuration(1,2),scriptTime:this.timer.getDuration(1,3),localDownloadTime:this.timer.getDuration(5,6),scpTime:this.timer.getDuration(7,8)}}};class r{constructor(){this.times=new Map}mark(e){this.times.set(e,Date.now())}getDuration(e,t){const r=this.times.get(e),n=this.times.get(t);if("number"==typeof r&&"number"==typeof n)return n-r}}t.RawTimer=r},4378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.insecureRandomString=void 0;const n=r(6113);t.insecureRandomString=function(e=12){let t="";for(let r=0;r<e;r++){t+="0123456789abcdef"[Math.floor(16*Math.random())]}return t},t.generateUuid=function(){return n.randomUUID()}},6105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wait=void 0,t.wait=async function(e){return new Promise(((t,r)=>{setTimeout((()=>t()),e)}))}},4608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VariablesManager=void 0,t.VariablesManager=class{constructor(e,t){this.collection=e,this.deps=t,e.persistent=!1}update(e){this.deps.logger.trace(`Updating terminal environments: ${JSON.stringify(e)}`);for(let t in e)this.collection.replace(t,e[t])}}},6379:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertVSDA=t.licenseErrorText=void 0;const n="undefined"!=typeof require?require:r(7266),o=r(6113),s=r(1017),i=r(9496);t.licenseErrorText=["You may install and use any number of copies of the software only with Microsoft Visual Studio,","Visual Studio for Mac, Visual Studio Code, Azure DevOps, Team Foundation Server, and successor Microsoft products","and services (collectively, the Visual Studio Products and Services) to develop and test your applications.","The software is licensed, not sold. This agreement only gives you some rights to use the software. Microsoft reserves all other rights.","You may not:","work around any technical limitations in the software that only allow you to use it in certain ways;","reverse engineer, decompile or disassemble the software, or otherwise attempt to derive the source code for the software,","except and to the extent required by third party licensing terms governing use of certain open source components that may be included in the software;","remove, minimize, block, or modify any notices of Microsoft or its suppliers in the software;","use the software in any way that is against the law or to create or propagate malware; or","share, publish, distribute, or lease the software (except for any distributable code, subject to the terms above),","provide the software as a stand-alone offering for others to use, or transfer the software or this agreement to any third party."].join(" ");const a="aes-192-cbc",c="SEE  LICENSE.txt",l=o.scryptSync(t.licenseErrorText,c,24),h=Buffer.from(c);function u(e){try{const t=n.resolve(d("bdf000de72c4f5f5d7cff4fa6dd90b95"),{paths:e}),r=n(t);if(!r[d("0fd50b75eeecb3b44b3932921442f72c")]||!r[d("80c3ae7905cba507debf9b326fc386ab")])return;return r}catch(e){return}}function d(e){const t=o.createDecipheriv(a,l,h);let r=t.update(e,"hex","utf8");return r+=t.final("utf8"),r}t.assertVSDA=function(){const e=u(n.main?.paths.map((e=>e+d("f70715b752c50649525efc24a1d133eb")))??[])||u([s.posix.join(i.env.appRoot,d("9e4708daf438152c7e63cf9f3b24d92c"))]);if(!e)throw new Error("Remote - SSH is only supported in Microsoft versions of VS Code");return e}},2660:function(e,t){var r;r=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const s=r,i=Promise,a=Promise.prototype.then,c=Promise.resolve.bind(i),l=Promise.reject.bind(i);function h(e){return new i(e)}function u(e){return c(e)}function d(e){return l(e)}function f(e,t,r){return a.call(e,t,r)}function p(e,t,r){f(f(e,t,r),void 0,s)}function m(e,t){p(e,t)}function g(e,t){p(e,void 0,t)}function w(e,t,r){return f(e,t,r)}function y(e){f(e,void 0,s)}const S=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=u(void 0);return e=>f(t,e)})();function v(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function b(e,t,r){try{return u(v(e,t,r))}catch(e){return d(e)}}class _{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,s=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,s}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function E(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?I(e):"closed"===t._state?function(e){I(e),x(e)}(e):R(e,t._storedError)}function C(e,t){return vr(e._ownerReadableStream,t)}function T(e){"readable"===e._ownerReadableStream._state?P(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function k(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function I(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function R(e,t){I(e),P(e,t)}function P(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function x(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const A=t("[[AbortSteps]]"),O=t("[[ErrorSteps]]"),$=t("[[CancelSteps]]"),D=t("[[PullSteps]]"),L=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},F=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function N(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function B(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function M(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function H(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function U(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function j(e){return Number(e)}function W(e){return 0===e?0:e}function q(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=W(n),!L(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return W(F(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return L(n)&&0!==n?n:0}function z(e,t){if(!yr(e))throw new TypeError(`${t} is not a ReadableStream.`)}function V(e){return new X(e)}function G(e,t){e._reader._readRequests.push(t)}function K(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Z(e){return e._reader._readRequests.length}function Y(e){const t=e._reader;return void 0!==t&&!!J(t)}class X{constructor(e){if(H(e,1,"ReadableStreamDefaultReader"),z(e,"First parameter"),Sr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new _}get closed(){return J(this)?this._closedPromise:d(ee("closed"))}cancel(e=void 0){return J(this)?void 0===this._ownerReadableStream?d(k("cancel")):C(this,e):d(ee("cancel"))}read(){if(!J(this))return d(ee("read"));if(void 0===this._ownerReadableStream)return d(k("read from"));let e,t;const r=h(((r,n)=>{e=r,t=n}));return Q(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!J(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}}}function J(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof X}function Q(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[D](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(X.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(X.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?w(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?w(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return d(k("iterate"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return Q(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,S((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,T(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,T(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return d(k("finish iterating"));if(!this._preventCancel){const r=C(t,e);return T(t),w(r,(()=>({value:e,done:!0})))}return T(t),u({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():d(se("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):d(se("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function se(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const ie=Number.isNaN||function(e){return e!=e};function ae(e){return e.slice()}function ce(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function le(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return ce(o,0,e,t,n),o}function he(e){const t=le(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ue(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function de(e,t,r){if("number"!=typeof(n=r)||ie(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function fe(e){e._queue=new _,e._queueTotalSize=0}class pe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!we(this))throw Me("view");return this._view}respond(e){if(!we(this))throw Me("respond");if(H(e,1,"respond"),e=q(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,Fe(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!we(this))throw Me("respondWithNewView");if(H(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Ne(this._associatedReadableByteStreamController,e)}}Object.defineProperties(pe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(pe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class me{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ge(this))throw He("byobRequest");return De(this)}get desiredSize(){if(!ge(this))throw He("desiredSize");return Le(this)}close(){if(!ge(this))throw He("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Ae(this)}enqueue(e){if(!ge(this))throw He("enqueue");if(H(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Oe(this,e)}error(e=void 0){if(!ge(this))throw He("error");$e(this,e)}[$](e){Se(this),fe(this);const t=this._cancelAlgorithm(e);return xe(this),t}[D](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Te(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}G(t,e),ye(this)}}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof me}function we(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof pe}function ye(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(Y(t)&&Z(t)>0)return!0;if(qe(t)&&We(t)>0)return!0;return Le(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ye(e))}),(t=>{$e(e,t)}))))}function Se(e){ke(e),e._pendingPullIntos=new _}function ve(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=be(t);"default"===t.readerType?K(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function be(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function _e(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ee(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),s=t.bytesFilled+o,i=s-s%r;let a=o,c=!1;i>n&&(a=i-t.bytesFilled,c=!0);const l=e._queue;for(;a>0;){const r=l.peek(),n=Math.min(a,r.byteLength),o=t.byteOffset+t.bytesFilled;ce(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?l.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Ce(0,n,t),a-=n}return c}function Ce(e,t,r){r.bytesFilled+=t}function Te(e){0===e._queueTotalSize&&e._closeRequested?(xe(e),br(e._controlledReadableByteStream)):ye(e)}function ke(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ie(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ee(e,t)&&(Pe(e),ve(e._controlledReadableByteStream,t))}}function Re(e,t){const r=e._pendingPullIntos.peek();ke(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(qe(r))for(;We(r)>0;)ve(r,Pe(e))}(e):function(e,t,r){if(Ce(0,t,r),r.bytesFilled<r.elementSize)return;Pe(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,o=le(r.buffer,t-n,t);_e(e,o,0,o.byteLength)}r.bytesFilled-=n,ve(e._controlledReadableByteStream,r),Ie(e)}(e,t,r),ye(e)}function Pe(e){return e._pendingPullIntos.shift()}function xe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ae(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw $e(e,t),t}xe(e),br(t)}}function Oe(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,o=t.byteOffset,s=t.byteLength,i=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}ke(e),Y(r)?0===Z(r)?_e(e,i,o,s):(e._pendingPullIntos.length>0&&Pe(e),K(r,new Uint8Array(i,o,s),!1)):qe(r)?(_e(e,i,o,s),Ie(e)):_e(e,i,o,s),ye(e)}function $e(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(Se(e),fe(e),xe(e),_r(r,t))}function De(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(pe.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function Le(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Fe(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Re(e,t)}function Ne(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Re(e,n)}function Be(e,t,r,n,o,s,i){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=i,t._pendingPullIntos=new _,e._readableStreamController=t,p(u(r()),(()=>{t._started=!0,ye(t)}),(e=>{$e(t,e)}))}function Me(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function He(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Ue(e){return new ze(e)}function je(e,t){e._reader._readIntoRequests.push(t)}function We(e){return e._reader._readIntoRequests.length}function qe(e){const t=e._reader;return void 0!==t&&!!Ve(t)}Object.defineProperties(me.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ze{constructor(e){if(H(e,1,"ReadableStreamBYOBReader"),z(e,"First parameter"),Sr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ge(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new _}get closed(){return Ve(this)?this._closedPromise:d(Ke("closed"))}cancel(e=void 0){return Ve(this)?void 0===this._ownerReadableStream?d(k("cancel")):C(this,e):d(Ke("cancel"))}read(e){if(!Ve(this))return d(Ke("read"));if(!ArrayBuffer.isView(e))return d(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return d(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return d(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return d(k("read from"));let t,r;const n=h(((e,n)=>{t=e,r=n}));return Ge(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ve(this))throw Ke("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}}}function Ve(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ze}function Ge(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const s=t.constructor,i=t.buffer,a={buffer:i,bufferByteLength:i.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:s,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(a),void je(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ee(e,a)){const t=be(a);return Te(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return $e(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(a),je(n,r),ye(e)}else{const e=new s(a.buffer,a.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Ke(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ze(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ie(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ye(e){const{size:t}=e;return t||(()=>1)}function Xe(e,t){N(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:j(r),size:void 0===n?void 0:Je(n,`${t} has member 'size' that`)}}function Je(e,t){return B(e,t),t=>j(e(t))}function Qe(e,t,r){return B(e,r),r=>b(e,t,[r])}function et(e,t,r){return B(e,r),()=>b(e,t,[])}function tt(e,t,r){return B(e,r),r=>v(e,t,[r])}function rt(e,t,r){return B(e,r),(r,n)=>b(e,t,[r,n])}function nt(e,t){if(!ct(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ze.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ze.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class st{constructor(e={},t={}){void 0===e?e=null:M(e,"First parameter");const r=Xe(t,"Second parameter"),n=function(e,t){N(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,s=null==e?void 0:e.type,i=null==e?void 0:e.write;return{abort:void 0===r?void 0:Qe(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:et(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===i?void 0:rt(i,e,`${t} has member 'write' that`),type:s}}(e,"First parameter");if(at(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Ye(r);!function(e,t,r,n){const o=Object.create(Tt.prototype);let s=()=>{},i=()=>u(void 0),a=()=>u(void 0),c=()=>u(void 0);void 0!==t.start&&(s=()=>t.start(o)),void 0!==t.write&&(i=e=>t.write(e,o)),void 0!==t.close&&(a=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),It(e,o,s,i,a,c,r,n)}(this,n,Ze(r,1),o)}get locked(){if(!ct(this))throw Dt("locked");return lt(this)}abort(e=void 0){return ct(this)?lt(this)?d(new TypeError("Cannot abort a stream that already has a writer")):ht(this,e):d(Dt("abort"))}close(){return ct(this)?lt(this)?d(new TypeError("Cannot close a stream that already has a writer")):mt(this)?d(new TypeError("Cannot close an already-closing stream")):ut(this):d(Dt("close"))}getWriter(){if(!ct(this))throw Dt("getWriter");return it(this)}}function it(e){return new yt(e)}function at(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new _,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function ct(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof st}function lt(e){return void 0!==e._writer}function ht(e,t){var r;if("closed"===e._state||"errored"===e._state)return u(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return u(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const s=h(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=s,o||ft(e,t),s}function ut(e){const t=e._state;if("closed"===t||"errored"===t)return d(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=h(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&Vt(n),de(o=e._writableStreamController,Ct,0),xt(o),r}function dt(e,t){"writable"!==e._state?pt(e):ft(e,t)}function ft(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&bt(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&pt(e)}function pt(e){e._state="errored",e._writableStreamController[O]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new _,void 0===e._pendingAbortRequest)return void gt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void gt(e);p(e._writableStreamController[A](r._reason),(()=>{r._resolve(),gt(e)}),(t=>{r._reject(t),gt(e)}))}function mt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function gt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Ht(t,e._storedError)}function wt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){jt(e)}(r):Vt(r)),e._backpressure=t}Object.defineProperties(st.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(st.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class yt{constructor(e){if(H(e,1,"WritableStreamDefaultWriter"),nt(e,"First parameter"),lt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!mt(e)&&e._backpressure?jt(this):qt(this),Bt(this);else if("erroring"===t)Wt(this,e._storedError),Bt(this);else if("closed"===t)qt(this),Bt(this),Ut(this);else{const t=e._storedError;Wt(this,t),Mt(this,t)}}get closed(){return St(this)?this._closedPromise:d(Ft("closed"))}get desiredSize(){if(!St(this))throw Ft("desiredSize");if(void 0===this._ownerWritableStream)throw Nt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Pt(t._writableStreamController)}(this)}get ready(){return St(this)?this._readyPromise:d(Ft("ready"))}abort(e=void 0){return St(this)?void 0===this._ownerWritableStream?d(Nt("abort")):function(e,t){return ht(e._ownerWritableStream,t)}(this,e):d(Ft("abort"))}close(){if(!St(this))return d(Ft("close"));const e=this._ownerWritableStream;return void 0===e?d(Nt("close")):mt(e)?d(new TypeError("Cannot close an already-closing stream")):vt(this)}releaseLock(){if(!St(this))throw Ft("releaseLock");void 0!==this._ownerWritableStream&&_t(this)}write(e=void 0){return St(this)?void 0===this._ownerWritableStream?d(Nt("write to")):Et(this,e):d(Ft("write"))}}function St(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof yt}function vt(e){return ut(e._ownerWritableStream)}function bt(e,t){"pending"===e._readyPromiseState?zt(e,t):function(e,t){Wt(e,t)}(e,t)}function _t(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");bt(e,r),function(e,t){"pending"===e._closedPromiseState?Ht(e,t):function(e,t){Mt(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Et(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return At(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return d(Nt("write to"));const s=r._state;if("errored"===s)return d(r._storedError);if(mt(r)||"closed"===s)return d(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===s)return d(r._storedError);const i=function(e){return h(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{de(e,t,r)}catch(t){return void At(e,t)}const n=e._controlledWritableStream;mt(n)||"writable"!==n._state||wt(n,Ot(e)),xt(e)}(n,t,o),i}Object.defineProperties(yt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(yt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Ct={};class Tt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!kt(this))throw Lt("abortReason");return this._abortReason}get signal(){if(!kt(this))throw Lt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!kt(this))throw Lt("error");"writable"===this._controlledWritableStream._state&&$t(this,e)}[A](e){const t=this._abortAlgorithm(e);return Rt(this),t}[O](){fe(this)}}function kt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Tt}function It(e,t,r,n,o,s,i,a){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=a,t._strategyHWM=i,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=s;const c=Ot(t);wt(e,c),p(u(r()),(()=>{t._started=!0,xt(t)}),(r=>{t._started=!0,dt(e,r)}))}function Rt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Pt(e){return e._strategyHWM-e._queueTotalSize}function xt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void pt(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Ct?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ue(e);const r=e._closeAlgorithm();Rt(e),p(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ut(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),dt(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r);p(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(ue(e),!mt(r)&&"writable"===t){const t=Ot(e);wt(r,t)}xt(e)}),(t=>{"writable"===r._state&&Rt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,dt(e,t)}(r,t)}))}(e,r)}function At(e,t){"writable"===e._controlledWritableStream._state&&$t(e,t)}function Ot(e){return Pt(e)<=0}function $t(e,t){const r=e._controlledWritableStream;Rt(e),ft(r,t)}function Dt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Lt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Ft(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Nt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Bt(e){e._closedPromise=h(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Mt(e,t){Bt(e),Ht(e,t)}function Ht(e,t){void 0!==e._closedPromise_reject&&(y(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ut(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function jt(e){e._readyPromise=h(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Wt(e,t){jt(e),zt(e,t)}function qt(e){jt(e),Vt(e)}function zt(e,t){void 0!==e._readyPromise_reject&&(y(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Vt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Tt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Tt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Gt="undefined"!=typeof DOMException?DOMException:void 0,Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Gt)?Gt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Zt(e,t,n,o,s,i){const a=V(e),c=it(t);e._disturbed=!0;let l=!1,w=u(void 0);return h(((S,v)=>{let b;if(void 0!==i){if(b=()=>{const r=new Kt("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?ht(t,r):u(void 0))),s||n.push((()=>"readable"===e._state?vr(e,r):u(void 0))),R((()=>Promise.all(n.map((e=>e())))),!0,r)},i.aborted)return void b();i.addEventListener("abort",b)}var _,E,C;if(I(e,a._closedPromise,(e=>{o?P(!0,e):R((()=>ht(t,e)),!0,e)})),I(t,c._closedPromise,(t=>{s?P(!0,t):R((()=>vr(e,t)),!0,t)})),_=e,E=a._closedPromise,C=()=>{n?P():R((()=>function(e){const t=e._ownerWritableStream,r=t._state;return mt(t)||"closed"===r?u(void 0):"errored"===r?d(t._storedError):vt(e)}(c)))},"closed"===_._state?C():m(E,C),mt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");s?P(!0,t):R((()=>vr(e,t)),!0,t)}function k(){const e=w;return f(w,(()=>e!==w?k():void 0))}function I(e,t,r){"errored"===e._state?r(e._storedError):g(t,r)}function R(e,r,n){function o(){p(e(),(()=>x(r,n)),(e=>x(!0,e)))}l||(l=!0,"writable"!==t._state||mt(t)?o():m(k(),o))}function P(e,r){l||(l=!0,"writable"!==t._state||mt(t)?x(e,r):m(k(),(()=>x(e,r))))}function x(e,t){_t(c),T(a),void 0!==i&&i.removeEventListener("abort",b),e?v(t):S(void 0)}y(h(((e,t)=>{!function n(o){o?e():f(l?u(!0):f(c._readyPromise,(()=>h(((e,t)=>{Q(a,{_chunkSteps:t=>{w=f(Et(c,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),n,t)}(!1)})))}))}class Yt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xt(this))throw ar("desiredSize");return or(this)}close(){if(!Xt(this))throw ar("close");if(!sr(this))throw new TypeError("The stream is not in a state that permits close");tr(this)}enqueue(e=void 0){if(!Xt(this))throw ar("enqueue");if(!sr(this))throw new TypeError("The stream is not in a state that permits enqueue");return rr(this,e)}error(e=void 0){if(!Xt(this))throw ar("error");nr(this,e)}[$](e){fe(this);const t=this._cancelAlgorithm(e);return er(this),t}[D](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=ue(this);this._closeRequested&&0===this._queue.length?(er(this),br(t)):Jt(this),e._chunkSteps(r)}else G(t,e),Jt(this)}}function Xt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Yt}function Jt(e){Qt(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,p(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Jt(e))}),(t=>{nr(e,t)}))))}function Qt(e){const t=e._controlledReadableStream;return!!sr(e)&&!!e._started&&(!!(Sr(t)&&Z(t)>0)||or(e)>0)}function er(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function tr(e){if(!sr(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(er(e),br(t))}function rr(e,t){if(!sr(e))return;const r=e._controlledReadableStream;if(Sr(r)&&Z(r)>0)K(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw nr(e,t),t}try{de(e,t,r)}catch(t){throw nr(e,t),t}}Jt(e)}function nr(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(fe(e),er(e),_r(r,t))}function or(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function sr(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function ir(e,t,r,n,o,s,i){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=i,t._strategyHWM=s,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,p(u(r()),(()=>{t._started=!0,Jt(t)}),(e=>{nr(t,e)}))}function ar(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function cr(e,t,r){return B(e,r),r=>b(e,t,[r])}function lr(e,t,r){return B(e,r),r=>b(e,t,[r])}function hr(e,t,r){return B(e,r),r=>v(e,t,[r])}function ur(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function dr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function fr(e,t){N(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,s=null==e?void 0:e.signal;return void 0!==s&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(s,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:s}}Object.defineProperties(Yt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Yt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class pr{constructor(e={},t={}){void 0===e?e=null:M(e,"First parameter");const r=Xe(t,"Second parameter"),n=function(e,t){N(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,s=null==r?void 0:r.pull,i=null==r?void 0:r.start,a=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:q(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:cr(o,r,`${t} has member 'cancel' that`),pull:void 0===s?void 0:lr(s,r,`${t} has member 'pull' that`),start:void 0===i?void 0:hr(i,r,`${t} has member 'start' that`),type:void 0===a?void 0:ur(a,`${t} has member 'type' that`)}}(e,"First parameter");if(wr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(me.prototype);let o=()=>{},s=()=>u(void 0),i=()=>u(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(s=()=>t.pull(n)),void 0!==t.cancel&&(i=e=>t.cancel(e));const a=t.autoAllocateChunkSize;if(0===a)throw new TypeError("autoAllocateChunkSize must be greater than 0");Be(e,n,o,s,i,r,a)}(this,n,Ze(r,0))}else{const e=Ye(r);!function(e,t,r,n){const o=Object.create(Yt.prototype);let s=()=>{},i=()=>u(void 0),a=()=>u(void 0);void 0!==t.start&&(s=()=>t.start(o)),void 0!==t.pull&&(i=()=>t.pull(o)),void 0!==t.cancel&&(a=e=>t.cancel(e)),ir(e,o,s,i,a,r,n)}(this,n,Ze(r,1),e)}}get locked(){if(!yr(this))throw Er("locked");return Sr(this)}cancel(e=void 0){return yr(this)?Sr(this)?d(new TypeError("Cannot cancel a stream that already has a reader")):vr(this,e):d(Er("cancel"))}getReader(e=void 0){if(!yr(this))throw Er("getReader");return void 0===function(e,t){N(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:dr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?V(this):Ue(this)}pipeThrough(e,t={}){if(!yr(this))throw Er("pipeThrough");H(e,1,"pipeThrough");const r=function(e,t){N(e,t);const r=null==e?void 0:e.readable;U(r,"readable","ReadableWritablePair"),z(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return U(n,"writable","ReadableWritablePair"),nt(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=fr(t,"Second parameter");if(Sr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(lt(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return y(Zt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!yr(this))return d(Er("pipeTo"));if(void 0===e)return d("Parameter 1 is required in 'pipeTo'.");if(!ct(e))return d(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=fr(t,"Second parameter")}catch(e){return d(e)}return Sr(this)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):lt(e)?d(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!yr(this))throw Er("tee");return ae(ge((e=this)._readableStreamController)?function(e){let t,r,n,o,s,i=V(e),a=!1,c=!1,l=!1,d=!1,f=!1;const p=h((e=>{s=e}));function m(e){g(e._closedPromise,(t=>{e===i&&($e(n._readableStreamController,t),$e(o._readableStreamController,t),d&&f||s(void 0))}))}function w(){Ve(i)&&(T(i),i=V(e),m(i)),Q(i,{_chunkSteps:t=>{S((()=>{c=!1,l=!1;const r=t;let i=t;if(!d&&!f)try{i=he(t)}catch(t){return $e(n._readableStreamController,t),$e(o._readableStreamController,t),void s(vr(e,t))}d||Oe(n._readableStreamController,r),f||Oe(o._readableStreamController,i),a=!1,c?v():l&&b()}))},_closeSteps:()=>{a=!1,d||Ae(n._readableStreamController),f||Ae(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&Fe(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&Fe(o._readableStreamController,0),d&&f||s(void 0)},_errorSteps:()=>{a=!1}})}function y(t,r){J(i)&&(T(i),i=Ue(e),m(i));const h=r?o:n,u=r?n:o;Ge(i,t,{_chunkSteps:t=>{S((()=>{c=!1,l=!1;const n=r?f:d;if(r?d:f)n||Ne(h._readableStreamController,t);else{let r;try{r=he(t)}catch(t){return $e(h._readableStreamController,t),$e(u._readableStreamController,t),void s(vr(e,t))}n||Ne(h._readableStreamController,t),Oe(u._readableStreamController,r)}a=!1,c?v():l&&b()}))},_closeSteps:e=>{a=!1;const t=r?f:d,n=r?d:f;t||Ae(h._readableStreamController),n||Ae(u._readableStreamController),void 0!==e&&(t||Ne(h._readableStreamController,e),!n&&u._readableStreamController._pendingPullIntos.length>0&&Fe(u._readableStreamController,0)),t&&n||s(void 0)},_errorSteps:()=>{a=!1}})}function v(){if(a)return c=!0,u(void 0);a=!0;const e=De(n._readableStreamController);return null===e?w():y(e._view,!1),u(void 0)}function b(){if(a)return l=!0,u(void 0);a=!0;const e=De(o._readableStreamController);return null===e?w():y(e._view,!0),u(void 0)}function _(){}return n=gr(_,v,(function(n){if(d=!0,t=n,f){const n=ae([t,r]),o=vr(e,n);s(o)}return p})),o=gr(_,b,(function(n){if(f=!0,r=n,d){const n=ae([t,r]),o=vr(e,n);s(o)}return p})),m(i),[n,o]}(e):function(e,t){const r=V(e);let n,o,s,i,a,c=!1,l=!1,d=!1,f=!1;const p=h((e=>{a=e}));function m(){return c?(l=!0,u(void 0)):(c=!0,Q(r,{_chunkSteps:e=>{S((()=>{l=!1;const t=e,r=e;d||rr(s._readableStreamController,t),f||rr(i._readableStreamController,r),c=!1,l&&m()}))},_closeSteps:()=>{c=!1,d||tr(s._readableStreamController),f||tr(i._readableStreamController),d&&f||a(void 0)},_errorSteps:()=>{c=!1}}),u(void 0))}function w(){}return s=mr(w,m,(function(t){if(d=!0,n=t,f){const t=ae([n,o]),r=vr(e,t);a(r)}return p})),i=mr(w,m,(function(t){if(f=!0,o=t,d){const t=ae([n,o]),r=vr(e,t);a(r)}return p})),g(r._closedPromise,(e=>{nr(s._readableStreamController,e),nr(i._readableStreamController,e),d&&f||a(void 0)})),[s,i]}(e));var e}values(e=void 0){if(!yr(this))throw Er("values");return function(e,t){const r=V(e),n=new re(r,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){N(e,"First parameter");const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e).preventCancel)}}function mr(e,t,r,n=1,o=(()=>1)){const s=Object.create(pr.prototype);return wr(s),ir(s,Object.create(Yt.prototype),e,t,r,n,o),s}function gr(e,t,r){const n=Object.create(pr.prototype);return wr(n),Be(n,Object.create(me.prototype),e,t,r,0,void 0),n}function wr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function yr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof pr}function Sr(e){return void 0!==e._reader}function vr(e,t){if(e._disturbed=!0,"closed"===e._state)return u(void 0);if("errored"===e._state)return d(e._storedError);br(e);const n=e._reader;return void 0!==n&&Ve(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new _),w(e._readableStreamController[$](t),r)}function br(e){e._state="closed";const t=e._reader;void 0!==t&&(x(t),J(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new _))}function _r(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(P(r,t),J(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new _):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new _))}function Er(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Cr(e,t){N(e,t);const r=null==e?void 0:e.highWaterMark;return U(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:j(r)}}Object.defineProperties(pr.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(pr.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(pr.prototype,t.asyncIterator,{value:pr.prototype.values,writable:!0,configurable:!0});const Tr=e=>e.byteLength;try{Object.defineProperty(Tr,"name",{value:"size",configurable:!0})}catch(e){}class kr{constructor(e){H(e,1,"ByteLengthQueuingStrategy"),e=Cr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Rr(this))throw Ir("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Rr(this))throw Ir("size");return Tr}}function Ir(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Rr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof kr}Object.defineProperties(kr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(kr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Pr=()=>1;try{Object.defineProperty(Pr,"name",{value:"size",configurable:!0})}catch(e){}class xr{constructor(e){H(e,1,"CountQueuingStrategy"),e=Cr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Or(this))throw Ar("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Or(this))throw Ar("size");return Pr}}function Ar(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Or(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof xr}function $r(e,t,r){return B(e,r),r=>b(e,t,[r])}function Dr(e,t,r){return B(e,r),r=>v(e,t,[r])}function Lr(e,t,r){return B(e,r),(r,n)=>b(e,t,[r,n])}Object.defineProperties(xr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(xr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Fr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Xe(t,"Second parameter"),o=Xe(r,"Third parameter"),s=function(e,t){N(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,s=null==e?void 0:e.transform,i=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:$r(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Dr(o,e,`${t} has member 'start' that`),transform:void 0===s?void 0:Lr(s,e,`${t} has member 'transform' that`),writableType:i}}(e,"First parameter");if(void 0!==s.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==s.writableType)throw new RangeError("Invalid writableType specified");const i=Ze(o,0),a=Ye(o),c=Ze(n,1),l=Ye(n);let f;!function(e,t,r,n,o,s){function i(){return t}e._writable=function(e,t,r,n,o=1,s=(()=>1)){const i=Object.create(st.prototype);return at(i),It(i,Object.create(Tt.prototype),e,t,r,n,o,s),i}(i,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?w(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return zr(r,t)})):zr(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return Wr(r),w(n,(()=>{if("errored"===t._state)throw t._storedError;tr(t._readableStreamController)}),(r=>{throw Br(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Br(e,t),u(void 0)}(e,t)}),r,n),e._readable=mr(i,(function(){return function(e){return Hr(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Mr(e,t),u(void 0)}),o,s),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Hr(e,!0),e._transformStreamController=void 0}(this,h((e=>{f=e})),c,l,i,a),function(e,t){const r=Object.create(Ur.prototype);let n=e=>{try{return qr(r,e),u(void 0)}catch(e){return d(e)}},o=()=>u(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(o=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,o)}(this,s),void 0!==s.start?f(s.start(this._transformStreamController)):f(void 0)}get readable(){if(!Nr(this))throw Gr("readable");return this._readable}get writable(){if(!Nr(this))throw Gr("writable");return this._writable}}function Nr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Fr}function Br(e,t){nr(e._readable._readableStreamController,t),Mr(e,t)}function Mr(e,t){Wr(e._transformStreamController),At(e._writable._writableStreamController,t),e._backpressure&&Hr(e,!1)}function Hr(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=h((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Fr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Fr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Ur{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!jr(this))throw Vr("desiredSize");return or(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!jr(this))throw Vr("enqueue");qr(this,e)}error(e=void 0){if(!jr(this))throw Vr("error");var t;t=e,Br(this._controlledTransformStream,t)}terminate(){if(!jr(this))throw Vr("terminate");!function(e){const t=e._controlledTransformStream;tr(t._readable._readableStreamController);Mr(t,new TypeError("TransformStream terminated"))}(this)}}function jr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Ur}function Wr(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function qr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!sr(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{rr(n,t)}catch(e){throw Mr(r,e),r._readable._storedError}const o=function(e){return!Qt(e)}(n);o!==r._backpressure&&Hr(r,!0)}function zr(e,t){return w(e._transformAlgorithm(t),void 0,(t=>{throw Br(e._controlledTransformStream,t),t}))}function Vr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Gr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Ur.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Ur.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=kr,e.CountQueuingStrategy=xr,e.ReadableByteStreamController=me,e.ReadableStream=pr,e.ReadableStreamBYOBReader=ze,e.ReadableStreamBYOBRequest=pe,e.ReadableStreamDefaultController=Yt,e.ReadableStreamDefaultReader=X,e.TransformStream=Fr,e.TransformStreamDefaultController=Ur,e.WritableStream=st,e.WritableStreamDefaultController=Tt,e.WritableStreamDefaultWriter=yt,Object.defineProperty(e,"__esModule",{value:!0})},r(t)},7266:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=7266,e.exports=t},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3292:e=>{"use strict";e.exports=require("fs/promises")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},7742:e=>{"use strict";e.exports=require("node:process")},2477:e=>{"use strict";e.exports=require("node:stream/web")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},1267:e=>{"use strict";e.exports=require("worker_threads")},9796:e=>{"use strict";e.exports=require("zlib")},7135:(e,t,r)=>{if(!globalThis.ReadableStream)try{const e=r(7742),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(2477)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(2660))}try{const{Blob:e}=r(4300);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===r.size&&e.close()}})})}catch(e){}},9978:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Glob=void 0;const n=r(7744),o=r(7105),s=r(7310),i=r(1087),a=r(553),c="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class l{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,s.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth="number"==typeof t.maxDepth?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof e&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(e=e.map((e=>e.replace(/\\/g,"/")))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map((e=>e.includes("/")?e:`./**/${e}`))}if(this.pattern=e,this.platform=t.platform||c,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,void 0!==t.nocase&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const e="win32"===t.platform?o.PathScurryWin32:"darwin"===t.platform?o.PathScurryDarwin:t.platform?o.PathScurryPosix:o.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,a={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},l=this.pattern.map((e=>new n.Minimatch(e,a))),[h,u]=l.reduce(((e,t)=>(e[0].push(...t.set),e[1].push(...t.globParts),e)),[[],[]]);this.patterns=h.map(((e,t)=>{const r=u[t];if(!r)throw new Error("invalid pattern object");return new i.Pattern(e,r,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}t.Glob=l},9808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasMagic=void 0;const n=r(7744);t.hasMagic=(e,t={})=>{Array.isArray(e)||(e=[e]);for(const r of e)if(new n.Minimatch(r,t).hasMagic())return!0;return!1}},314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ignore=void 0;const n=r(7744),o=r(1087),s="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";t.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;constructor(e,{nobrace:t,nocase:r,noext:i,noglobstar:a,platform:c=s}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const l={dot:!0,nobrace:t,nocase:r,noext:i,noglobstar:a,optimizationLevel:2,platform:c,nocomment:!0,nonegate:!0};for(const t of e){const e=new n.Minimatch(t,l);for(let t=0;t<e.set.length;t++){const r=e.set[t],s=e.globParts[t];if(!r||!s)throw new Error("invalid pattern object");const i=new o.Pattern(r,s,0,c),a=new n.Minimatch(i.globString(),l),h="**"===s[s.length-1],u=i.isAbsolute();u?this.absolute.push(a):this.relative.push(a),h&&(u?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(e){const t=e.fullpath(),r=`${t}/`,n=e.relative()||".",o=`${n}/`;for(const e of this.relative)if(e.match(n)||e.match(o))return!0;for(const e of this.absolute)if(e.match(t)||e.match(r))return!0;return!1}childrenIgnored(e){const t=e.fullpath()+"/",r=(e.relative()||".")+"/";for(const e of this.relativeChildren)if(e.match(r))return!0;for(const e of this.absoluteChildren)if(e.match(t))return!0;return!1}}},7824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.hasMagic=t.Glob=t.unescape=t.escape=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.globIterate=t.globIterateSync=t.globSync=t.globStream=t.globStreamSync=void 0;const n=r(7744),o=r(9978),s=r(9808);function i(e,t={}){return new o.Glob(e,t).streamSync()}function a(e,t={}){return new o.Glob(e,t).stream()}function c(e,t={}){return new o.Glob(e,t).walkSync()}async function l(e,t={}){return new o.Glob(e,t).walk()}function h(e,t={}){return new o.Glob(e,t).iterateSync()}function u(e,t={}){return new o.Glob(e,t).iterate()}t.globStreamSync=i,t.globStream=a,t.globSync=c,t.globIterateSync=h,t.globIterate=u,t.streamSync=i,t.stream=Object.assign(a,{sync:i}),t.iterateSync=h,t.iterate=Object.assign(u,{sync:h}),t.sync=Object.assign(c,{stream:i,iterate:h});var d=r(7744);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return d.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return d.unescape}});var f=r(9978);Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return f.Glob}});var p=r(9808);Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return p.hasMagic}}),t.glob=Object.assign(l,{glob:l,globSync:c,sync:t.sync,globStream:a,stream:t.stream,globStreamSync:i,streamSync:t.streamSync,globIterate:u,iterate:t.iterate,globIterateSync:h,iterateSync:t.iterateSync,Glob:o.Glob,hasMagic:s.hasMagic,escape:n.escape,unescape:n.unescape}),t.glob.glob=t.glob},1087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pattern=void 0;const n=r(7744);class o{#e;#t;#r;length;#n;#o;#s;#i;#a;#c;#l=!0;constructor(e,t,r,n){if(!(e.length>=1))throw new TypeError("empty pattern list");if(!(t.length>=1))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=t,this.#r=r,this.#n=n,0===this.#r)if(this.isUNC()){const[e,t,r,n,...o]=this.#e,[s,i,a,c,...l]=this.#t;""===o[0]&&(o.shift(),l.shift());const h=[e,t,r,n,""].join("/"),u=[s,i,a,c,""].join("/");this.#e=[h,...o],this.#t=[u,...l],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#e,[r,...n]=this.#t;""===t[0]&&(t.shift(),n.shift());const o=e+"/",s=r+"/";this.#e=[o,...t],this.#t=[s,...n],this.length=this.#e.length}}pattern(){return this.#e[this.#r]}isString(){return"string"==typeof this.#e[this.#r]}isGlobstar(){return this.#e[this.#r]===n.GLOBSTAR}isRegExp(){return this.#e[this.#r]instanceof RegExp}globString(){return this.#s=this.#s||(0===this.#r?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return void 0!==this.#o?this.#o:this.hasMore()?(this.#o=new o(this.#e,this.#t,this.#r+1,this.#n),this.#o.#c=this.#c,this.#o.#a=this.#a,this.#o.#i=this.#i,this.#o):this.#o=null}isUNC(){const e=this.#e;return void 0!==this.#a?this.#a:this.#a="win32"===this.#n&&0===this.#r&&""===e[0]&&""===e[1]&&"string"==typeof e[2]&&!!e[2]&&"string"==typeof e[3]&&!!e[3]}isDrive(){const e=this.#e;return void 0!==this.#i?this.#i:this.#i="win32"===this.#n&&0===this.#r&&this.length>1&&"string"==typeof e[0]&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return void 0!==this.#c?this.#c:this.#c=""===e[0]&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return"string"==typeof e&&this.isAbsolute()&&0===this.#r?e:""}checkFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#l)}markFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#l||(this.#l=!1,0))}}t.Pattern=o},6441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=t.SubWalks=t.MatchRecord=t.HasWalkedCache=void 0;const n=r(7744);class o{store;constructor(e=new Map){this.store=e}copy(){return new o(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const r=e.fullpath(),n=this.store.get(r);n?n.add(t.globString()):this.store.set(r,new Set([t.globString()]))}}t.HasWalkedCache=o;class s{store=new Map;add(e,t,r){const n=(t?2:0)|(r?1:0),o=this.store.get(e);this.store.set(e,void 0===o?n:n&o)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(2&t),!!(1&t)]))}}t.MatchRecord=s;class i{store=new Map;add(e,t){if(!e.canReaddir())return;const r=this.store.get(e);r?r.find((e=>e.globString()===t.globString()))||r.push(t):this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}t.SubWalks=i;class a{hasWalkedCache;matches=new s;subwalks=new i;patterns;follow;dot;opts;constructor(e,t){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new o}processPatterns(e,t){this.patterns=t;const r=t.map((t=>[e,t]));for(let[e,t]of r){this.hasWalkedCache.storeWalked(e,t);const r=t.root(),o=t.isAbsolute()&&!1!==this.opts.absolute;if(r){e=e.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const n=t.rest();if(!n){this.matches.add(e,!0,!1);continue}t=n}if(e.isENOENT())continue;let s,i,a=!1;for(;"string"==typeof(s=t.pattern())&&(i=t.rest());){const r=e.resolve(s);e=r,t=i,a=!0}if(s=t.pattern(),i=t.rest(),a){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if("string"!=typeof s)if(s===n.GLOBSTAR){(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar())&&this.subwalks.add(e,t);const r=i?.pattern(),n=i?.rest();if(i&&(""!==r&&"."!==r||n)){if(".."===r){const t=e.parent||e;n?this.hasWalkedCache.hasWalked(t,n)||this.subwalks.add(t,n):this.matches.add(t,o,!0)}}else this.matches.add(e,o,""===r||"."===r)}else s instanceof RegExp&&this.subwalks.add(e,t);else{const t=".."===s||""===s||"."===s;this.matches.add(e.resolve(s),o,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(e,t){const r=this.subwalks.get(e),o=this.child();for(const e of t)for(const t of r){const r=t.isAbsolute(),s=t.pattern(),i=t.rest();s===n.GLOBSTAR?o.testGlobstar(e,t,i,r):s instanceof RegExp?o.testRegExp(e,s,i,r):o.testString(e,s,i,r)}return o}testGlobstar(e,t,r,n){if(!this.dot&&e.name.startsWith(".")||(t.hasMore()||this.matches.add(e,n,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(r&&t.checkFollowGlobstar()?this.subwalks.add(e,r):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),r){const t=r.pattern();if("string"==typeof t&&".."!==t&&""!==t&&"."!==t)this.testString(e,t,r.rest(),n);else if(".."===t){const t=e.parent||e;this.subwalks.add(t,r)}else t instanceof RegExp&&this.testRegExp(e,t,r.rest(),n)}}testRegExp(e,t,r,n){t.test(e.name)&&(r?this.subwalks.add(e,r):this.matches.add(e,n,!1))}testString(e,t,r,n){e.isNamed(t)&&(r?this.subwalks.add(e,r):this.matches.add(e,n,!1))}}t.Processor=a},553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobStream=t.GlobWalker=t.GlobUtil=void 0;const n=r(1938),o=r(314),s=r(6441);class i{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#h=[];#u;#d;signal;maxDepth;constructor(e,t,r){this.patterns=e,this.path=t,this.opts=r,this.#d=r.posix||"win32"!==r.platform?"/":"\\",r.ignore&&(this.#u=((e,t)=>"string"==typeof e?new o.Ignore([e],t):Array.isArray(e)?new o.Ignore(e,t):e)(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",(()=>{this.#h.length=0})))}#f(e){return this.seen.has(e)||!!this.#u?.ignored?.(e)}#p(e){return!!this.#u?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let e;for(this.paused=!1;!this.paused&&(e=this.#h.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#h.push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=e.realpathCached()||await e.realpath(),!r)return;e=r}const n=e.isUnknown()||this.opts.stat;return this.matchCheckTest(n?await e.lstat():e,t)}matchCheckTest(e,t){return!e||!(this.maxDepth===1/0||e.depth()<=this.maxDepth)||t&&!e.canReaddir()||this.opts.nodir&&e.isDirectory()||this.#f(e)?void 0:e}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=e.realpathCached()||e.realpathSync(),!r)return;e=r}const n=e.isUnknown()||this.opts.stat;return this.matchCheckTest(n?e.lstatSync():e,t)}matchFinish(e,t){if(this.#f(e))return;const r=void 0===this.opts.absolute?t:this.opts.absolute;this.seen.add(e);const n=this.opts.mark&&e.isDirectory()?this.#d:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(r){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+n)}else{const t=this.opts.posix?e.relativePosix():e.relative(),r=this.opts.dotRelative&&!t.startsWith(".."+this.#d)?"."+this.#d:"";this.matchEmit(t?r+t+n:"."+n)}}async match(e,t,r){const n=await this.matchCheck(e,r);n&&this.matchFinish(n,t)}matchSync(e,t,r){const n=this.matchCheckSync(e,r);n&&this.matchFinish(n,t)}walkCB(e,t,r){this.signal?.aborted&&r(),this.walkCB2(e,t,new s.Processor(this.opts),r)}walkCB2(e,t,r,n){if(this.#p(e))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume((()=>this.walkCB2(e,t,r,n)));r.processPatterns(e,t);let o=1;const s=()=>{0==--o&&n()};for(const[e,t,n]of r.matches.entries())this.#f(e)||(o++,this.match(e,t,n).then((()=>s())));for(const e of r.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;o++;const t=e.readdirCached();e.calledReaddir()?this.walkCB3(e,t,r,s):e.readdirCB(((t,n)=>this.walkCB3(e,n,r,s)),!0)}s()}walkCB3(e,t,r,n){r=r.filterEntries(e,t);let o=1;const s=()=>{0==--o&&n()};for(const[e,t,n]of r.matches.entries())this.#f(e)||(o++,this.match(e,t,n).then((()=>s())));for(const[e,t]of r.subwalks.entries())o++,this.walkCB2(e,t,r.child(),s);s()}walkCBSync(e,t,r){this.signal?.aborted&&r(),this.walkCB2Sync(e,t,new s.Processor(this.opts),r)}walkCB2Sync(e,t,r,n){if(this.#p(e))return n();if(this.signal?.aborted&&n(),this.paused)return void this.onResume((()=>this.walkCB2Sync(e,t,r,n)));r.processPatterns(e,t);let o=1;const s=()=>{0==--o&&n()};for(const[e,t,n]of r.matches.entries())this.#f(e)||this.matchSync(e,t,n);for(const e of r.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;o++;const t=e.readdirSync();this.walkCB3Sync(e,t,r,s)}s()}walkCB3Sync(e,t,r,n){r=r.filterEntries(e,t);let o=1;const s=()=>{0==--o&&n()};for(const[e,t,n]of r.matches.entries())this.#f(e)||this.matchSync(e,t,n);for(const[e,t]of r.subwalks.entries())o++,this.walkCB2Sync(e,t,r.child(),s);s()}}t.GlobUtil=i,t.GlobWalker=class extends i{matches;constructor(e,t,r){super(e,t,r),this.matches=new Set}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?t(this.signal.reason):e(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},t.GlobStream=class extends i{results;constructor(e,t,r){super(e,t,r),this.results=new n.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){const e=this.path;return e.isUnknown()?e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))})):this.walkCB(e,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}},65:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidPattern=void 0,t.assertValidPattern=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")}},9409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AST=void 0;const n=r(611),o=r(157),s=new Set(["!","?","+","*","@"]),i=e=>s.has(e),a="(?!\\.)",c=new Set(["[","."]),l=new Set(["..","."]),h=new Set("().*{}+?[]^$\\!"),u="[^/]",d=u+"*?",f=u+"+?";class p{type;#m;#g;#w=!1;#y=[];#S;#v;#b;#_=!1;#E;#C;#T=!1;constructor(e,t,r={}){this.type=e,e&&(this.#g=!0),this.#S=t,this.#m=this.#S?this.#S.#m:this,this.#E=this.#m===this?r:this.#m.#E,this.#b=this.#m===this?[]:this.#m.#b,"!"!==e||this.#m.#_||this.#b.push(this),this.#v=this.#S?this.#S.#y.length:0}get hasMagic(){if(void 0!==this.#g)return this.#g;for(const e of this.#y)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#g=!0;return this.#g}toString(){return void 0!==this.#C?this.#C:this.type?this.#C=this.type+"("+this.#y.map((e=>String(e))).join("|")+")":this.#C=this.#y.map((e=>String(e))).join("")}#k(){if(this!==this.#m)throw new Error("should only call on root");if(this.#_)return this;let e;for(this.toString(),this.#_=!0;e=this.#b.pop();){if("!"!==e.type)continue;let t=e,r=t.#S;for(;r;){for(let n=t.#v+1;!r.type&&n<r.#y.length;n++)for(const t of e.#y){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(r.#y[n])}t=r,r=t.#S}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof p&&t.#S===this))throw new Error("invalid part: "+t);this.#y.push(t)}}toJSON(){const e=null===this.type?this.#y.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#y.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#m||this.#m.#_&&"!"===this.#S?.type)&&e.push({}),e}isStart(){if(this.#m===this)return!0;if(!this.#S?.isStart())return!1;if(0===this.#v)return!0;const e=this.#S;for(let t=0;t<this.#v;t++){const r=e.#y[t];if(!(r instanceof p&&"!"===r.type))return!1}return!0}isEnd(){if(this.#m===this)return!0;if("!"===this.#S?.type)return!0;if(!this.#S?.isEnd())return!1;if(!this.type)return this.#S?.isEnd();const e=this.#S?this.#S.#y.length:0;return this.#v===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new p(this.type,e);for(const e of this.#y)t.copyIn(e);return t}static#I(e,t,r,n){let o=!1,s=!1,a=-1,c=!1;if(null===t.type){let l=r,h="";for(;l<e.length;){const r=e.charAt(l++);if(o||"\\"===r)o=!o,h+=r;else if(s)l===a+1?"^"!==r&&"!"!==r||(c=!0):"]"!==r||l===a+2&&c||(s=!1),h+=r;else if("["!==r)if(n.noext||!i(r)||"("!==e.charAt(l))h+=r;else{t.push(h),h="";const o=new p(r,t);l=p.#I(e,o,l,n),t.push(o)}else s=!0,a=l,c=!1,h+=r}return t.push(h),l}let l=r+1,h=new p(null,t);const u=[];let d="";for(;l<e.length;){const r=e.charAt(l++);if(o||"\\"===r)o=!o,d+=r;else if(s)l===a+1?"^"!==r&&"!"!==r||(c=!0):"]"!==r||l===a+2&&c||(s=!1),d+=r;else if("["!==r)if(i(r)&&"("===e.charAt(l)){h.push(d),d="";const t=new p(r,h);h.push(t),l=p.#I(e,t,l,n)}else if("|"!==r){if(")"===r)return""===d&&0===t.#y.length&&(t.#T=!0),h.push(d),d="",t.push(...u,h),l;d+=r}else h.push(d),d="",u.push(h),h=new p(null,t);else s=!0,a=l,c=!1,d+=r}return t.type=null,t.#g=void 0,t.#y=[e.substring(r-1)],l}static fromGlob(e,t={}){const r=new p(null,void 0,t);return p.#I(e,r,0,t),r}toMMPattern(){if(this!==this.#m)return this.#m.toMMPattern();const e=this.toString(),[t,r,n,o]=this.toRegExpSource();if(!(n||this.#g||this.#E.nocase&&!this.#E.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;const s=(this.#E.nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}toRegExpSource(e){const t=e??!!this.#E.dot;if(this.#m===this&&this.#k(),!this.type){const r=this.isStart()&&this.isEnd(),n=this.#y.map((t=>{const[n,o,s,i]="string"==typeof t?p.#R(t,this.#g,r):t.toRegExpSource(e);return this.#g=this.#g||s,this.#w=this.#w||i,n})).join("");let s="";if(this.isStart()&&"string"==typeof this.#y[0]&&(1!==this.#y.length||!l.has(this.#y[0]))){const r=c,o=t&&r.has(n.charAt(0))||n.startsWith("\\.")&&r.has(n.charAt(2))||n.startsWith("\\.\\.")&&r.has(n.charAt(4)),i=!t&&!e&&r.has(n.charAt(0));s=o?"(?!(?:^|/)\\.\\.?(?:$|/))":i?a:""}let i="";return this.isEnd()&&this.#m.#_&&"!"===this.#S?.type&&(i="(?:$|\\/)"),[s+n+i,(0,o.unescape)(n),this.#g=!!this.#g,this.#w]}const r="*"===this.type||"+"===this.type,n="!"===this.type?"(?:(?!(?:":"(?:";let s=this.#P(t);if(this.isStart()&&this.isEnd()&&!s&&"!"!==this.type){const e=this.toString();return this.#y=[e],this.type=null,this.#g=void 0,[e,(0,o.unescape)(this.toString()),!1,!1]}let i=!r||e||t?"":this.#P(!0);i===s&&(i=""),i&&(s=`(?:${s})(?:${i})*?`);let h="";return h="!"===this.type&&this.#T?(this.isStart()&&!t?a:"")+f:n+s+("!"===this.type?"))"+(!this.isStart()||t||e?"":a)+d+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&i?")":"*"===this.type&&i?")?":`)${this.type}`),[h,(0,o.unescape)(s),this.#g=!!this.#g,this.#w]}#P(e){return this.#y.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[r,n,o,s]=t.toRegExpSource(e);return this.#w=this.#w||s,r})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#R(e,t,r=!1){let s=!1,i="",a=!1;for(let o=0;o<e.length;o++){const c=e.charAt(o);if(s)s=!1,i+=(h.has(c)?"\\":"")+c;else if("\\"!==c){if("["===c){const[r,s,c,l]=(0,n.parseClass)(e,o);if(c){i+=r,a=a||s,o+=c-1,t=t||l;continue}}"*"!==c?"?"!==c?i+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(i+=u,t=!0):(i+=r&&"*"===e?f:d,t=!0)}else o===e.length-1?i+="\\\\":s=!0}return[i,(0,o.unescape)(e),!!t,a]}}t.AST=p},611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClass=void 0;const r={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},n=e=>e.replace(/[[\]\\-]/g,"\\$&"),o=e=>e.join("");t.parseClass=(e,t)=>{const s=t;if("["!==e.charAt(s))throw new Error("not in a brace expression");const i=[],a=[];let c=s+1,l=!1,h=!1,u=!1,d=!1,f=s,p="";e:for(;c<e.length;){const t=e.charAt(c);if("!"!==t&&"^"!==t||c!==s+1){if("]"===t&&l&&!u){f=c+1;break}if(l=!0,"\\"!==t||u){if("["===t&&!u)for(const[t,[n,o,l]]of Object.entries(r))if(e.startsWith(t,c)){if(p)return["$.",!1,e.length-s,!0];c+=t.length,l?a.push(n):i.push(n),h=h||o;continue e}u=!1,p?(t>p?i.push(n(p)+"-"+n(t)):t===p&&i.push(n(t)),p="",c++):e.startsWith("-]",c+1)?(i.push(n(t+"-")),c+=2):e.startsWith("-",c+1)?(p=t,c+=2):(i.push(n(t)),c++)}else u=!0,c++}else d=!0,c++}if(f<c)return["",!1,0,!1];if(!i.length&&!a.length)return["$.",!1,e.length-s,!0];if(0===a.length&&1===i.length&&/^\\?.$/.test(i[0])&&!d){return[(m=2===i[0].length?i[0].slice(-1):i[0],m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,f-s,!1]}var m;const g="["+(d?"^":"")+o(i)+"]",w="["+(d?"":"^")+o(a)+"]";return[i.length&&a.length?"("+g+"|"+w+")":i.length?g:w,h,f-s,!0]}},2089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escape=void 0,t.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},7744:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const o=n(r(3644)),s=r(65),i=r(9409),a=r(2089),c=r(157);t.minimatch=(e,t,r={})=>((0,s.assertValidPattern)(t),!(!r.nocomment&&"#"===t.charAt(0))&&new O(t,r).match(e));const l=/^\*+([^+@!?\*\[\(]*)$/,h=e=>t=>!t.startsWith(".")&&t.endsWith(e),u=e=>t=>t.endsWith(e),d=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),f=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),p=/^\*+\.\*+$/,m=e=>!e.startsWith(".")&&e.includes("."),g=e=>"."!==e&&".."!==e&&e.includes("."),w=/^\.\*+$/,y=e=>"."!==e&&".."!==e&&e.startsWith("."),S=/^\*+$/,v=e=>0!==e.length&&!e.startsWith("."),b=e=>0!==e.length&&"."!==e&&".."!==e,_=/^\?+([^+@!?\*\[\(]*)?$/,E=([e,t=""])=>{const r=I([e]);return t?(t=t.toLowerCase(),e=>r(e)&&e.toLowerCase().endsWith(t)):r},C=([e,t=""])=>{const r=R([e]);return t?(t=t.toLowerCase(),e=>r(e)&&e.toLowerCase().endsWith(t)):r},T=([e,t=""])=>{const r=R([e]);return t?e=>r(e)&&e.endsWith(t):r},k=([e,t=""])=>{const r=I([e]);return t?e=>r(e)&&e.endsWith(t):r},I=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},R=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},P="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";t.sep="win32"===P?"\\":"/",t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR,t.filter=(e,r={})=>n=>(0,t.minimatch)(n,e,r),t.minimatch.filter=t.filter;const x=(e,t={})=>Object.assign({},e,t);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const r=t.minimatch;return Object.assign(((t,n,o={})=>r(t,n,x(e,o))),{Minimatch:class extends r.Minimatch{constructor(t,r={}){super(t,x(e,r))}static defaults(t){return r.defaults(x(e,t)).Minimatch}},AST:class extends r.AST{constructor(t,r,n={}){super(t,r,x(e,n))}static fromGlob(t,n={}){return r.AST.fromGlob(t,x(e,n))}},unescape:(t,n={})=>r.unescape(t,x(e,n)),escape:(t,n={})=>r.escape(t,x(e,n)),filter:(t,n={})=>r.filter(t,x(e,n)),defaults:t=>r.defaults(x(e,t)),makeRe:(t,n={})=>r.makeRe(t,x(e,n)),braceExpand:(t,n={})=>r.braceExpand(t,x(e,n)),match:(t,n,o={})=>r.match(t,n,x(e,o)),sep:r.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults,t.braceExpand=(e,t={})=>((0,s.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,o.default)(e)),t.minimatch.braceExpand=t.braceExpand,t.makeRe=(e,t={})=>new O(e,t).makeRe(),t.minimatch.makeRe=t.makeRe,t.match=(e,t,r={})=>{const n=new O(t,r);return e=e.filter((e=>n.match(e))),n.options.nonull&&!e.length&&e.push(t),e},t.minimatch.match=t.match;const A=/[?*]|[+@!]\(.*?\)|\[|\]/;class O{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,s.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||P,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const r=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let n=this.globParts.map(((e,t,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&A.test(e[2])||A.test(e[3])),r=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(r)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,n),this.set=n.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let r=0;r<e[t].length;r++)"**"===e[t][r]&&(e[t][r]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let r=t;for(;"**"===e[r+1];)r++;r!==t&&e.splice(t,r-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const r=e[e.length-1];return"**"===t&&"**"===r?e:".."===t&&r&&".."!==r&&"."!==r&&"**"!==r?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let r=1;r<e.length-1;r++){const n=e[r];1===r&&""===n&&""===e[0]||"."!==n&&""!==n||(t=!0,e.splice(r,1),r--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let r=0;for(;-1!==(r=e.indexOf("..",r+1));){const n=e[r-1];n&&"."!==n&&".."!==n&&"**"!==n&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let n=-1;for(;-1!==(n=r.indexOf("**",n+1));){let o=n;for(;"**"===r[o+1];)o++;o>n&&r.splice(n+1,o-n);let s=r[n+1];const i=r[n+2],a=r[n+3];if(".."!==s)continue;if(!i||"."===i||".."===i||!a||"."===a||".."===a)continue;t=!0,r.splice(n,1);const c=r.slice(0);c[n]="**",e.push(c),n--}if(!this.preserveMultipleSlashes){for(let e=1;e<r.length-1;e++){const n=r[e];1===e&&""===n&&""===r[0]||"."!==n&&""!==n||(t=!0,r.splice(e,1),e--)}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(t=!0,r.pop())}let o=0;for(;-1!==(o=r.indexOf("..",o+1));){const e=r[o-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===o&&"**"===r[o+1]?["."]:[];r.splice(o-1,2,...e),0===r.length&&r.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){const n=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);n&&(e[t]=n,e[r]=[])}return e.filter((e=>e.length))}partsMatch(e,t,r=!1){let n=0,o=0,s=[],i="";for(;n<e.length&&o<t.length;)if(e[n]===t[o])s.push("b"===i?t[o]:e[n]),n++,o++;else if(r&&"**"===e[n]&&t[o]===e[n+1])s.push(e[n]),n++;else if(r&&"**"===t[o]&&e[n]===t[o+1])s.push(t[o]),o++;else if("*"!==e[n]||!t[o]||!this.options.dot&&t[o].startsWith(".")||"**"===t[o]){if("*"!==t[o]||!e[n]||!this.options.dot&&e[n].startsWith(".")||"**"===e[n])return!1;if("a"===i)return!1;i="b",s.push(t[o]),n++,o++}else{if("b"===i)return!1;i="a",s.push(e[n]),n++,o++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,r=0;for(let n=0;n<e.length&&"!"===e.charAt(n);n++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,r,n=!1){const o=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),n=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),o="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),s=n?3:t?0:void 0,i=!o&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:o?0:void 0;if("number"==typeof s&&"number"==typeof i){const[t,n]=[e[s],r[i]];t.toLowerCase()===n.toLowerCase()&&(r[i]=t,i>s?r=r.slice(i):s>i&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var i=0,a=0,c=e.length,l=r.length;i<c&&a<l;i++,a++){this.debug("matchOne loop");var h=r[a],u=e[i];if(this.debug(r,h,u),!1===h)return!1;if(h===t.GLOBSTAR){this.debug("GLOBSTAR",[r,h,u]);var d=i,f=a+1;if(f===l){for(this.debug("** at the end");i<c;i++)if("."===e[i]||".."===e[i]||!o.dot&&"."===e[i].charAt(0))return!1;return!0}for(;d<c;){var p=e[d];if(this.debug("\nglobstar while",e,d,r,f,p),this.matchOne(e.slice(d),r.slice(f),n))return this.debug("globstar found match!",d,c,p),!0;if("."===p||".."===p||!o.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,r,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!n||(this.debug("\n>>> no match, partial?",e,d,r,f),d!==c))}let s;if("string"==typeof h?(s=u===h,this.debug("string match",h,u,s)):(s=h.test(u),this.debug("pattern match",h,u,s)),!s)return!1}if(i===c&&a===l)return!0;if(i===c)return n;if(a===l)return i===c-1&&""===e[i];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,s.assertValidPattern)(e);const r=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let n,o=null;(n=e.match(S))?o=r.dot?b:v:(n=e.match(l))?o=(r.nocase?r.dot?f:d:r.dot?u:h)(n[1]):(n=e.match(_))?o=(r.nocase?r.dot?C:E:r.dot?T:k)(n):(n=e.match(p))?o=r.dot?g:m:(n=e.match(w))&&(o=y);const a=i.AST.fromGlob(e,this.options).toMMPattern();return o?Object.assign(a,{test:o}):a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",o=new Set(r.nocase?["i"]:[]);let s=e.map((e=>{const r=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))o.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));return r.forEach(((e,o)=>{const s=r[o+1],i=r[o-1];e===t.GLOBSTAR&&i!==t.GLOBSTAR&&(void 0===i?void 0!==s&&s!==t.GLOBSTAR?r[o+1]="(?:\\/|"+n+"\\/)?"+s:r[o]=n:void 0===s?r[o-1]=i+"(?:\\/|"+n+")?":s!==t.GLOBSTAR&&(r[o-1]=i+"(?:\\/|\\/"+n+"\\/)"+s,r[o+1]=t.GLOBSTAR))})),r.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[i,a]=e.length>1?["(?:",")"]:["",""];s="^"+i+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...o].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const r=this.options;this.isWindows&&(e=e.split("\\").join("/"));const n=this.slashSplit(e);this.debug(this.pattern,"split",n);const o=this.set;this.debug(this.pattern,"set",o);let s=n[n.length-1];if(!s)for(let e=n.length-2;!s&&e>=0;e--)s=n[e];for(let e=0;e<o.length;e++){const i=o[e];let a=n;if(r.matchBase&&1===i.length&&(a=[s]),this.matchOne(a,i,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=O;var $=r(9409);Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return $.AST}});var D=r(2089);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return D.escape}});var L=r(157);Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return L.unescape}}),t.minimatch.AST=i.AST,t.minimatch.Minimatch=O,t.minimatch.escape=a.escape,t.minimatch.unescape=c.unescape},157:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=void 0,t.unescape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},1938:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const o="object"==typeof process&&process?process:{stdout:null,stderr:null},s=r(2361),i=n(r(2781)),a=r(1576);t.isStream=e=>!!e&&"object"==typeof e&&(e instanceof W||e instanceof i.default||(0,t.isReadable)(e)||(0,t.isWritable)(e)),t.isReadable=e=>!!e&&"object"==typeof e&&e instanceof s.EventEmitter&&"function"==typeof e.pipe&&e.pipe!==i.default.Writable.prototype.pipe,t.isWritable=e=>!!e&&"object"==typeof e&&e instanceof s.EventEmitter&&"function"==typeof e.write&&"function"==typeof e.end;const c=Symbol("EOF"),l=Symbol("maybeEmitEnd"),h=Symbol("emittedEnd"),u=Symbol("emittingEnd"),d=Symbol("emittedError"),f=Symbol("closed"),p=Symbol("read"),m=Symbol("flush"),g=Symbol("flushChunk"),w=Symbol("encoding"),y=Symbol("decoder"),S=Symbol("flowing"),v=Symbol("paused"),b=Symbol("resume"),_=Symbol("buffer"),E=Symbol("pipes"),C=Symbol("bufferLength"),T=Symbol("bufferPush"),k=Symbol("bufferShift"),I=Symbol("objectMode"),R=Symbol("destroyed"),P=Symbol("error"),x=Symbol("emitData"),A=Symbol("emitEnd"),O=Symbol("emitEnd2"),$=Symbol("async"),D=Symbol("abort"),L=Symbol("aborted"),F=Symbol("signal"),N=Symbol("dataListeners"),B=Symbol("discarded"),M=e=>Promise.resolve().then(e),H=e=>e();class U{src;dest;opts;ondrain;constructor(e,t,r){this.src=e,this.dest=t,this.opts=r,this.ondrain=()=>e[b](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class j extends U{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,r){super(e,t,r),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}class W extends s.EventEmitter{[S]=!1;[v]=!1;[E]=[];[_]=[];[I];[w];[$];[y];[c]=!1;[h]=!1;[u]=!1;[f]=!1;[d]=null;[C]=0;[R]=!1;[F];[L]=!1;[N]=0;[B]=!1;writable=!0;readable=!0;constructor(...e){const t=e[0]||{};if(super(),t.objectMode&&"string"==typeof t.encoding)throw new TypeError("Encoding and objectMode may not be used together");var r;t.objectMode?(this[I]=!0,this[w]=null):!(r=t).objectMode&&r.encoding&&"buffer"!==r.encoding?(this[w]=t.encoding,this[I]=!1):(this[I]=!1,this[w]=null),this[$]=!!t.async,this[y]=this[w]?new a.StringDecoder(this[w]):null,t&&!0===t.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[_]}),t&&!0===t.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[E]});const{signal:n}=t;n&&(this[F]=n,n.aborted?this[D]():n.addEventListener("abort",(()=>this[D]())))}get bufferLength(){return this[C]}get encoding(){return this[w]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[I]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[$]}set async(e){this[$]=this[$]||!!e}[D](){this[L]=!0,this.emit("abort",this[F]?.reason),this.destroy(this[F]?.reason)}get aborted(){return this[L]}set aborted(e){}write(e,t,r){if(this[L])return!1;if(this[c])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(r=t,t="utf8"),t||(t="utf8");const n=this[$]?M:H;if(!this[I]&&!Buffer.isBuffer(e))if(o=e,!Buffer.isBuffer(o)&&ArrayBuffer.isView(o))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if((e=>e instanceof ArrayBuffer||!!e&&"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e))e=Buffer.from(e);else if("string"!=typeof e)throw new Error("Non-contiguous data written to non-objectMode stream");var o;return this[I]?(this[S]&&0!==this[C]&&this[m](!0),this[S]?this.emit("data",e):this[T](e),0!==this[C]&&this.emit("readable"),r&&n(r),this[S]):e.length?("string"!=typeof e||t===this[w]&&!this[y]?.lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[w]&&(e=this[y].write(e)),this[S]&&0!==this[C]&&this[m](!0),this[S]?this.emit("data",e):this[T](e),0!==this[C]&&this.emit("readable"),r&&n(r),this[S]):(0!==this[C]&&this.emit("readable"),r&&n(r),this[S])}read(e){if(this[R])return null;if(this[B]=!1,0===this[C]||0===e||e&&e>this[C])return this[l](),null;this[I]&&(e=null),this[_].length>1&&!this[I]&&(this[_]=[this[w]?this[_].join(""):Buffer.concat(this[_],this[C])]);const t=this[p](e||null,this[_][0]);return this[l](),t}[p](e,t){if(this[I])this[k]();else{const r=t;e===r.length||null===e?this[k]():"string"==typeof r?(this[_][0]=r.slice(e),t=r.slice(0,e),this[C]-=e):(this[_][0]=r.subarray(e),t=r.subarray(0,e),this[C]-=e)}return this.emit("data",t),this[_].length||this[c]||this.emit("drain"),t}end(e,t,r){return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t="utf8"),void 0!==e&&this.write(e,t),r&&this.once("end",r),this[c]=!0,this.writable=!1,!this[S]&&this[v]||this[l](),this}[b](){this[R]||(this[N]||this[E].length||(this[B]=!0),this[v]=!1,this[S]=!0,this.emit("resume"),this[_].length?this[m]():this[c]?this[l]():this.emit("drain"))}resume(){return this[b]()}pause(){this[S]=!1,this[v]=!0,this[B]=!1}get destroyed(){return this[R]}get flowing(){return this[S]}get paused(){return this[v]}[T](e){this[I]?this[C]+=1:this[C]+=e.length,this[_].push(e)}[k](){return this[I]?this[C]-=1:this[C]-=this[_][0].length,this[_].shift()}[m](e=!1){do{}while(this[g](this[k]())&&this[_].length);e||this[_].length||this[c]||this.emit("drain")}[g](e){return this.emit("data",e),this[S]}pipe(e,t){if(this[R])return e;this[B]=!1;const r=this[h];return t=t||{},e===o.stdout||e===o.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,r?t.end&&e.end():(this[E].push(t.proxyErrors?new j(this,e,t):new U(this,e,t)),this[$]?M((()=>this[b]())):this[b]()),e}unpipe(e){const t=this[E].find((t=>t.dest===e));t&&(1===this[E].length?(this[S]&&0===this[N]&&(this[S]=!1),this[E]=[]):this[E].splice(this[E].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const r=super.on(e,t);if("data"===e)this[B]=!1,this[N]++,this[E].length||this[S]||this[b]();else if("readable"===e&&0!==this[C])super.emit("readable");else if((e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[h])super.emit(e),this.removeAllListeners(e);else if("error"===e&&this[d]){const e=t;this[$]?M((()=>e.call(this,this[d]))):e.call(this,this[d])}return r}removeListener(e,t){return this.off(e,t)}off(e,t){const r=super.off(e,t);return"data"===e&&(this[N]=this.listeners("data").length,0!==this[N]||this[B]||this[E].length||(this[S]=!1)),r}removeAllListeners(e){const t=super.removeAllListeners(e);return"data"!==e&&void 0!==e||(this[N]=0,this[B]||this[E].length||(this[S]=!1)),t}get emittedEnd(){return this[h]}[l](){this[u]||this[h]||this[R]||0!==this[_].length||!this[c]||(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[f]&&this.emit("close"),this[u]=!1)}emit(e,...t){const r=t[0];if("error"!==e&&"close"!==e&&e!==R&&this[R])return!1;if("data"===e)return!(!this[I]&&!r)&&(this[$]?(M((()=>this[x](r))),!0):this[x](r));if("end"===e)return this[A]();if("close"===e){if(this[f]=!0,!this[h]&&!this[R])return!1;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[d]=r,super.emit(P,r);const e=!(this[F]&&!this.listeners("error").length)&&super.emit("error",r);return this[l](),e}if("resume"===e){const e=super.emit("resume");return this[l](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const n=super.emit(e,...t);return this[l](),n}[x](e){for(const t of this[E])!1===t.dest.write(e)&&this.pause();const t=!this[B]&&super.emit("data",e);return this[l](),t}[A](){return!this[h]&&(this[h]=!0,this.readable=!1,this[$]?(M((()=>this[O]())),!0):this[O]())}[O](){if(this[y]){const e=this[y].end();if(e){for(const t of this[E])t.dest.write(e);this[B]||super.emit("data",e)}}for(const e of this[E])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){const e=Object.assign([],{dataLength:0});this[I]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[I]||(e.dataLength+=t.length)})),await t,e}async concat(){if(this[I])throw new Error("cannot concat in objectMode");const e=await this.collect();return this[w]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,t)=>{this.on(R,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[B]=!1;let e=!1;const t=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return t();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[c])return t();let n,o;const s=e=>{this.off("data",i),this.off("end",a),this.off(R,l),t(),o(e)},i=e=>{this.off("error",s),this.off("end",a),this.off(R,l),this.pause(),n({value:e,done:!!this[c]})},a=()=>{this.off("error",s),this.off("data",i),this.off(R,l),t(),n({done:!0,value:void 0})},l=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{o=t,n=e,this.once(R,l),this.once("error",s),this.once("end",a),this.once("data",i)}))},throw:t,return:t,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[B]=!1;let e=!1;const t=()=>(this.pause(),this.off(P,t),this.off(R,t),this.off("end",t),e=!0,{done:!0,value:void 0});return this.once("end",t),this.once(P,t),this.once(R,t),{next:()=>{if(e)return t();const r=this.read();return null===r?t():{done:!1,value:r}},throw:t,return:t,[Symbol.iterator](){return this}}}destroy(e){return this[R]?(e?this.emit("error",e):this.emit(R),this):(this[R]=!0,this[B]=!0,this[_].length=0,this[C]=0,"function"!=typeof this.close||this[f]||this.close(),e?this.emit("error",e):this.emit(R),this)}static get isStream(){return t.isStream}}t.Minipass=W},7105:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PathScurry=t.Path=t.PathScurryDarwin=t.PathScurryPosix=t.PathScurryWin32=t.PathScurryBase=t.PathPosix=t.PathWin32=t.PathBase=t.ChildrenCache=t.ResolveCache=void 0;const i=r(6317),a=r(1017),c=r(7310),l=s(r(7147)),h=r(7147),u=h.realpathSync.native,d=r(3292),f=r(1938),p={lstatSync:h.lstatSync,readdir:h.readdir,readdirSync:h.readdirSync,readlinkSync:h.readlinkSync,realpathSync:u,promises:{lstat:d.lstat,readdir:d.readdir,readlink:d.readlink,realpath:d.realpath}},m=e=>e&&e!==p&&e!==l?{...p,...e,promises:{...p.promises,...e.promises||{}}}:p,g=/^\\\\\?\\([a-z]:)\\?$/i,w=/[\\\/]/,y=10,S=15,v=-16,b=128,_=e=>e.isFile()?8:e.isDirectory()?4:e.isSymbolicLink()?y:e.isCharacterDevice()?2:e.isBlockDevice()?6:e.isSocket()?12:e.isFIFO()?1:0,E=new Map,C=e=>{const t=E.get(e);if(t)return t;const r=e.normalize("NFKD");return E.set(e,r),r},T=new Map,k=e=>{const t=T.get(e);if(t)return t;const r=C(e.toLowerCase());return T.set(e,r),r};class I extends i.LRUCache{constructor(){super({max:256})}}t.ResolveCache=I;class R extends i.LRUCache{constructor(e=16384){super({maxSize:e,sizeCalculation:e=>e.length+1})}}t.ChildrenCache=R;const P=Symbol("PathScurry setAsCwd");class x{name;root;roots;parent;nocase;#x;#A;get dev(){return this.#A}#O;get mode(){return this.#O}#$;get nlink(){return this.#$}#D;get uid(){return this.#D}#L;get gid(){return this.#L}#F;get rdev(){return this.#F}#N;get blksize(){return this.#N}#B;get ino(){return this.#B}#M;get size(){return this.#M}#H;get blocks(){return this.#H}#U;get atimeMs(){return this.#U}#j;get mtimeMs(){return this.#j}#W;get ctimeMs(){return this.#W}#q;get birthtimeMs(){return this.#q}#z;get atime(){return this.#z}#V;get mtime(){return this.#V}#G;get ctime(){return this.#G}#K;get birthtime(){return this.#K}#Z;#Y;#X;#J;#Q;#ee;#te;#re;#ne;#oe;get path(){return(this.parent||this).fullpath()}constructor(e,t=0,r,n,o,s,i){this.name=e,this.#Z=o?k(e):C(e),this.#te=1023&t,this.nocase=o,this.roots=n,this.root=r||this,this.#re=s,this.#X=i.fullpath,this.#Q=i.relative,this.#ee=i.relativePosix,this.parent=i.parent,this.parent?this.#x=this.parent.#x:this.#x=m(i.fs)}depth(){return void 0!==this.#Y?this.#Y:this.parent?this.#Y=this.parent.depth()+1:this.#Y=0}childrenCache(){return this.#re}resolve(e){if(!e)return this;const t=this.getRootString(e),r=e.substring(t.length).split(this.splitSep);return t?this.getRoot(t).#se(r):this.#se(r)}#se(e){let t=this;for(const r of e)t=t.child(r);return t}children(){const e=this.#re.get(this);if(e)return e;const t=Object.assign([],{provisional:0});return this.#re.set(this,t),this.#te&=-17,t}child(e,t){if(""===e||"."===e)return this;if(".."===e)return this.parent||this;const r=this.children(),n=this.nocase?k(e):C(e);for(const e of r)if(e.#Z===n)return e;const o=this.parent?this.sep:"",s=this.#X?this.#X+o+e:void 0,i=this.newChild(e,0,{...t,parent:this,fullpath:s});return this.canReaddir()||(i.#te|=b),r.push(i),i}relative(){if(void 0!==this.#Q)return this.#Q;const e=this.name,t=this.parent;if(!t)return this.#Q=this.name;const r=t.relative();return r+(r&&t.parent?this.sep:"")+e}relativePosix(){if("/"===this.sep)return this.relative();if(void 0!==this.#ee)return this.#ee;const e=this.name,t=this.parent;if(!t)return this.#ee=this.fullpathPosix();const r=t.relativePosix();return r+(r&&t.parent?"/":"")+e}fullpath(){if(void 0!==this.#X)return this.#X;const e=this.name,t=this.parent;if(!t)return this.#X=this.name;const r=t.fullpath()+(t.parent?this.sep:"")+e;return this.#X=r}fullpathPosix(){if(void 0!==this.#J)return this.#J;if("/"===this.sep)return this.#J=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(e)?this.#J=`//?/${e}`:this.#J=e}const e=this.parent,t=e.fullpathPosix(),r=t+(t&&e.parent?"/":"")+this.name;return this.#J=r}isUnknown(){return 0==(this.#te&S)}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#te&S)}isDirectory(){return 4==(this.#te&S)}isCharacterDevice(){return 2==(this.#te&S)}isBlockDevice(){return 6==(this.#te&S)}isFIFO(){return 1==(this.#te&S)}isSocket(){return 12==(this.#te&S)}isSymbolicLink(){return(this.#te&y)===y}lstatCached(){return 32&this.#te?this:void 0}readlinkCached(){return this.#ne}realpathCached(){return this.#oe}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#ne)return!0;if(!this.parent)return!1;const e=this.#te&S;return!(0!==e&&e!==y||256&this.#te||this.#te&b)}calledReaddir(){return!!(16&this.#te)}isENOENT(){return!!(this.#te&b)}isNamed(e){return this.nocase?this.#Z===k(e):this.#Z===C(e)}async readlink(){const e=this.#ne;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=await this.#x.promises.readlink(this.fullpath()),t=this.parent.resolve(e);if(t)return this.#ne=t}catch(e){return void this.#ie(e.code)}}readlinkSync(){const e=this.#ne;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=this.#x.readlinkSync(this.fullpath()),t=this.parent.resolve(e);if(t)return this.#ne=t}catch(e){return void this.#ie(e.code)}}#ae(e){this.#te|=16;for(let t=e.provisional;t<e.length;t++)e[t].#ce()}#ce(){this.#te&b||(this.#te=(this.#te|b)&v,this.#le())}#le(){const e=this.children();e.provisional=0;for(const t of e)t.#ce()}#he(){this.#te|=512,this.#ue()}#ue(){if(64&this.#te)return;let e=this.#te;4==(e&S)&&(e&=v),this.#te=64|e,this.#le()}#de(e=""){"ENOTDIR"===e||"EPERM"===e?this.#ue():"ENOENT"===e?this.#ce():this.children().provisional=0}#fe(e=""){"ENOTDIR"===e?this.parent.#ue():"ENOENT"===e&&this.#ce()}#ie(e=""){let t=this.#te;t|=256,"ENOENT"===e&&(t|=b),"EINVAL"!==e&&"UNKNOWN"!==e||(t&=v),this.#te=t,"ENOTDIR"===e&&this.parent&&this.parent.#ue()}#pe(e,t){return this.#me(e,t)||this.#ge(e,t)}#ge(e,t){const r=_(e),n=this.newChild(e.name,r,{parent:this}),o=n.#te&S;return 4!==o&&o!==y&&0!==o&&(n.#te|=64),t.unshift(n),t.provisional++,n}#me(e,t){for(let r=t.provisional;r<t.length;r++){const n=t[r];if((this.nocase?k(e.name):C(e.name))===n.#Z)return this.#we(e,n,r,t)}}#we(e,t,r,n){const o=t.name;return t.#te=t.#te&v|_(e),o!==e.name&&(t.name=e.name),r!==n.provisional&&(r===n.length-1?n.pop():n.splice(r,1),n.unshift(t)),n.provisional++,t}async lstat(){if(0==(this.#te&b))try{return this.#ye(await this.#x.promises.lstat(this.fullpath())),this}catch(e){this.#fe(e.code)}}lstatSync(){if(0==(this.#te&b))try{return this.#ye(this.#x.lstatSync(this.fullpath())),this}catch(e){this.#fe(e.code)}}#ye(e){const{atime:t,atimeMs:r,birthtime:n,birthtimeMs:o,blksize:s,blocks:i,ctime:a,ctimeMs:c,dev:l,gid:h,ino:u,mode:d,mtime:f,mtimeMs:p,nlink:m,rdev:g,size:w,uid:S}=e;this.#z=t,this.#U=r,this.#K=n,this.#q=o,this.#N=s,this.#H=i,this.#G=a,this.#W=c,this.#A=l,this.#L=h,this.#B=u,this.#O=d,this.#V=f,this.#j=p,this.#$=m,this.#F=g,this.#M=w,this.#D=S;const b=_(e);this.#te=this.#te&v|b|32,0!==b&&4!==b&&b!==y&&(this.#te|=64)}#Se=[];#ve=!1;#be(e){this.#ve=!1;const t=this.#Se.slice();this.#Se.length=0,t.forEach((t=>t(null,e)))}readdirCB(e,t=!1){if(!this.canReaddir())return void(t?e(null,[]):queueMicrotask((()=>e(null,[]))));const r=this.children();if(this.calledReaddir()){const n=r.slice(0,r.provisional);return void(t?e(null,n):queueMicrotask((()=>e(null,n))))}if(this.#Se.push(e),this.#ve)return;this.#ve=!0;const n=this.fullpath();this.#x.readdir(n,{withFileTypes:!0},((e,t)=>{if(e)this.#de(e.code),r.provisional=0;else{for(const e of t)this.#pe(e,r);this.#ae(r)}this.#be(r.slice(0,r.provisional))}))}#_e;async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();if(this.#_e)await this.#_e;else{let r=()=>{};this.#_e=new Promise((e=>r=e));try{for(const r of await this.#x.promises.readdir(t,{withFileTypes:!0}))this.#pe(r,e);this.#ae(e)}catch(t){this.#de(t.code),e.provisional=0}this.#_e=void 0,r()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();try{for(const r of this.#x.readdirSync(t,{withFileTypes:!0}))this.#pe(r,e);this.#ae(e)}catch(t){this.#de(t.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(704&this.#te)return!1;const e=S&this.#te;return 0===e||4===e||e===y}shouldWalk(e,t){return 4==(4&this.#te)&&!(704&this.#te)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#oe)return this.#oe;if(!(896&this.#te))try{const e=await this.#x.promises.realpath(this.fullpath());return this.#oe=this.resolve(e)}catch(e){this.#he()}}realpathSync(){if(this.#oe)return this.#oe;if(!(896&this.#te))try{const e=this.#x.realpathSync(this.fullpath());return this.#oe=this.resolve(e)}catch(e){this.#he()}}[P](e){if(e===this)return;const t=new Set([]);let r=[],n=this;for(;n&&n.parent;)t.add(n),n.#Q=r.join(this.sep),n.#ee=r.join("/"),n=n.parent,r.push("..");for(n=e;n&&n.parent&&!t.has(n);)n.#Q=void 0,n.#ee=void 0,n=n.parent}}t.PathBase=x;class A extends x{sep="\\";splitSep=w;constructor(e,t=0,r,n,o,s,i){super(e,t,r,n,o,s,i)}newChild(e,t=0,r={}){return new A(e,t,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(e){return a.win32.parse(e).root}getRoot(e){if((e=(e=>e.replace(/\//g,"\\").replace(g,"$1\\"))(e.toUpperCase()))===this.root.name)return this.root;for(const[t,r]of Object.entries(this.roots))if(this.sameRoot(e,t))return this.roots[e]=r;return this.roots[e]=new D(e,this).root}sameRoot(e,t=this.root.name){return(e=e.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"))===t}}t.PathWin32=A;class O extends x{splitSep="/";sep="/";constructor(e,t=0,r,n,o,s,i){super(e,t,r,n,o,s,i)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=0,r={}){return new O(e,t,this.root,this.roots,this.nocase,this.childrenCache(),r)}}t.PathPosix=O;class ${root;rootPath;roots;cwd;#Ee;#Ce;#re;nocase;#x;constructor(e=process.cwd(),t,r,{nocase:n,childrenCacheSize:o=16384,fs:s=p}={}){this.#x=m(s),(e instanceof URL||e.startsWith("file://"))&&(e=(0,c.fileURLToPath)(e));const i=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(i),this.#Ee=new I,this.#Ce=new I,this.#re=new R(o);const a=i.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===n)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=n,this.root=this.newRoot(this.#x),this.roots[this.rootPath]=this.root;let l=this.root,h=a.length-1;const u=t.sep;let d=this.rootPath,f=!1;for(const e of a){const t=h--;l=l.child(e,{relative:new Array(t).fill("..").join(u),relativePosix:new Array(t).fill("..").join("/"),fullpath:d+=(f?"":u)+e}),f=!0}this.cwd=l}depth(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#re}resolve(...e){let t="";for(let r=e.length-1;r>=0;r--){const n=e[r];if(n&&"."!==n&&(t=t?`${n}/${t}`:n,this.isAbsolute(n)))break}const r=this.#Ee.get(t);if(void 0!==r)return r;const n=this.cwd.resolve(t).fullpath();return this.#Ee.set(t,n),n}resolvePosix(...e){let t="";for(let r=e.length-1;r>=0;r--){const n=e[r];if(n&&"."!==n&&(t=t?`${n}/${t}`:n,this.isAbsolute(n)))break}const r=this.#Ce.get(t);if(void 0!==r)return r;const n=this.cwd.resolve(t).fullpathPosix();return this.#Ce.set(t,n),n}relative(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r}=t;if(e.canReaddir()){const t=await e.readdir();return r?t:t.map((e=>e.name))}return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0}=t;return e.canReaddir()?r?e.readdirSync():e.readdirSync().map((e=>e.name)):[]}async lstat(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const r=await e.readlink();return t?r:r?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const r=e.readlinkSync();return t?r:r?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const r=await e.realpath();return t?r:r?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e.withFileTypes,e=this.cwd);const r=e.realpathSync();return t?r:r?.fullpath()}async walk(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:o,walkFilter:s}=t,i=[];o&&!o(e)||i.push(r?e:e.fullpath());const a=new Set,c=(e,t)=>{a.add(e),e.readdirCB(((e,l)=>{if(e)return t(e);let h=l.length;if(!h)return t();const u=()=>{0==--h&&t()};for(const e of l)o&&!o(e)||i.push(r?e:e.fullpath()),n&&e.isSymbolicLink()?e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(a,s)?c(e,u):u())):e.shouldWalk(a,s)?c(e,u):u()}),!0)},l=e;return new Promise(((e,t)=>{c(l,(r=>{if(r)return t(r);e(i)}))}))}walkSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:o,walkFilter:s}=t,i=[];o&&!o(e)||i.push(r?e:e.fullpath());const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){o&&!o(e)||i.push(r?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!n||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&a.add(t)}}return i}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:o,walkFilter:s}=t;o&&!o(e)||(yield r?e:e.fullpath());const i=new Set([e]);for(const e of i){const t=e.readdirSync();for(const e of t){o&&!o(e)||(yield r?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!n||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(i,s)&&i.add(t)}}}stream(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:o,walkFilter:s}=t,i=new f.Minipass({objectMode:!0});o&&!o(e)||i.write(r?e:e.fullpath());const a=new Set,c=[e];let l=0;const h=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===l&&i.end());l++,a.add(t);const u=(t,f,p=!1)=>{if(t)return i.emit("error",t);if(n&&!p){const e=[];for(const t of f)t.isSymbolicLink()&&e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)));if(e.length)return void Promise.all(e).then((()=>u(null,f,!0)))}for(const t of f)!t||o&&!o(t)||i.write(r?t:t.fullpath())||(e=!0);l--;for(const e of f){const t=e.realpathCached()||e;t.shouldWalk(a,s)&&c.push(t)}e&&!i.flowing?i.once("drain",h):d||h()};let d=!0;t.readdirCB(u,!0),d=!1}};return h(),i}streamSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof x||(t=e,e=this.cwd);const{withFileTypes:r=!0,follow:n=!1,filter:o,walkFilter:s}=t,i=new f.Minipass({objectMode:!0}),a=new Set;o&&!o(e)||i.write(r?e:e.fullpath());const c=[e];let l=0;const h=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===l&&i.end());l++,a.add(t);const h=t.readdirSync();for(const t of h)o&&!o(t)||i.write(r?t:t.fullpath())||(e=!0);l--;for(const e of h){let t=e;if(e.isSymbolicLink()){if(!n||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&c.push(t)}}e&&!i.flowing&&i.once("drain",h)};return h(),i}chdir(e=this.cwd){const t=this.cwd;this.cwd="string"==typeof e?this.cwd.resolve(e):e,this.cwd[P](t)}}t.PathScurryBase=$;class D extends ${sep="\\";constructor(e=process.cwd(),t={}){const{nocase:r=!0}=t;super(e,a.win32,"\\",{...t,nocase:r}),this.nocase=r;for(let e=this.cwd;e;e=e.parent)e.nocase=this.nocase}parseRootPath(e){return a.win32.parse(e).root.toUpperCase()}newRoot(e){return new A(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}t.PathScurryWin32=D;class L extends ${sep="/";constructor(e=process.cwd(),t={}){const{nocase:r=!1}=t;super(e,a.posix,"/",{...t,nocase:r}),this.nocase=r}parseRootPath(e){return"/"}newRoot(e){return new O(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}t.PathScurryPosix=L;class F extends L{constructor(e=process.cwd(),t={}){const{nocase:r=!0}=t;super(e,{...t,nocase:r})}}t.PathScurryDarwin=F,t.Path="win32"===process.platform?A:O,t.PathScurry="win32"===process.platform?D:"darwin"===process.platform?F:L},6317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n=new Set,o="object"==typeof process&&process?process:{},s=(e,t,r,n)=>{"function"==typeof o.emitWarning?o.emitWarning(e,t,r,n):console.error(`[${r}] ${t}: ${e}`)};let i=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===i){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},i=class{constructor(){t()}signal=new a;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==o.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const c=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),l=e=>c(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(e){super(e),this.fill(0)}}class u{heap;length;static#Te=!1;static create(e){const t=l(e);if(!t)return[];u.#Te=!0;const r=new u(e,t);return u.#Te=!1,r}constructor(e,t){if(!u.#Te)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class d{#ke;#Ie;#Re;#Pe;#xe;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#M;#Ae;#Oe;#$e;#De;#Le;#Fe;#Ne;#Be;#Me;#He;#Ue;#je;#We;#qe;#ze;#Ve;static unsafeExposeInternals(e){return{starts:e.#je,ttls:e.#We,sizes:e.#Ue,keyMap:e.#Oe,keyList:e.#$e,valList:e.#De,next:e.#Le,prev:e.#Fe,get head(){return e.#Ne},get tail(){return e.#Be},free:e.#Me,isBackgroundFetch:t=>e.#Ge(t),backgroundFetch:(t,r,n,o)=>e.#Ke(t,r,n,o),moveToTail:t=>e.#Ze(t),indexes:t=>e.#Ye(t),rindexes:t=>e.#Xe(t),isStale:t=>e.#Je(t)}}get max(){return this.#ke}get maxSize(){return this.#Ie}get calculatedSize(){return this.#Ae}get size(){return this.#M}get fetchMethod(){return this.#xe}get dispose(){return this.#Re}get disposeAfter(){return this.#Pe}constructor(e){const{max:t=0,ttl:r,ttlResolution:o=1,ttlAutopurge:i,updateAgeOnGet:a,updateAgeOnHas:h,allowStale:f,dispose:p,disposeAfter:m,noDisposeOnSet:g,noUpdateTTL:w,maxSize:y=0,maxEntrySize:S=0,sizeCalculation:v,fetchMethod:b,noDeleteOnFetchRejection:_,noDeleteOnStaleGet:E,allowStaleOnFetchRejection:C,allowStaleOnFetchAbort:T,ignoreFetchAbort:k}=e;if(0!==t&&!c(t))throw new TypeError("max option must be a nonnegative integer");const I=t?l(t):Array;if(!I)throw new Error("invalid max value: "+t);if(this.#ke=t,this.#Ie=y,this.maxEntrySize=S||this.#Ie,this.sizeCalculation=v,this.sizeCalculation){if(!this.#Ie&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==b&&"function"!=typeof b)throw new TypeError("fetchMethod must be a function if specified");if(this.#xe=b,this.#ze=!!b,this.#Oe=new Map,this.#$e=new Array(t).fill(void 0),this.#De=new Array(t).fill(void 0),this.#Le=new I(t),this.#Fe=new I(t),this.#Ne=0,this.#Be=0,this.#Me=u.create(t),this.#M=0,this.#Ae=0,"function"==typeof p&&(this.#Re=p),"function"==typeof m?(this.#Pe=m,this.#He=[]):(this.#Pe=void 0,this.#He=void 0),this.#qe=!!this.#Re,this.#Ve=!!this.#Pe,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!_,this.allowStaleOnFetchRejection=!!C,this.allowStaleOnFetchAbort=!!T,this.ignoreFetchAbort=!!k,0!==this.maxEntrySize){if(0!==this.#Ie&&!c(this.#Ie))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Qe()}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!E,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!h,this.ttlResolution=c(o)||0===o?o:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#et()}if(0===this.#ke&&0===this.ttl&&0===this.#Ie)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#ke&&!this.#Ie){const e="LRU_CACHE_UNBOUNDED";(e=>!n.has(e))(e)&&(n.add(e),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,d))}}getRemainingTTL(e){return this.#Oe.has(e)?1/0:0}#et(){const e=new h(this.#ke),t=new h(this.#ke);this.#We=e,this.#je=t,this.#tt=(n,o,s=r.now())=>{if(t[n]=0!==o?s:0,e[n]=o,0!==o&&this.ttlAutopurge){const e=setTimeout((()=>{this.#Je(n)&&this.delete(this.#$e[n])}),o+1);e.unref&&e.unref()}},this.#rt=n=>{t[n]=0!==e[n]?r.now():0},this.#nt=(r,s)=>{if(e[s]){const i=e[s],a=t[s];if(!i||!a)return;r.ttl=i,r.start=a,r.now=n||o();const c=r.now-a;r.remainingTTL=i-c}};let n=0;const o=()=>{const e=r.now();if(this.ttlResolution>0){n=e;const t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{const s=this.#Oe.get(r);if(void 0===s)return 0;const i=e[s],a=t[s];return i&&a?i-((n||o())-a):1/0},this.#Je=r=>{const s=t[r],i=e[r];return!!i&&!!s&&(n||o())-s>i}}#rt=()=>{};#nt=()=>{};#tt=()=>{};#Je=()=>!1;#Qe(){const e=new h(this.#ke);this.#Ae=0,this.#Ue=e,this.#ot=t=>{this.#Ae-=e[t],e[t]=0},this.#st=(e,t,r,n)=>{if(this.#Ge(t))return 0;if(!c(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!c(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#it=(t,r,n)=>{if(e[t]=r,this.#Ie){const r=this.#Ie-e[t];for(;this.#Ae>r;)this.#at(!0)}this.#Ae+=e[t],n&&(n.entrySize=r,n.totalCalculatedSize=this.#Ae)}}#ot=e=>{};#it=(e,t,r)=>{};#st=(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#Ye({allowStale:e=this.allowStale}={}){if(this.#M)for(let t=this.#Be;this.#ct(t)&&(!e&&this.#Je(t)||(yield t),t!==this.#Ne);)t=this.#Fe[t]}*#Xe({allowStale:e=this.allowStale}={}){if(this.#M)for(let t=this.#Ne;this.#ct(t)&&(!e&&this.#Je(t)||(yield t),t!==this.#Be);)t=this.#Le[t]}#ct(e){return void 0!==e&&this.#Oe.get(this.#$e[e])===e}*entries(){for(const e of this.#Ye())void 0===this.#De[e]||void 0===this.#$e[e]||this.#Ge(this.#De[e])||(yield[this.#$e[e],this.#De[e]])}*rentries(){for(const e of this.#Xe())void 0===this.#De[e]||void 0===this.#$e[e]||this.#Ge(this.#De[e])||(yield[this.#$e[e],this.#De[e]])}*keys(){for(const e of this.#Ye()){const t=this.#$e[e];void 0===t||this.#Ge(this.#De[e])||(yield t)}}*rkeys(){for(const e of this.#Xe()){const t=this.#$e[e];void 0===t||this.#Ge(this.#De[e])||(yield t)}}*values(){for(const e of this.#Ye())void 0===this.#De[e]||this.#Ge(this.#De[e])||(yield this.#De[e])}*rvalues(){for(const e of this.#Xe())void 0===this.#De[e]||this.#Ge(this.#De[e])||(yield this.#De[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const r of this.#Ye()){const n=this.#De[r],o=this.#Ge(n)?n.__staleWhileFetching:n;if(void 0!==o&&e(o,this.#$e[r],this))return this.get(this.#$e[r],t)}}forEach(e,t=this){for(const r of this.#Ye()){const n=this.#De[r],o=this.#Ge(n)?n.__staleWhileFetching:n;void 0!==o&&e.call(t,o,this.#$e[r],this)}}rforEach(e,t=this){for(const r of this.#Xe()){const n=this.#De[r],o=this.#Ge(n)?n.__staleWhileFetching:n;void 0!==o&&e.call(t,o,this.#$e[r],this)}}purgeStale(){let e=!1;for(const t of this.#Xe({allowStale:!0}))this.#Je(t)&&(this.delete(this.#$e[t]),e=!0);return e}info(e){const t=this.#Oe.get(e);if(void 0===t)return;const n=this.#De[t],o=this.#Ge(n)?n.__staleWhileFetching:n;if(void 0===o)return;const s={value:o};if(this.#We&&this.#je){const e=this.#We[t],n=this.#je[t];if(e&&n){const t=e-(r.now()-n);s.ttl=t,s.start=Date.now()}}return this.#Ue&&(s.size=this.#Ue[t]),s}dump(){const e=[];for(const t of this.#Ye({allowStale:!0})){const n=this.#$e[t],o=this.#De[t],s=this.#Ge(o)?o.__staleWhileFetching:o;if(void 0===s||void 0===n)continue;const i={value:s};if(this.#We&&this.#je){i.ttl=this.#We[t];const e=r.now()-this.#je[t];i.start=Math.floor(Date.now()-e)}this.#Ue&&(i.size=this.#Ue[t]),e.unshift([n,i])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=r.now()-e}this.set(t,n.value,n)}}set(e,t,r={}){if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:o,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:i=this.sizeCalculation,status:a}=r;let{noUpdateTTL:c=this.noUpdateTTL}=r;const l=this.#st(e,t,r.size||0,i);if(this.maxEntrySize&&l>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let h=0===this.#M?void 0:this.#Oe.get(e);if(void 0===h)h=0===this.#M?this.#Be:0!==this.#Me.length?this.#Me.pop():this.#M===this.#ke?this.#at(!1):this.#M,this.#$e[h]=e,this.#De[h]=t,this.#Oe.set(e,h),this.#Le[this.#Be]=h,this.#Fe[h]=this.#Be,this.#Be=h,this.#M++,this.#it(h,l,a),a&&(a.set="add"),c=!1;else{this.#Ze(h);const r=this.#De[h];if(t!==r){if(this.#ze&&this.#Ge(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;void 0===t||s||(this.#qe&&this.#Re?.(t,e,"set"),this.#Ve&&this.#He?.push([t,e,"set"]))}else s||(this.#qe&&this.#Re?.(r,e,"set"),this.#Ve&&this.#He?.push([r,e,"set"]));if(this.#ot(h),this.#it(h,l,a),this.#De[h]=t,a){a.set="replace";const e=r&&this.#Ge(r)?r.__staleWhileFetching:r;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===n||this.#We||this.#et(),this.#We&&(c||this.#tt(h,n,o),a&&this.#nt(a,h)),!s&&this.#Ve&&this.#He){const e=this.#He;let t;for(;t=e?.shift();)this.#Pe?.(...t)}return this}pop(){try{for(;this.#M;){const e=this.#De[this.#Ne];if(this.#at(!0),this.#Ge(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#Ve&&this.#He){const e=this.#He;let t;for(;t=e?.shift();)this.#Pe?.(...t)}}}#at(e){const t=this.#Ne,r=this.#$e[t],n=this.#De[t];return this.#ze&&this.#Ge(n)?n.__abortController.abort(new Error("evicted")):(this.#qe||this.#Ve)&&(this.#qe&&this.#Re?.(n,r,"evict"),this.#Ve&&this.#He?.push([n,r,"evict"])),this.#ot(t),e&&(this.#$e[t]=void 0,this.#De[t]=void 0,this.#Me.push(t)),1===this.#M?(this.#Ne=this.#Be=0,this.#Me.length=0):this.#Ne=this.#Le[t],this.#Oe.delete(r),this.#M--,t}has(e,t={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,o=this.#Oe.get(e);if(void 0!==o){const e=this.#De[o];if(this.#Ge(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#Je(o))return r&&this.#rt(o),n&&(n.has="hit",this.#nt(n,o)),!0;n&&(n.has="stale",this.#nt(n,o))}else n&&(n.has="miss");return!1}peek(e,t={}){const{allowStale:r=this.allowStale}=t,n=this.#Oe.get(e);if(void 0===n||!r&&this.#Je(n))return;const o=this.#De[n];return this.#Ge(o)?o.__staleWhileFetching:o}#Ke(e,t,r,n){const o=void 0===t?void 0:this.#De[t];if(this.#Ge(o))return o;const s=new i,{signal:a}=r;a?.addEventListener("abort",(()=>s.abort(a.reason)),{signal:s.signal});const c={signal:s.signal,options:r,context:n},l=(n,o=!1)=>{const{aborted:i}=s.signal,a=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(i&&!o?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),i&&!a&&!o)return h(s.signal.reason);const l=u;return this.#De[t]===u&&(void 0===n?l.__staleWhileFetching?this.#De[t]=l.__staleWhileFetching:this.delete(e):(r.status&&(r.status.fetchUpdated=!0),this.set(e,n,c.options))),n},h=n=>{const{aborted:o}=s.signal,i=o&&r.allowStaleOnFetchAbort,a=i||r.allowStaleOnFetchRejection,c=a||r.noDeleteOnFetchRejection,l=u;if(this.#De[t]===u&&(c&&void 0!==l.__staleWhileFetching?i||(this.#De[t]=l.__staleWhileFetching):this.delete(e)),a)return r.status&&void 0!==l.__staleWhileFetching&&(r.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw n};r.status&&(r.status.fetchDispatched=!0);const u=new Promise(((t,n)=>{const i=this.#xe?.(e,o,c);i&&i instanceof Promise&&i.then((e=>t(void 0===e?void 0:e)),n),s.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>l(e,!0)))}))})).then(l,(e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),h(e)))),d=Object.assign(u,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,d,{...c.options,status:void 0}),t=this.#Oe.get(e)):this.#De[t]=d,d}#Ge(e){if(!this.#ze)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof i}async fetch(e,t={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:i=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:d=this.ignoreFetchAbort,allowStaleOnFetchAbort:f=this.allowStaleOnFetchAbort,context:p,forceRefresh:m=!1,status:g,signal:w}=t;if(!this.#ze)return g&&(g.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o,status:g});const y={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:s,noDisposeOnSet:i,size:a,sizeCalculation:c,noUpdateTTL:l,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:f,ignoreFetchAbort:d,status:g,signal:w};let S=this.#Oe.get(e);if(void 0===S){g&&(g.fetch="miss");const t=this.#Ke(e,S,y,p);return t.__returned=t}{const t=this.#De[S];if(this.#Ge(t)){const e=r&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const o=this.#Je(S);if(!m&&!o)return g&&(g.fetch="hit"),this.#Ze(S),n&&this.#rt(S),g&&this.#nt(g,S),t;const s=this.#Ke(e,S,y,p),i=void 0!==s.__staleWhileFetching&&r;return g&&(g.fetch=o?"stale":"refresh",i&&o&&(g.returnedStale=!0)),i?s.__staleWhileFetching:s.__returned=s}}get(e,t={}){const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,status:s}=t,i=this.#Oe.get(e);if(void 0!==i){const t=this.#De[i],a=this.#Ge(t);return s&&this.#nt(s,i),this.#Je(i)?(s&&(s.get="stale"),a?(s&&r&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),r?t.__staleWhileFetching:void 0):(o||this.delete(e),s&&r&&(s.returnedStale=!0),r?t:void 0)):(s&&(s.get="hit"),a?t.__staleWhileFetching:(this.#Ze(i),n&&this.#rt(i),t))}s&&(s.get="miss")}#lt(e,t){this.#Fe[t]=e,this.#Le[e]=t}#Ze(e){e!==this.#Be&&(e===this.#Ne?this.#Ne=this.#Le[e]:this.#lt(this.#Fe[e],this.#Le[e]),this.#lt(this.#Be,e),this.#Be=e)}delete(e){let t=!1;if(0!==this.#M){const r=this.#Oe.get(e);if(void 0!==r)if(t=!0,1===this.#M)this.clear();else{this.#ot(r);const t=this.#De[r];if(this.#Ge(t)?t.__abortController.abort(new Error("deleted")):(this.#qe||this.#Ve)&&(this.#qe&&this.#Re?.(t,e,"delete"),this.#Ve&&this.#He?.push([t,e,"delete"])),this.#Oe.delete(e),this.#$e[r]=void 0,this.#De[r]=void 0,r===this.#Be)this.#Be=this.#Fe[r];else if(r===this.#Ne)this.#Ne=this.#Le[r];else{const e=this.#Fe[r];this.#Le[e]=this.#Le[r];const t=this.#Le[r];this.#Fe[t]=this.#Fe[r]}this.#M--,this.#Me.push(r)}}if(this.#Ve&&this.#He?.length){const e=this.#He;let t;for(;t=e?.shift();)this.#Pe?.(...t)}return t}clear(){for(const e of this.#Xe({allowStale:!0})){const t=this.#De[e];if(this.#Ge(t))t.__abortController.abort(new Error("deleted"));else{const r=this.#$e[e];this.#qe&&this.#Re?.(t,r,"delete"),this.#Ve&&this.#He?.push([t,r,"delete"])}}if(this.#Oe.clear(),this.#De.fill(void 0),this.#$e.fill(void 0),this.#We&&this.#je&&(this.#We.fill(0),this.#je.fill(0)),this.#Ue&&this.#Ue.fill(0),this.#Ne=0,this.#Be=0,this.#Me.length=0,this.#Ae=0,this.#M=0,this.#Ve&&this.#He){const e=this.#He;let t;for(;t=e?.shift();)this.#Pe?.(...t)}}}t.LRUCache=d},7923:(e,t,r)=>{"use strict";function n(e,t){return t?t.aborted?Promise.resolve(void 0):new Promise((r=>{const n=o(e,(e=>{t.removeEventListener("abort",s),r(e)})),s=()=>{n.dispose(),t.removeEventListener("abort",s),r(void 0)};t.addEventListener("abort",s)})):new Promise((t=>o(e,t)))}r.r(t),r.d(t,{EventEmitter:()=>s,once:()=>o,toPromise:()=>n});const o=(e,t)=>{const r=e((e=>{t(e),r.dispose()}));return r};class s{constructor(){this.event=(e,t,r)=>{const n=this.add(t?e.bind(t):e);return r?.push(n),n}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}},9676:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DataViewIndexOutOfBoundsError:()=>j,DecodeError:()=>v,Decoder:()=>z,EXT_TIMESTAMP:()=>b,Encoder:()=>O,ExtData:()=>y,ExtensionCodec:()=>x,decode:()=>G,decodeArrayStream:()=>re,decodeAsync:()=>te,decodeMulti:()=>K,decodeMultiStream:()=>ne,decodeStream:()=>oe,decodeTimestampExtension:()=>R,decodeTimestampToTimeSpec:()=>I,encode:()=>D,encodeDateToTimeSpec:()=>T,encodeTimeSpecToTimestamp:()=>C,encodeTimestampExtension:()=>k});var n,o,s,i=4294967295;function a(e,t,r){var n=Math.floor(r/4294967296),o=r;e.setUint32(t,n),e.setUint32(t+4,o)}function c(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var l=("undefined"==typeof process||"never"!==(null===(n=null===process||void 0===process?void 0:process.env)||void 0===n?void 0:n.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function h(e){for(var t=e.length,r=0,n=0;n<t;){var o=e.charCodeAt(n++);if(0!=(4294967168&o))if(0==(4294965248&o))r+=2;else{if(o>=55296&&o<=56319&&n<t){var s=e.charCodeAt(n);56320==(64512&s)&&(++n,o=((1023&o)<<10)+(1023&s)+65536)}r+=0==(4294901760&o)?3:4}else r++}return r}var u=l?new TextEncoder:void 0,d=l?"undefined"!=typeof process&&"force"!==(null===(o=null===process||void 0===process?void 0:process.env)||void 0===o?void 0:o.TEXT_ENCODING)?200:0:i,f=(null==u?void 0:u.encodeInto)?function(e,t,r){u.encodeInto(e,t.subarray(r))}:function(e,t,r){t.set(u.encode(e),r)};function p(e,t,r){for(var n=t,o=n+r,s=[],i="";n<o;){var a=e[n++];if(0==(128&a))s.push(a);else if(192==(224&a)){var c=63&e[n++];s.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[n++];var l=63&e[n++];s.push((31&a)<<12|c<<6|l)}else if(240==(248&a)){var h=(7&a)<<18|(c=63&e[n++])<<12|(l=63&e[n++])<<6|63&e[n++];h>65535&&(h-=65536,s.push(h>>>10&1023|55296),h=56320|1023&h),s.push(h)}else s.push(a);s.length>=4096&&(i+=String.fromCharCode.apply(String,s),s.length=0)}return s.length>0&&(i+=String.fromCharCode.apply(String,s)),i}var m,g=l?new TextDecoder:null,w=l?"undefined"!=typeof process&&"force"!==(null===(s=null===process||void 0===process?void 0:process.env)||void 0===s?void 0:s.TEXT_DECODER)?200:0:i,y=function(e,t){this.type=e,this.data=t},S=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),v=function(e){function t(r){var n=e.call(this,r)||this,o=Object.create(t.prototype);return Object.setPrototypeOf(n,o),Object.defineProperty(n,"name",{configurable:!0,enumerable:!1,value:t.name}),n}return S(t,e),t}(Error),b=-1,_=4294967295,E=17179869183;function C(e){var t,r=e.sec,n=e.nsec;if(r>=0&&n>=0&&r<=E){if(0===n&&r<=_){var o=new Uint8Array(4);return(t=new DataView(o.buffer)).setUint32(0,r),o}var s=r/4294967296,i=4294967295&r;return o=new Uint8Array(8),(t=new DataView(o.buffer)).setUint32(0,n<<2|3&s),t.setUint32(4,i),o}return o=new Uint8Array(12),(t=new DataView(o.buffer)).setUint32(0,n),a(t,4,r),o}function T(e){var t=e.getTime(),r=Math.floor(t/1e3),n=1e6*(t-1e3*r),o=Math.floor(n/1e9);return{sec:r+o,nsec:n-1e9*o}}function k(e){return e instanceof Date?C(T(e)):null}function I(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var r=t.getUint32(0);return{sec:4294967296*(3&r)+t.getUint32(4),nsec:r>>>2};case 12:return{sec:c(t,4),nsec:t.getUint32(0)};default:throw new v("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}function R(e){var t=I(e);return new Date(1e3*t.sec+t.nsec/1e6)}var P={type:b,encode:k,decode:R},x=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(P)}return e.prototype.register=function(e){var t=e.type,r=e.encode,n=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=n}},e.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++)if(null!=(n=this.builtInEncoders[r])&&null!=(o=n(e,t)))return new y(-1-r,o);for(r=0;r<this.encoders.length;r++){var n,o;if(null!=(n=this.encoders[r])&&null!=(o=n(e,t)))return new y(r,o)}return e instanceof y?e:null},e.prototype.decode=function(e,t,r){var n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,r):new y(t,e)},e.defaultCodec=new e,e}();function A(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var O=function(){function e(e,t,r,n,o,s,i,a){void 0===e&&(e=x.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=100),void 0===n&&(n=2048),void 0===o&&(o=!1),void 0===s&&(s=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=r,this.initialBufferSize=n,this.sortKeys=o,this.forceFloat32=s,this.ignoreUndefined=i,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),n=new DataView(t);r.set(this.bytes),this.view=n,this.bytes=r},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>d){var t=h(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),f(e,this.bytes,this.pos),this.pos+=t}else t=h(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,r){for(var n=e.length,o=r,s=0;s<n;){var i=e.charCodeAt(s++);if(0!=(4294967168&i)){if(0==(4294965248&i))t[o++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&s<n){var a=e.charCodeAt(s);56320==(64512&a)&&(++s,i=((1023&i)<<10)+(1023&a)+65536)}0==(4294901760&i)?(t[o++]=i>>12&15|224,t[o++]=i>>6&63|128):(t[o++]=i>>18&7|240,t[o++]=i>>12&63|128,t[o++]=i>>6&63|128)}t[o++]=63&i|128}else t[o++]=i}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(null!=r)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var r=A(e);this.writeU8a(r)},e.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large array: ".concat(r));this.writeU8(221),this.writeU32(r)}for(var n=0,o=e;n<o.length;n++){var s=o[n];this.doEncode(s,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var r=0,n=0,o=t;n<o.length;n++)void 0!==e[o[n]]&&r++;return r},e.prototype.encodeMap=function(e,t){var r=Object.keys(e);this.sortKeys&&r.sort();var n=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large map object: ".concat(n));this.writeU8(223),this.writeU32(n)}for(var o=0,s=r;o<s.length;o++){var i=s[o],a=e[i];this.ignoreUndefined&&void 0===a||(this.encodeString(i),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,r){var n=r/4294967296,o=r;e.setUint32(t,n),e.setUint32(t+4,o)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),a(this.view,this.pos,e),this.pos+=8},e}(),$={};function D(e,t){return void 0===t&&(t=$),new O(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encodeSharedRef(e)}function L(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}var F=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,r){e:for(var n=0,o=this.caches[r-1];n<o.length;n++){for(var s=o[n],i=s.bytes,a=0;a<r;a++)if(i[a]!==e[t+a])continue e;return s.str}return null},e.prototype.store=function(e,t){var r=this.caches[e.length-1],n={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=n:r.push(n)},e.prototype.decode=function(e,t,r){var n=this.find(e,t,r);if(null!=n)return this.hit++,n;this.miss++;var o=p(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,o),o},e}(),N=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},B=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}},M=function(e){return this instanceof M?(this.v=e,this):new M(e)},H=new DataView(new ArrayBuffer(0)),U=new Uint8Array(H.buffer),j=function(){try{H.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),W=new j("Insufficient data"),q=new F,z=function(){function e(e,t,r,n,o,s,a,c){void 0===e&&(e=x.defaultCodec),void 0===t&&(t=void 0),void 0===r&&(r=i),void 0===n&&(n=i),void 0===o&&(o=i),void 0===s&&(s=i),void 0===a&&(a=i),void 0===c&&(c=q),this.extensionCodec=e,this.context=t,this.maxStrLength=r,this.maxBinLength=n,this.maxArrayLength=o,this.maxMapLength=s,this.maxExtLength=a,this.keyDecoder=c,this.totalPos=0,this.pos=0,this.view=H,this.bytes=U,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=A(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=A(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),r=A(e),n=new Uint8Array(t.length+r.length);n.set(t),n.set(r,t.length),this.setBuffer(n)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,r=this.pos;return new RangeError("Extra ".concat(t.byteLength-r," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return N(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,r,n,o,s,i,a,c;return s=this,i=void 0,c=function(){var s,i,a,c,l,h,u,d;return N(this,(function(f){switch(f.label){case 0:s=!1,f.label=1;case 1:f.trys.push([1,6,7,12]),t=B(e),f.label=2;case 2:return[4,t.next()];case 3:if((r=f.sent()).done)return[3,5];if(a=r.value,s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{i=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof j))throw e}this.totalPos+=this.pos,f.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=f.sent(),n={error:c},[3,12];case 7:return f.trys.push([7,,10,11]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,9];case 8:f.sent(),f.label=9;case 9:return[3,11];case 10:if(n)throw n.error;return[7];case 11:return[7];case 12:if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,i]}throw h=(l=this).headByte,u=l.pos,d=l.totalPos,new RangeError("Insufficient data in parsing ".concat(L(h)," at ").concat(d," (").concat(u," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function r(e){try{o(c.next(e))}catch(e){t(e)}}function n(e){try{o(c.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(r,n)}o((c=c.apply(s,i||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof M?Promise.resolve(r.value.v).then(c,l):h(s[0][2],r)}catch(e){h(s[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,(function(){var r,n,o,s,i,a,c,l,h;return N(this,(function(u){switch(u.label){case 0:r=t,n=-1,u.label=1;case 1:u.trys.push([1,13,14,19]),o=B(e),u.label=2;case 2:return[4,M(o.next())];case 3:if((s=u.sent()).done)return[3,12];if(i=s.value,t&&0===n)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),r&&(n=this.readArraySize(),r=!1,this.complete()),u.label=4;case 4:u.trys.push([4,9,,10]),u.label=5;case 5:return[4,M(this.doDecodeSync())];case 6:return[4,u.sent()];case 7:return u.sent(),0==--n?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=u.sent())instanceof j))throw a;return[3,10];case 10:this.totalPos+=this.pos,u.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=u.sent(),l={error:c},[3,19];case 14:return u.trys.push([14,,17,18]),s&&!s.done&&(h=o.return)?[4,M(h.call(o))]:[3,16];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:if(l)throw l.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(n=e-128)){this.pushMapState(n),this.complete();continue e}t={}}else if(e<160){if(0!=(n=e-144)){this.pushArrayState(n),this.complete();continue e}t=[]}else{var r=e-160;t=this.decodeUtf8String(r,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)r=this.lookU8(),t=this.decodeUtf8String(r,1);else if(218===e)r=this.lookU16(),t=this.decodeUtf8String(r,2);else if(219===e)r=this.lookU32(),t=this.decodeUtf8String(r,4);else if(220===e){if(0!==(n=this.readU16())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(221===e){if(0!==(n=this.readU32())){this.pushArrayState(n),this.complete();continue e}t=[]}else if(222===e){if(0!==(n=this.readU16())){this.pushMapState(n),this.complete();continue e}t={}}else if(223===e){if(0!==(n=this.readU32())){this.pushMapState(n),this.complete();continue e}t={}}else if(196===e){var n=this.lookU8();t=this.decodeBinary(n,1)}else if(197===e)n=this.lookU16(),t=this.decodeBinary(n,2);else if(198===e)n=this.lookU32(),t=this.decodeBinary(n,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)n=this.lookU8(),t=this.decodeExtension(n,1);else if(200===e)n=this.lookU16(),t=this.decodeExtension(n,2);else{if(201!==e)throw new v("Unrecognized type byte: ".concat(L(e)));n=this.lookU32(),t=this.decodeExtension(n,4)}this.complete();for(var o=this.stack;o.length>0;){var s=o[o.length-1];if(0===s.type){if(s.array[s.position]=t,s.position++,s.position!==s.size)continue e;o.pop(),t=s.array}else{if(1===s.type){if(void 0,"string"!=(i=typeof t)&&"number"!==i)throw new v("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new v("The key __proto__ is not allowed");s.key=t,s.type=2;continue e}if(s.map[s.key]=t,s.readCount++,s.readCount!==s.size){s.key=null,s.type=1;continue e}o.pop(),t=s.map}}return t}var i},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new v("Unrecognized array type byte: ".concat(L(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new v("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new v("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new v("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw W;var n,o=this.pos+t;return n=this.stateIsMapKey()&&(null===(r=this.keyDecoder)||void 0===r?void 0:r.canBeCached(e))?this.keyDecoder.decode(this.bytes,o,e):e>w?function(e,t,r){var n=e.subarray(t,t+r);return g.decode(n)}(this.bytes,o,e):p(this.bytes,o,e),this.pos+=t+e,n},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new v("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw W;var r=this.pos+t,n=this.bytes.subarray(r,r+e);return this.pos+=t+e,n},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new v("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,r,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,r=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,r},e.prototype.readI64=function(){var e=c(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),V={};function G(e,t){return void 0===t&&(t=V),new z(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decode(e)}function K(e,t){return void 0===t&&(t=V),new z(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeMulti(e)}var Z=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},Y=function(e){return this instanceof Y?(this.v=e,this):new Y(e)},X=function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),s=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(t){return new Promise((function(r,n){s.push([e,t,r,n])>1||a(e,t)}))})}function a(e,t){try{(r=o[e](t)).value instanceof Y?Promise.resolve(r.value.v).then(c,l):h(s[0][2],r)}catch(e){h(s[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function h(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}};function J(e){return null!=e[Symbol.asyncIterator]?e:function(e){return X(this,arguments,(function(){var t,r,n,o;return Z(this,(function(s){switch(s.label){case 0:t=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Y(t.read())];case 3:return r=s.sent(),n=r.done,o=r.value,n?[4,Y(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return function(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}(o),[4,Y(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}var Q=function(e,t,r,n){return new(r||(r=Promise))((function(o,s){function i(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,a)}c((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};function te(e,t){return void 0===t&&(t=V),Q(this,void 0,void 0,(function(){var r;return ee(this,(function(n){return r=J(e),[2,new z(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeAsync(r)]}))}))}function re(e,t){void 0===t&&(t=V);var r=J(e);return new z(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeArrayStream(r)}function ne(e,t){void 0===t&&(t=V);var r=J(e);return new z(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(r)}function oe(e,t){return void 0===t&&(t=V),ne(e,t)}},4193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(5006);const o=class extends n.Z{#ht=0;#ut="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#ht=n),this.#ut=String(t)}get name(){return this.#ut}get lastModified(){return this.#ht}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.Z&&/^(File)$/.test(e[Symbol.toStringTag])}}},749:(e,t,r)=>{"use strict";r.d(t,{t6:()=>a.Z,$B:()=>i.Z,xB:()=>h,SX:()=>l,e2:()=>u,RA:()=>d});const n=require("node:fs"),o=require("node:path");var s=r(3414),i=r(4193),a=r(5006);const{stat:c}=n.promises,l=(e,t)=>f((0,n.statSync)(e),e,t),h=(e,t)=>c(e).then((r=>f(r,e,t))),u=(e,t)=>c(e).then((r=>p(r,e,t))),d=(e,t)=>p((0,n.statSync)(e),e,t),f=(e,t,r="")=>new a.Z([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),p=(e,t,r="")=>new i.Z([new m({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:r,lastModified:e.mtimeMs});class m{#dt;#ft;constructor(e){this.#dt=e.path,this.#ft=e.start,this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new m({path:this.#dt,lastModified:this.lastModified,size:t-e,start:this.#ft+e})}async*stream(){const{mtimeMs:e}=await c(this.#dt);if(e>this.lastModified)throw new s("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,n.createReadStream)(this.#dt,{start:this.#ft,end:this.#ft+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}},5006:(e,t,r)=>{"use strict";async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=r.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}r.d(t,{Z:()=>s}),r(7135);const o=class e{#y=[];#te="";#M=0;#pt="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`),this.#M+=ArrayBuffer.isView(t)?t.byteLength:t.size,this.#y.push(t)}this.#pt=`${void 0===r.endings?"transparent":r.endings}`;const o=void 0===r.type?"":String(r.type);this.#te=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#M}get type(){return this.#te}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#y,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#y,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#y,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:o}=this;let s=t<0?Math.max(o+t,0):Math.min(t,o),i=r<0?Math.max(o+r,0):Math.min(r,o);const a=Math.max(i-s,0),c=this.#y,l=[];let h=0;for(const e of c){if(h>=a)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(s&&t<=s)s-=t,i-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(s,Math.min(t,i)),h+=r.byteLength):(r=e.slice(s,Math.min(t,i)),h+=r.size),i-=t,l.push(r),s=0}}const u=new e([],{type:String(n).toLowerCase()});return u.#M=a,u.#y=l,u}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const s=o},9951:(e,t,r)=>{"use strict";r.d(t,{Ct:()=>f,au:()=>p});var n=r(5006),o=r(4193),{toStringTag:s,iterator:i,hasInstance:a}=Symbol,c=Math.random,l="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),h=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[s])?[(r=void 0!==r?r+"":"File"==t[s]?t.name:"blob",e),t.name!==r||"blob"==t[s]?new o.Z([t],r,t):t]:[e,t+""]),u=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),d=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const f=class{#mt=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[s](){return"FormData"}[i](){return this.entries()}static[a](e){return e&&"object"==typeof e&&"FormData"===e[s]&&!l.some((t=>"function"!=typeof e[t]))}append(...e){d("append",arguments,2),this.#mt.push(h(...e))}delete(e){d("delete",arguments,1),e+="",this.#mt=this.#mt.filter((([t])=>t!==e))}get(e){d("get",arguments,1),e+="";for(var t=this.#mt,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return d("getAll",arguments,1),t=[],e+="",this.#mt.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return d("has",arguments,1),e+="",this.#mt.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(d("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){d("set",arguments,2);var t=[],r=!0;e=h(...e),this.#mt.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#mt=t}*entries(){yield*this.#mt}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function p(e,t=n.Z){var r=`${c()}${c()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],s=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(s+u(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(s+u(t)+`"; filename="${u(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${r}--`),new t(o,{type:"multipart/form-data; boundary="+r})}},4126:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AbortError:()=>q,Blob:()=>z.t6,FetchError:()=>f,File:()=>z.$B,FormData:()=>u.Ct,Headers:()=>P,Request:()=>j,Response:()=>$,blobFrom:()=>z.xB,blobFromSync:()=>z.SX,default:()=>G,fileFrom:()=>z.e2,fileFromSync:()=>z.RA,isRedirect:()=>A});const n=require("node:http"),o=require("node:https"),s=require("node:zlib"),i=require("node:stream"),a=require("node:buffer"),c=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",o=!1;const s=r[0]||"text/plain";let i=s;for(let e=1;e<r.length;e++)"base64"===r[e]?o=!0:r[e]&&(i+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(i+=";charset=US-ASCII",n="US-ASCII");const a=o?"base64":"ascii",c=unescape(e.substring(t+1)),l=Buffer.from(c,a);return l.type=s,l.typeFull=i,l.charset=n,l},l=require("node:util");var h=r(5006),u=r(9951);class d extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class f extends d{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const p=Symbol.toStringTag,m=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[p],g=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[p]),w=(e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)},y=(e,t)=>new URL(t).protocol===new URL(e).protocol,S=(0,l.promisify)(i.pipeline),v=Symbol("Body internals");class b{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:m(e)?e=a.Buffer.from(e.toString()):g(e)||a.Buffer.isBuffer(e)||(l.types.isAnyArrayBuffer(e)?e=a.Buffer.from(e):ArrayBuffer.isView(e)?e=a.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof i||(e instanceof u.Ct?r=(e=(0,u.au)(e)).type.split("=")[1]:e=a.Buffer.from(String(e))));let n=e;a.Buffer.isBuffer(e)?n=i.Readable.from(e):g(e)&&(n=i.Readable.from(e.stream())),this[v]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof i&&e.on("error",(e=>{const t=e instanceof d?e:new f(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[v].error=t}))}get body(){return this[v].stream}get bodyUsed(){return this[v].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await _(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new u.Ct,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await r.e(713).then(r.bind(r,1713));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[v].body&&this[v].body.type||"",t=await this.arrayBuffer();return new h.Z([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await _(this);return(new TextDecoder).decode(e)}buffer(){return _(this)}}async function _(e){if(e[v].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[v].disturbed=!0,e[v].error)throw e[v].error;const{body:t}=e;if(null===t)return a.Buffer.alloc(0);if(!(t instanceof i))return a.Buffer.alloc(0);const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new f(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=o.length,r.push(o)}}catch(t){throw t instanceof d?t:new f(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new f(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?a.Buffer.from(r.join("")):a.Buffer.concat(r,n)}catch(t){throw new f(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}b.prototype.buffer=(0,l.deprecate)(b.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(b.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,l.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const E=(e,t)=>{let r,n,{body:o}=e[v];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof i&&"function"!=typeof o.getBoundary&&(r=new i.PassThrough({highWaterMark:t}),n=new i.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[v].stream=r,o=n),o},C=(0,l.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),T=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":m(e)?"application/x-www-form-urlencoded;charset=UTF-8":g(e)?e.type||null:a.Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof u.Ct?`multipart/form-data; boundary=${t[v].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${C(e)}`:e instanceof i?null:"text/plain;charset=UTF-8",k=async(e,{body:t})=>{null===t?e.end():await S(t,e)},I="function"==typeof n.validateHeaderName?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},R="function"==typeof n.validateHeaderValue?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class P extends URLSearchParams{constructor(e){let t=[];if(e instanceof P){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||l.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(I(e),R(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(I(r),R(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(I(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t=void 0){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}Object.defineProperties(P.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const x=new Set([301,302,303,307,308]),A=e=>x.has(e),O=Symbol("Response internals");class $ extends b{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new P(t.headers);if(null!==e&&!n.has("Content-Type")){const t=T(e,this);t&&n.append("Content-Type",t)}this[O]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[O].type}get url(){return this[O].url||""}get status(){return this[O].status}get ok(){return this[O].status>=200&&this[O].status<300}get redirected(){return this[O].counter>0}get statusText(){return this[O].statusText}get headers(){return this[O].headers}get highWaterMark(){return this[O].highWaterMark}clone(){return new $(E(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!A(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new $(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new $(null,{status:0,statusText:""});return e[O].type="error",e}static json(e=void 0,t={}){const r=JSON.stringify(e);if(void 0===r)throw new TypeError("data is not JSON serializable");const n=new P(t&&t.headers);return n.has("content-type")||n.set("content-type","application/json"),new $(r,{...t,headers:n})}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties($.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const D=require("node:url"),L=require("node:net");function F(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const N=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function B(e){return!!/^about:(blank|srcdoc)$/.test(e)||"data:"===e.protocol||!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,L.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||"localhost"!==e.host&&!e.host.endsWith(".localhost")&&"file:"===e.protocol}(e)}const M=Symbol("Request internals"),H=e=>"object"==typeof e&&"object"==typeof e[M],U=(0,l.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class j extends b{constructor(e,t={}){let r;if(H(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(/^(delete|get|head|options|post|put)$/i.test(n)&&(n=n.toUpperCase()),!H(t)&&"data"in t&&U(),(null!=t.body||H(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:H(e)&&null!==e.body?E(e):null;super(o,{size:t.size||e.size||0});const s=new P(t.headers||e.headers||{});if(null!==o&&!s.has("Content-Type")){const e=T(o,this);e&&s.set("Content-Type",e)}let i=H(e)?e.signal:null;if("signal"in t&&(i=t.signal),null!=i&&("object"!=typeof(a=i)||"AbortSignal"!==a[p]&&"EventTarget"!==a[p]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var a;let c=null==t.referrer?e.referrer:t.referrer;if(""===c)c="no-referrer";else if(c){const e=new URL(c);c=/^about:(\/\/)?client$/.test(e)?"client":e}else c=void 0;this[M]={method:n,redirect:t.redirect||e.redirect||"follow",headers:s,parsedURL:r,signal:i,referrer:c},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[M].method}get url(){return(0,D.format)(this[M].parsedURL)}get headers(){return this[M].headers}get redirect(){return this[M].redirect}get signal(){return this[M].signal}get referrer(){return"no-referrer"===this[M].referrer?"":"client"===this[M].referrer?"about:client":this[M].referrer?this[M].referrer.toString():void 0}get referrerPolicy(){return this[M].referrerPolicy}set referrerPolicy(e){this[M].referrerPolicy=function(e){if(!N.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new j(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(j.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const W=e=>{const{parsedURL:t}=e[M],r=new P(e[M].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[v];return null===t?0:g(t)?t.size:a.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[M].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let s=F(o),i=F(o,!0);s.toString().length>4096&&(s=i),t&&(s=t(s)),r&&(i=r(i));const a=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return i;case"unsafe-url":return s;case"strict-origin":return B(s)&&!B(a)?"no-referrer":i.toString();case"strict-origin-when-cross-origin":return s.origin===a.origin?s:B(s)&&!B(a)?"no-referrer":i;case"same-origin":return s.origin===a.origin?s:"no-referrer";case"origin-when-cross-origin":return s.origin===a.origin?s:i;case"no-referrer-when-downgrade":return B(s)&&!B(a)?"no-referrer":s;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[M].referrer="no-referrer",e[M].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip, deflate, br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),r.has("Connection")||o||r.set("Connection","close");const s=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+s,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class q extends d{constructor(e,t="aborted"){super(e,t)}}var z=r(749);const V=new Set(["data:","http:","https:"]);async function G(e,t){return new Promise(((r,l)=>{const h=new j(e,t),{parsedURL:u,options:d}=W(h);if(!V.has(u.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===u.protocol){const e=c(h.url),t=new $(e,{headers:{"Content-Type":e.typeFull}});return void r(t)}const p=("https:"===u.protocol?o:n).request,{signal:m}=h;let g=null;const S=()=>{const e=new q("The operation was aborted.");l(e),h.body&&h.body instanceof i.Readable&&h.body.destroy(e),g&&g.body&&g.body.emit("error",e)};if(m&&m.aborted)return void S();const v=()=>{S(),_()},b=p(u.toString(),d);m&&m.addEventListener("abort",v);const _=()=>{b.abort(),m&&m.removeEventListener("abort",v)};b.on("error",(e=>{l(new f(`request to ${h.url} failed, reason: ${e.message}`,"system",e)),_()})),function(e,t){const r=a.Buffer.from("0\r\n\r\n");let n,o=!1,s=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(t=>{const i=()=>{if(o&&!s){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",(e=>{g&&g.body&&g.body.destroy(e)})(e)}},c=e=>{s=0===a.Buffer.compare(e.slice(-5),r),!s&&n&&(s=0===a.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===a.Buffer.compare(e.slice(-2),r.slice(3))),n=e};t.prependListener("close",i),t.on("data",c),e.on("close",(()=>{t.removeListener("close",i),t.removeListener("data",c)}))}))}(b),process.version<"v14"&&b.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(g&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",g.body.emit("error",e)}}))})),b.on("response",(e=>{b.setTimeout(0);const n=function(e=[]){return new P(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return I(e),R(e,String(t)),!0}catch{return!1}})))}(e.rawHeaders);if(A(e.statusCode)){const o=n.get("Location");let s=null;try{s=null===o?null:new URL(o,h.url)}catch{if("manual"!==h.redirect)return l(new f(`uri requested responds with an invalid redirect URL: ${o}`,"invalid-redirect")),void _()}switch(h.redirect){case"error":return l(new f(`uri requested responds with a redirect, redirect mode is set to error: ${h.url}`,"no-redirect")),void _();case"manual":break;case"follow":{if(null===s)break;if(h.counter>=h.follow)return l(new f(`maximum redirect reached at: ${h.url}`,"max-redirect")),void _();const o={headers:new P(h.headers),follow:h.follow,counter:h.counter+1,agent:h.agent,compress:h.compress,method:h.method,body:E(h),signal:h.signal,size:h.size,referrer:h.referrer,referrerPolicy:h.referrerPolicy};if(!w(h.url,s)||!y(h.url,s))for(const e of["authorization","www-authenticate","cookie","cookie2"])o.headers.delete(e);if(303!==e.statusCode&&h.body&&t.body instanceof i.Readable)return l(new f("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void _();303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==h.method)||(o.method="GET",o.body=void 0,o.headers.delete("content-length"));const a=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&N.has(e)&&(r=e);return r}(n);return a&&(o.referrerPolicy=a),r(G(new j(s,o))),void _()}default:return l(new TypeError(`Redirect option '${h.redirect}' is not a valid value of RequestRedirect`))}}m&&e.once("end",(()=>{m.removeEventListener("abort",v)}));let o=(0,i.pipeline)(e,new i.PassThrough,(e=>{e&&l(e)}));process.version<"v12.10"&&e.on("aborted",v);const a={url:h.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:h.size,counter:h.counter,highWaterMark:h.highWaterMark},c=n.get("Content-Encoding");if(!h.compress||"HEAD"===h.method||null===c||204===e.statusCode||304===e.statusCode)return g=new $(o,a),void r(g);const u={flush:s.Z_SYNC_FLUSH,finishFlush:s.Z_SYNC_FLUSH};if("gzip"===c||"x-gzip"===c)return o=(0,i.pipeline)(o,s.createGunzip(u),(e=>{e&&l(e)})),g=new $(o,a),void r(g);if("deflate"===c||"x-deflate"===c){const t=(0,i.pipeline)(e,new i.PassThrough,(e=>{e&&l(e)}));return t.once("data",(e=>{o=8==(15&e[0])?(0,i.pipeline)(o,s.createInflate(),(e=>{e&&l(e)})):(0,i.pipeline)(o,s.createInflateRaw(),(e=>{e&&l(e)})),g=new $(o,a),r(g)})),void t.once("end",(()=>{g||(g=new $(o,a),r(g))}))}if("br"===c)return o=(0,i.pipeline)(o,s.createBrotliDecompress(),(e=>{e&&l(e)})),g=new $(o,a),void r(g);g=new $(o,a),r(g)})),k(b,h).catch(l)}))}},4147:e=>{"use strict";e.exports=JSON.parse('{"name":"remote-ssh","displayName":"Remote - SSH","description":"%description%","version":"0.115.1","publisher":"ms-vscode-remote","icon":"resources/remote-ssh.png","repository":{"type":"git","url":"https://github.com/Microsoft/vscode-remote-release.git"},"bugs":{"url":"https://github.com/Microsoft/vscode-remote-release/issues"},"license":"SEE LICENSE IN LICENSE.txt","engines":{"vscode":"^1.93.0"},"extensionKind":["ui"],"enabledApiProposals":["resolvers","tunnels","terminalDataWriteEvent","contribViewsRemote","telemetry","contribRemoteHelp"],"extensionPack":["ms-vscode-remote.remote-ssh-edit","ms-vscode.remote-explorer"],"categories":["Other"],"keywords":["remote development","remote","ssh"],"api":"none","activationEvents":["onCommand:remote-internal.getSshFoldersHistory","onCommand:remote-internal.deleteSshFolderFromHistory","onCommand:remote-internal.getActiveSshRemote","onCommand:remote-internal.getConfiguredHostnames","onCommand:remote-internal.openRemoteSshTarget","onResolveRemoteAuthority:ssh-remote"],"l10n":"./l10n","main":"./out/extension","aiKey":"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255","capabilities":{"untrustedWorkspaces":{"supported":true}},"contributes":{"remoteHelp":{"getStarted":"https://aka.ms/vscode-remote/ssh/getting-started","feedback":"https://aka.ms/vscode-remote/ssh/provide-feedback","documentation":"https://aka.ms/vscode-remote/ssh","issues":"https://aka.ms/vscode-remote/ssh/issues","remoteName":["ssh-remote"]},"configuration":{"title":"Remote - SSH","properties":{"remote.SSH.configFile":{"type":"string","description":"%setting.configFile.description%","default":"","scope":"application"},"remote.SSH.showLoginTerminal":{"type":"boolean","description":"%setting.showLoginTerminal.description%","scope":"application","default":false},"remote.SSH.defaultForwardedPorts":{"type":"array","items":{"type":"object","required":["remotePort"],"properties":{"name":{"type":"string"},"remotePort":{"type":"number"},"localPort":{"type":"number"}}},"description":"%setting.defaultForwardedPorts.description%","default":[]},"remote.SSH.defaultExtensions":{"type":"array","items":{"type":"string"},"description":"%setting.defaultExtensions.description%","scope":"application"},"remote.SSH.path":{"type":"string","description":"%setting.path.description%","default":"","scope":"application"},"remote.SSH.serverInstallPath":{"type":"object","description":"%setting.serverInstallPath.description%","scope":"application","additionalProperties":{"type":"string"}},"remote.SSH.lockfilesInTmp":{"type":"boolean","markdownDescription":"%setting.lockfilesInTmp.description%","scope":"application","default":false},"remote.SSH.useFlock":{"type":"boolean","markdownDescription":"%setting.useFlock.description%","scope":"application","default":true},"remote.SSH.enableDynamicForwarding":{"type":"boolean","description":"%setting.enableDynamicForwarding.description%","scope":"application","default":true},"remote.SSH.enableAgentForwarding":{"type":"boolean","markdownDescription":"%setting.enableAgentForwarding.description%","scope":"application","default":true},"remote.SSH.enableX11Forwarding":{"type":"boolean","markdownDescription":"%setting.enableX11Forwarding.description%","scope":"application","default":true},"remote.SSH.permitPtyAllocation":{"type":"boolean","markdownDescription":"%setting.permitPtyAllocation.description%","scope":"application","default":false},"remote.SSH.useCurlAndWgetConfigurationFiles":{"type":"boolean","markdownDescription":"%setting.useCurlAndWgetConfigurationFiles.description%","scope":"application","default":false},"remote.SSH.useExecServer":{"type":"boolean","markdownDescription":"%setting.useExecServer.description%","scope":"application","default":true},"remote.SSH.enableRemoteCommand":{"type":"boolean","markdownDescription":"%setting.enableRemoteCommand.description%","scope":"application","default":false},"remote.SSH.externalSSH_ASKPASS":{"type":"boolean","markdownDescription":"%setting.externalSSH_ASKPASS.description%","scope":"application","default":false},"remote.SSH.allowLocalServerDownload":{"type":"boolean","description":"%setting.allowLocalServerDownload.description%","markdownDeprecationMessage":"%setting.allowLocalServerDownload.deprecationMessage%","scope":"application","default":true},"remote.SSH.localServerDownload":{"type":"string","description":"%setting.localServerDownload.description%","enum":["auto","always","off"],"enumDescriptions":["%setting.localServerDownload.auto.description%","%setting.localServerDownload.always.description%","%setting.localServerDownload.off.description%"],"scope":"application","default":"auto"},"remote.SSH.windowsRemotes":{"type":"array","markdownDescription":"%setting.windowsRemotes.description%","deprecationMessage":"%setting.windowsRemotes.deprecationMessage%","default":[],"items":{"type":"string"},"scope":"application"},"remote.SSH.useLocalServer":{"type":"boolean","markdownDescription":"%setting.useLocalServer.description%","scope":"application","default":true},"remote.SSH.connectTimeout":{"type":"number","description":"%setting.connectTimeout.description%","default":15,"scope":"application","minimum":1},"remote.SSH.logLevel":{"type":"string","description":"%setting.logLevel.description%","default":"debug","scope":"application","enum":["debug","trace"]},"remote.SSH.maxReconnectionAttempts":{"type":["number","null"],"markdownDescription":"%setting.maxReconnectionAttempts.description%","default":null,"scope":"application","maximum":8,"minimum":0},"remote.SSH.suppressWindowsSshWarning":{"type":"boolean","description":"%setting.suppressWindowsSshWarning.description%","default":false,"scope":"application"},"remote.SSH.remotePlatform":{"type":"object","markdownDescription":"%setting.remotePlatform.description%","scope":"application","additionalProperties":{"type":"string","enum":["macOS","windows","linux"]}},"remote.SSH.remoteServerListenOnSocket":{"type":"boolean","default":false,"markdownDescription":"%setting.remoteServerListenOnSocket.description%"},"remote.SSH.serverPickPortsFromRange":{"type":"object","markdownDescription":"%setting.serverPickPortsFromRange.description%","scope":"application","additionalProperties":{"type":"string","pattern":"^\\\\d+-\\\\d+$"}},"remote.SSH.preferredLocalPortRange":{"type":"string","default":"","markdownDescription":"%setting.preferredLocalPortRange.description%","scope":"application","pattern":"^\\\\d+-\\\\d+$|^$"},"remote.SSH.bindHost":{"type":"object","markdownDescription":"%setting.bindHost.description%","scope":"application","examples":[{"example.com":"127.0.0.1"}],"additionalProperties":{"type":"string","default":"127.0.0.1"}}}},"commands":[{"command":"opensshremotes.openWebUI","title":"%commands.openWebUI.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindow","title":"%commands.openEmptyWindow,title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","title":"%commands.openEmptyWindowOnCurrentHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","title":"%commands.openEmptyWindowInCurrentWindow.title%","category":"Remote-SSH"},{"command":"opensshremotes.openConfigFile","title":"%commands.openConfigFile.title%","category":"Remote-SSH"},{"command":"opensshremotes.addNewSshHost","title":"%commands.addNewSshHost.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanDevBox","title":"%commands.cleanDevBox.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanRemoteServer","title":"%commands.cleanRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanCurrentRemoteServer","title":"%commands.cleanCurrentRemoteServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.cleanLocalServer","title":"%commands.cleanLocalServer.title%","category":"Remote-SSH"},{"command":"opensshremotes.getHelp","title":"%commands.getHelp.title%","category":"Remote-SSH"},{"command":"opensshremotes.getStarted","title":"%commands.getStarted.title%","category":"Remote-SSH"},{"command":"opensshremotes.reportIssue","title":"%commands.reportIssue.title%","category":"Remote-SSH"},{"command":"opensshremotes.settings","title":"%commands.settings.title%","category":"Remote-SSH"},{"command":"opensshremotes.provideFeedback","title":"%commands.provideFeedback.title%","category":"Remote-SSH"},{"command":"opensshremotes.showLog","title":"%commands.showLog.title%","category":"Remote-SSH"}],"resourceLabelFormatters":[{"scheme":"vscode-remote","authority":"ssh-remote+*","formatting":{"label":"${path}","separator":"/","tildify":true,"workspaceSuffix":"SSH"}}],"menus":{"statusBar/remoteIndicator":[{"command":"opensshremotes.openEmptyWindow","group":"remote_20_ssh-remote_1general@1"},{"command":"opensshremotes.openEmptyWindowInCurrentWindow","group":"remote_20_ssh-remote_1general@2"}],"commandPalette":[{"command":"opensshremotes.getStarted","when":"!remoteName && !virtualWorkspace || remoteName =~ /^ssh-remote$/ && remoteConnectionState == disconnected"},{"command":"opensshremotes.openEmptyWindowOnCurrentHost","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.provideFeedback","when":"remoteName =~ /^ssh-remote$/"},{"command":"opensshremotes.cleanCurrentRemoteServer","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected"},{"command":"opensshremotes.cleanLocalServer","when":"config.remote.SSH.useLocalServer"},{"command":"opensshremotes.openWebUI","when":"remoteName =~ /^ssh-remote$/ && remoteConnectionState == connected && config.remote.SSH.enableWebAccess"}]}},"scripts":{"lint:eslint":"eslint \\"src/**/*.ts\\"","lint:shellcheck":"node scripts/shellcheck.js","lint":"npm-run-all lint:eslint lint:shellcheck","preinstall":"npm exec ado-npm-auth","postinstall":"npm run downloadapi","downloadapi":"vscode-dts dev","vscode:prepublish":"webpack --mode production","compile":"webpack --mode development","watch":"webpack --mode development --watch","package":"vsce package --yarn","pretest":"npm run compile","test":"vscode-test --label unit","test:baseline":"vscode-test --label baseline","baseline":"npm-run-all pretest test:baseline"},"devDependencies":{"@devcontainers/cli":"latest","@types/glob":"^8.1.0","@types/lockfile":"^1.0.4","@types/minimist":"^1.2.5","@types/mocha":"^10.0.6","@types/node":"^20.10.3","@types/shell-quote":"^1.7.5","@types/sinon":"^17.0.2","@types/vscode":"1.90.0","@types/webpack":"^5.28.5","@typescript-eslint/eslint-plugin":"^6.13.2","@typescript-eslint/parser":"^6.13.2","@vscode/test-cli":"^0.0.10","@vscode/test-electron":"^2.4.1","@vscode/vsce":"^2.22.0","ado-npm-auth":"^0.1.2","copy-webpack-plugin":"^11.0.0","copyfiles":"^2.4.1","eslint":"^8.55.0","mocha":"^10.2.0","npm-run-all":"^4.1.5","shellcheck":"^3.0.0","sinon":"^17.0.1","ts-loader":"^9.5.1","ts-sinon":"^2.0.2","typescript":"^5.3.2","vscode-dts":"^0.3.3","webpack":"^5.89.0","webpack-cli":"^5.1.4"},"dependencies":{"@enonic/fnv-plus":"^1.3.0","@microsoft/dev-tunnels-contracts":"^1.0.7463","@vscode-internal/remote-web-rpc":"^2.1.9","@vscode/extension-telemetry":"^0.9.0","glob":"^10.3.10","https-proxy-agent":"^7.0.2","lockfile":"^1.0.4","minimist":"^1.2.8","posix-getopt":"^1.2.1","shell-quote":"^1.8.1","socks":"^2.7.3","ssh-config":"^4.4.4"},"resolutions":{"strip-ansi":"6.0.1"}}')}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+".js",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={502:1},n.f.require=(t,r)=>{e[t]||(t=>{var r=t.modules,o=t.ids,s=t.runtime;for(var i in r)n.o(r,i)&&(n.m[i]=r[i]);s&&s(n);for(var a=0;a<o.length;a++)e[o[a]]=1})(require("./"+n.u(t)))};var o=n(415),s=exports;for(var i in o)s[i]=o[i];o.__esModule&&Object.defineProperty(s,"__esModule",{value:!0})})();
//# sourceMappingURL=resolver.js.map